;==============================================================
; CNS File for Name by Team Z2
; Normal states : standing, crouching & jumping basics, etc.
;==============================================================

;---------------------------------------------------------------------------
;Taunt
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 2


[state 195, Black!]
type = playsnd
triggerall = enemy,name = "Black Z2"
trigger1 = animelemtime(5) = 0
value = 195,9+random%2
channel = 0

[state 195, Die!]
type = playsnd
triggerall = enemy,name != "Black Z2"
trigger1 = animelemtime(5) = 0
value = 195,8
channel = 0

[state 195, emo charge]
type = varadd
triggerall = var(51) = 1
trigger1 =  animelemtime(6) >= 0
var(52) = 5

[state 195, changestate]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;(Old)Taunt
[Statedef 196]
type = S
movetype = A
physics = N
ctrl = 0
anim = 196
sprpriority = 2

[state 195, emo]
type = varadd
triggerall = var(51) = 1
trigger1 = animelemtime(20) >= 0
var(52) = 11


[State 200, woosh]
type = PlaySnd
trigger1 = animelemtime(6) = 0
value = 0, 0
channel = 1


[State 200, land]
type = PlaySnd
trigger1 = animelemtime(12) = 0
value = 40, 0
channel = 2


[state 195, varset]
type = varset
trigger1 = !time
var(2) = random

[state 195, playsnd]
type = playsnd
trigger1 = animelem = 19 && (var(2) >= 500)
value = 195,2+random%3
channel = 0



[State 200, VS Goku voices]
type = PlaySnd
triggerall = animelem = 19
trigger1 = enemy,name="Goku" || enemy,name="Goku Z2" || enemy,name="SSJ Goku Z2" 
trigger2 = enemy,name="Songoku"
trigger3 = enemy,name="GokuHR"
trigger4 = enemy,name="super ssj3 goku v2"
trigger5 = enemy,name="Goku-n-hd by EmuBoarding"
trigger6 = enemy,name="SFXVI Goku"
trigger7 = enemy,name="Goku by Komodo"
trigger8 = enemy,name="Another Goku by HyperionX & Iron Mask"
trigger9 = enemy,name="Goku by ynvaser"
trigger10 = enemy,name="Goku Super Saiyajin"
trigger11 = enemy,name="SSJ Goku" || enemy,name="Goku SSJ"
trigger12 = enemy,name="SSJ2 Goku"
trigger13 = enemy,name="Goku Super Sayajin 2 by ribeiro"
trigger14 = enemy,name="[Necromancer's] Goku"
trigger15 = enemy,name="Goku-SSJ2"
trigger16 = enemy,name="SSJ Goku by Ryon"
trigger17 = enemy,name="Sup. Goku" || enemy,name="Sup.Goku"
trigger18 = enemy,name="Goku Super Sayajin by Roken"
trigger19 = enemy,name="NeoKakaroto"
trigger20 = enemy,name="Son Goku by Duende Macabro"
trigger21 = enemy,name="SSJ2 Goku Hyper Demension"
trigger22 = enemy,name="Goku By Hyper"
trigger23 = enemy,name="SSJ2-GOKU by BARDOCK"
trigger24 = enemy,name="Goku Legend"
trigger25 = enemy,name="SSJ3 Goku"
trigger26 = enemy,name="ss3goku"
trigger27 = enemy,name="Son-Goku-SSJ3"
trigger28 = enemy,name="Super Sayan 3"
trigger29 = enemy,name="GokuSSJ3"
value = 195,5+random%3
channel = 0

[state 195, width]
type = width
trigger1 = time >= 20
edge = 40,22

[State 240, 2]
type = HitDef
trigger1 = animelem = 12
attr = C, NA
animtype = Medium
damage = ceil(ifElse(fvar(11) * 60 < 7, 7, fvar(11) * 60)), 0
guardflag = LA
hitflag = MAF
pausetime = 6, 6
guard.pausetime = 6,6
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-30
hitsound   = s5,4
guardsound = S6,1
ground.type = Trip
ground.slidetime = 12;8
ground.hittime  = 18;8
ground.velocity = -2,-5
guard.velocity = -6
air.velocity = -3,-5
airguard.velocity = -2,-1.1
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098
persistent  = 0

[state 195, veladd]
type = veladd
triggerall = prevstateno != 1100
trigger1 =  time >= 10 && time <= 20
x = 3
persistent = 0

[State 200, step sound]
type = PlaySnd
trigger1 = animelemtime(18)=0
value = 40,0
channel = 1

[State 200, hit ground sound]
type = PlaySnd
trigger1 = animelemtime(30)=0
value = 5100,0
channel = 1

[state 195, statetypeset]
type = statetypeset
trigger1 = time = 20
physics = S

[State 195, 1]
type = PosAdd
trigger1 = AnimElemTime(18) = 0
X = 53

[State 195, 1]
type = PosAdd
trigger1 = AnimElemTime(29) = 0
X = -53

[state 17100, twirl FX]
type=explod
trigger1 = animelemtime(30)=0
anim=17100
id=17100
pos = -28,0
postype=P1
sprpriority=-2
ownpal=1
supermovetime=-1
removetime = -2
persistent = 0
scale = .7,.5

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND LIGHT PUNCH
[StateDef 200];Typically make all light attacks at least 5 tics of startup unless you want them to be super aggressive then 4. Gotenks uses 3 due to his extremely short range
type = S
movetype = A
physics = S
anim = 200
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,32
postype = p2
sprpriority = 4
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0


[State 200, snd];voice
type = playsnd
trigger1 = animelem=2 && random<200
value = 3,random%5
channel = 0

[State 200, 1];snd
type = PlaySnd
trigger1 = animelem = 3
value = 0, 0
channel = 1

;animate through blur anim on hitpause code (only use this if an attack can hit on a blur frame) this will be the only example given
    ;[State 200, Time Offset]
    ;type = VarSet
   ; trigger1 = moveContact = 1
   ; var(15) = Time
    ;ignorehitpause = 1
   ; persistent = 0

    ;[State 200, Play Anim]
   ; type = ChangeAnim
   ; triggerall = AnimElemTime(2) >= 0 && AnimElemTime(3) <= 0 ;(2)would be the blur frame while (3) is the nonblur
   ; trigger1 = hitPauseTime = [1,10 - (5 - var(15))] ;[1,10 - (5 - var(15))] means [1,10 {change the 10 to the hitpausetime} - (5 {change the 5 to how long it takes before you get to the frame you want the pause to stay on}- var(15))]
   ; value = anim
    ;elem = 3
    ;ignorehitpause = 1
;end blur code

[State 200, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = ceil(ifElse(fvar(11) * 18 < 7, 7, fvar(11) * 18)), 0
animtype = light
guardflag = MA
hitflag = MAF
pausetime = 10,10
guard.pausetime = 10,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,-50
hitsound = s5, 0
guardsound = S6,1
ground.type = High
ground.slidetime = 7
ground.hittime  = 7
ground.velocity = -2.5 ;-3
guard.velocity = -4.5
airguard.velocity = -1.9,-.8	
air.velocity = -2,-2
air.hittime = 12
air.animtype = back
getpower= 40,35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND MEDIUM PUNCH
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 7
ctrl = 0
velset = 0,0
anim = 210 ;IfElse((p2bodydist x<15),215,210);this is an example of having a close and far version of an attack

[State 210, snd]
type = playsnd
trigger1= animelem=2 && random<350
value=3,10+random%4
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1
channel = 1

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = ceil(ifElse(fvar(11) * 27 < 7, 7, fvar(11) * 27)), 0
animtype = Medium
guardflag = MA
hitflag = MAF
pausetime = 11, 11
guard.pausetime = 11,13
sparkno = s7020
guard.sparkno = s7000
sparkxy = -12,-55
hitsound = s5, 1
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2.5
guard.velocity = -6
airguard.velocity = -2,-1.1
air.type = High	
air.velocity = -3,-3
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098


[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND STRONG PUNCH 
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 220, snd]
type = playsnd
trigger1 = animelem=4 && random<500
value = 3,21+random%2
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 7 
value = 0, 2
channel = 1

[State 200, velset]
type = Velset
trigger1 = animelem = 5 
x = 2.5

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 8 || animelem = 9
attr = S, NA
damage = ceil(ifElse(fvar(11) * 40 < 7, 7, fvar(11) * 40)), 0
animtype = Hard	
guardflag = MA
hitflag = MAF
pausetime = 13,13
guard.pausetime = 13,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-75
hitsound = s5, 2
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 22
ground.velocity = -7
guard.velocity = -9
airguard.velocity = -2.5,-1.3
air.type = High	
air.velocity = -4,-4
air.hittime = 22
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
ID = 1098


[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(10)>=0
value = 0


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND LIGHT KICK
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, snd]
type = playsnd
trigger1 = animelem=3 && random<200
value = 3,random%5
channel = 0

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 230, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = Light
damage = ceil(ifElse(fvar(11) * 26 < 7, 7, fvar(11) * 26)), 0
guardflag = MA
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-30
hitsound   = s5,3
guardsound = S6,1
ground.type = Low
ground.slidetime = 8
ground.hittime  = 9
ground.velocity = -2.5
guard.velocity = -4.5
air.velocity = -2,-3
air.animtype = back
getpower= 40,35
givepower = 35,35
yaccel = 0.5
ID = 1098



[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0


[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND MEDIUM KICK 
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 7
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 1

[State 210, snd]
type = playsnd
trigger1= animelem=3 && random<350
value=3,10+random%4
channel = 0

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 4

[state 240, velset]
type = velset
trigger1 = animelem = 2
x = 10

[state 240, velset]
type = velset
trigger1 = time > 7
x = 2

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,12
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype = Medium
damage = ceil(ifElse(fvar(11) * 32 < 7, 7, fvar(11) * 32)), 0
guardflag = MA
hitflag = MAF
pausetime = 11, 11
guard.pausetime = 11,13
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-75
hitsound   = s5,4
guardsound = S6,1
ground.type = High
ground.slidetime = 12;8
ground.hittime  = 14;8
ground.velocity = -7
ground.cornerpush.veloff = -15
guard.velocity = -6
air.velocity = -3,-4
airguard.velocity = -2,-1.1
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0


[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND STRONG KICK 
[Statedef 250]
type = S
movetype = A
physics = S
anim = 251
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 220, snd]
type = playsnd
trigger1 = animelem=1 && random<500
value = 3,26
channel = 0

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 5


[state 240, posadd]
type = posadd
trigger1 = animelemtime(4) = 0
x = 10

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,12
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 250, no fall]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Hard
damage = ceil(ifElse(fvar(11) * 48 < 7, 7, fvar(11) * 48)), 0
guardflag = MA
pausetime = 17,17
guard.pausetime = 17,17
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-65
hitsound   = s5,5
guardsound = S6,1
ground.type = high
ground.slidetime = 15
ground.hittime = 21 ;15
guard.ctrltime = 17
ground.velocity = -16
air.velocity = -12,-2
air.fall = 1
fall.recover = 0
air.animtype = back
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5


[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(6)>=0
value = 0

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND STRONG KICK (Old/Not used)
[Statedef 251]
type = S
movetype = A
physics = S
anim = 250
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 220, snd]
type = playsnd
trigger1 = animelem=1 && random<500
value = 3,26
channel = 0

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 5


[state 240, velset]
type = velset
trigger1 = time > 3
x = 2

[State 250, no fall]
type = HitDef
triggerall = var(51) != 2
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage = ceil(ifElse(fvar(11) * 45 < 7, 7, fvar(11) * 45)), 0
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,17
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-85
hitsound   = s5,5
guardsound = S6,1
ground.type = high
ground.slidetime = 15
ground.hittime = 18 ;15
ground.velocity = -5,-7
air.velocity = -5,-7
fall = 1
fall.recover = 0
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
fall = 0

[State 250, no fall]
type = HitDef
triggerall = var(51) = 2
trigger1 = movecontact
attr = S, HA
animtype  = Hard
damage = ceil(ifElse(fvar(11) * 48 < 7, 7, fvar(11) * 48)), 0
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,17
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-85
hitsound   = s5,5
guardsound = S6,1
ground.type = high
ground.slidetime = 15
ground.hittime = 18 ;15
ground.velocity = -5,-7
air.velocity = -5,-7
fall = 1
fall.recover = 0
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
fall = 0
persistent  = 0


[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(7)>=0
value = 0

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;BRAWLER KNUCKLE (Not Used)
[Statedef 300]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 0


[State 220, snd]
type = playsnd
triggerall = prevstateno != 1100
trigger1 = animelem=4 && random<800
value = 3,13+random%2
channel = 0


[State 300, limiter]
type = Varset
trigger1 = movehit
trigger1 = prevstateno = 1100
var(40) = 1

[State 220, snd]
type = playsnd
triggerall = prevstateno = 1100
trigger1 = animelem=4 
value = 3,25
channel = 0

[State 41, Train]
type = AfterImage
trigger1 = prevstateno = 1100
trigger1 = time = 0
time= 30
timegap= 1
framegap= 4
length= 20
palbright= 0,0,0
paladd= 0,0,0
palmul= .9,.9,.9
palcontrast= 150,150,150
palpostbright= 0,0,0
trans= add1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 2
channel = 1

[State 200, velset]
type = Velset
trigger1 = time < 12 && animelem != 1
x = 16

[state 300, velmul]
type = velmul
trigger1 = time > 15
x = .50

[state 300, nothitby]
type = nothitby
trigger1 = time <= 15
value = SA,NA,SA,HA

[State 200, 1]
type = HitDef
triggerall = !movecontact
triggerall = prevstateno != 1100
trigger1 = animelem = 6
attr = S, NA
damage = ceil(ifElse(fvar(11) * 60 < 7, 7, fvar(11) * 60)), 0
animtype = Hard	
guardflag = MA
hitflag = MAF
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-75
hitsound = s5, 2
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -2,-10
guard.velocity = -9
fall = 1
airguard.velocity = -2.5,-1.3
air.type = High	
air.velocity = -2,-10
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 200, 1]
type = HitDef
triggerall = var(40) = 1
triggerall = prevstateno = 1100
trigger1 = animelem = 6
attr = S, NA
damage = ceil(ifElse(fvar(11) * 60 < 7, 7, fvar(11) * 60)), 0
animtype = Hard	
guardflag = MA
hitflag = MAF
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-75
hitsound = s5, 2
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -2,-10
guard.velocity = -9
fall = 1
airguard.velocity = -2.5,-1.3
air.type = High	
air.velocity = -2,-10
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
ID = 1098


[State 200, 1]
type = HitDef
triggerall = !movecontact
triggerall = prevstateno = 1100
triggerall = var(40) = 0
trigger1 = animelem = 6
attr = S, SA
damage = ceil(ifElse(fvar(11) * 82 < 7, 7, fvar(11) * 82)), 10
animtype = Hard	
guardflag = MA
hitflag = MAF
pausetime = 6,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-75
hitsound = s5, 2
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -2,-12
guard.velocity = -9
fall = 1
fall.recover = 0
airguard.velocity = -2.5,-1.3
air.type = High	
air.velocity = -2,-12
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
envshake.time = 12
envshake.freq = 60
envshake.ampl = 6
ID = 1098


[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(7)>=0
value = 0


[state 300, targetstate]
type = targetstate
triggerall = prevstateno = 1100
triggerall = var(40) = 0
trigger1 = movehit
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 301
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;Hit by Enhanced Royal Buster
[statedef 301]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
facep2 = 1

[state 301, changeanim2]
type = changeanim2
trigger1 = !time
value = 651


[State -2, CAPCOM Blue Shock PalFX]
type = PalFX
trigger1 = 1
time = 1
add = Ceil(100 -80 * sin(2 * pi * gametime / 10)),Ceil(100 -80 * sin(2 * pi * gametime / 10)),Ceil(180 -80 * sin(2 * pi * gametime / 10))
color = 0 
invertall = 0
ignorehitpause = 1

[state 2060, changeanim]
type = changeanim
trigger1 = time = 14
value = IfElse(selfanimexist(5937),5937,5030)

[State 4005, vel]
type = velset
triggerall = anim != 651
trigger1 = AnimElemtime(2)=0
x = -1
y = -11
persistent = 0

[State 6100, turning snd]
type = PlaySnd
triggerall = anim=5937
trigger1 = !time
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
trigger5 = time = 40
trigger6 = time = 50
trigger7 = time = 60
trigger8 = time = 70
trigger9 = time = 80
value = 21,1
persistent = 1
 
[State 9011, VelAdd]
type = VelAdd
triggerall = time > 14
trigger1 = Pos Y < 0
y = 0.35

[state 1060, changestate]
type = selfstate
trigger1 = pos Y >= 0 && Vel Y > 0
value = 5100
;---------------------------------------------------------------------------
;Buster Kick
[Statedef 310]
type = S
movetype = A
physics = S
anim = 310
ctrl = 0
sprpriority = 1
juggle = 0

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[state 310, velmul]
type = velmul
trigger1 = prevstateno = 100 && !time
x = 1.2


[state 310, changeanim]
type = changeanim
triggerall = anim = 310
trigger1 = time >= 19 && command != "holdc" 
value = 311

[state 310, grunt]
type = playsnd
triggerall = anim = 311
trigger1 = animelem = 2
value = 3,11
channel = 0

[state 310, grunt]
type = playsnd
triggerall = anim = 311
trigger1 = animelem = 1
value = 0,5




[state 311, velset]
type = veladd
triggerall = anim = 310
trigger1 = animelemtime(3) = 0
x = 2
y = -4
persistent = 0



[State 200, 1]
type = HitDef
triggerall = anim = 311
trigger1 = animelem = 2
attr = A, NA
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 0
animtype = Heavy
guardflag = HA
hitflag = MAF
pausetime = 15, 16
guard.pausetime = 15,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -12,-55
hitsound = s5, 5
guardsound = S6,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -3
guard.velocity = -3
guard.ctrltime = 13
air.fall = 1
airguard.velocity = -2,-1.1
air.type = High	
air.velocity = -3,6
air.hittime = 25
air.animtype = back
envshake.time = 10
envshake.ampl = 15
envshake.freq = 40
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098


[state 311, statetypeset]
type = statetypeset
triggerall = anim = 310
trigger1 = animelemtime(3) = 0
statetype = A
physics = N


[State 9011, VelAdd]
type = VelAdd
triggerall = anim = 310 || anim = 311
trigger1 = Pos Y < 0
y = 0.3

[state 311, posset]
type = posset
trigger1 = Pos Y > 0
y = 0

[state 311, statetypeset]
type = statetypeset
triggerall = anim = 312
trigger1 = vel y  = 0 && statetype = A
statetype = S
physics = S




[state 311, changeanim]
type = changeanim
triggerall = anim = 311
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 312

[state 311, posset]
type = velset
triggerall = anim = 312
trigger1 = animelemtime(1) = 0
y = 0

[state 52, Land FX]
type = helper
trigger1 = anim = 312 && animelemtime(1) = 1
name = "LandFX"

StateNo = 17100
id = 17100
postype = P1
ownpal = 1
keyctrl = 0
supermovetime = 99999
pausemovetime = 99999

[State -3, Landing Sound]
type = PlaySnd
trigger1 = anim = 312 && animelemtime(1) = 1
value = 40, 0

[State 210, 5]
type = ChangeState
triggerall = anim = 310
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
ctrl = 1

[State 210, 5]
type = ChangeState
triggerall = anim = 312
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Dash attack
[Statedef 320]
type = S
movetype = A
physics = S
anim = 320
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 0


[state 320, attackdist]
type = attackdist
trigger1 = 1
value = 0

[state 320, varadd]
type = null
triggerall = var(51) = 1
trigger1 = !time
var(52) = 50

[State 1000, snd]
type = playsnd
trigger1 = animelemtime(5) = 0 
trigger1 = random < 500
value = 1111,0+random%2
channel = 0


[state 803, playsnd]
type = playsnd
trigger1 = animelemtime(3) = 0
value = 2302,0

[state 320, posadd]
type = posadd
trigger1 = animelemtime(5) = 0
x = -180


[state 320, velset]
type = velset
trigger1 = animelemtime(7) >= 0
x = -2



[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; CROUCH LIGHT PUNCH
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, snd]
type = playsnd
trigger1 = animelem=1 && random<200
value = 3,random%5
channel = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = light
damage = ceil(ifElse(fvar(11) * 18 < 7, 7, fvar(11) * 18)), 0
pausetime = 10,10
guard.pausetime = 10,12
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-33
hitsound   = s5,0
guardsound = S6,1
ground.type = low
ground.slidetime = 8
ground.hittime = 10
ground.velocity = -2.5  
guard.velocity = -4.5
air.velocity = -2,-2
air.animtype = back
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
ID = 1098



[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(6)>=0
value = 0

[State 221, finish]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH MEDIUM PUNCH
[StateDef 410]
type = C
movetype = A
physics = C
anim = 410
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 210, snd]
type = playsnd
trigger1= animelem=3 && random<350
value=3,10+random%4
channel = 0

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
damage = ceil(ifElse(fvar(11) * 28 < 7, 7, fvar(11) * 28)), 0
animtype  = Medium
hitflag = MAF
guardflag = MA
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-30
hitsound   = s5,1
guardsound = S6,1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3  
guard.velocity = -6
air.velocity = -2,-1.2
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098


[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(6)>=0
value = 0

[State 221, finish]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH STRONG PUNCH
[Statedef 420]
type = C
movetype = A
physics = S
anim = 420
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 220, voice snd]
type = playsnd
trigger1 = animelem=1 && random<500
value = 3,20+random%2
channel = 0

[State 200, 1]
type = PlaySnd
triggerall = anim = 420
trigger1 = animelem = 4
value = 0, 2

[state 420, rise]
type = statetypeset
triggerall = anim = 420
trigger1 = animelemtime(4) = 0
physics = N
statetype = A


[state 420, velset]
type = velset
triggerall = anim = 420
trigger1 =  animelemtime(4) = 0
x = 1.5
y = -6
persistent = 0

[state 420, veladd]
type = veladd
triggerall = anim = 420
trigger1 = animelemtime(4) >= 0
y = 0.35

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0


[State 420, 3]
type = HitDef
triggerall = !movecontact 
trigger1 =  animelem= 5 || animelem = 6
attr = A, NA
damage = ceil(ifElse(fvar(11) * 42 < 7, 7, fvar(11) * 42)), 0
hitflag = MAF
guardflag = MA
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-65
hitsound   = s5, 2
guardsound = S6,1
animtype = Up
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -1.5,-8
guard.velocity = -7
fall.recover = 0
air.velocity = -1.5,-8
fall = 1
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.45



[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(7)>=0
value = 0

[state 751, changeanim]
type = changeanim
triggerall = anim != 47
trigger1 = pos y >= 0 && vel y > 0
value = 47

[state 420, rise]
type = statetypeset
trigger1 = pos y >= 0 && vel y > 0
physics = S
statetype = S

[state 52, Land FX]
type = helper
trigger1 = anim = 47 && animelemtime(1) = 1
name = "LandFX"

StateNo = 17100
id = 17100
postype = P1
ownpal = 1
keyctrl = 0
supermovetime = 99999
pausemovetime = 99999

[State -3, Landing Sound]
type = PlaySnd
trigger1 = anim = 47 && animelemtime(1) = 1
value = 40, 0

[state 751, posset]
type = posset
trigger1 = pos y > 0
y = 0

[state 751, velset]
type = velset
trigger1 = pos y >= 0 && vel y > 0
y = 0

[state 751, changestate]
type = changestate
triggerall = anim = 47
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH LIGHT KICK
[Statedef 430]
type = C
movetype = A
physics = C
anim = 430
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, snd]
type = playsnd
trigger1 = animelem=2 && random<200
value = 3,random%5
channel = 0

[State 430, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 3

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,52
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0



[State 430, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAFD
guardflag = LA
damage = ceil(ifElse(fvar(11) * 16 < 7, 7, fvar(11) * 16)), 0
animtype = light
pausetime = 10,10
guard.pausetime = 10,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-10
hitsound   = s5,3
guardsound = s6,1
ground.type = low
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -2.5  
guard.velocity = -4.5
air.velocity = -2,-5
air.animtype = back
air.hittime = 4
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
ID = 1098


[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(6)>=0
value = 0

[State 221, finish]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH MEDIUM KICK 
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
ctrl = 0
velset = 0,0
anim = 440
sprpriority = 1

[State 210, snd]
type = playsnd
trigger1= animelem=2 && random<350
value=3,10+random%4
channel = 0

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 4

[state 440, velset]
type = velset
trigger1 = animelem = 3
x = 3

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,52
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0


[State 440, 2]
type = HitDef
triggerall = !Numtarget(440)
trigger1 = AnimElem = 4
attr = C, NA
damage = ceil(ifElse(fvar(11) * 23 < 7, 7, fvar(11) * 23)), 0
animtype  = Medium
hitflag = MAFD
guardflag = LA
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-20
hitsound   = s5,4
guardsound = S6,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3  
guard.velocity = -6
air.velocity = -2,-1
down.velocity = -3,0
down.hittime = 20
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
fall.recover = 0
air.animtype = back
yaccel = 0.5
ID = Cond(P2StateType = L,440,1098)



[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0

[State 221, finish]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH STRONG KICK
[Statedef 450]
type = C
movetype = A
physics = N
anim = 450
ctrl = 0
sprpriority = 1
juggle = 7

[State 220, snd]
type = playsnd
trigger1 = animelem=3 && random<500
value = 3,20+random%2
channel = 0

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 5

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 450, 0

[state 450, statetypeset]
type = statetypeset
trigger1 = animelemtime(4) = 0
physics = C

[state 450, velset]
type = velset
trigger1 = animelemtime(4) >= 0 && animelemtime(6) < 0
x = 6.5

[state 450, velset]
type = velmul
trigger1 = animelemtime(6) >= 0
x = .90

[state 1215, FX front]
type = explod
trigger1 = animelemtime(5)=0
anim = 757
id = 757
pos = 0,0
postype = P1
sprpriority = 2
ownpal = 1
removetime = -2
removeongethit = 1
persistent = 0
ignorehitpause = 0
bindtime = -1

[State 0, Evolution Explosion]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,52
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0



[State 450, 3]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
animtype = Back
damage = ceil(ifElse(fvar(11) * 47 < 7, 7, fvar(11) * 47)), 0
hitflag = MAFD
guardflag = LA
pausetime = 13,13
guard.pausetime = 13,25
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-40
hitsound   = s5,5
guardsound = s6,1
fall = 1
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -.5,-5
guard.velocity = -9
air.velocity = -1,-5
guard.velocity = -1
getpower= ifelse(p2movetype=H,40,210)
givepower = 35,35
yaccel = 0.5


[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(6)>=0
value = 0

[State 221, finish]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------------------
; JUMP LIGHT PUNCH
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
ctrl = 0
sprpriority = 1
juggle = 2

[State 200, snd]
type = playsnd
trigger1 = animelem=1 && random<200
value = 3,random%5
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0

[State 0, Super FX]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 600, 2]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
damage = ceil(ifElse(fvar(11) * 16 < 7, 7, fvar(11) * 16)), 0
guardflag = HA
animtype = Light
pausetime = 9,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,0
guardsound = S6,1
ground.type = High
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)  || NumExplod(52)=3)

[State 600, 2]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
damage = ceil(ifElse(fvar(11) * 16 < 7, 7, fvar(11) * 16)), 0
guardflag = MA
animtype = Light
pausetime = 9,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)  || NumExplod(52)=3)


;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(4)>=0
value = 0

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 60
removeongethit = 0
ignorehitpause = 1



[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1

;---------------------------------------------------------------------------
; JUMP MEDIUM PUNCH
[Statedef 610]
type = A
movetype = A
physics = A
juggle = 2
ctrl = 0
anim = 610
sprpriority = 1

[State 210, snd]
type = playsnd
trigger1= animelem=3 && random<350
value=3,10+random%4
channel = 0

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0, Super FX]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0


[State 610, 2]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * 25 < 7, 7, fvar(11) * 25)), 0
guardflag = HA
hitflag = MAF
animtype  = Medium
pausetime = 11,15
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,1
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4   
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || prevstateno=600 || prevstateno=630 || NumExplod(52)=3)

[State 610, 2]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * 25 < 7, 7, fvar(11) * 25)), 0
guardflag = MA
hitflag = MAF
animtype  = Medium
pausetime = 11,15
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4   
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || prevstateno=600 || prevstateno=630 || NumExplod(52)=3)

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 60
removeongethit = 0
ignorehitpause = 1

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1
;---------------------------------------------------------------------------
;Elbow Drop
[Statedef 615]
type = A
movetype = A
physics = A
juggle = 2
ctrl = 0
anim = 615
sprpriority = 1


[state 615,velmul]
type = velmul
trigger1 = !time
x = .3

[state 615, velset]
type = velset
trigger1 = !time
y = -5


[state 615, veladd]
type = veladd
trigger1 = animelemtime(3) >= 0
y = .50

[State 0, Super FX]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 210, snd]
type = playsnd
trigger1= animelem=3 && random<350
value=3,10+random%4
channel = 0

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 610, 2]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * 25 < 7, 7, fvar(11) * 25)), 0
guardflag = HA
hitflag = MAF
animtype  = Medium
pausetime = 11,15
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,1
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4  
air.fall = 1 
air.velocity = -2,4
airguard.cornerpush.veloff= 0
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5


[State 610, 2]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * 25 < 7, 7, fvar(11) * 25)), 0
guardflag = MA
hitflag = MAF
animtype  = Medium
pausetime = 11,15
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4   
air.fall = 1
air.velocity = -2,4
airguard.cornerpush.veloff= 0
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5


[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 60
removeongethit = 0
ignorehitpause = 1

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1
;---------------------------------------------------------------------------
; JUMP STRONG PUNCH 
[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
ctrl = 0
sprpriority = 1
juggle = 2

[State 220, snd]
type = playsnd
trigger1 = animelem=3 && random<500
value = 3,20+random%2
channel = 0

[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 0, Super FX]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0


[State 620, 3]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 8
attr = A, NA
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 0
hitflag = MAF
guardflag = HA
animtype = Hard
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-50
hitsound   = s5,2
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -5
air.velocity = -7,10
envshake.time = 20
envshake.freq = 60
envshake.ampl = 8
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || prevstateno=600 || prevstateno=630 || prevstateno=610 || prevstateno=640 || NumExplod(52)=3)
air.fall = 1
fall.recover = 0

[State 620, 3]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 0
hitflag = MAF
guardflag = MA
animtype = Hard
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-50
hitsound   = s5,2
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -5
air.velocity = -7,7
envshake.time = 20
envshake.freq = 60
envshake.ampl = 8
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || prevstateno=600 || prevstateno=630 || prevstateno=610 || prevstateno=640 || NumExplod(52)=3)
air.fall = 1
fall.recover = 0


[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 60
removeongethit = 0
ignorehitpause = 1

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(9)>=0
value = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 0

;---------------------------------------------------------------------------
; JUMP LIGHT KICK
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
ctrl = 0
sprpriority = 1
juggle = 2

[State 200, snd]
type = playsnd
trigger1 = anim=630 && animelem=1 && random<200
value = 3,random%5
channel = 0

[State 630, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 3
persistent = 0

[State 0, Super FX]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0


[State 630, 2]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
attr = A, NA
damage = ceil(ifElse(fvar(11) * 20 < 7, 7, fvar(11) * 20)), 0
hitflag = MAF
guardflag = HA
animtype = Light
pausetime = 9,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -20,-70
hitsound = s5,3
guardsound = S6,1
ground.type = High
ground.slidetime = 8  
ground.hittime  = 15
ground.velocity = -3  
air.velocity = -2,-3
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || NumExplod(52)=3)
persistent = 0

[State 630, 2]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
attr = A, NA
damage = ceil(ifElse(fvar(11) * 20 < 7, 7, fvar(11) * 20)), 0
hitflag = MAF
guardflag = MA
animtype = Light
pausetime = 9,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-50
hitsound = s5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 8  
ground.hittime  = 15
ground.velocity = -3  
air.velocity = -2,-3
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || NumExplod(52)=3)
persistent = 0


[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 60
removeongethit = 0
ignorehitpause = 1

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(4)>=0
value = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; JUMP MEDIUM KICK
[Statedef 640]
type    = A
movetype = A
physics = A
juggle = 2
ctrl = 0
anim = 640
sprpriority = 1

[State 210, snd]
type = playsnd
trigger1= animelem=1 && random<350
value=3,10+random%4
channel = 0

[State 640, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 4

[State 0, Super FX]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
facing = -1
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0

[State 640, 2]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
attr = A, NA
damage = ceil(ifElse(fvar(11) * 30 < 7, 7, fvar(11) * 30)), 0
guardflag = HA
hitflag = MAF
animtype  = Medium
sparkno = s7010
guard.sparkno = s7000
sparkxy = -20,-50
hitsound   = s5,4
guardsound = S6,1
ground.type = High
pausetime = 11,15
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 18
ground.velocity = -4  ;-8
air.velocity = -2,-4
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || prevstateno=600 || prevstateno=630 || NumExplod(52)=3)

[State 640, 2]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
attr = A, NA
damage = ceil(ifElse(fvar(11) * 30 < 7, 7, fvar(11) * 30)), 0
guardflag = MA
hitflag = MAF
animtype  = Medium
sparkno = s7010
guard.sparkno = s7000
sparkxy = -20,-50
hitsound   = s5,4
guardsound = S6,0
ground.type = High
pausetime = 11,15
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 18
ground.velocity = -4  ;-8
air.velocity = -2,-4
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || prevstateno=600 || prevstateno=630 || NumExplod(52)=3)



[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 60
removeongethit = 0
ignorehitpause = 1

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(4)>=0
value = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1

;---------------------------------------------------------------------------
; Reverse Breaker Kick
[Statedef 645]
type = A
movetype = A
physics = A
anim = 645
ctrl = 0
sprpriority = 1
juggle = 2

[State 220, snd]
type = playsnd
trigger1 = animelem=2 && random<500
value = 3,20+random%2
channel = 0

[State 650, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 5

[State 0, Super FX]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0


[State 650, 3]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 5
attr = A, NA
damage = ceil(ifElse(fvar(11) * 43 < 7, 7, fvar(11) * 43)), 0
hitflag = MAF
guardflag = MA
animtype = Hard
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-55
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
air.velocity = 6,8
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
air.fall = 1
fall.recover = 0
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5

[State 650, 3]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 5
attr = A, NA
damage = ceil(ifElse(fvar(11) * 43 < 7, 7, fvar(11) * 43)), 0
hitflag = MAF
guardflag = MA
animtype = Hard
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-55
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
air.velocity = 6,8
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
air.fall = 1
fall.recover = 0
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 60
removeongethit = 0
ignorehitpause = 1

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(6)>=0
value = 0


[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 0
;---------------------------------------------------------------------------
; JUMP STRONG KICK
[Statedef 650]
type = A
movetype = A
physics = A
anim = 650
ctrl = 0
sprpriority = 1
juggle = 2

[State 220, snd]
type = playsnd
trigger1 = animelem=2 && random<500
value = 3,20+random%2
channel = 0

[State 650, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 5

[State 0, Super FX]
type = Helper
trigger1 = var(51) = 2 
trigger1 = NumTarget
trigger1 = movecontact && hitpausetime = 1
trigger1 = !(Target, ishelper)
stateno = 3103
id = 3103
pos = 0,22
postype = p2
supermovetime = 9999
pausemovetime = 9999
sprpriority = 10
pausemovetime = 0
ownpal = 1
scale = 1,1
ignorehitpause = 1
persistent = 0


[State 650, 3]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * 43 < 7, 7, fvar(11) * 43)), 0
hitflag = MAF
guardflag = HA
animtype = Hard
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-55
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -6,8
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || NumExplod(52)=3)

[State 650, 3]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * 43 < 7, 7, fvar(11) * 43)), 0
hitflag = MAF
guardflag = MA
animtype = Hard
pausetime = 16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -30,-55
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -6,8
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (NumExplod(987654321)   || NumExplod(52)=3)

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 60
removeongethit = 0
ignorehitpause = 1

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 0

;===========================================================================
; <<<<< FORWARD THROW >>>>>
; Grab state : 800
; Gotenks throws : 801
; P2 Throw State : 802
;===========================================================================
;-------------------------------------------------------------------------------

;Forward Throw (Grab)
[Statedef 800]
type = S
movetype = A
physics = S
juggle = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1
facep2 = 1
poweradd = 0

[State 810, Don't Guard]
type = attackdist
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = MoveHit = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 15

[state 800, varset]
type = varset
trigger1 = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90000001) || NumExplod(90000004) || NumExplod(90000007)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90000003) || NumExplod(90000006) || NumExplod(90000009))))) 
var(12) = 1

[State 810, hit]
type = hitdef
triggerall = P2BodyDist X <35
trigger1 = Var(0)=0 || enemy, AuthorName != "Team Z2";NEW
trigger1 = animelem=4 && !var(38)
attr = S,NT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
guard.dist = 0
fall = 0
fall.recover = 0
hitsound = s800,1

[State 810, hit]
type = hitdef
triggerall = P2BodyDist X <35
trigger1 = animelem=4 && !var(38)
trigger1 = Var(0)>0 ;NEW
attr = S,NT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
guard.dist = 0
fall = 0
fall.recover = 0
hitsound = s800,1
id = Cond((enemynear, NumExplod(98000000)),800,801);NEW

[State 0, TargetState]
type = TargetState
trigger1 = MoveHit =1
trigger1 = NumTarget(800)
trigger1 = target, StateNo != [800,899]
trigger1 = target, AuthorName = "Team Z2"
value = 899
ignorehitpause = 1
 
[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=2
trigger1 = NumTarget(800) 
trigger1 = target, time<=5
trigger1 = target, StateNo = 5949
value = 5940
ignorehitpause = 1
persistent = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=1
trigger1 = enemynear, StateNo = 950
value = 950
ignorehitpause = 1
persistent = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = NumTarget(800)
trigger1 = target, time>=6
trigger1 = target, StateNo = 899
trigger2 = !NumTarget(800) || (NumTarget(800) && enemy, AuthorName != "Team Z2")
trigger2 = MoveHit=1
value = 811
ignorehitpause = 1
persistent = 0

[State 810, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
persistent = 0


[State 810, missed voice]
type = PlaySnd
trigger1 = animelem = 5
value = 5000,0
channel = 0
persistent  = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = NumTarget;updated 
trigger1 = !(target, ishelper);updated
trigger1 = MoveHit
value = Anim
elem = 5 ; change this to animelemno of grab you wish frozen
ignorehitpause = 1



[State 810, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Mash Kick Grab
[Statedef 801]
type = C
movetype = A
physics = S
ctrl = 0
anim = 801
facep2 = 1

[state 801, nothitby]
type = nothitby
trigger1 = 1
value = SCA


[state 801, changestate]
type = changestate
trigger1 = target,stateno != [802,899] 
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2001, Fire FX]
type = explod
triggerall = !NumExplod(2616)
trigger1 = !time
anim = 2616
id = 2616
pos = 50,-130
postype = P1
facing = -1
sprpriority = 7
ownpal = 1
removetime = -1
persistent = 0
ignorehitpause = 0
scale = 1,1



[state 801, envshake]
type = envshake
trigger1 = animelemtime(4) = 0 && var(3) < 8
time = 10
freq =  60
ampl = 5

[state 801, envshake]
type = envshake
trigger1 = animelemtime(4) = 0  && var(3) >= 8
time = 20
freq =  60
ampl = 10

[state 801, targetbind]
type = targetbind
trigger1 = !time
pos = 70,0

[state 801, targetstate]
type = targetstate
trigger1 = !time
value = 802


[state 801, varset]
type = varset
trigger1 = !time
var(14) = 0

[state 801, varset]
type = varset
trigger1 = var(3) < 8
trigger1 = (animtime = 0) && (var(14) = 0) && (var(3) > 3)
var(3) = 9

[state 801, varset]
type = varadd
trigger1 = !time
var(3) = 1



[state 801, varset]
type = varset
triggerall = animelemtime(3) <= 0 
trigger1 = NumExplod(90000200) ||  NumExplod(90000210) ||  NumExplod(90000220) ||  NumExplod(90000230) ||  NumExplod(90000240) ||  NumExplod(90000250) 
var(14) = 1

[state 801, changestate]
type = changestate
trigger1 = animtime = 0  && var(3) < 8
value = 801
ctrl  = 0

[State 640, 2]
type = HitDef
trigger1 = AnimElemtime(4) = 0
attr = C, HT
damage = 8, 0
kill = 0
guardflag = LA
hitflag = MAF
animtype  = Medium
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-60
hitsound   = s5,1
guardsound = S6,0
ground.type = High
pausetime = 6,6
forcenofall = 1
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 70
ground.cornerpush.veloff = 0
ground.velocity = -4  ;-8
air.velocity = -2,-2
getpower= 10, 35
givepower = 10,35
id = 802
yaccel = 0.5



[state 801, playsnd]
type = playsnd
triggerall = (var(3) % 2) = 1
trigger1 = animelemtime(4) = 0 
value = 3,4



[state 801, playsnd]
type = playsnd
triggerall = (var(3) % 2) = 0
trigger1 = animelemtime(4) = 0 
value = 3,3


[state 801, targetstate]
type = targetstate
triggerall = NumTarget(802)
trigger1 = movehit
ignorehitpause = 1
persistent = 0
value = 802

[state 801, targetstate]
type = targetstate
triggerall = NumTarget(803)
trigger1 = movehit
ignorehitpause = 0
persistent = 0
value = 802

[state 801, changestate]
type = changestate
triggerall = var(12) != 0
trigger1 = animtime = 0  
trigger1 = var(3) >= 8
value = 803
ctrl  = 1

[state 801, changestate]
type = changestate
triggerall = var(12) = 0 
trigger1 = animtime = 0  
trigger1 = var(3) >= 8
value = 811
ctrl  = 1



;-------------------------------------------------------------------------------
;Hit By Mash Kick
[Statedef 802]
type = S
movetype = H
physics = N
ctrl = 0
facep2 = 1



[state 802, nothitby]
type = nothitby
trigger1 = 1
value = ,AP,AA,NT,ST

[State 0, Posadd]
type = Posadd
trigger1 = enemynear, stateno = 803 && enemynear, animelemtime(1) = 0
x = 3

[State 0, Posadd]
type = Posadd
trigger1 = enemynear, stateno = 803 && enemynear, animelemtime(1) = 0
trigger1 = BackEdgeBodyDist < 10
x = 20

[state 802, changeanim]
type = changeanim2
trigger1 = !time && enemynear,animelemtime(4) < 0
value = 899

[state 802, playerpush]
type = playerpush
trigger1 = enemynear,stateno != 803
value = 0

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[state 802, changeanim]
type = changeanim2
trigger1 = !time && enemynear, animelemtime(4) >= 0
value = 802

[state 802, changeanim]
type = changeanim
triggerall = selfanimexist(5300)
trigger1 = anim = 802 && enemynear,stateno = 803
value = 5300



[state 802, changestate]
type = selfstate
trigger1 = enemynear, stateno != [801,813]
value = 0
ctrl = 1


;-------------------------------------------------------------------------------
;Backwards Kick
[Statedef 803]
type = S
movetype = A
physics = S
ctrl = 0
anim = 803

[state 803, nothitby]
type = nothitby
trigger1 = 1
value = SCA

[state 801, mash]
type = removeexplod
trigger1 = !time
id = 2616

[state 803, playsnd]
type = playsnd
triggerall = anim = 803
trigger1 = animelemtime(6) = 0
value = 3010,0+random%2

[state 803, turn]
type = turn
triggerall = anim = 803
trigger1 = animelemtime(5) = 0




[state 803, playsnd]
type = playsnd
triggerall = anim = 803
trigger1 = animelemtime(3) = 0
value = 2302,0

[state 803, playsnd]
type = playsnd
triggerall = anim = 803
trigger1 = animelemtime(7) = 0
value = 5,2

[state 803, hitadd]
type = hitadd
triggerall = anim = 803
trigger1 = animelemtime(7) = 0
value = 1

[State 650, 2]
type = Explod
triggerall = anim = 803
trigger1 = animelemtime(7) = 0
anim = 7020
pos = 0,-60
postype = p2
ignorehitpause = 1
persistent = 0
sprpriority = 5
ownpal = 1

[State 650, 2]
type = Explod
trigger1 = target, stateno = 805 
anim = 7020
pos = -30,-10
postype = p2
ignorehitpause = 1
persistent = 0
sprpriority = 5
ownpal = 1

[state 803, playsnd]
type = playsnd
trigger1 = target, stateno = 805 
value = 3300,1
persistent = 0

[State 731, shake]
type = envshake
triggerall = anim = 803
trigger1 = animelemtime(7)=0
time = 12
freq = 60
ampl = 4


[state 803, posset]
type = posset
triggerall = anim = 803
trigger1 = animelemtime(3) = 0
x = target, pos X + (50 * facing)
y = -15

[state 803,statetypeset]
type = statetypeset
triggerall = anim = 803
trigger1 = animelemtime(3) = 0
statetype = A
physics = N

[state 803, velset]
type = velset
triggerall = anim = 803
trigger1 = animelemtime(8) = 0
x = 2

[state 803, veladd]
type = veladd
triggerall = anim = 803
trigger1 = animelemtime(9) >= 0
y = .15



[state 803, changeanim]
type = changeanim
triggerall = anim = 803
trigger1 = pos Y >= 0 && Vel y > 0
value = 48

[state 803, velset]
type = velset
trigger1 = anim = 48
x = 0
y = 0

[state 803, posset]
type = posset
trigger1 = anim = 48
y = 0

[state 803, targetstate]
type = targetstate
triggerall = anim = 803
trigger1 = animelemtime(7) = 0
value = 804

[state 803, changestate]
type = changestate
triggerall = anim = 48
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------
;Hit by BackThrow
[statedef 804]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[state 804, lifeadd]
type = lifeadd
trigger1 = !time
value = -30

[state 804, changeanim2]
type = changeanim2
trigger1 = !time
value = 810

[State 4005, vel]
type = velset
trigger1 = animelemtime(2) = 0
x = -15
persistent = 0
 

[state 1060, changestate]
type = changestate
triggerall = alive
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 805

[state 1060, changestate]
type = changestate
triggerall = !alive
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1323
;------------------------------------------
;Slammed into wall
[Statedef 805]
type    = L
movetype= H
physics = N

[state 804, lifeadd]
type = lifeadd
trigger1 = !time
value = -30

[State 5100, 1]
type = VelSet
trigger1 = 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = selfState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 4] ;Hit ground anim (for flip knockout)
type = Varset
trigger1 = !time
var(47)=0
[State 5100, 4] ;Hit ground anim (for flip knockout)
type = Varset
triggerall = prevstateno = 1264 && selfanimexist(5937)
trigger1 = time = 0
var(47)=1



[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = 15000,1

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = selfState
triggerall = var(47)=1
trigger1 = AnimElem = 3
value = 5101

[State 5100, 12]
type = selfState
trigger1 = AnimTime = 0
value = 5101
;===========================================================================
; <<<<< REVERSE THROW >>>>>
; Grab state : 810
; Gotenks throws : 811
; P2 thrown state : 815
;===========================================================================
;-------------------------------------------------------------------------------

;Reverse Throw (Grab)
[Statedef 810]
type = S
movetype = A
physics = S
juggle = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1
facep2 = 1
poweradd = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = NumTarget;updated 
trigger1 = !(target, ishelper);updated
trigger1 = MoveHit
value = Anim
elem = 5 ; change this to animelemno of grab you wish frozen
ignorehitpause = 1


[State 810, Don't Guard]
type = attackdist
trigger1 = 1
value = 0

[state 810, varset]
type = varset
trigger1 = !time
var(12) = 2

[State 810, hit]
type = hitdef
triggerall = P2BodyDist X <35
trigger1 = Var(0)=0 || enemy, AuthorName != "Team Z2";NEW
trigger1 = animelem=4 && !var(38)
attr = S,NT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1

[State 810, hit]
type = hitdef
triggerall = P2BodyDist X <35
trigger1 = animelem=4 && !var(38)
trigger1 = Var(0)>0 ;NEW
attr = S,NT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1
id = Cond((enemynear, NumExplod(98000000)),800,801);NEW\

[State 0, TargetState]
type = TargetState
trigger1 = MoveHit =1
trigger1 = NumTarget(800)
trigger1 = target, StateNo != [800,899]
trigger1 = target, AuthorName = "Team Z2"
value = 899
ignorehitpause = 1
 
[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=2
trigger1 = NumTarget(800)
trigger1 = target, time<=5
trigger1 = target, StateNo = 5949
value = 5940
ignorehitpause = 1
persistent = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=1
trigger1 = enemynear, StateNo = 950
value = 950
ignorehitpause = 1
persistent = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = NumTarget(800)
trigger1 = target, time>=6
trigger1 = target, StateNo = 899
trigger2 = !NumTarget(800) || (NumTarget(800) && enemy, AuthorName != "Team Z2")
trigger2 = MoveHit=1
value = 801
ignorehitpause = 1
persistent = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = MoveHit = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 15

[State 810, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
persistent = 0

[State 810, missed voice]
type = PlaySnd
trigger1 = animelem = 5
value = 5000,0
channel = 0
persistent = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(5)>=0
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = MoveHit
value = Anim
elem = 5 ; change this to animelemno of grab you wish frozen
ignorehitpause = 1
persistent = 0 ;to make sure your character doesn't freeze when he/she grabs a helper, for example

[State 810, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Slam em
[Statedef 811]
type = S
movetype = A
physics = N
ctrl = 0
juggle = 15
sprpriority = 1
anim = 804

[state 801, nothitby]
type = nothitby
trigger1 = 1
value = SCA

[state 801, targetbind]
type = targetbind
trigger1 = !time
pos = 30,0

[state 801, targetstate]
type = targetstate
trigger1 = !time
value = 802

[state 1215, Rear Leg]
type = explod
trigger1 = !time
anim = 80400
id = 80400
pos = 0,0
postype = P1
sprpriority = -2
ownpal = 1
removetime = 4
persistent = 0
ignorehitpause = 0
bindtime = -1

[state 811, velset]
type = velset
trigger1 = animelemtime(2) = 0
y = -12
persistent = 0


[state 811, bind]
type = targetbind
trigger1 = animelemtime(2) >= 0 && anim = 804 
trigger1 = target,SelfAnimExist(5940) = 0
pos = -4,-123

[state 811, bind]
type = targetbind
trigger1 = animelemtime(2) >= 0 && anim = 804
trigger1 = target,SelfAnimExist(5940)
pos = 10,-135

[state 811, velset]
type = velset
trigger1 = time = 15
y = 0


[state 811, changeanim]
type = changeanim
trigger1 = time = 15
value = 805


[state 801, targetstate]
type = targetstate
triggerall = NumTarget
trigger1 = animelemtime(2) = 0
ignorehitpause = 0
persistent = 0
value = 812


[State 3101, dust FX]
type = helper
triggerall = anim =805
trigger1 = animelemtime(12) = 0||  animelemtime(26) = 0 || animelemtime(40) = 0
helpertype = normal
stateno = 1010
ID = 1010
name = "ki blast"
postype = p1
pos = 14,-18
ownpal = 1

[State 3101, dust FX]
type = helper
triggerall = anim =805
trigger1 = animelemtime(19) = 0 || animelemtime(33) = 0
helpertype = normal
stateno = 1010
ID = 1010
name = "ki blast"
postype = p1
pos = -14,-18
ownpal = 1


[state 811, playsnd]
type = playsnd
trigger1 = anim = 804 && animelemtime(2) = 0
value = 810,0


[state 811, playsnd]
type = playsnd
trigger1 = anim = 805 && animelemtime(1) = 0
value = 810,1


[state 811, playsnd]
type = playsnd
trigger1 = anim = 805 && animelemtime(1) = 0
value = 3,0
channel = 0

[state 811, playsnd]
type = playsnd
trigger1 = anim = 805 && animelemtime(10) = 0
value = 1400,11
channel = 0

[state 801, velset]
type = velset
triggerall = anim = 805
trigger1 = animelemtime(44) = 0
x = -1


[State 9011, VelAdd]
type = VelAdd
triggerall = Pos Y < 0 && anim  = 805
trigger1 = animelemtime(44) >= 0
y = 0.35

[state 311, posset]
type = posset
trigger1 = Pos Y > 0
y = 0

[state 311, statetypeset]
type = statetypeset
triggerall = anim = 48
trigger1 = vel y  = 0 && statetype = A
statetype = S
physics = S




[state 311, changeanim]
type = changeanim
triggerall = anim != 48
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 48

[state 311, posset]
type = velset
triggerall = anim = 48
trigger1 = animelemtime(1) = 0
x = 0
y = 0

[state 52, Land FX]
type = helper
trigger1 = anim = 48 && animelemtime(1) = 1
name = "LandFX"

StateNo = 17100
id = 17100
postype = P1
ownpal = 1
keyctrl = 0
supermovetime = 99999
pausemovetime = 99999

[State -3, Landing Sound]
type = PlaySnd
trigger1 = anim = 48 && animelemtime(1) = 1
value = 40, 0

[State 1200, changestate]
type = changestate
triggerall = anim = 48
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Hit by ForwardThrow
[Statedef 812]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 2


[state 812, changeanim]
type = changeanim2
triggerall = !SelfAnimExist(5946)
trigger1 = !time
value = 808


[state 812, changeanim]
type = changeanim
triggerall = SelfAnimExist(5946)
trigger1 = !time
value = 5946

[state 2001, Fire FX]
type = explod
triggerall = anim = 5946
trigger1 = animelemtime(1) = 0
anim = 5947
id = 5947
pos = 0,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = -1
bindtime = -1
persistent = 0
ignorehitpause = 0
scale = 1,1

[state 2001, removeexplod]
type = removeexplod
trigger1 = anim != 5946
id = 5947

[State 4005, vel]
type = velset
triggerall = anim = 806
trigger1 = AnimElemtime(2)=0
x = 2
y = -6
persistent = 0

[State 4005, vel]
type = velset
trigger1 = enemynear,anim = 805 && enemynear,AnimElemtime(1)=0
y = 15
persistent = 0




[state 812, changeanim]
type = changeanim2
trigger1 = enemynear,anim = 805 && enemynear,AnimElemtime(1)=0 
value = 807

[State 9011, VelAdd]
type = VelAdd
triggerall = anim = 806 && animtime != 0
trigger1 = Pos Y < 0
y = 0.35



[state 812, changestate]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 813
;------------------------------------------
;Slammed into ground
[Statedef 813]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 4] ;Hit ground anim (for flip knockout)
type = Varset
trigger1 = !time
var(47)=0
[State 5100, 4] ;Hit ground anim (for flip knockout)
type = Varset
triggerall = prevstateno = 1264 && selfanimexist(5937)
trigger1 = time = 0
var(47)=1

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = 15000,1

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
triggerall = var(47)=1
trigger1 = AnimElem = 3
value = 5101

[State 5100, 12]
type = ChangeState
triggerall = var(47)=0
trigger1 = AnimTime = 0
value = 5101

;----------------------------------------------
;Hit By Ki Blasts
[Statedef 814]
type = L
movetype = H
physics = N
velset= 0,0
ctrl = 0


[state 3050, bs juggle limits never doing what I want them to so now I have to do this]
type = nothitby
trigger1 = 1
value = ,NA,SA,AP,AT
time = 100

[state 3060, changeanim]
type = changeanim2
trigger1 = !time
value = 3050

[state 3000, posset]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1


[state 3000, changestate]
type = selfstate
trigger1 = time = 40
value = ifelse(!alive,5150,5120)
;----------------------------
;Enemy Grabbed
[Statedef 899]
type    = S
movetype= H
physics = N
 
[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 899
 
[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
 

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 0, ChangeState]
type = SelfState
trigger1 = ((NumExplod(90000800))|| (command = "x" && command = "a")) && command != "up"
value = Cond(enemynear,Var(0)=1,950,5940)
 
[State 0, ChangeState]
type = SelfState
trigger1 = Time >= 6
value = 0
ctrl = 1