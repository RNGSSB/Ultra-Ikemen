[Data]
life = 1000 
power = 5000
attack = 105
defence = 105
fall.defence_up = 0
liedown.time = 16
airjuggle = 9999
KO.echo = 0
volumescale = 150
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = .83
yscale = 1.07        
ground.back = 15
ground.front = 25
air.back = 18
air.front = 18
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5,-85
mid.pos = -5,-50
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2.2
walk.back = -1.8
run.fwd  = 7.4,-6 
run.back = -10.67
jump.neu = 0,-11.5
jump.back = -2.5,-11.5
jump.fwd = 3,-11.5
runjump.back = -4.5,-11.5
runjump.fwd = 6.5,-11.5
airjump.neu = 0,-11.5
airjump.back = -2.55
airjump.fwd = 3.5 

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .64
stand.friction = .8
crouch.friction = .8


[Statedef 21]
type    = S
physics = S
sprpriority = 1

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 21, 1]
type = VelSet
triggerall = enemy, stateno != [190, 192]
trigger1 = command = "holdfwd"
x = 1.9

[State 21, 2]
type = VelSet
triggerall = enemy, stateno != [190, 192]
trigger1 = command = "holdback"
x = -1.6

[State 21, 3]
type = VelSet
triggerall = enemy, stateno != [190, 192]
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = command = "holdfwd" && anim != 22
value = 22

[State 21, 4]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = command = "holdback" && anim != 22
value = 22

[State 21, 4]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = command != "holdfwd" && anim != 0
trigger1 = command != "holdback" && anim != 0
value = 0


[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 22, 0)

[Statedef 0]
type = S
physics = S
sprpriority = 1
velset = 0,0

[State 0, Hyper End]
type = varset
trigger1 = time = 0
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 0 && anim != 5
trigger2 = anim = 5 && animtime = 0
value = 0
 
; Stand to Crouch 
[Statedef 10]
type    = C
physics = C
anim = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 10, ChangeAnim]
type = ChangeState
trigger1 = animtime = 0
value = 11
 
; Walk 
[Statedef 20]
type    = S
physics = S
sprpriority = 1

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, VelMul]
type = VelMul
trigger1 = var(51) = 1
x = 1.3

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x > 0 &&  anim != 20
value = 20

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x < 0 &&  anim != 21
value = 21
 
; Jump Start 
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
velset = 0,0
facep2 = 1

[State 40, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 40, VarSet]
type = VarSet
trigger1 = time = 1
sysvar(1) = ifelse(command = "holdfwd",1,ifelse(command = "holdback", -1, 0))

[State 40, VarSet]
type = VarSet
trigger1 = time = 0 && var(6) < 2
var(1) = command = "highjump" || prevstateno = 420 || prevstateno = 411

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(2) = 0

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(3) = 1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0 && var(1)
fvar(1) = -.1

[State 40, VelSet]
type = VelSet
trigger1 = animtime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = ifelse(!var(1),const(velocity.jump.y),-18.8)

[State 40, VelSet]
type = VelSet
trigger1 = animtime = 0
trigger1 = prevstateno = 101
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, Explod]
type = Explod
trigger1 = animtime = -1
trigger1 = var(1)
anim = 8250
id = 8250
pos = -120, 0
scale = 0.54,0.48
sprpriority = 4
supermove = 1
ownpal = 1

[State 40, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
 
; AirJump Start 
[Statedef 45]
type    = A
physics = A
velset = 0,0
facep2 = 1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(1) = ifelse(command = "holdfwd",1,ifelse(command = "holdback", -1, 0))

[State 40, VarAdd]
type = VarAdd
trigger1 = time = 0
var(2) = -1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(3) = 1

[State 40, VelSet]
type = VelSet
trigger1 = Time = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))
 
; Jump Up 
[Statedef 50]
type    = A
physics = A
ctrl = 1

[State 50, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = var(1)
value = 0,2

[State 50, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(1) = 0

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(1)*3

; Jump Land 
[Statedef 52]
type    = S
physics = S
anim = 47
velset = 0,0
ctrl = 1

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[State 52, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 52, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200

[State 52, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 
[Statedef 100] 
type    = S
physics = S
anim =0
sprpriority = 1
velset = 0,0
ctrl = 0

[State 100, ChangeState]
type = ChangeState
trigger1 = 1
value = 101
 
[Statedef 101] 
type    = S
physics = N
anim = 100
sprpriority = 1

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -20,ceil(const(size.head.pos.y)/2)
scale = 0.5, 0.5

[State 101, VelMul]
type = VelMul
trigger1 = 1
x = .98

[State 0, PosAdd]
type = PosAdd
trigger1 = var(58) = 3
trigger1 = time = 0
x = -80-backedgedist

[State 100, 1]
type = VelSet
trigger1 = anim = 100
x = const(velocity.run.fwd.x)

[State 100, 1]
type = VelSet
trigger1 = anim = 101
x = 0.6666666667
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(58) > 0
trigger1 = backedgebodydist > 0
var(58) = 0
ignorehitpause = 1

[State 100, 4]
type = ChangeAnim
triggerall = anim = 100
triggerall = animtime = 0;animelemtime(3) >= 0
triggerall = var(58) < 3
trigger1 = command != "holdfwd" && var(52) != 100
trigger2 = time >= 102
value = 101

[State 100, 4]
type = ChangeState
trigger1 = anim = 101
trigger1 = animtime = 0
value = 0
ctrl = 1
 
[Statedef 102] 
type    = S
physics = S
anim = 0
sprpriority = 1

[State 102, ChangeState]
type = ChangeState
trigger1 = 1
value = 0
ctrl = 1
  
; RUN_BACK 
	 
[Statedef 105] 
type    = S
physics = S
anim = 0
sprpriority = 1
velset = 0,0
ctrl = 0

[State 105, ChangeState]
type = ChangeState
trigger1 = 1
value = 106
 
[Statedef 106] 
type    = S
physics = N
anim = 105
sprpriority = 1

[State 106, VelMul]
type = VelMul
trigger1 = 1
x = .98

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 200,0

[State 100, 1]
type = VelSet
trigger1 = animelemtime(2) = 0
x = const(velocity.run.back.x)

[State 100, 1]
type = VelSet
trigger1 = animelemtime(2) > 0
trigger1 = animelemtime(6) < 0
x = vel x + 0.4444

[State 100, 1]
type = VelSet
trigger1 = animelemtime(6) >= 0
;trigger1 = animelemtime(7) < 0
x = -1.333

[State 106, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 107
 
[Statedef 107] 
type    = S
physics = S
anim = 0
sprpriority = 1

[State 107, ChangeState]
type = ChangeState
trigger1 = 1
value = 0
ctrl = 1

  
; HIT_FALLRECOVER (on the ground) 
[Statedef 5201]
type    = C
movetype= H
physics = N
anim = ifelse(prevstateno=5200,5200,5201)
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(anim=5200,8,-4)
y = 0

[State 200]
type = PlaySnd
trigger1 = AnimElem = 7
value = 621,0
channel = 0 

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 
; Initialize (at the start of the round) 
[Statedef 5900]
type = S

;Put this in Statedef 5900 in your char's cns NOT common1
[State -2, def]
type = VarSet
trigger1 = partner,Authorname != "mouser-MvC2" && Partner,authorname != "DarkWolf13-MvC2"
trigger2 = teammode = single
trigger2 = roundstate < 1
trigger2 = time = [0,1]
var(33) = 0

; Like in vs Series, you always start with 1 power stock...
[State 190, PowerAdd]
type = PowerSet
triggerall = Roundno = 1
trigger1 = time = 0
value = 1000


[State 5900, VarRangeSet] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0  && roundno >= 1
value = 0
first = 1
last = 59

[State 5900, VarRangeSet] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0  && roundno >= 1
fvalue = 0

[State 5900, Helper]
type = Helper
trigger1 = roundsexisted = 0
stateno = 9999

[State 5900, VarSet]
type = VarSet
trigger1 = roundsexisted = 0
var(0) = palno = [7,12]

[State 5900, VarSet]
type = VarSet
trigger1 = roundsexisted = 0
var(5) = 5068355

[State 5900, VarSet]
type = VarSet
trigger1 = time = 0
var(12) = 0

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
triggerall = !roundsexisted && teammode = turns
trigger1 = roundno != 1
value = 190


[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
triggerall  = roundsexisted
trigger1 = roundno != 1
value = 21
  
; ƒVƒXƒeƒ€‹¤—p 
	
; ƒ^[ƒQƒbƒgƒŠƒJƒo[ 
[Statedef 9900]
type = A
movetype = H
physics = N

[State 9900, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5040,5050)


; ƒ^[ƒQƒbƒgƒ_ƒEƒ“’ÇŒ‚•œ‹A 
[Statedef 9901]
type = A
movetype = H
physics = N

[State 9901, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5201,5050)


; ƒ^[ƒQƒbƒgƒoƒEƒ“ƒh 
[Statedef 9910]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5040

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -6

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52
 
; ƒX[ƒp[ƒRƒ“ƒ{‰‰o(ƒwƒ‹ƒp[) 
	
[Statedef 8500] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,0

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900+root,var(0)
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(4) = 1 && !numexplod(8505)
anim = 8505
id = 8505
postype = left
bindtime = -1
removetime = -1
scale = .5,.5*fvar(1)
sprpriority = -3
ownpal = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(8505)
ID = 8505
scale = .5,.5*fvar(1)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = ifelse(screenpos y-212<0,0,screenpos y-212)

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = 1+(fvar(0)/512)

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(4) = 0 || root,var(4) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,winko
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(4) = 0
trigger2 = root,movetype = H
 
 
[Statedef 8510] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,4

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,12

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = nomusic

; [State 8510, AssertSpecial]
; type = AssertSpecial
; trigger1 = (StageVar(Info.Name) != "Absolute Cloud-Night")
; flag = nomusic

[State 8510, Explod]
type = Explod
trigger1 = time = 0
anim = 8510
id = 8510
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1

[State 8510, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(8510)
  
; ƒAƒhƒoƒ“ƒVƒ“ƒOƒK[ƒh(ƒwƒ‹ƒp[) 
[Statedef 8060]
type = A
physics = N
anim = 8061
velset = -14,0
ctrl = 0

[State 8060, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,10

[State 8060, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 8060, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 8060, DestroySelf]
type = DestroySelf
trigger1 = time = 16;24
 
; “dŒ‚ƒqƒbƒg 
[Statedef 8030]
type = A
movetype = H
physics = N
anim = 9999

[State 8030, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8030, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = time = 32

[State 8030, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8030, Explod]
type = Explod
trigger1 = time%6=0
trigger1 = playeridexist(var(0))
anim = 8030+random%4+(random%2)*5
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
 
; ‰Šƒqƒbƒg 
[Statedef 8040]
type = A
movetype = H
physics = N
anim = 9999

[State 8040, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8040, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = random%2

[State 8040, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = !root,hitpausetime

[State 8040, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*2))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5
 
; ‰Šƒqƒbƒg(Â) 
[Statedef 8045]
type = A
movetype = H
physics = N
anim = 9999

[State 8045, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8045, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = random%2

[State 8045, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = !root,hitpausetime

[State 8045, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 80,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*2))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5
 
; ’…’nƒGƒtƒFƒNƒg 
[Statedef 8200]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
pos = 16,0
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,0
vel = -4,0
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0
 
; TIMEƒQ[ƒW 
[Statedef 8580]
type    = A
movetype = I
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8580, Explod]
type = Explod
trigger1 = teamside = 1
anim = 8580
scale = .5,.5
ontop = 1
ownpal = 1
postype = left
pos = floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = root,var(12) > 0
anim = 8582
scale = (root,var(12)/480.0)*.5,.5
ontop = 1
ownpal = 1
postype = left
pos = floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 2
anim = 8581
scale = .5,.5
ontop = 1
ownpal = 1
postype = right
pos = -floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = root,var(12) > 0
anim = 8583
scale = (root,var(12)/480.0)*.5,.5
ontop = 1
ownpal = 1
postype = right
pos = -floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, DestroySelf]
type = DestroySelf
trigger1 = root,var(12) = 0

[Statedef 180]
type = S
ctrl = 0
sprpriority = 0

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181+random%2

[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S182, 1
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 6181
ID = 6181
pos = 0,-5
scale = .83,1.07  
postype = p1
bindtime = -1
removetime = -1
sprpriority = 3

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 180]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0
sprpriority = 0

[State 182, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S195,0
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 6181
ID = 6181
pos = 0,-5
scale = .83,1.07  
postype = p1
bindtime = -1
removetime = -1
sprpriority = 3

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 180]
flag = RoundNotOver

;---------------------------------------------------------------------------
; introstate decider
[Statedef 190]
type = S
sprpriority = 0

[state 190, 5]
type = changestate
;triggerall = (ID=56&&numpartner) || (Teamside = 1 && Numpartner = 0) || (ID=58&&numpartner) || (Teamside = 2 && Numpartner = 0)
trigger1 = time = 0
value = 191

; Intro 1
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0
sprpriority = 0

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S192, 0
channel = 0

[state 191, 2] 
type = assertspecial
trigger1 = 1
flag = intro

[State 191, 3] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 1
hitcountpersist = 1

[State 191, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S195, 0
channel = 0

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

; Stand Light Punch
[Statedef 200]
type    = S                     
movetype= A                     
physics = S                  
juggle  = 0
ctrl = 0               
anim = 200                      
poweradd = 20                    
sprpriority = 1              

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0
channel = 0   

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 610, CtrlSet]
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 5
value = 1

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA              
damage = 20,0   
getpower = 14, 7    
givepower = 14, 7        
animtype = Light 
ground.type = High  
air.type = Low  
hitflag = MAF       
guardflag = MA                                    
priority = 4, Hit  
pausetime = 8,7           
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -7.5,0
ground.cornerpush.veloff = -8.5
guard.velocity = -5.5
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing Medium punch
[Statedef 210]
type    = S                     
movetype= A                     
physics = S                  
juggle  = 0
ctrl = 0                      
anim = 210                      
poweradd = 28                    
sprpriority = 1

[State 420, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = 0,4                 

[State 200]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 7
value = 200,0
channel = 0

[State 210, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 210, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(51) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 2
trigger1 = hitPauseTime = [1,11 - (9 - var(51))]
value = anim
elem = 3
ignorehitpause = 1

[State 210, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA                    
damage = 35,0
getpower = 14, 7    
givepower = 14, 7               
animtype = Medium 
ground.type = High
air.type = Low 
hitflag = MAF               
guardflag = MA                                
priority = 4, Hit               
pausetime = 8,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -10.8,0
air.velocity = -4,-6
airguard.velocity = -6,-2
ground.cornerpush.veloff = -12.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State 210, 1]
type = HitDef
trigger1 = animelem = 7
attr = S, NA                    
damage = 35,0
getpower = 14, 7    
givepower = 14, 7               
animtype = Medium 
ground.type = High
air.type = Low 
hitflag = MAF               
guardflag = MA                                
priority = 4, Hit               
pausetime = 8,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -12,0
air.velocity = -4,-6
airguard.velocity = -6,-2
ground.cornerpush.veloff = -12.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact && AnimElem = 3, >= 0
trigger1 = MoveHit
anim = ifelse(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact && AnimElem = 7, >= 0
trigger1 = MoveHit
anim = ifelse(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Hard Punch
[Statedef 220]
type    = S                     
movetype= A                     
physics = S                  
juggle  = 0
ctrl = 0                     
anim = 220                      
poweradd = 50                    
sprpriority = 1   

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5 

[State 210, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 220, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 220, sound 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1
channel = 0

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(51) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 5
trigger1 = hitPauseTime = [1,11 - (16 - var(51))]
value = anim
elem = 6
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 6
trigger1 = hitPauseTime = [1,11 - (18 - var(51))]
value = anim
elem = 7
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 7
trigger1 = hitPauseTime = [1,11 - (20 - var(51))]
value = anim
elem = 8
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 8
trigger1 = hitPauseTime = [1,11 - (21 - var(51))]
value = anim
elem = 9
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 9
trigger1 = hitPauseTime = [1,11 - (23 - var(51))]
value = anim
elem = 10
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 10
trigger1 = hitPauseTime = [1,11 - (25 - var(51))]
value = anim
elem = 11
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 11
trigger1 = hitPauseTime = [1,11 - (30 - var(51))]
value = anim
elem = 12
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemNo(0) = 12
trigger1 = hitPauseTime = [1,11 - (35 - var(51))]
value = anim
elem = 13
ignorehitpause = 1

[State 220, 1]
type = HitDef
trigger1 = !movehit
trigger1 = !moveguarded
attr = S, NP
damage = 91,0
getpower = 56, 28
givepower = 56, 28
animtype = Diagup
air.animtype = Diagup
hitflag = MAF
guardflag = MA
priority = 7
pausetime = 10,9
guard.pausetime = 12,13
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -3.5,-13
guard.velocity = -5.5
air.velocity = -3.5,-13
airguard.velocity = -6,-2
ground.cornerpush.veloff = -15.5
palfx.time = 32
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
id = 8

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 220, sound 4]
type = PlaySnd
trigger1 = MoveHit
trigger1 = numtarget
value = F5, 8
ignorehitpause = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 10
movetype = I
ignorehitpause = 1

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing light kick
[Statedef 230]
type    = S                     
movetype= A                     
physics = S                  
juggle  = 0
ctrl = 0                     
anim = 230                      
poweradd = 20                   
sprpriority = 1 

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,6

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0
channel = 0 

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 230, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA              
damage = 20,0   
getpower = 14, 7    
givepower = 14, 7        
animtype = Light 
ground.type = High  
air.type = Low  
hitflag = MAF       
guardflag = MA                                    
priority = 4, Hit  
pausetime = 8,7           
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -7.5,0
ground.cornerpush.veloff = -8.5
guard.velocity = -5.5
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0 

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium kick
[Statedef 240]
type    = S                     
movetype= A                     
physics = S                  
juggle  = 0
ctrl = 0                     
anim = 240                      
poweradd = 30                    
sprpriority = 1 

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200]
type = PlaySnd
trigger1 = animelem = 2
value = 200,0
channel = 0

[State 210, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 210, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA                    
damage = 35,0
getpower = 14, 7    
givepower = 14, 7               
animtype = Medium 
ground.type = High
air.type = Low 
hitflag = MAF               
guardflag = MA                                
priority = 4, Hit               
pausetime = 9,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -12,0
air.velocity = -4,-6
airguard.velocity = -6,-2
ground.cornerpush.veloff = -12.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Hard kick
[Statedef 250]
type    = S                     
movetype= A                     
physics = S                  
juggle  = 0
ctrl = 0                     
anim = 250                      
poweradd = 56                    
sprpriority = 1 

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200]
type = PlaySnd
trigger1 = animelem = 2
value = 220,0
channel = 0

[State 210, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 210, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 250, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage    = 65,0
getpower = 50,0
givepower = 20,0
animtype = Hard 
ground.type = High
air.type = Low 
hitflag = MAF               
guardflag = MA                                
priority = 4, Hit               
pausetime = 12,10
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -14,0
air.velocity = -4,-6
airguard.velocity = -6,-2
ground.cornerpush.veloff = -13.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 250, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Backward Hard kick
[Statedef 252]
type    = S                     
movetype= A                     
physics = S                  
ctrl = 0                     
anim = 252                      
poweradd = 56                    
sprpriority = 1 

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200]
type = PlaySnd
trigger1 = animelem = 4
value = 200,0
channel = 0

[State 210, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 210, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 252, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage    = 65,0
getpower = 50,0
givepower = 20,0
animtype = Hard 
ground.type = High
air.type = Low 
hitflag = MAF               
guardflag = MA                                
priority = 4, Hit               
pausetime = 12,10
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -17,0
air.velocity = -4,-6
airguard.velocity = -6,-2
ground.cornerpush.veloff = -13.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 95)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 250, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 400]
type = C
movetype= A
physics = C
ctrl = 0
anim = 400
sprpriority = 2
poweradd = 20

[State 400, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0
channel = 0 

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0


[State 400, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = C, NA              
damage = 20,0   
getpower = 14, 7    
givepower = 14, 7        
animtype = Light 
ground.type = Low  
air.type = Low  
hitflag = MAF       
guardflag = MA                                    
priority = 4, Hit  
pausetime = 8,7           
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S5,0
guardsound = S6,0
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -7.5,0
ground.cornerpush.veloff = -8.5
guard.velocity = -5.5
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 45)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0 

[State 400, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching Medium punch
[Statedef 410]
type    = C                     
movetype= A                     
physics = C                  
juggle  = 0
ctrl = 0                    
anim = 410                      
poweradd = 30                  
sprpriority = 1  

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0
channel = 0 

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 410, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA                    
damage = 35,0
getpower = 14, 7    
givepower = 14, 7               
animtype = Up
ground.type = High
hitflag = MAFD               
guardflag = MA                                
priority = 4, Hit               
pausetime = 9,10
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 27
air.hittime = 27
yaccel = .88
ground.velocity = 0,-11
air.velocity = 0,-11
Guard.velocity = -6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
ground.cornerpush.veloff = p2stateno = 0
fall = 1
fall.recover = 3
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 45)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, blur effect]
type = Explod
trigger1 = AnimElem = 3
anim = 6410
ID = 6410
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 1
ontop = 0
ownpal = 0
removeongethit = 0
scale =  1,1
ignorehitpause = 1
persistent = 0

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching Medium launcher punch
[Statedef 411]
type    = C                     
movetype= A                     
physics = C                  
juggle  = 0
ctrl = 0                    
anim = 410                      
poweradd = 30                  
sprpriority = 1  

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
channel = 0 

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 410, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA                    
damage = 35,0
getpower = 14, 7    
givepower = 14, 7               
animtype = Up
ground.type = High
hitflag = MAFD               
guardflag = MA                                
priority = 4, Hit               
pausetime = 9,10
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 27
air.hittime = 27
yaccel = .88
ground.velocity = 0,-18
air.velocity = 0,-18
Guard.velocity = -6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
ground.cornerpush.veloff = p2stateno = 0
fall = 1
fall.recover = 3
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 45)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = 45,-30
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

[State 420, blur effect]
type = Explod
trigger1 = AnimElem = 3
anim = 6410
ID = 6410
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 1
ontop = 0
ownpal = 0
removeongethit = 0
scale =  1,1
ignorehitpause = 1
persistent = 0

[state 240, 4]
type = changestate
trigger1 = movehit
trigger1 = command = "holdup"
value = 40

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------aaa-------------------------------------------------------------
;Crouching Hard punch
[Statedef 420]
type = C
movetype= A
physics = C
ctrl = 0
anim = 420
sprpriority = 2
poweradd = 50

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
channel = 0 

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 420, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = C, NA                    
hitflag  = MAF
guardflag = MA
animtype = Up
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 12,11
guard.pausetime = 12,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 16
ground.hittime = 27
air.hittime = 27
guard.hittime = 17
yaccel = .82
ground.velocity = 0,-14
ground.cornerpush.veloff = 0
air.velocity = 0,-14
guard.velocity = -10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = 45,-60
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

[State 420, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

[state 240, 4]
type = changestate
trigger1 = movehit
trigger1 = command = "holdup"
value = 40

;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 430]
type    = C                     
movetype= A                     
physics = C                  
juggle  = 0
ctrl = 0                    
anim = 430                      
poweradd = 14                   
sprpriority = 1 

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3 

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0
channel = 0 

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 430, 2]
type = HitDef
trigger1 = animelem = 2
attr = C, NA              
damage = 20,0   
getpower = 14, 7    
givepower = 14, 7        
animtype = Light 
ground.type = Low  
air.type = Low  
hitflag = MAFD       
guardflag = MA                                    
priority = 4, Hit  
pausetime = 8,7           
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S5,0
guardsound = S6,0
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -7.5,0
ground.cornerpush.veloff = -8.5
guard.velocity = -5.5
down.velocity = -4,-6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 25)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0 

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Medium Kick
[Statedef 440]
type    = C                     
movetype= A                     
physics = C                  
juggle  = 0
ctrl = 0                    
anim = 440                      
poweradd = 30                   
sprpriority = 1  

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0
channel = 0 

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 440, 3]
type = HitDef
trigger1 = animelem = 2
attr = C, NA              
damage = 20,0   
getpower = 14, 7    
givepower = 14, 7        
animtype = Medium 
ground.type = Low  
air.type = Low  
hitflag = MAFD       
guardflag = MA                                    
priority = 4, Hit  
pausetime = 11,11         
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S9999
hitsound = S5,0
guardsound = S6,0
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .53
ground.velocity = 0,-4
ground.cornerpush.veloff = 0
air.velocity = 0,-4
guard.velocity = -10
airguard.velocity = -6,-2
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 25)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0 

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching Hard kick
[Statedef 450]
type    = C                     
movetype= A                     
physics = C                  
juggle  = 0
ctrl = 0                    
anim = 450                      
poweradd = 50                   
sprpriority = 1 

[State 450, sound 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 6

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
channel = 0 

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 450, 3]
type = HitDef
trigger1 = animelem = 4
attr = C,NA
hitflag = MAF
guardflag = MA
animtype = Diagup
air.animtype = Diagup
damage = 45,0
getpower = 30,0
givepower = 20,0
pausetime = 10,16
guard.pausetime = 9,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -7.5,-11
air.velocity = -7.5,-11
airguard.velocity = -6,-2
ground.cornerpush.veloff = -19.5
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 1
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 45)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0 


[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[Statedef 600]
type    = A                     
movetype= A                     
physics = A                  
juggle  = 0                                    
ctrl = 0                      
anim = 600                      
poweradd = 14                    
sprpriority = 2 

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3   

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0
channel = 0 

[State 600, CtrlSet]
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 6
value = 1

[State 600, 2]
type = HitDef
trigger1 = animelem = 2
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 9,8
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.3,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;Jump Medium Punch
[Statedef 610]
type    = A                     
movetype= A                     
physics = A                  
juggle  = 0                                    
ctrl = 0                      
anim = 610                      
poweradd = 28                    
sprpriority = 2

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
channel = 0 

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 610, CtrlSet]
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 6
value = 1

[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Up
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .92
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.5,-10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


;---------------------------------------------------------------------------
;Jump Hard Punch
[Statedef 620]
type    = A                     
movetype= A                     
physics = A                  
juggle  = 0                                     
ctrl = 0                      
anim = 620                      
poweradd = 56                    
sprpriority = 2

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200]
type = PlaySnd
trigger1 = AnimElem = 4
value = 621,0
channel = 3

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(19) > 0
var(6) = 1

[State 620, CtrlSet]
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 16
value = 1

[State 620, 3]
type = HitDef
trigger1 = !var(6)
trigger1 = time = 0
attr = A,HA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -18,6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
palfx.time = 32
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
id = 2+4+8

[State 620, 3]
type = HitDef
trigger1 = var(6)
trigger1 = time = 0
attr = A,HA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -18,6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
palfx.time = 32
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2
id = 4+8+64

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, Explod]
type = Explod
trigger1 = animelem = 12
anim = 6620
ID = 6620
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
sprpriority = 3
pausemovetime = 0
scale = 1,1
removeongethit = 0
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 630]
type    = A                     
movetype= A                     
physics = A                  
juggle  = 0                                      
ctrl = 0                      
anim = 630                      
poweradd = 14                    
sprpriority = 2 

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3  

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 610, CtrlSet]
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 7
value = 1

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0
channel = 0 

[State 600, 2]
type = HitDef
trigger1 = animelem = 2
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 9,8
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.3,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;Jump Medium Kick
[Statedef 640]
type    = A                     
movetype= A                     
physics = A                  
juggle  = 0                                      
ctrl = 0                      
anim = 640                      
poweradd = 28                    
sprpriority = 2

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0
channel = 0 

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 610, CtrlSet]
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 7
value = 1

[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Up
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .92
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.5,-10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;Jump Hard Kick
[Statedef 650]
type    = A                     
movetype= A                     
physics = A                  
juggle  = 0                                      
ctrl = 0                      
anim = 650                      
poweradd = 56                    
sprpriority = 2

[State 420, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
channel = 0 

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(19) > 0
var(6) = 1

[State 620, CtrlSet]
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 7
value = 1

[State 650, 3]
type = HitDef
trigger1 = !Var(6)
trigger1 = time = 0
attr = A,HA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -14,6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 650, 3]
type = HitDef
trigger1 = var(6)
trigger1 = time = 0
attr = A,HA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -14,6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2
id = 4+64

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;Shoulder Dive
[Statedef 651]
type    = A                     
movetype= A                     
physics = A                  
juggle  = 0                                   
ctrl = 0                      
anim = 651                      
poweradd = 56                    
sprpriority = 1

[State 651, sound 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
channel = 0

[State 652, PosFreeze]
type = PosFreeze
trigger1 = animelem = 1
value = -1

[State 0, velset]
type = velset
trigger1 = AnimElem =2
x = 7
y = 5

[State 651, 3]
type = HitDef
trigger1 = !Var(6)
trigger1 = !movehit
trigger1 = !moveguarded
attr = A, NA
damage    = 84,0 
guardflag = HA
priority = 4
pausetime = 12,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -5,-3
hitsound = S5,2
guardsound = S6,0
animtype = hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -7,10
guard.velocity = -2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4
air.type = Low
yaccel = .6

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 651, ChangeState]
type = ChangeState
trigger1 = Movecontact
value = 652
ctrl = 1
;-------------------------
;Bounce off Opponent
[Statedef 652]
type    = A                     
movetype= I                    
physics = A                  
juggle  = 0                    
velset = 0,0                   
ctrl = 0                      
anim = 46                      
poweradd = 0                    
sprpriority = 1

[State 652, 1 velset]
type = velset
trigger1 =animelem = 1
x = 0
y = 0

[State 652, 2]
type = VelAdd
trigger1 = animelem = 1
x = -4.5
y = -7

[Statedef 810]
type    = S
movetype = A
physics = S
anim = 9999
sprpriority = 1
velset = 0,0
ctrl = 0

[State 810, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 810, PosSet]
type = PosSet
trigger1 = 1
x = -180 * facing
y = 0

[State 810, ChangeState]
type = ChangeState
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target,stateno = 5110
value = 101

[Statedef 1000]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 56
velset = 0,0
anim = 1400
ctrl = 0
sprpriority = 2

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1100, Explod]
type = Explod
trigger1 = time = 0
anim = F31
ID = 6018
sprpriority = 3
pos = 0,0
removetime = -2

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1450, 0
channel = 0

[State 1000, 2]
type = velset
trigger1 = AnimElem = 4
x = 7

[State 1000, 3]
type = HitDef
triggerall = fvar(0) != 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = S, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-62
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 1

[State 1000, 3]
type = HitDef
triggerall = fvar(0) = 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = S, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-32
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 1

[State -2, OTG Limiter]
type = VarSet
triggerall = fvar(0) != 1
trigger1 = movehit
trigger1 =  p2stateno = [5080,5083]
fv = 0
value = 1
ignorehitpause = 1

[State 1000, ChangeAnim]
type = Changestate
trigger1 = AnimTime = 0
value = 1001

;---------------------------------------------------------------------------
; Titan Crush End
[Statedef 1001]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
anim = 1451
ctrl = 0
sprpriority = 1

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.5
ignorehitpause = 1

[State 1000, ChangeAnim]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Titan Crush Medium
[Statedef 1010]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 56
velset = 0,0
anim = 1410
ctrl = 0
sprpriority = 2

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1100, Explod]
type = Explod
trigger1 = time = 0
anim = F31
ID = 6018
sprpriority = 3
pos = 0,0
removetime = -2

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1450, 0
channel = 0

[State 1000, 2]
type = velset
trigger1 = AnimElem = 4
x = 7

[State 1000, 3]
type = HitDef
triggerall = fvar(0) != 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = S, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 1


[State 1000, 3]
type = HitDef
triggerall = fvar(0) = 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = S, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 1


[State -2, OTG Limiter]
type = VarSet
triggerall = fvar(0) != 1
trigger1 = movehit
trigger1 =  p2stateno = [5080,5083]
fv = 0
value = 1
ignorehitpause = 1

[State 1000, ChangeAnim]
type = Changestate
trigger1 = AnimTime = 0
value = 1011

;---------------------------------------------------------------------------
; Titan Crush End
[Statedef 1011]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
anim = 1452
ctrl = 0
sprpriority = 1

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.5
ignorehitpause = 1

[State 1000, ChangeAnim]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Titan Crush Hard
[Statedef 1020]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 56
velset = 0,0
anim = 1420
ctrl = 0
sprpriority = 2

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1100, Explod]
type = Explod
trigger1 = time = 0
anim = F31
ID = 6018
sprpriority = 3
pos = 0,0
removetime = -2

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1450, 0
channel = 0

[State 1000, 2]
type = velset
trigger1 = AnimElem = 4
x = 7

[State 1000, 3]
type = HitDef
triggerall = fvar(0) != 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = S, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 1


[State 1000, 3]
type = HitDef
triggerall = fvar(0) = 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = S, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 1

[State -2, OTG Limiter]
type = VarSet
triggerall = fvar(0) != 1
trigger1 = movehit
trigger1 =  p2stateno = [5080,5083]
fv = 0
value = 1
ignorehitpause = 1

[State 1000, ChangeAnim]
type = Changestate
trigger1 = AnimTime = 0
value = 1021

;---------------------------------------------------------------------------
; Titan Crush End
[Statedef 1021]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
anim = 1453
ctrl = 0
sprpriority = 1

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.5
ignorehitpause = 1

[State 1000, ChangeAnim]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Air Titan Crush Light
[Statedef 1050]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 56
velset = 0,0
anim = 1400
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1450, 0
channel = 0

[State 1000, 2]
type = velset
trigger1 = AnimElem = 4
x = 7

[State 1000, 3]
type = HitDef
trigger1 = p2statetype != A
triggerall = fvar(0) != 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50


[State 1000, 3]
type = HitDef
;trigger1 = p2statetype != A
triggerall = fvar(0) = 0
trigger1 = !var(6)
trigger1 = time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Back
air.animtype = Back
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -15.6,-14
guard.velocity = -5.5
air.velocity = -15.6,-14
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 2+4

[State 1000, 3]
type = HitDef
trigger1 = var(6)
trigger1 = time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Back
air.animtype = Back
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -15.6,-14
guard.velocity = -5.5
air.velocity = -15.6,-14
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 4+64
fall.envshake.time = 10

[State -2, OTG Limiter]
type = VarSet
triggerall = fvar(0) != 1
trigger1 = movehit
trigger1 =  p2stateno = [5080,5083]
fv = 0
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animtime= 0
x = 0
y = 0

[State 1004, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 51
anim = 44
ctrl = 1

;---------------------------------------------------------------------------
; Air Titan Crush Medium
[Statedef 1060]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 56
velset = 0,0
anim = 1410
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1450, 0
channel = 0

[State 1000, 2]
type = velset
trigger1 = AnimElem = 4
x = 7

[State 1000, 3]
type = HitDef
trigger1 = p2statetype != A
triggerall = fvar(0) != 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50


[State 1000, 3]
type = HitDef
;trigger1 = p2statetype != A
triggerall = fvar(0) = 0
trigger1 = !var(6)
trigger1 = time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Back
air.animtype = Back
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -15.6,-14
guard.velocity = -5.5
air.velocity = -15.6,-14
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 2+4

[State 1000, 3]
type = HitDef
trigger1 = var(6)
trigger1 = time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Back
air.animtype = Back
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -15.6,-14
guard.velocity = -5.5
air.velocity = -15.6,-14
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 4+64
fall.envshake.time = 10


[State -2, OTG Limiter]
type = VarSet
triggerall = fvar(0) != 1
trigger1 = movehit
trigger1 =  p2stateno = [5080,5083]
fv = 0
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animtime= 0
x = 0
y = 0

[State 1004, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 51
anim = 44
ctrl = 1

;---------------------------------------------------------------------------
; Air Titan Crush Hard
[Statedef 1070]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 56
velset = 0,0
anim = 1420
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1450, 0
channel = 0

[State 1000, 2]
type = velset
trigger1 = AnimElem = 4
x = 7

[State 1000, 3]
type = HitDef
trigger1 = p2statetype != A
triggerall = fvar(0) != 0
trigger1 = !movehit
trigger1 = !moveguarded
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Diagup
air.animtype = Diagup
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -8.6,-20
guard.velocity = -5.5
air.velocity = -8.6,-20
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50



[State 1000, 3]
type = HitDef
;trigger1 = p2statetype != A
triggerall = fvar(0) = 0
trigger1 = !var(6)
trigger1 = time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Back
air.animtype = Back
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -15.6,-14
guard.velocity = -5.5
air.velocity = -15.6,-14
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 2+4

[State 1000, 3]
type = HitDef
trigger1 = var(6)
trigger1 = time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 8, 8
animtype = Back
air.animtype = Back
priority = 5, Hit
damage = 80, 3
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S5,2
guardsound = S6,0
yaccel = .85
ground.type = high
ground.velocity = -15.6,-14
guard.velocity = -5.5
air.velocity = -15.6,-14
airguard.velocity = -6,-2
ground.hittime = 29
air.type = low
air.hittime = 30
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -6.5
down.velocity = -2, -6
down.hittime = 20
sprpriority = 2
air.fall = 1
fall.recover = 0
givepower = 35
getpower = 50
id = 4+64
fall.envshake.time = 10

[State -2, OTG Limiter]
type = VarSet
triggerall = fvar(0) != 1
trigger1 = movehit
trigger1 =  p2stateno = [5080,5083]
fv = 0
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animtime= 0
x = 0
y = 0

[State 1004, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 51
anim = 44
ctrl = 1

[Statedef 900]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 0
hitcountpersist = 1

[State 800]
type = HitDef
trigger1 = hitcount < 1
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1
hitsound = S5,4        ;No spark
p1sprpriority = 2     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 910       ;On success, changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S1,9 
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2
id = 800

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 830, 2]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 800]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Punch Throw
[Statedef 910]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 55
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0
hitcountpersist = 1

[State 810, Holding fwd?]
type = VarSet
trigger1 = Time = 0
var(2) = command = "holdback"

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(-45*const(size.xscale)),ceil(-83*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 810]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 200020
value = 200000

[State 810, holdfwd - Turn 6] ;If was holding fwd before, turn now
type = Turn
trigger1 = var(2)
trigger1 = AnimElem = 1

[State 810, holdfwd - Pos 6] ;If was holding fwd before, move a little
type = PosAdd
trigger1 = var(2)
trigger1 = AnimElem = 1
x = -37

[State 810, holdfwd - Turn Target 6] ;If was holding fwd before, turn target too
type = TargetFacing
trigger1 = var(2)
trigger1 = AnimElem = 1

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = [1,4]
pos = 152*const(size.xscale),0

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = [5,10]
pos = 152*const(size.xscale),-75*const(size.xscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = [11,12]
pos = 135*const(size.xscale),-157*const(size.yscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = 13
pos = 70*const(size.xscale),-212*const(size.yscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = 14
pos = 84*const(size.xscale),-210*const(size.yscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = 15
pos = 0,-238*const(size.yscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = 16
pos = -7*const(size.xscale),-225*const(size.yscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = 17
pos = 64*const(size.xscale),-213*const(size.yscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = 18
pos = 78*const(size.xscale),-219*const(size.yscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = 19
pos = 135*const(size.xscale),-55*const(size.yscale)

[State 810]
type = TargetBind
trigger1 = AnimElemNo(0) = 20
pos = 120*const(size.xscale),0

[State 810]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0

[State 810]
type = PlaySnd
trigger1 = AnimElemNo(0) = [5,20]
trigger1 = Time%7 = 0
value = 610,0

[State 810]
type = PlaySnd
trigger1 = AnimElem = 20
value = 0,9

[state 810]
type = Explod
trigger1 = AnimElem = 20
anim = 8010
sprpriority = 4
postype = p2
ownpal = 1
pos = 0,0
removetime = 16

[State 810]
type = EnvShake
trigger1 = AnimElem = 20
time = 12

[State 810]
type = TargetLifeAdd
trigger1 = AnimElem = 20
value = -112

[State 810]
type = PowerAdd
trigger1 = AnimElem = 20
value = 50

[State 810]
type = TargetState
trigger1 = AnimElem = 20, >= 7
value = 821

[State 810]
type = ChangeState
trigger1 = AnimElem = 20, >= 7
value = 811
ctrl = 0

[State 810]
type = ChangeState
trigger1 = !NumTarget(800)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Punch Throw End
[Statedef 811]
type    = S
movetype= I
physics = S
poweradd = 55
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0
hitcountpersist = 1

[State 811]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Grabbed by Punch Throw
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 1]
type = changestate
triggerall = time < 4
triggerall = command = "holdfwd" || command = "holdback"
trigger1 = command = "y"
trigger2 = command = "z"
trigger3 = command = "b"
trigger4 = command = "c"
value = 200020
;persistent = 0

[State 820]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 820]
type = ChangeAnim2
trigger1 = Time = 0
value = 820

[State 820]
type = Turn
trigger1 = facing = enemynear,facing

[State 820, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 20
value = S0, 7

[State 820]
type = DestroySelf
trigger1 = ishelper

;---------------------------------------------------------------------------
;Grabbed by Punch Throw
[Statedef 821]
type    = A
movetype= H
physics = N
velset = -12,-10
poweradd = 60

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =time = 0
value = 5050

[State 821] ;Gravity
type = VelAdd
trigger1 = 1
y = .63

[State 821] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground

;-Kick Throw-Credit to Kong--------------------------------------------------
; Kick Throw - Attempt
[Statedef 830]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 0
hitcountpersist = 1

[State 830]
type = HitDef
trigger1 = hitcount < 1
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = 8005
hitsound = S5,4       ;No spark
p1sprpriority = 2     ;Draw p1's sprite in front of p2
                    ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 840      ;On success, changes to state 840
p2stateno = 850       ;If hit, p2 changes to state 850
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S1,9 
id = 800

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 830, 2]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 830]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 840]
type    = S
movetype= A
physics = N
anim = 840
poweradd = 55
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0
hitcountpersist = 1

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(-45*const(size.xscale)),ceil(-83*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 810, Holding fwd?]
type = VarSet
trigger1 = Time = 0
var(2) = command = "holdback"

[State 810]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 200020
value = 200000

[State 810]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0

[State 810, holdfwd - Turn 6] ;If was holding fwd before, turn now
type = Turn
trigger1 = var(2)
trigger1 = AnimElem = 1

[State 810, holdfwd - Pos 6] ;If was holding fwd before, move a little
type = PosAdd
trigger1 = var(2)
trigger1 = AnimElem = 1
x = -37

[State 810, holdfwd - Turn Target 6] ;If was holding fwd before, turn target too
type = TargetFacing
trigger1 = var(2)
trigger1 = AnimElem = 1

[State 840]
type = TargetBind
trigger1 = AnimElemNo(0) = [1,6]
pos = 73,-39

[State 840]
type = TargetBind
trigger1 = AnimElemNo(0) = [7,8]
pos = 97,-34

[State 840]
type = TargetBind
trigger1 = AnimElemNo(0) = 9
pos = 103,-31

[State 840]
type = PlaySnd
trigger1 = AnimElem = 8
value = 220,0

[State 840]
type = PlaySnd
trigger1 = AnimElem =9
value = 5,6

[State 840]
type = Explod
trigger1 = AnimElem = 9
anim = 8002
pos = 89,-138
ownpal = 1
ontop = 1

[State 840]
type = TargetLifeAdd
trigger1 = AnimElem = 9
value = -112

[State 840]
type = PowerAdd
trigger1 = AnimElem = 9
value = 50

[State 840]
type = TargetState
trigger1 = AnimElem = 9, >= 4
value = 851

[State 840]
type = ChangeState
trigger1 = AnimElem = 9, >= 4
value = 841

[State 840]
type = ChangeState
trigger1 = !NumTarget(800)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Kick Throw End
[Statedef 841]
type    = S
movetype= I
physics = S
;anim = 841
poweradd = 55
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0
hitcountpersist = 1

[State 841]
type = explod
trigger1 = AnimTime = 0
anim = 6840
ownpal = 1

[State 841]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Grabbed by Kick Throw
[Statedef 850]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 850]
type = SprPriority
trigger1 = AnimElem = 7
value = -1

[State 820, 1]
type = changestate
triggerall = time < 4
triggerall = command = "holdfwd" || command = "holdback"
trigger1 = command = "y"
trigger2 = command = "z"
trigger3 = command = "b"
trigger4 = command = "c"
value = 200020
;persistent = 0

[State 850]
type = ChangeAnim2
trigger1 = Time = 0
value = 850

[State 850]
type = Turn
trigger1 = facing = enemynear,facing

[State 850]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[State 850]
type = DestroySelf
trigger1 = ishelper

;---------------------------------------------------------------------------
;Grabbed by Kick Throw
[Statedef 851]
type    = A
movetype= H
physics = N
velset = -5.5,-18
poweradd = 60

[State 851]
type = ChangeAnim2
trigger1 = Time = 0
value = 815

[State 851] ;Gravity
type = VelAdd
trigger1 = 1
y = .63

[State 851]
type = SelfState
trigger1 = Vel Y > 2
value = 5040

[State 851] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground


;---------------------------------------------------------------------------
; Death Sphere Medium
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 42
velset = 0,0
anim = 1480
ctrl = 0
sprpriority = 2
hitcountpersist = 1

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1100, Explod]
type = Explod
trigger1 = Animelem = 6
anim = 6018
ID = 6018
sprpriority = 1
Ontop = 1
pos = -10,5
bindtime = 1
removetime = -2
pausemovetime = 0
sprpriority = -1
removeongethit = 0

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 210, 0

[State 1100]
type = Helper
trigger1 = AnimElem = 7
stateno = 21479
id = 21479
ownpal = 1
pos = 70,-60

[State 1100, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Death Sphere Medium
[Statedef 1110]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 42
velset = 0,0
anim = 1480
ctrl = 0
sprpriority = 2
hitcountpersist = 1

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1110, Explod]
type = Explod
trigger1 = Animelem = 6
anim = 6018
ID = 6018
sprpriority = 1
Ontop = 1
pos = -10,5
bindtime = 1
removetime = -2
pausemovetime = 0
sprpriority = -1
removeongethit = 0

[State 1110, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 210, 0

[State 1110]
type = Helper
trigger1 = AnimElem = 7
stateno = 21480
id = 21480
ownpal = 1
pos = 70,-60

[State 1100, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Death Sphere Hard
[Statedef 1120]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 42
velset = 0,0
anim = 1480
ctrl = 0
sprpriority = 2
hitcountpersist = 1

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 6
anim = 6018
ID = 6018
sprpriority = 1
Ontop = 1
pos = -10,5
bindtime = 1
removetime = -2
pausemovetime = 0
sprpriority = -1
removeongethit = 0

[State 1120, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 210, 0

[State 1120]
type = Helper
trigger1 = AnimElem = 7
stateno = 21481
id = 21481
ownpal = 1
pos = 70,-60

[State 1120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------------------------
;Bubble Helper Light
[Statedef 21479]
type    = S                     
movetype= A                     
physics = N                  
juggle  = 0                    
velset = 4,0                   
ctrl = 0                      
anim = 21480                     
poweradd = 0                    
sprpriority = 1 

[State 21479]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21479]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP

[State 21480, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
slot = 1
stateno = 21489
time = -1
forceair = 1

[State 1100, Explod]
type = Explod
trigger1 = time = 0
anim = F51
ID = 8171
sprpriority = 4
pos = -90,65
bindtime = -1
removetime = 240
sprpriority = -1
removeongethit = 1

[State 21479]
type = Explod
trigger1 = Time%5 = 0
anim = 21482
id = 21482
ownpal = 1
pos = 0,0
sprpriority = 4
removetime = 24
vel = 0,ifelse(random < 500,-0.3,0.3)

[State 21479]
type = PlaySnd
trigger1 = Time = 0
value = 1480,0

[State 21479]
type = HitDef
trigger1 = p2stateno !=1045
trigger1 = !movehit
trigger1 =! moveguarded 
attr = S, SP
damage    = 90,3
getpower = 56, 28
givepower = 56, 28
animtype  = Medium
ground.type = Low
air.type = Low
Hitflag = M
guardflag = MA
priority  = 7
pausetime = 0,0
sparkno = S8002
sparkxy = -10,-32
guard.sparkno = S8050
sparkxy = 25,7
hitsound = S5,3
guardsound = S6,0
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -1
air.velocity = 0,0
airguard.velocity = -1,-1
p2facing = 1
forcestand = 1
forcenofall = 1
yaccel = .6
ID = 9001

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
triggerall = movehit
trigger1 = enemynear, stateno!= 1045
value = 1045
ID = 9001


[State 1120]
type = Helper
trigger1 = movehit
Name = "bubble Trap"
stateno = 21487
id = 21487
ownpal = 1
pos = -10,-60
postype = p2

[State 21481]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = MoveReversed
trigger3 = Movehit
trigger4 = FrontEdgeDist < -100
trigger5 = Time > 240
value = 21489
ignorehitpause = 1

;------------------------------------------------------------------------------------------------------------
;Bubble Helper Medium
[Statedef 21480]
type    = S                     
movetype= A                     
physics = N                    
juggle  = 0                    
velset = 6.5,0                   
ctrl = 0                      
anim = 21480                     
poweradd = 0                    
sprpriority = 1 

[State 21479]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21479]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP

[State 21480, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
slot = 1
stateno = 1046
time = -1
forceair = 1

[State 1100, Explod]
type = Explod
trigger1 = time = 0
anim = F51
ID = 8171
sprpriority = 4
pos = -90,65
bindtime = -1
removetime = 240
sprpriority = -1
removeongethit = 1

[State 21479]
type = Explod
trigger1 = Time%5 = 0
anim = 21482
id = 21482
ownpal = 1
pos = 0,0
sprpriority = 4
removetime = 24
vel = 0,ifelse(random < 500,-0.3,0.3)

[State 21479]
type = PlaySnd
trigger1 = Time = 0
value = 1480,0

[State 21479]
type = HitDef
trigger1 = p2stateno !=1045
trigger1 = !movehit
trigger1 =! moveguarded 
attr = S, SP
damage    = 100,4
getpower = 56, 28
givepower = 56, 28
animtype  = Medium
ground.type = Low
air.type = Low
Hitflag = M
guardflag = MA
priority  = 7
sparkxy = -10,-32
pausetime = 0,0
sparkno = S8002
guard.sparkno = S8050
sparkxy = 25,7
hitsound = S5,3
guardsound = S6,0
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -1
air.velocity = 0,0
airguard.velocity = -1,-1
p2facing = 1
forcestand = 1
forcenofall = 1
yaccel = .6
ID = 9001

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
triggerall = movehit
trigger1 = enemynear, stateno!= 1045
value = 1045
ID = 9001

[State 1120]
type = Helper
trigger1 = movehit
Name = "bubble Trap"
stateno = 21487
id = 21487
ownpal = 1
pos = -10,-60
postype = p2

[State 21481]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = MoveReversed
trigger3 = Movehit
trigger4 = FrontEdgeDist < -100
trigger5 = Time > 240
value = 21489
ignorehitpause = 1

;------------------------------------------------------------------------------------------------------------
;Bubble Helper Hard
[Statedef 21481]
type    = S                     
movetype= A                     
physics = N                    
juggle  = 0                    
velset = 8,0                   
ctrl = 0                      
anim = 21480                     
poweradd = 0                    
sprpriority = 1 

[State 21479]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21479]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP

[State 21480, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
stateno = 21489

[State 1100, Explod]
type = Explod
trigger1 = time = 0
anim = F51
ID = 8171
sprpriority = 4
pos = -90,65
bindtime = -1
removetime = 240
sprpriority = -1
removeongethit = 1

[State 21479]
type = Explod
trigger1 = Time%5 = 0
anim = 21482
id = 21482
ownpal = 1
pos = 0,0
sprpriority = 4
removetime = 24
vel = 0,ifelse(random < 500,-0.3,0.3)

[State 21479]
type = PlaySnd
trigger1 = Time = 0
value = 1480,0

[State 21479]
type = HitDef
trigger1 = p2stateno !=1045
trigger1 = !movehit
trigger1 =! moveguarded 
attr = S, SP
damage    = 105,5
getpower = 56, 28
givepower = 56, 28
animtype  = Medium
ground.type = Low
air.type = Low
Hitflag = M
guardflag = MA
sparkxy = -10,-32
priority  = 7
pausetime = 0,0
sparkno = S8002
guard.sparkno = S8050
sparkxy = 25,7
hitsound = S5,3
guardsound = S6,0
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -1
air.velocity = 0,0
airguard.velocity = -1,-1
p2facing = 1
forcestand = 1
forcenofall = 1
yaccel = .6
ID = 9001

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
triggerall = movehit
trigger1 = enemynear, stateno!= 1045
value = 1045
ID = 9001

[State 1120]
type = Helper
trigger1 = movehit
Name = "bubble Trap"
stateno = 21487
id = 21487
ownpal = 1
pos = -10,-60
postype = p2

[State 21481]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = MoveReversed
trigger3 = Movehit
trigger4 = FrontEdgeDist < -100
trigger5 = Time > 240
value = 21489
ignorehitpause = 1

;------------------------------------------------------------------------------------------------------------
;Bubble effect
[Statedef 21487]
type = A
movetype = I
physics = N
anim = 21485
velset = 0,0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 6031]
type = posadd
trigger1 = 1
x = -10 + floor(p2dist X)
y = -80 + floor(p2dist Y)


[State 21487]
type = ChangeState
trigger1 = time = 60
trigger2 = p2stateno != 1045
ignorehitpause = 1
value = 21489

;------------------------------------------------------------------------------------------------------------
;Bubble End
[Statedef 21489]
type = A
movetype = I
physics = N
velset = 3,0
anim = 21481
ctrl = 0
sprpriority = 3

[State 21289]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8171
ignorehitpause = 1

[State 1100, Explod]
type = Explod
trigger1 = time = 0
anim = F52
ID = 8172
sprpriority = 4
pos = -90,65
bindtime = -1
removetime = -2
pausemovetime = 0
removeongethit = 1

[State 21289]
type = Explod
trigger1 = Time < 5
anim = 21481
id = 21481
postype = p2
ownpal = 1
pos = 0,-20
random = 40,80
sprpriority = 4
removetime = 24
vel = 2+random%3,-2+random%3

[State 21289]
type = DestroySelf
trigger1 = p2stateno != 1045
trigger2 = time = 60


;--------------------------------------------------------------
;Captured by Death Sphere
[Statedef 1045]
type = S
movetype = H
physics = S
ctrl = 0
sprpriority = -1

[State 1045, 5]
type = selfState
trigger1 = !alive
value = 5000

;[State 1045, 2]
;type = ChangeAnim
;trigger1 = time = 0
;value = 5006+var(40)

[State 1045, 2]
type = ChangeAnim
trigger1 = time = 0
value = 5300;+var(40)

[State 1045, 4]
type = NotHitBy
trigger1 = time = 60
value = SCA,SP
time = 10

[State 1045, 5]
type = selfState
trigger1 = time >= 60
value = 0
ctrl = 1

;--------------------------------------------------------------
;Captured by Death Sphere inside bubble
[Statedef 1046]
type = S
movetype = H
physics = S
ctrl = 0
sprpriority = -1

[State 1045, 5]
type = selfState
trigger1 = !alive
value = 5000

;[State 1045, 2]
;type = ChangeAnim
;trigger1 = time = 0
;value = 5006+var(40)

[State 1045, 2]
type = ChangeAnim
trigger1 = time = 0
value = 5300;+var(40)

[State 1045, 4]
type = NotHitBy
trigger1 = time = 1
value = SCA,SP
time = 10

[State 1045, 5]
type = selfState
trigger1 = time >= 1
value = 0
ctrl = 1
[State 21479]
type = Explod
trigger1 = Time%5 = 0
anim = 21482
id = 21482
ownpal = 1
pos = 0,0
sprpriority = 4
removetime = 24
vel = 0,ifelse(random < 500,-0.3,0.3)

;---------------------------------------------------------------------------
;Gauntlet Power
[Statedef 3000]
type    = S
movetype= I
physics = S
juggle  = 0  
velset = 0,0
ctrl = 0
anim = 3000
sprpriority = 3

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 8500
supermovetime = 99999999
pos = -15,ceil(-160*const(size.yscale))
ownpal = 1
id = 8500

[State 0, PalFX]
type = envshake
trigger1 = time = 40
time = 16
ampl = -3
ignorehitpause = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3001, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3001, 0
channel = 0

[State 3001, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 1480,0
channel = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = (time%2)=0
trigger1 = anim = 3000
trigger1 = animelemtime(5) >= 0
trigger2 = anim = 3001
trigger2 = animelemtime(5) < 0
time = 1
add = 156,120,222
mul = 156,200,222
sinadd = 0,0,0,1
invertall = 0
color = 188
;add = 256,-50,-50
;mul = 256,200,200
;sinadd = 0,0,0,1
;invertall = 0
;color = 128

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 23001
ID = 3001
pos = -55,-125
postype = p1
bindtime = -1
removetime = 2
scale = 0.4,0.4
sprpriority = 4
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(5) = 0
anim = 23001
ID = 3001
pos = -35,-75
postype = p1
bindtime = -1
removetime = 1
scale = 0.6,0.6
sprpriority = 4
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(5) = 1
anim = 23001
ID = 3001
pos = -20,-60
postype = p1
bindtime = -1
removetime = 1
scale = 0.75,0.75
sprpriority = 4
removeongethit = 1

[State 3000]
type = Helper
trigger1 = animelem = 2
stateno = 23010
name = "Gem"
id = 23010
supermovetime = 99999
pausemovetime = 99999
pos = 0,-160
ownpal = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 6
name = "Fireball"
ID = 23000
stateno = 23000
pos = 70,-90
postype = p1
sprpriority = 8
size.xscale = .83
size.yscale = 1.07 
ownpal = 1

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Fireball
[Statedef 23000]
type = S
movetype = A
physics = N
velset = 6,0
anim = 23000
sprpriority = 4

[State 23000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1480,1

[State 0, VarSet]
type = Varadd
trigger1 = movecontact
v = 20
value = 1
ignorehitpause = 1

[State 23000]
type = HitDef
trigger1 = var(20) <= 4
attr = S, HP
damage = 40,10
getpower = 0
givepower = 28, 14
animtype = Hard
ground.type = low
Hitflag = MAFD
guardflag = MA
priority  = 7
pausetime = 7,7
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,7
hitsound = S5,2
guardsound = S6,0
ground.slidetime = 26
ground.hittime  = 27
ground.velocity = 4,0
guard.velocity = -2
air.velocity = 4,-1
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
palfx.time = 32
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
forcenofall = 1
yaccel = .6
id = 1+16

[State 23000]
type = HitDef
trigger1 =  var(20) > 4
attr = S, HP
damage = 42,13
getpower = 0
givepower = 28, 14
animtype = Diagup
air.animtype = Diagup
ground.type = low
Hitflag = MAFD
guardflag = MA
priority  = 7
pausetime = 7,9
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,7
hitsound = S5,2
guardsound = S6,0
ground.slidetime = 26
ground.hittime  = 27
ground.velocity = -8, -16
guard.velocity = -9
Air.velocity = -8, -16
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
palfx.time = 32
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
yaccel = .85
id = 16

[State 8040, Explod]
type = Explod
trigger1 = var(20) <= 4
trigger1 = movecontact
anim = 8040
pos = 20,-55
sprpriority = 4
ownpal = 1
postype = p2
bindtime = -1
scale = 15.5,15.5

[State 8040, Explod]
type = Explod
trigger1 = movecontact
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
postype = p2
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = movecontact
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
postype = p2
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = movecontact
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5
postype = p2

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = movecontact
ignorehitpause = 1

[State 23000, Explod]
type = Explod
trigger1 = time = 0
anim = 23001
ID = 23001
pos = 0,0
vel = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
pausemovetime = 0
scale = .83, 1.07      
sprpriority = 8
ontop = 0
shadow = 0,0,0
removeongethit = 1

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = movecontact
ignorehitpause = 1

[State 23000, RemoveExplod]
type = RemoveExplod
trigger1 = FrontEdgeDist < -100
trigger2 = Time > 100
trigger3 = var(20) >= 6
id = 23001

[State 2051, ]
type = NotHitBy
trigger1 = 1
time = 99
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP
ignorehitpause = 1

[State 2051, ]
type = HitBy
trigger1 = 1
time = 99
value = SCA, HP
ignorehitpause = 1

[State 2051, If Hit by..]
type = HitOverride
trigger1 = 1
time = 99
slot = 1
stateno = 23001
attr = SCA, HP
ignorehitpause = 1

[State 23000]
type = Changestate
trigger1 = FrontEdgeDist < -100
trigger2 = Time > 150
trigger3 = var(20) >= 6
trigger4 = MoveReversed
value = 23001

;---------------------------------------------------------------------------
;Fireball Disapate
[Statedef 23001]
type = S
movetype = A
physics = N
velset = 2,0
anim = 23002
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value = time * 12

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [0,2]
scale = 1,1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [3,5]
scale = .9,.9

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [6,8]
scale = .8,.8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [9,11]
scale = .7,.7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [12,14]
scale = .6,.6

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [15,17]
scale = .5,.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [18,20]
scale = .4,.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [21,23]
scale = .3,.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [24,26]
scale = .2,.2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [27,30]
scale = .1,.1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 30

;Gem Effect - Credit to kong
[Statedef 23010]
type = A
movetype = I
physics = N
anim = 9999;23010
ctrl = 0
sprpriority = 5
velset = 0,0
;hitcountpersist = 1

[State 0, ChangeAnim]
type = VarSet
trigger1 = var(2) != 23010
trigger1 = parent,stateno = 3000
var(2) = 23010

[State 0, ChangeAnim]
type = VarSet
trigger1 = var(2) != 23050
trigger1 = parent,stateno = 3050
var(2) = 23050

[State 0, ChangeAnim]
type = VarSet
trigger1 = var(2) != 23090
trigger1 = parent,stateno = 3100
var(2) = 23090

[State 0, ChangeAnim]
type = VarSet
trigger1 = var(2) != 23150
trigger1 = parent,stateno = 3300
var(2) = 23150

[State 0, VarSet]
type = VarAdd
trigger1 = time
fvar(0) = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = parentdist x - 25*const(size.xscale)
y = parentdist y - 162*const(size.yscale); +(sin(time*.11)*8)
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = var(2)
ID = 4010
pos = ceil(cos(time*.48)*fvar(0)),ceil(sin(time*.48)*fvar(0))
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 38
pausemovetime = 65535
supermovetime = 65535
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
;ontop = 1
shadow = -1,-1,-1
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = var(2)
ID = 4011
pos = 0-ceil(cos(time*.48)*fvar(0)),0-ceil(sin(time*.48)*fvar(0))
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 38
pausemovetime = 65535
supermovetime = 65535
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
;ontop = 1
shadow = -1,-1,-1
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(4010)
ID = 4010
pos = ceil(cos(time*.48)*fvar(0)),ceil(sin(time*.48)*fvar(0))
postype = p1
bindtime = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(4011)
ID = 4011
pos = 0-ceil(cos(time*.48)*fvar(0)),0-ceil(sin(time*.48)*fvar(0))
postype = p1
bindtime = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = numexplod(4010)
trigger1 = time
trigger1 = parent,stateno != 3000
trigger1 = parent,stateno != 3050
trigger1 = parent,stateno != 3100
trigger1 = parent,stateno != 3300
id = 4010

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = numexplod(4011)
trigger1 = time
trigger1 = parent,stateno != 3000
trigger1 = parent,stateno != 3050
trigger1 = parent,stateno != 3100
trigger1 = parent,stateno != 3300
id = 4011


[State 0, DestroySelf]
type = DestroySelf
trigger1 = time; >= 38
trigger1 = !numexplod(4010)
trigger1 = !numexplod(4011)
;trigger1 = parent,stateno != 3000
;trigger1 = parent,stateno != 3100
;trigger1 = parent,stateno != 3200
;trigger1 = parent,stateno != 3300
;trigger1 = parent,stateno != 3400
;trigger1 = parent,stateno != 3500

; Gauntlet Soul
[Statedef 3300]
type    = S
movetype= I
physics = S
juggle  = 0  
velset = 0,0
ctrl = 0
anim = 3042
sprpriority = 3

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 8500
supermovetime = 99999999
pos = -15,ceil(-160*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 0, PalFXWiz]
type = PalFX
triggerall = (time%2)=0
trigger1 = anim = 3042
trigger1 = animelemtime(5) >= 0
time = 1
add = 120,255,203
mul = 116,250,172
sinadd = 0,0,0,1
invertall = 0
color = 188
;add = 256,-50,-50
;mul = 256,200,200
;sinadd = 0,0,0,1
;invertall = 0
;color = 128

[State 3000]
type = Helper
trigger1 = animelem =2
stateno = 23010
name = "Gem"
id = 23010
supermovetime = 99999
pausemovetime = 99999
pos = -20,-160
ownpal = 1

[State 3150, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3160, 0
channel = 0

[State 0, Helper]
type = Helper
;trigger1 = time = 55
trigger1 = anim = 3042
trigger1 = animelem = 5
helpertype = normal
name = "ZAP ZAP"
ID = 3301
stateno = 3301
pos = ceil(-24*const(size.xscale)),ceil(-163*const(size.yscale))
postype = p1
facing = 1
ownpal = 1
;persistent = 0
;supermovetime = 5
pausemovetime = var(19)

[State 0, Explod]
type = Explod
;trigger1 = time = 55
trigger1 = !numexplod(3300)
trigger1 = anim = 3042
trigger1 = animelem = 5
anim = 3300
ID = 3300
pos = ceil(-24*const(size.xscale)),ceil(-163*const(size.yscale))
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = 75
scale = const(size.xscale),const(size.yscale)
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = numhelper(3301)
trigger1 = helper(3301),stateno = 3303
trigger1 = (helper(3301),time%11)=10
value = 15
kill = 0
absolute = 1
ignorehitpause = 1

;[State 0, RemoveExplod]
;type = RemoveExplod
;trigger1 = time >= 61
;trigger1 = numexplod(3300)
;trigger1 = !numhelper(3301)
;id = 3300

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = movetype = A
trigger1 = numhelper(3301)
trigger1 = helper(3301),stateno = 3302
movetype = I

[State 0, NotHitBy]
type = NotHitBy
trigger1 = numhelper(3301)
trigger1 = helper(3301),stateno = 3303
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = time >= 106
trigger1 = !numhelper(3301)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hook
[Statedef 3301]
type    = A
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 3301
sprpriority = 10

[State 0, PalFXWiz]
type = PalFX
trigger1 = (time%3)=2
time = 1
add = 0,0,0
mul = 128,128,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,25
channel = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(6) = p2dist x
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(7) = p2dist y + enemynear,const(size.mid.pos.y)

[State ****: Null]
type = Null
trigger1 = time = 0
trigger1 = (FVar(0) := (fvar(6) * 28) / (Exp(0.5*ln((fvar(6) * fvar(6)) + (fvar(7) * fvar(7))))))
trigger1 = (FVar(1) := (fvar(7) * 28) / (Exp(0.5*ln((fvar(6) * fvar(6)) + (fvar(7) * fvar(7))))))
;trigger1 = (FVar(0) := (fvar(6) * 32) / (Exp(0.5*ln((fvar(6) * fvar(6)) + (fvar(7) * fvar(7))))))
;trigger1 = (FVar(1) := (fvar(7) * 32) / (Exp(0.5*ln((fvar(6) * fvar(6)) + (fvar(7) * fvar(7))))))

[State ****: VelSet]
type = VelSet
trigger1 = time = 0
x = FVar(0)
y = FVar(1)
[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = vel x < 0

[State whatever, Set]
type = AngleSet
trigger1 = vel y != 0
value = (atan(Vel Y/Vel X)) *(-180/Pi)
[State whatever, Set]
type = AngleSet
trigger1 = vel y = 0
value = (atan(0)) *(-180/Pi)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Lina"
ID = 3308
stateno = 3308
pos = 0,0
postype = p1
facing = 1
ownpal = 0
pausemovetime = parent,var(19)

[State ProRation]
type = VarSet
trigger1 = 1
var(31) = parent,var(31)
ignorehitpause = 1
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
time = 2
value = parent,fvar(13);.25 + ((parent,fvar(13) * .75))
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = !movecontact
var(0) = ifelse((enemynear,anim=5300),1,0)

[State 200, 1]
type = HitDef
trigger1 = time = 1
attr = S, HP
damage = 93, 7
animtype = hard
guardflag = MA
hitflag = MAFD
pausetime = 0,0;8-(parent,var(49)),8
guard.pausetime = 0,8
sparkno = S8002
guard.sparkno = S8050
sparkxy = 0,0
hitsound = S5, 1
guardsound = S6, 0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -3.91
guard.velocity = -3.91
airguard.velocity = -3.99536,-0.39062 * (4.0/3.0) * const(size.yscale)
air.type = High
air.velocity = -3.99536,-0.39062 * (4.0/3.0) * const(size.yscale)
air.hittime = 16
air.fall = 1
guard.ctrltime = 16
fall.recovertime = 30
yaccel = 0.6875 * (16.0/9.0) * const(size.yscale)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
sprpriority = 4
getpower = 0
kill = 0
id = 3300
palfx.time = 32
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
p2facing = 1

[State this method is superior]
type = ChangeState
trigger1 = numtarget(3300)
trigger1 = movehit >= 1
trigger1 = !(target(3300),ishelper) || (PlayerIDExist((target(3300),id)) )
value = 3303
;ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 13
trigger2 = moveguarded
value = 3302
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno != 3300
value = 3309
ctrl = 0

;---------------------------------------------------------------------------
; Retract Back
[Statedef 3302]
type    = A
movetype= I
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 10

[State 0, PalFXWiz]
type = PalFX
trigger1 = (time%3)=2
time = 1
add = 0,0,0
mul = 128,128,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
trigger1 = numtarget
trigger1 = prevstateno = 3303
value = 3329

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(6) = parentdist x - (24*const(size.xscale))
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(7) = parentdist y - (163*const(size.yscale))

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = (parentdist x - (24*const(size.xscale))) * 0.1
y = (parentdist y - (163*const(size.yscale))) * 0.1
ignorehitpause = 1


;[State ****: Null]
;type = Null
;trigger1 = time = 0
;trigger1 = (FVar(0) := (fvar(6) * 8) / (Exp(0.5*ln((fvar(6) * fvar(6)) + (fvar(7) * fvar(7))))))
;trigger1 = (FVar(1) := (fvar(7) * 8) / (Exp(0.5*ln((fvar(6) * fvar(6)) + (fvar(7) * fvar(7))))))

;[State 0, VelSet]
;type = VelSet
;trigger1 = time = 0
;x = fvar(0)
;y = fvar(1)

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 24
;trigger1 = parentdist x - (-24*const(size.xscale)) = [-34,34]
;trigger1 = parentdist y - (163*const(size.yscale)) = [-34,34]
value = 3309
ctrl = 0

;---------------------------------------------------------------------------
; GOTCHA
[Statedef 3303]
type    = A
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 3303
sprpriority = 10
velset = 0,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = (time%3)=2
time = 1
add = 0,0,0
mul = 128,128,256
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = (parentdist x + 180*const(size.xscale)) * 0.1
y = (parentdist y - 162*const(size.yscale)) * 0.1
;ignorehitpause =
;persistent =
[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1
[State 0, Width]
type = Width
trigger1 = 1
edge = 32,0
player = 0,0
;value = 0,0
ignorehitpause = 1
;persistent = 


[State 0, TargetState]
type = TargetState
trigger1 = time = 0
trigger2 = (time%11)=10
value = 3320

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
id = 3300
pos = 32*const(size.xscale) + (time%3),(time%2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (time%11)=10
value = S5,6;0,16

;[State 0, HitAdd]
;type = HitAdd
;trigger1 = (time%11)=10
;value = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = (time%11)=1
;value = ceil(-14 * (parent,fvar(13))  )
value = ceil(-74 * (.25 + (parent,fvar(13) * .75))  )
kill = 0
absolute = 0
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = (time%11)=10
fvar(13) = (parent,fvar(13)) * 0.98

[State 0, Helper]
type = Helper
trigger1 = (time%11)=10
helpertype = normal
name = "Gulp"
ID = 3304
stateno = 3304
pos = 0,0
postype = p1
facing = 1
ownpal = 0
pausemovetime = parent,var(19)

[State ProRation]
type = VarSet
trigger1 = 1
var(31) = parent,var(31)
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
time = 2
value = .25 + ((parent,fvar(13) * .75))
ignorehitpause = 1

[State ProRation]
type = ParentVarSet
trigger1 = movehit = 2
fvar(13) = (parent,fvar(13)) * 0.95
ignorehitpause = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 81
value = ceil(-102 * (.25 + (parent,fvar(13) * .75))  )
kill = 1
absolute = 0
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 81
value = 3321

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 81
value = 3302
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno != 3300
value = 3309
ctrl = 0

;---------------------------------------------------------------------------
; HEAL
[Statedef 3304]
type    = A
movetype= I
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 3304
sprpriority = 9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(6) = rootdist x - (24*const(size.xscale))

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(7) = rootdist y - (163*const(size.yscale))

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = (rootdist x - (24*const(size.xscale))) * 0.1625
y = (rootdist y - (163*const(size.yscale))) * 0.1625
ignorehitpause = 1

;[State ****: Null]
;type = Null
;trigger1 = time = 0
;trigger1 = (FVar(0) := (fvar(6) * 12) / (Exp(0.5*ln((fvar(6) * fvar(6)) + (fvar(7) * fvar(7))))))
;trigger1 = (FVar(1) := (fvar(7) * 12) / (Exp(0.5*ln((fvar(6) * fvar(6)) + (fvar(7) * fvar(7))))))

;[State ****: VelSet]
;type = VelSet
;trigger1 = time = 0
;x = FVar(0)
;y = FVar(1)

[State 0, ChangeState]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = parent,stateno = 3309


;---------------------------------------------------------------------------
; ACK
[Statedef 3320]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 8

[State 0, PalFXWiz]
type = PalFX
trigger1 = (time%3)=2
time = 32
add = 40,96,240
mul = 176,240,240
sinadd = 8,32,64,4
invertall = 0
color = 8
ignorehitpause = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 3320

[State 0, SelfState]
type = SelfState
trigger1 = time >= 240
value = 5050

[Statedef 3321]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 8

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,1]
x = -5.10245
y = -14.21957 * (4.0/3.0) * 1.07

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0-const(size.mid.pos.x)
y = 0-const(size.mid.pos.y)

[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5052),5052,ifelse(selfanimexist(5030),5030,5050))
[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animtime = 0
value = ifelse(selfanimexist(5035),5035,5050)
[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5035
trigger1 = animtime = 0
value = 5050

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .5625 * (16.0/9.0) * 1.07

[State 0, SelfState]
type = SelfState
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 10
value = 5100

[Statedef 3329]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 8

[State 811, Velset]
type = Velset
trigger1 = time = 0
x = -9.0
y = -9.5

[State 5100, 5]
type = Veladd
trigger1 = Time > 0
y = .7

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0-const(size.mid.pos.x)
y = 0-const(size.mid.pos.y)

[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5052),5052,ifelse(selfanimexist(5050),5050,5050))

[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5050
trigger1 = animtime = 0
value = ifelse(selfanimexist(5035),5035,5050)

[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5035
trigger1 = animtime = 0
value = 5050

[State 855] ;Hit ground
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground

;---------------------------------------------------------------------------
; CABLR
[Statedef 3308]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3302
ctrl = 0
sprpriority = 9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = parentdist x
y = parentdist y
ignorehitpause = 1

[State 0, VarSet]
type = Null
trigger1 = (root,anim = 3042)
trigger1 = (fvar(2):=-24*const(size.xscale))
trigger1 = (fvar(3):=-163*const(size.yscale))
;[State 0, VarSet]
;type = Null
;trigger1 = (root,anim = 1100) || (root, anim = 1110) || (root,anim = 11100) || (root, anim = 11110)
;trigger1 = (root,animelemtime(10)>=0)
;trigger1 = (fvar(2):=72*const(size.xscale))
;trigger1 = (fvar(3):=-442*const(size.yscale))
[State 0, Turn]
type = Turn
trigger1 = rootdist x + (fvar(2) * facing * (root,facing)) > 0
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(20) = rootdist x + (fvar(2) * facing * (root,facing))
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(21) = rootdist y + fvar(3)
[State 0, Thx FlowaGirl]
type = Null
trigger1 = 1
trigger1 = (FVar(10) := (fvar(20) * 10) / (Exp(0.5*ln((fvar(20) * fvar(20)) + (fvar(21) * fvar(21))))))
trigger1 = (FVar(11) := (fvar(21) * 10) / (Exp(0.5*ln((fvar(20) * fvar(20)) + (fvar(21) * fvar(21))))))
;trigger1 = (FVar(10) := ((rootDist X + fvar(2)) * 10) / (Exp(0.5*ln(((rootDist X + fvar(2)) * (rootDist X + fvar(2))) + ((rootDist Y + fvar(3)) * (rootDist Y + fvar(3)))))))
;trigger1 = (FVar(11) := ((rootDist Y + fvar(3)) * 10) / (Exp(0.5*ln(((rootDist X + fvar(2)) * (rootDist X + fvar(2))) + ((rootDist Y + fvar(3)) * (rootDist Y + fvar(3)))))))

;trigger1 = (FVar(10) := (P2Dist X * 10) / (Exp(0.5*ln((P2Dist X * P2Dist X) + ((P2Dist Y + fvar(2)) * (P2Dist Y + fvar(2)))))))
;trigger1 = (FVar(11) := ((P2Dist Y + fvar(2)) * 10) / (Exp(0.5*ln((P2Dist X * P2Dist X) + ((P2Dist Y + fvar(2)) * (P2Dist Y + fvar(2)))))))

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = rootdist x
[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = rootdist y
;[State 0, VarSet]
;type = VarSet
;trigger1 = 1
;fvar(36) = rootdist y
;[State 0, VarSet]
;type = VarSet
;trigger1 = 1
;fvar(37) = rootdist y
;[State 0, VarSet]
;type = VarSet
;trigger1 = 1
;fvar(38) = rootdist y

[State 0, VarSet]
type = VarSet
trigger1 = 1
;fvar(1) = fvar(0) / 793
fvar(5) = ((fvar(21)*fvar(21) + fvar(20)*fvar(20))**.5)/-192;-224
;fvar(5) = exp(0.5*ln(fvar(38)))

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = (atan((fvar(11)/fvar(10))) + (0)) *(-180/Pi)
scale = fvar(5),1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 3309
trigger2 = root,movetype = H

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "fvar(2) = %f | fvar(3) = %f | fvar(10) = %f | fvar(11) = %f | "
params = fvar(2),fvar(3),fvar(10),fvar(11)
;ignorehitpause =
;persistent =


;---------------------------------------------------------------------------
; Hook
[Statedef 3309]
type    = A
movetype= I
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 9999
movehitpersist = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
trigger1 = numtarget
trigger1 = prevstateno = 3303
value = 3329

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 32

;---------------------------------------------------------------------------
;Gauntlet Space
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 0  
velset = 0,0
ctrl = 0
anim = 3043
sprpriority = 3

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 3
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 3
stateno = 8500
supermovetime = 99999999
pos = -15,ceil(-160*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000]
type = Helper
trigger1 = animelem = 3
stateno = 23010
name = "Gem"
id = 23010
supermovetime = 99999
pausemovetime = 99999
pos = -20,-160
ownpal = 1

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3080, 0
channel = 0

;[State 23080, Explod]
;type = Explod
;trigger1 = time = 0
;anim = 23080
;ID = 23080
;pos = 100,-175
;postype = p1 
;bindtime = 1
;supermovetime = 9999
;removetime = -1
;scale = 1,1
;sprpriority = 4
;removeongethit = 1
;
;[State 23080, RemoveExplod]
;type = RemoveExplod
;trigger1 = time = 14
;id = 23080

[State 0, PalFXWiz]
type = PalFX
triggerall = (time%2)=0
trigger1 = anim = 3043
trigger1 = animelemtime(5) >= 5
time = 1
add = 156,70,222
mul = 156,140,222
sinadd = 0,0,0,1
invertall = 0
color = 188
;add = 256,-50,-50
;mul = 256,200,200
;sinadd = 0,0,0,1
;invertall = 0
;color = 128

[State 3000, Helper]
type = Helper
trigger1 = time = 41
name = "Rocks going into portal"
ID = 23081
stateno = 23081
pos = 0,0
postype = p1    ;p2,front,back,left,right
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 23080, Helper]
type = Helper
trigger1 = time = 87
name = "Rocks coming out of portal"
ID = 23082
stateno = 23082
pos = 0, 0 
postype = p2    ;p2,front,back,left,right
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 23080, Explod]
type = Explod
trigger1 = time = 0
anim = 23083
ID = 23080
pos = 100,-200
postype = p1  ;p2,front,back,left,right
bindtime = 1
supermovetime = 9999
scale = .83, 1.07  
removetime = 145
sprpriority = 4
removeongethit = 1

[State 0, PalFX]
type = envshake
trigger1 = time = 23
time = 189
ampl = -7
ignorehitpause = 1

[State 3100, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Rocks going into portal
[Statedef 23081]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 23081]
type = Explod
trigger1 = Time > 8
trigger1 = Time < 53
trigger1 = Time%8 = 0
anim = 23129
scale = .83, 1.07  
pos = 50+random%20, -15
ownpal = 1
Sprpriority = 4

[State 23081]
type = Explod
trigger1 = Time > 8
trigger1 = Time < 53
trigger1 = Time%6 = 0
anim = 23129
scale = .83, 1.07  
pos = 140+random%20, -15
ownpal = 1
sprpriority = 4

[State 23081]
type = Explod
trigger1 = Time > 8
trigger1 = Time < 53
trigger1 = Time%6 = 0
anim = 23129
scale = .83, 1.07  
pos = 120+random%20, -15
ownpal = 1
sprpriority = 4

[State 23081]
type = Explod
trigger1 = Time > 8
trigger1 = Time < 53
trigger1 = Time%6 = 0
anim = 23129
scale = .83, 1.07  
pos = 80+random%20, -15
ownpal = 1
sprpriority = 4

[State 23081]
type = Explod
trigger1 = Time > 8
trigger1 = Time < 53
trigger1 = Time%6 = 0
anim = 23129
scale = .83, 1.07  
pos = 100+random%20, -15
ownpal = 1
sprpriority = 4

[State 23081]
type = Explod
trigger1 = Time > 8
trigger1 = Time < 53
trigger1 = Time%6 = 0
anim = 23129
scale = .83, 1.07  
pos = 170+random%20, -15
ownpal = 1
sprpriority = 4

[State 23081]
type = Explod
trigger1 = Time > 8
trigger1 = Time < 53
trigger1 = Time%6 = 0
anim = 23129
scale = .83, 1.07  
pos = 30+random%20, -15
ownpal = 1
sprpriority = 4

[State 23081, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3080, 1
loop = -1
channel = 3

[State 23081, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 3040, 1
loop = 4
channel = 3

[State 23081, Explod]
type = Explod
trigger1 = time = 0
anim = 23081
ID = 23081
pos = 100,-200
postype = p1  ;p2,front,back,left,right
scale = .83, 1.07  
sprpriority = 5

[State 1120, ƒ_ƒ[ƒWƒ{ƒCƒX]
type = PlaySnd
trigger1 = p2stateno = 5030
value = S5,2
channel = 1

[State 23081]
type = Projectile
trigger1 = Time > 5
trigger1 = Time < 53
trigger1 = Time%3 = 0
projanim = 23100+random%26
projshadow = -1
projheightbound = -200,10
projedgebound = 40
projstagebound = 40
projmisstime = 0
projpriority = 7
projsprpriority = 4
projhits = 1
projscale = 0.7,0.7
projremove = 0
projremovetime = 120
remvelocity = 0,0
velocity = -2,-11
offset = 130+random%-30,0
attr = S, HP
damage = 12,3
getpower = 0
givepower = 7,3
animtype = Medium
ground.type = Low
hitflag = MAFD
guardflag = MA
pausetime = 2,0
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,-3
guardsound = S6,0
ground.slidetime = 0
ground.hittime  = 20
guard.velocity = -7.04
down.velocity = -4,-6
down.hittime = 15
ground.velocity = -1.52049,3.64391 * (-1.3/3.0) * const(size.yscale)
airguard.velocity = -4.99536,-0.42197 * (4.0/3.0) * const(size.yscale)
air.velocity = -1.52049,3.64391 * (-1.35/3.0) * const(size.yscale)
air.juggle = 0
fall = 1
fall.recover = 0
yaccel = 0.8875 * (16.0/9.0) * const(size.yscale)
id = 1

[State 23081]
type = Projectile
trigger1 = Time > 5
trigger1 = Time < 53
trigger1 = Time%3 = 0
projanim = 23100+random%26
projshadow = -1
projheightbound = -200,10
projedgebound = 40
projstagebound = 40
projmisstime = 60
projpriority = 7
projsprpriority = 4
projhits = 0
projscale = 0.7,0.7
projremove = 0
projremovetime = 120
remvelocity = 0,0
velocity = 0,-11
offset = 75+random%70,0
attr = S, HP
damage = 12,3
getpower = 0
givepower = 7,3
animtype = Medium
ground.type = Low
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,-3
guardsound = S6,0
ground.slidetime = 0
ground.hittime  = 20
down.velocity = -4,-6
down.hittime = 15
guard.velocity = -7.04
ground.velocity = -1.52049,3.64391 * (-1.4/3.0) * const(size.yscale)
airguard.velocity = -4.99536,-0.42197 * (4.0/3.0) * const(size.yscale)
air.velocity = -1.52049,3.64391 * (-1.4/3.0) * const(size.yscale)
air.juggle = 0
fall = 1
fall.recover = 0
yaccel = 0.8875 * (16.0/9.0) * const(size.yscale)
id = 1

[State 23081]
type = Projectile
trigger1 = Time > 6
trigger1 = Time < 53
trigger1 = Time%3 = 0
projanim = 23100+random%25
projshadow = -1
projheightbound = -200,10
projedgebound = 40
projstagebound = 40
projmisstime = 0
projpriority = 7
projscale = 1,1
projsprpriority = 4
projhits = 1
projremove = 0
projremovetime = 120
remvelocity = 0,0
velocity = 2,-11
offset = 50+random%20,0
attr = S, HP
damage = 24, 2
getpower = 0
givepower = 7, 3
animtype = Medium
ground.type = Low
hitflag = MAFD
guardflag = MA
pausetime = 2,0
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,-3
guardsound = S6,0
ground.slidetime = 0
down.velocity = -4,-6
down.hittime = 15
ground.hittime  = 20
guard.velocity = -7.04
ground.velocity = 1.12049,3.64391 * (-1.3/3.0) * const(size.yscale)
airguard.velocity = -4.99536,-0.42197 * (4.0/3.0) * const(size.yscale)
air.velocity = -0.82049,3.64391 * (-1.3/3.0) * const(size.yscale)
air.juggle = 0
fall = 1
fall.recover = 0
yaccel = 0.8875 * (16.0/9.0) * const(size.yscale)
id = 1

[State -2, ƒRƒ“ƒ{•â³]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, ƒRƒ“ƒ{•â³]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, ƒRƒ“ƒ{•â³]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 23080, StopSnd]
type = StopSnd
trigger1 = time = 116
trigger2 = parent, movetype = H 
channel = 3

[State 23080, RemoveExplod]
type = RemoveExplod
trigger1 = time = 116
trigger2 = parent, movetype = H 
id = 23080

[State 2051, ]
type = NotHitBy
trigger1 = 1
time = 9999
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1


[State 23080, ChangeState]
type = destroyself
trigger1 = time = 116
trigger2 = parent, movetype = H 
trigger3 = MoveReversed
ignorehitpause = 1

;---------------------------------------------------------------------------
;Rocks coming out of portal
[Statedef 23082]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 23089, PosSet]
type = PosSet
trigger1 = time >= 0
y = 0

[State 23082, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3080, 1
loop = -1
channel = 3

[State 23082, Explod]
type = Explod
trigger1 = time = 0
anim = 23082
ID = 23082
pos = 0,-196
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -1
scale = .83, 1.07
sprpriority = 4
removeongethit = 1

[State 1120, ƒ_ƒ[ƒWƒ{ƒCƒX]
type = PlaySnd
trigger1 = p2stateno = 5030
value = S5,2
channel = 2

[State 23082]
type = Projectile
trigger1 = Time > 12
trigger1 = Time < 57
trigger1 = Time%3 = 0
projanim = 23100+random%25
projshadow = -1
projheightbound = -210,-10
projedgebound = 40
projstagebound = 40
projmisstime = 0
projscale = 0.8,0.8
projpriority = 7
projsprpriority = 4
projhits = 1
projremove = 0
projremovetime = 196
remvelocity = 12,-1
velocity = 2,13.7
offset =15+random%20,-170
attr = S, HP
damage = 12,3
getpower = 0
givepower = 7, 3
animtype = Hard
ground.type = High
Air.Type = Low
hitflag = MAFD
guardflag = MA
pausetime = 2,0
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,-3
guardsound = S6,0
ground.slidetime = 0
down.velocity = -4,-6
down.hittime = 15
ground.hittime  = 20
ground.velocity = 1.02049,3.64391 * (1.5/3.0) * const(size.yscale)
airguard.velocity = -4.99536,-0.42197 * (4.0/3.0) * const(size.yscale)
air.velocity = 1.02049,3.64391 * (1.5/3.0) * const(size.yscale)
guard.velocity = -7.04
air.juggle = 0
fall = 1
fall.recover = 0
yaccel = 0.8875 * (16.0/9.0) * const(size.yscale)
fall.animtype = Back

[State 23082]
type = Projectile
trigger1 = Time > 12
trigger1 = Time < 57
trigger1 = Time%3 = 0
projanim = 23100+random%25
projshadow = -1
projheightbound = -210,-10
projedgebound = 40
projstagebound = 40
projmisstime = 0
projscale = 1.1,1.1
projpriority = 7
projsprpriority = 4
projhits = 0
projremove = 0
projremovetime = 196
remvelocity = 12,-1
velocity = 0,13.7
offset =15+random%20,-170
attr = S, HP
damage = 12,3
getpower = 0
givepower = 7, 3
animtype = Hard
ground.type = High
Air.Type = Low
hitflag = MAFD
guardflag = MA
pausetime = 2,0
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,-3
guardsound = S6,0
ground.slidetime = 0
down.velocity = -4,-6
down.hittime = 15
ground.hittime  = 20
ground.velocity = -1.02049,3.64391 * (4.0/3.0) * const(size.yscale)
airguard.velocity = -4.99536,-0.42197 * (4.0/3.0) * const(size.yscale)
air.velocity = -1.02049,3.64391 * (4.0/3.0) * const(size.yscale)
guard.velocity = -7.04
air.juggle = 0
fall = 1
fall.recover = 0
yaccel = 0.8875 * (16.0/9.0) * const(size.yscale)
fall.animtype = Back

[State 23082]
type = Projectile
trigger1 = Time > 12
trigger1 = Time < 57
trigger1 = Time%3 = 0
projanim = 23100+random%25
projshadow = -1
projheightbound = -210,-10
projedgebound = 40
projscale = 1.0,1.0
projstagebound = 40
projmisstime = 0
projpriority = 7
projsprpriority = 4
projhits = 1
projremove = 0
projremovetime = 196
remvelocity = -12,-1
velocity = -2,13.7
offset =-15+random%20,-170
attr = S, HP
damage = 24, 2
getpower = 0
givepower = 7, 3
animtype = Hard
ground.type = High
Air.Type = Low
hitflag = MAFD
guardflag = MA
pausetime = 2,0
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,-3
guardsound = S6,0
ground.slidetime = 0
down.velocity = -4,-6
down.hittime = 15
ground.hittime  = 20
ground.velocity = -1.02049,3.64391 * (-1.1/3.0) * const(size.yscale)
airguard.velocity = -4.99536,-0.42197 * (-1.1/3.0) * const(size.yscale)
air.velocity = -1.02049,3.64391 * (-1.1/3.0) * const(size.yscale)
guard.velocity = -7.04
air.juggle = 0
fall = 1
fall.recover = 0
yaccel = 0.8875 * (16.0/9.0) * const(size.yscale)
fall.animtype = Back

[State -2, ƒRƒ“ƒ{•â³]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, ƒRƒ“ƒ{•â³]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, ƒRƒ“ƒ{•â³]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 23080, StopSnd]
type = StopSnd
trigger1 = time = 57
trigger2 = parent, movetype = H 
channel = 3

[State 23082, RemoveExplod]
type = RemoveExplod
trigger1 = time = 117
trigger2 = parent, movetype = H 
id = 23080

[State 23082, RemoveExplod]
type = RemoveExplod
trigger1 = time = 117
trigger2 = parent, movetype = H 
id = 23082

[State 23082]
type = DestroySelf
trigger1 = MoveReversed
ignorehitpause = 1

[State 2051, ]
type = NotHitBy
trigger1 = 1
time = 9999
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 23080, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 999999
time = 9999
ignorehitpause = 1

[State 23082, ChangeState]
type = ChangeState
trigger1 = time = 117
trigger2 = parent, movetype = H 
value = 23089
ctrl = 0

[State 200, Helper]
type = Helper
trigger1 = time = 15
name = "Sliding Rock"
stateno = 2444
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 15
name = "Sliding Rock2"
stateno = 2445
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 16
name = "Sliding Rock3"
stateno = 2446
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 20
name = "Sliding Rock4"
stateno = 2447
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 24
name = "Sliding Rock5"
stateno = 2448
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 24
name = "Sliding Rock6"
stateno = 2449
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 28
name = "Sliding Rock7"
stateno = 2450
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 28
name = "Sliding Rock8"
stateno = 2451
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 33
name = "Sliding Rock9"
stateno = 2452
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 35
name = "Sliding Rock10"
stateno = 2453
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 15
name = "Sliding Rock11"
stateno = 2454
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 15
name = "Sliding Rock12"
stateno = 2455
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 16
name = "Sliding Rock13"
stateno = 2456
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 20
name = "Sliding Rock14"
stateno = 2457
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 24
name = "Sliding Rock15"
stateno = 2458
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 24
name = "Sliding Rock16"
stateno = 2459
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 28
name = "Sliding Rock17"
stateno = 2460
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 28
name = "Sliding Rock18"
stateno = 2461
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 33
name = "Sliding Rock19"
stateno = 2462
pos = 10,-15

[State 200, Helper]
type = Helper
trigger1 = time = 35
name = "Sliding Rock20"
stateno = 2463
pos = 10,-15

;---------------------------------------------------------------------------
; Sliding Rock
[Statedef 2444]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -1.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -0.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock2
[Statedef 2445]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -2.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock3
[Statedef 2446]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -3.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -3.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock4
[Statedef 2447]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -5.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock5
[Statedef 2448]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -8.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -8.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock6
[Statedef 2449]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -6.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -6.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock7
[Statedef 2450]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -3.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -3.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock8
[Statedef 2451]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -2.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock9
[Statedef 2452]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -5.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock10
[Statedef 2453]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -6.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = -6.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock11
[Statedef 2454]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 1.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 0.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock12
[Statedef 2455]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 2.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock13
[Statedef 2456]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 3.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock14
[Statedef 2457]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 5.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock15
[Statedef 2458]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 8.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 8.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock16
[Statedef 2459]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 6.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 6.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock17
[Statedef 2460]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 3.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock18
[Statedef 2461]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 2.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock19
[Statedef 2462]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 5.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;---------------------------------------------------------------------------
; Sliding Rock20
[Statedef 2463]
type    = A
movetype= I
physics = N
ctrl = 0
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 23100+random%25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 6.5
y = -0.7

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 6.97
y = 0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (time%3)=0
flag = invisible
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 40

;------------------------------------------------------------------------------------------------------------
;Wormhole close
[Statedef 23089] 
type = A
movetype = I
physics = N
ctrl = 0
anim = 23089
sprpriority = 4

[State 23089, PosSet]
type = PosSet
trigger1 = 1
y = -190

[State 23089]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23089]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;Gauntlet Reality
[Statedef 3050]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3041
ctrl = 0
sprpriority = 2
hitcountpersist = 1

[State 3000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3040, 0
channel = 0

[State 3000]
type = Helper
trigger1 = animelem = 2
stateno = 23010
name = "Gem"
id = 23010
supermovetime = 99999
pausemovetime = 99999
pos = -20,-160
ownpal = 1

[State 0, PalFX]
type = envshake
trigger1 = time = 40
time = 27
ampl = -3
ignorehitpause = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 8500
supermovetime = 99999999
pos = -15,ceil(-160*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 0, PalFXWiz]
type = PalFX
triggerall = (time%2)=0
trigger1 = anim = 3041
trigger1 = animelemtime(3) >= 3
time = 1
add = 240,238,39
mul = 156,200,122
sinadd = 0,0,0,1
invertall = 0
color = 188
;add = 256,-50,-50
;mul = 256,200,200
;sinadd = 0,0,0,1
;invertall = 0
;color = 128

[State 0, VarSet]
type = VarSet
trigger1 = anim = 3041
trigger1 = animelem = 4
fvar(0) = p2dist x

[State 0, VarSet]
type = VarSet
trigger1 = anim = 3041
trigger1 = animelem = 4
trigger1 = fvar(0) < 160;(18*6)+75
fvar(0) = 160;(18*6)+75

[State 0, VarSet]
type = VarSet
trigger1 = anim = 3041
trigger1 = animelem = 4
trigger1 = fvar(0)+(10*(5.125*(4.0/3.0))) > frontedgedist
fvar(0) = frontedgedist-(10*(5.125*(4.0/3.0)))

[State 0, Helper]
type = Helper
;trigger1 = time = 55
trigger1 = anim = 3041
trigger1 = animelem = 4
helpertype = normal
name = "PILLAR-B"
ID = 3101
stateno = 3101
pos = ceil(fvar(0)-(15*(5.125*(4.0/3.0)))),-5
postype = p1
facing = 1
ownpal = 1
;persistent = 0
pausemovetime = var(19)

[State 0, Helper]
type = Helper
;trigger1 = time = 55
trigger1 = anim = 3041
trigger1 = animelem = 4
helpertype = normal
name = "PILLAR-F"
ID = 3102
stateno = 3102
pos = ceil(fvar(0)+(15*(5.125*(4.0/3.0)))),-5
postype = p1
facing = 1
ownpal = 1
;persistent = 0
pausemovetime = var(19)

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = movetype = A
trigger1 = numhelper(3101)
trigger1 = helper(3101),stateno = 23044
trigger2 = numhelper(3102)
trigger2 = helper(3102),stateno = 23044
movetype = I

[State 200, 7]
type = ChangeState
trigger1 = time >= 142;136
value = 0
ctrl = 1

;-----------
; REALITY
[Statedef 3101]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 3110
sprpriority = 4
velset = 0,0

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3040, 1
channel = 6

[State 23040, rocks]
type = Explod
trigger1 = time < 25
trigger1 = (time % 2) = 0
ID = 201
anim = 21246+random%3
postype = p1
pos = 0, 0
random = 40, 0
sprpriority = 3
bindtime = 1
removetime = 60
vel = 0.2, -4.5
accel = 0, .15

[State 23040, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3040,1
channel = 6

[State ProRation]
type = VarSet
trigger1 = 1
var(31) = parent,var(31)
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
time = 2
value = .35 + ((parent,fvar(13)*.75))
;value = parent,fvar(13);.25 + ((parent,fvar(13)*.75))
ignorehitpause = 1

[State ProRation]
type = ParentVarSet
trigger1 = movehit = 1
fvar(13) = (parent,fvar(13)) * 0.97
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
attr = A, HP
damage = 38,7; ceil(55/(1+hitcount) ), 7
animtype = Up
air.animtype = Up
ground.type = High
guardflag = MA
hitflag = MAFD
pausetime = 0,1
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10, -10 + ( -15*(animelemtime(2)) )
hitsound = S5,2
guardsound = S6, 0
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -9.2388,-4.2172 * (4.0/3.0) * const(size.yscale)
airguard.velocity = -4.99072,-0.8454 * (4.0/3.0) * const(size.yscale)
air.velocity = -9.2388,-4.2172 * (4.0/3.0) * const(size.yscale)
air.hittime = 42
guard.velocity = -13.31
guard.ctrltime = 16
yaccel = 0.375 * (16.0/9.0) * const(size.yscale)
ground.cornerpush.veloff = 0
getpower = 0
guard.dist = 0
kill = 0

[State 200, 1]
type = HitDef
trigger1 = animelemtime(11) >= 0
trigger1 = movecontact != [1,6]
trigger1 = movereversed != [1,6]
trigger2 = animelemtime(14) = 0
trigger3 = animtime = -1
attr = A, HP
damage = 38,7; ceil(55/(1+hitcount) ), 7
animtype = Up
air.animtype = Up
ground.type = High
guardflag = MA
hitflag = MAFD
pausetime = 0,ifelse(animtime < -1,4,8)
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10, -100 + floor(p2dist y / 2)
hitsound = S5,2
guardsound = S6, 0
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = ifelse(animelemtime(14) < 0,-3.31659,0),ifelse(animtime < -1,-6.23335,-26.625) * (4.0/3.0) * const(size.yscale)
airguard.velocity = -4.99072,-0.8454 * (4.0/3.0) * const(size.yscale)
air.velocity = -ifelse(animelemtime(14) < 0,-3.31659,0),ifelse(animtime < -1,-6.23335,-26.625) * (4.0/3.0) * const(size.yscale)
air.hittime = 42
guard.velocity = -13.31
guard.ctrltime = 16
yaccel = ifelse(animtime <-1,0.375,0.6875) * (16.0/9.0) * const(size.yscale)
ground.cornerpush.veloff = 0
getpower = 0
mindist = ifelse(animelemtime(14) < 0,35,-8),-145
maxdist = 999,0
kill = (animtime >= -1)
id = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 11
x = 5.125*(4.0/3.0)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 15
x = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger2 = parent,stateno != 3050
trigger2 = parent,stateno != 3000
value = 23044
ctrl = 0

;-----------
; REALITY
[Statedef 3102]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 3111
sprpriority = 4
velset = 0,0

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3040, 1
channel = 6

[State 23040, rocks]
type = Explod
trigger1 = time < 25
trigger1 = (time % 2) = 0
ID = 201
anim = 21246+random%3
postype = p1
pos = 0, 0
random = 40, 0
sprpriority = 3
bindtime = 1
removetime = 60
vel = 0.2, -4.5
accel = 0, .15

[State ProRation]
type = VarSet
trigger1 = 1
var(31) = parent,var(31)
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
time = 2
value = .35 + ((parent,fvar(13)*.75))
;value = parent,fvar(13);.25 + ((parent,fvar(13)*.75))
ignorehitpause = 1

[State ProRation]
type = ParentVarSet
trigger1 = movehit = 1
fvar(13) = (parent,fvar(13)) * 0.97
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
attr = A, HP
damage = 38,7; ceil(55/(1+hitcount) ), 7
animtype = Up
air.animtype = Up
ground.type = High
guardflag = MA
hitflag = MAFD
pausetime = 0,1
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10, -30 + ( -15*(animelemtime(2)) )
hitsound = S5,2
guardsound = S6, 0
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 9.2388,-4.2172 * (4.0/3.0) * const(size.yscale)
airguard.velocity = 4.99072,-0.8454 * (4.0/3.0) * const(size.yscale)
air.velocity = 9.2388,-4.2172 * (4.0/3.0) * const(size.yscale)
air.hittime = 42
guard.velocity = 13.31
guard.ctrltime = 16
yaccel = 0.375 * (16.0/9.0) * const(size.yscale)
ground.cornerpush.veloff = 0
getpower = 0
guard.dist = 0
kill = 0
id = 1

[State 200, 1]
type = HitDef
trigger1 = animelemtime(11) >= 0
trigger1 = movecontact != [1,6]
trigger1 = movereversed != [1,6]
trigger2 = animelemtime(14) = 0
trigger3 = animtime = -1
attr = A, HP
damage = 38,7; ceil(55/(1+hitcount) ), 7
animtype = Up
air.animtype = Up
ground.type = High
guardflag = MA
hitflag = MAFD
pausetime = 0,ifelse(animtime < -1,4,8)
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10, -130 + floor(p2dist y / 2)
hitsound = S5,2
guardsound = S6, 0
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = ifelse(animelemtime(14) < 0,3.31659,0),ifelse(animtime < -1,-6.23335,-26.625) * (4.0/3.0) * const(size.yscale)
airguard.velocity = -4.99072,-0.8454 * (4.0/3.0) * const(size.yscale)
air.velocity = ifelse(animelemtime(14) < 0,3.31659,0),ifelse(animtime < -1,-6.23335,-26.625) * (4.0/3.0) * const(size.yscale)
air.hittime = 42
guard.velocity = 13.31
guard.ctrltime = 16
yaccel = ifelse(animtime <-1,0.375,0.6875) * (16.0/9.0) * const(size.yscale)
ground.cornerpush.veloff = 0
getpower = 0
mindist = -999,-145
maxdist = ifelse(animelemtime(14) < 0,-35,8),0
kill = (animtime >= -1)
id = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 11
x = -5.125*(4.0/3.0)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 15
x = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger2 = parent,stateno != 3050
trigger2 = parent,stateno != 3000
value = 23044
ctrl = 0

;------------------------------------------------------------------------------------------------------------
;Walls explode
[Statedef 23044] 
type = A
movetype = I
physics = N
anim = 9800
ctrl = 0
sprpriority = 1
;velset = 0,0
movehitpersist = 1
hitcountpersist = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 23044]
type = PlaySnd
trigger1 = Time = 1
value = S3040,2

[State 23044]
type = Explod
trigger1 = Time < 5
anim = 21246+random%4
ignorehitpause = 1
pos = 0,-90
random = 20,180
postype = p1
ownpal = 1
ontop = 1
;bindtime = 0
vel = -1+random%2,-2+random%3
accel = 0,0.3


[State 23044]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23044]
type = DestroySelf
trigger1 = Time = 4

[Statedef 999999]
type = A
movetype = A
physics = N
anim = 9800
ctrl = 0
sprpriority = -3
velset = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = stateno = 999999
trigger2 = time = 0

; PRE-WALKING
[Statedef 22]
type    = S
physics = S
sprpriority = 0

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, VelMul]
type = VelMul
trigger1 = var(51) = 1
x = 1.7

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x > 0 &&  anim != 22
value = 22

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x < 0 &&  anim != 22
value = 22

[Statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = StateNo = 9910 && time = 1
value = 0,7
channel = 4

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 23040, StopSnd]
type = StopSnd
trigger1 = Time >= 58
channel = 6

[State 0, Prepare Ofscreen Mode]
type = VarSet
triggerall = var(58)=1
trigger1 = backedgebodydist <= 50*const(size.xscale)
;trigger2 = frontedgedist <= -64*const(size.xscale)
;trigger3 = screenpos y < 0
;trigger4 = screenpos y >= 440
var(58) = 2
ignorehitpause = 1

[State 23080, StopSnd]
type = StopSnd
trigger1 = StateNo != 9000
trigger1 = StateNo != 620
channel = 3

[State 0, Go Offscreeen]
type = ScreenBound
trigger1 = var(58)>=2
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Turn On Actually Ofscreen Mode]
type = VarSet
triggerall = var(58)>=2
trigger1 = backedgedist <= -64*const(size.xscale)
;trigger2 = frontedgedist <= -64*const(size.xscale)
;trigger3 = screenpos y < 0
;trigger4 = screenpos y >= 440
var(58) = 3
ignorehitpause = 1

[State 0, Turn Justin Case]
type = VarSet
triggerall = var(58)>=2
trigger1 = backedgebodydist > 8*const(size.xscale)
trigger1 = frontedgebodydist > 8*const(size.xscale)
;trigger3 = screenpos y < 0
;trigger4 = screenpos y >= 440
var(58) = ifelse(stateno=100,0,1)
ignorehitpause = 1

[State 0, Turn Off Ofscreen Mode]
type = VarSet
triggerall = var(58)>0
trigger1 = ctrl
trigger1 = var(58)!=1
trigger2 = stateno = 52
trigger3 = movetype = H
var(58) = 0
ignorehitpause = 1

; get rid of trailing anims when hit
[state -2, 1]
type = removeexplod
trigger1 = movetype != a
trigger2 = roundstate = 3
id = 9001

; get rid of trailing anims when hit
[state -2, 1]
type = removeexplod
trigger1 = stateno != [1300,1399]
id = 1302

; get rid of trailing anims when hit
[state -2, 1]
type = removeexplod
trigger1 = stateno != [1300,1399]
id = 1304


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [200,999]
id =  223
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1000,1089]
id =  1000
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 100702
id =  1001
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [3000,3050]
id =  3000
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 160000
id =  3001
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 170000
id =  3002
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 1402
id =  1402
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(43) = 0 && Stateno = 150000
var(43) = 1

[State 0, VarSet]
type = VarSet
trigger1 = partner,var(4) = 0 && var(43)
var(43) = 0

[State -2, Remember the last Position (X)]
type = VarSet
triggerall = RoundState < 2
trigger1 = stateno = [0, 21] ;Enable after Intro
fvar(3) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(3) != 0
trigger1 = prevstateno != [191, 192] 
x = fvar(3)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(3) = 0
[State -2, Pre-walking state]
type = ChangeState
;triggerall = !var(59)
trigger1 = prevstateno = [191,192] ;Enable after Intro
trigger2 = RoundNo != 1              ;Enable If Round Number is > 1
trigger2 = RoundState = 1           ;RoundState < 2 and
trigger2 = stateno = 0              ;Current state is 0
value = 21
ctrl = 0

; No AR Finisher for the following Chars
; --------------------------------------
[State -2, Special Cases for AR]
type = VarSet
trigger1  = p2name != "Apocalypse"
trigger2  = p4name != "Apocalypse"
trigger3  = p2name != "Onslaught"
trigger4  = p4name != "Onslaught"
trigger5  = P2name != "Abyss Form 1"
trigger6  = P4name != "Abyss Form 1"
trigger7  = P2name != "Abyss Form 2"
trigger8  = P4name != "Abyss Form 2"
trigger9  = P2name != "Abyss Form 3"
trigger10 = P4name != "Abyss Form 3"
trigger11 = P2name != "Abyss"
trigger12 = P4name != "Abyss"
var(34) = 1

[State -2, Special Cases for AR]
type = VarSet
trigger1  = p2name = "Apocalypse"
trigger2  = p4name = "Apocalypse"
trigger3  = p2name = "Onslaught"
trigger4  = p4name = "Onslaught"
trigger5  = P2name = "Abyss Form 1"
trigger6  = P4name = "Abyss Form 1"
trigger7  = P2name = "Abyss Form 2"
trigger8  = P4name = "Abyss Form 2"
trigger9  = P2name = "Abyss Form 3"
trigger10 = P4name = "Abyss Form 3"
trigger11 = P2name = "Abyss"
trigger12 = P4name = "Abyss"
var(34) = 0


[State -3]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090


[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate = 2
trigger1 = roundstate != 3
trigger1 = NumHelper(19999997) = 0
stateno = 19999997
id = 19999997
ownpal = 1

;KO Sound
[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate != 2
trigger1 = roundstate = 3
trigger1 = NumHelper(19999998) = 0
stateno = 19999998
id = 19999998
ownpal = 1
	
; ƒfƒoƒbƒO—p 
[State -2, Debug]
type = DisplayToClipboard
trigger1 = 1
text = "velx:%f,vely:%f,distx:%f,disty:%f %f"
params = vel x,vel y,p2bodydist x,p2bodydist y,fvar(1)
ignorehitpause = 1
 
; ƒVƒXƒeƒ€‹¤—p 
	
; ƒ_ƒ[ƒWˆ— 
[State -2, ƒ_ƒ[ƒWˆ—]
type = VarSet
trigger1 = movetype = H
var(4) = 0

[State -2, ƒ_ƒ[ƒWˆ—]
type = AfterImage
trigger1 = movetype = H
time = 0
 
; ƒ^[ƒQƒbƒg§Œä 
[State -2, ƒ^[ƒQƒbƒg§Œä]
type = VarSet
trigger1 = 1
var(7) = 0
ignorehitpause = 1

[State -2, ƒ^[ƒQƒbƒg§Œä]
type = VarSet
trigger1 = numtarget
var(7) = target,id
ignorehitpause = 1

[State -2, ƒ^[ƒQƒbƒg§Œä]
type = VarSet
trigger1 = !numtarget
var(9) = 0
ignorehitpause = 1

[State -2, ƒ^[ƒQƒbƒg§Œä]
type = VarSet
trigger1 = numtarget && hitpausetime
var(9) = target,stateno = 5080
ignorehitpause = 1

[State -2, ƒ^[ƒQƒbƒg§Œä]
type = TargetState
trigger1 = playeridexist(var(7)) && !var(9)
trigger1 = playerID(var(7)),gethitvar(chainid) & 1
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),hitover && playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9900
value = 9900

[State -2, ƒ^[ƒQƒbƒg§Œä]
type = TargetState
trigger1 = playeridexist(var(7)) && var(9)
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 5201 && playerID(var(7)),stateno != 9910
value = 9901

[State -2, ƒ^[ƒQƒbƒg§Œä]
type = TargetState
trigger1 = playeridexist(var(7))
trigger1 = playerID(var(7)),gethitvar(chainid) & 2
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9910
value = 9910

;Wall Hit

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemynear,stateno != [120,159]
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 8015
postype = p2
pos = 0,  -50
postype = p2
bindtime = 1
facing = -1
removetime = -2
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemynear,stateno != [120,159]
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,9
channel = 4
volume = 255

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 24
value = var(23)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 23
value = var(25)+hitcount

[state -3, 2];combo hosei
type = varset
trigger1 = enemynear,movetype != H
v = 25
value = 0

;***************
[state -3, 2];combo
type = varset
trigger1 = var(23)>var(24)
v = 42
value = 1

[state 250,11]
type = helper
trigger1 = p2stateno = 328
trigger1 = !numhelper(60120)
persistent = 0
stateno = 60120
ID = 60120
bindtime = 1
postype = p2
pos = 0,500 

 
; “ÁŽêƒqƒbƒgƒGƒtƒFƒNƒg 
[State -2, Helper]
type = Helper
trigger1 = movehit && hitpausetime && numtarget
trigger1 = !numhelper(8030) && target,gethitvar(chainid)&8
stateno = 8030
id = 8030
ignorehitpause = 1

[State -2, Helper]
type = Helper
trigger1 = movehit && hitpausetime && numtarget
trigger1 = !numhelper(8040) && target,gethitvar(chainid)&16
stateno = 8040
id = 8040
ignorehitpause = 1

[State -2, Helper]
type = Helper
trigger1 = movehit && hitpausetime && numtarget
trigger1 = !numhelper(8045) && target,gethitvar(chainid)&32
stateno = 8045
id = 8045
ignorehitpause = 1
 
; ƒX[ƒp[ƒWƒƒƒ“ƒvŠÖ˜A 
[State -2, ƒX[ƒp[ƒWƒƒƒ“ƒvŠÖ˜A]
type = VarSet
trigger1 = statetype != A && stateno != 40
var(1) = 0

[State -2, ƒX[ƒp[ƒWƒƒƒ“ƒvŠÖ˜A]
type = VarSet
trigger1 = fvar(1) < 0 && movecontact
fvar(1) = 0;-fvar(1)

[State -2, ƒX[ƒp[ƒWƒƒƒ“ƒvŠÖ˜A]
type = VelAdd
trigger1 = var(1)
x = ctrl * ((command="holdfwd")*.15-(command="holdback")*.075)

[State -2, ƒX[ƒp[ƒWƒƒƒ“ƒvŠÖ˜A]
type = VelSet
trigger1 = var(1)
trigger1 = stateno = 50 || stateno = [600,800)
x = ifelse(vel x > const(velocity.jump.fwd.x),const(velocity.jump.fwd.x),ifelse(vel x < const(velocity.jump.back.x),const(velocity.jump.back.x),vel x))

[State -2, ƒX[ƒp[ƒWƒƒƒ“ƒvŠÖ˜A]
type = VelAdd
trigger1 = var(1) && statetype = A
trigger1 = stateno != [1000,5000)
y = fvar(1)

[State -2, Super Jump]
type = Turn
trigger1 = var(1)
trigger1 = (enemy,pos x-pos x)*facing < 0 && ctrl
; 
; ‹ó’†ƒWƒƒƒ“ƒvŠÖ˜A 
[State -2, ‹ó’†ƒWƒƒƒ“ƒvŠÖ˜A]
type = VarSet
trigger1 = var(3)
trigger1 = command != "holdup"
var(3) = 0
 
; ƒAƒhƒoƒ“ƒVƒ“ƒOƒK[ƒh 
[State -2, ƒAƒhƒoƒ“ƒVƒ“ƒOƒK[ƒh]
type = Helper
trigger1 = var(11)
stateno = 8060
postype = p2
pos = 20,0
id = 8060

[State -2, ƒAƒhƒoƒ“ƒVƒ“ƒOƒK[ƒh]
type = PosFreeze
trigger1 = numhelper(8060)

[State -2, ƒAƒhƒoƒ“ƒVƒ“ƒOƒK[ƒh]
type = VelAdd
trigger1 = numhelper(8060)
trigger1 = statetype = A
y = -gethitvar(yaccel)

[State -2, ƒAƒhƒoƒ“ƒVƒ“ƒOƒK[ƒh]
type = Explod
trigger1 = var(11)
pos = 47,-55
anim = 8060
ontop = 1
scale = 0.5, 0.5

[State -2, ƒAƒhƒoƒ“ƒVƒ“ƒOƒK[ƒh]
type = VarSet
trigger1 = var(11)
var(11) = 0
 
; ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A 
[State 650, ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A]
type = PlaySnd
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
value = 0,11

[State 620, ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A]
type = VarSet
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
var(6) = 2

[State -2, ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A]
type = VarSet
trigger1 = !numtarget
var(6) = 0

[State -2, ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A]
type = VarSet
trigger1 = var(6)= 2 && ctrl && statetype != A
var(6) = 3

[State -2, ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A]
type = ScreenBound
trigger1 = var(6) = 2
trigger1 = pos x*facing < 0
value = 0
movecamera = 0,0
ignorehitpause = 1

[State -2, ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A]
type = ChangeState
triggerall = var(6) = 2
trigger1 = backedgebodydist < -20 && stateno != 101 && stateno != [810,811]
value = 810

[State -2, ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A]
type = ScreenBound
trigger1 = stateno = 101 && prevstateno = 810
value = 0
movecamera = 0,0

[State -2, ƒGƒŠƒAƒ‹ƒŠƒ~ƒbƒ^[ŠÖ˜A]
type = NotHitBy
trigger1 = stateno = 101 && prevstateno = 810
value = SCA
 
; ƒwƒ‹ƒp[ŠÖ˜A 
[State -2, ƒwƒ‹ƒp[ŠÖ˜A]
type = VarSet
trigger1 = !numhelper
var(4) = 0
 
; ƒRƒ“ƒ{ƒƒbƒZ[ƒW 
; 1P‘¤
[State -2, ƒRƒ“ƒ{ƒƒbƒZ[ƒW]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 1
trigger1 = var(18) >= 3 && var(19) < 2
anim = 8550+(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State -2, ƒRƒ“ƒ{ƒƒbƒZ[ƒW]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 1
trigger1 = var(18) >= 3 && var(19) >= 2
anim = 8558+(var(40)=2)
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

; 2P‘¤
[State -2, ƒRƒ“ƒ{ƒƒbƒZ[ƒW]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 2
trigger1 = var(18) >= 3 && var(19) < 2
anim = 8560+(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State -2, ƒRƒ“ƒ{ƒƒbƒZ[ƒW]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 2
trigger1 = var(18) >= 3 && var(19) >= 2
anim = 8568+(var(40)=2)
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

; ƒAƒiƒEƒ“ƒX
[State -2, ƒRƒ“ƒ{ƒƒbƒZ[ƒW]
type = PlaySnd
triggerall = var(40)
triggerall = !numtarget && roundstate = 2
trigger1 = var(18) >= 3 && var(19) < 2
value = 2,(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ignorehitpause = 1

[State -2, ƒRƒ“ƒ{ƒƒbƒZ[ƒW]
type = PlaySnd
triggerall = var(40)
triggerall = !numtarget && roundstate = 2
trigger1 = var(18) >= 3 && var(19) >= 2
value = 2,8+(var(40)=2)
ignorehitpause = 1
 
; ƒVƒXƒeƒ€ƒƒbƒZ[ƒW 
[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&1) && teamside = 1
trigger1 = movehit
trigger2 = projhittime(0) > 0
anim = 8570
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&1) && teamside = 2
trigger1 = movehit
trigger2 = projhittime(0) > 0
anim = 8575
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State 0, ScreenBound]
type = ScreenBound
trigger1 = Stateno = 100530
trigger2 = Stateno = [100701,100799] 
value = 1
movecamera = 0,0 


[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = PlaySnd
triggerall = var(40)
triggerall = !(var(14)&1)
trigger1 = movehit
trigger2 = projhittime(0) > 0
value = 2,10
ignorehitpause = 1

[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = VarSet
triggerall = !(var(14)&1)
trigger1 = movehit
trigger2 = projhittime(0) > 0
trigger3 = movetype = H && stateno != [120,155]
trigger4 = numpartner
trigger4 = partner,movetype = H && partner,stateno != [120,155]
trigger5 = numpartner
trigger5 = partner,movehit || partner,projhittime(0) > 0
var(14) = var(14) | 1
ignorehitpause = 1

[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&2) && teamside = 1
trigger1 = life < lifemax * .35
anim = 8571
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&2) && teamside = 2 && alive
trigger1 = life < lifemax * .35
anim = 8576
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = PlaySnd
triggerall = var(40)
triggerall = !(var(14)&2) && alive
trigger1 = life < lifemax * .35
value = 2,11
ignorehitpause = 1

[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = VarSet
triggerall = !(var(14)&2)
trigger1 = life < lifemax * .35
var(14) = var(14) | 2
ignorehitpause = 1

[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = VarSet
triggerall = (var(14)&2)
trigger1 = life >= lifemax * .35
var(14) = var(14) ^ 2
ignorehitpause = 1

[State -2, ƒVƒXƒeƒ€ƒƒbƒZ[ƒW]
type = RemoveExplod
trigger1 = numexplod(8570) && numexplod(8550)
id = 8550
ignorehitpause = 1
 
; ƒRƒ“ƒ{” 
[State -2, ƒRƒ“ƒ{”]
type = VarSet
trigger1 = statetype = A && prevstateno = [600,800)
trigger1 = stateno = [1000,5000)
var(13) = 1

[State -2, ƒRƒ“ƒ{”]
type = VarAdd
trigger1 = movehit = 1
trigger2 = projhit = 1
trigger3 = helper,movehit = 1
trigger4 = helper,projhit = 1
var(18) = 1

[State -2, ƒRƒ“ƒ{”]
type = VarAdd
triggerall = statetype = A && numtarget
triggerall = target,statetype = A
triggerall = movehit = 1 || projhit = 1
trigger1 = stateno = [600,800)
trigger2 = var(13) && stateno = [1000,5000)
var(19) = 1

[State -2, ƒRƒ“ƒ{”]
type = VarSet
trigger1 = !numtarget
var(13) = 0

[State -2, ƒRƒ“ƒ{”]
type = VarSet
trigger1 = !numtarget
var(18) = 0

[State -2, ƒRƒ“ƒ{”]
type = VarSet
trigger1 = !numtarget
var(19) = 0
 
; ƒRƒ“ƒ{•â³ 
[State -2, ƒRƒ“ƒ{•â³]
type = VarSet
trigger1 = 1
fvar(0) = 1.0-(var(18)>3)*((var(18)-3)*.075)

[State -2, ƒRƒ“ƒ{•â³]
type = VarSet
trigger1 = fvar(0) < .0
fvar(0) = .025

[State -2, ƒRƒ“ƒ{•â³]
type = AttackMulSet
trigger1 = 1
value = fvar(0)
 
; TimeƒQ[ƒW 
[State 8580, VarAdd]
type = VarAdd
triggerall = var(12)
trigger1 = !numhelper(8500)
trigger2 = numhelper(8500)
trigger2 = helper(8500),time > 36
var(12) = - 1
 
; ‰æ–ÊŠO•\Ž¦(Ž©•ª) 
	
; ƒvƒŒƒCƒ„[•\Ž¦ 
[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = screenpos y < 0
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; –îˆó•\Ž¦(‰ñ“]) 
[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(8596) && numenemy
triggerall = screenpos y > 240-const(size.head.pos.y)
trigger1 = var(20) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(20) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8595+teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8596

[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(8598) && numenemy
triggerall = screenpos y < 0
trigger1 = var(20) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(20) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8597+teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8598

[State -2, ‰æ–ÊŠO•\Ž¦]
type = RemoveExplod
triggerall = numexplod(8596)
trigger1 = screenpos y <= 220-const(size.head.pos.y)
id = 8596

[State -2, ‰æ–ÊŠO•\Ž¦]
type = RemoveExplod
triggerall = numexplod(8598)
trigger1 = screenpos y >= 0
id = 8598

[State -2, ‰æ–ÊŠO•\Ž¦]
type = ModifyExplod
trigger1 = numexplod(8596)
id = 8596
postype = left
pos = floor(screenpos x),195

[State -2, ‰æ–ÊŠO•\Ž¦]
type = ModifyExplod
trigger1 = numexplod(8598)
id = 8598
postype = left
pos = floor(screenpos x),5

[State -2, ‰æ–ÊŠO•\Ž¦]
type = VarSet
trigger1 = numenemy
var(20) = ifelse(screenpos x - enemynear,screenpos x < 0,-1,1)
 
; –îˆó•\Ž¦ 
[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(8596)
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(8598)
trigger1 = screenpos y < 0
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

  
; ‰æ–ÊŠO•\Ž¦(‘ŠŽè) 
	
; ƒvƒŒƒCƒ„[•\Ž¦ 
[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = enemy,screenpos y < 0
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; –îˆó•\Ž¦(‰ñ“]) 
[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(18596)
triggerall = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
trigger1 = var(21) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(21) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8595+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18596

[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(18598)
triggerall = enemy,screenpos y < 0
trigger1 = var(21) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(21) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8597+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18598

[State -2, ‰æ–ÊŠO•\Ž¦]
type = RemoveExplod
triggerall = numexplod(18596)
trigger1 = enemy,screenpos y <= 220-enemy,const(size.head.pos.y)
id = 18596

[State -2, ‰æ–ÊŠO•\Ž¦]
type = RemoveExplod
triggerall = numexplod(18598)
trigger1 = enemy,screenpos y >= 0
id = 18598

[State -2, ‰æ–ÊŠO•\Ž¦]
type = ModifyExplod
trigger1 = numexplod(18596)
id = 18596
postype = left
pos = floor(enemy,screenpos x),195

[State -2, ‰æ–ÊŠO•\Ž¦]
type = ModifyExplod
trigger1 = numexplod(18598)
id = 18598
postype = left
pos = floor(enemy,screenpos x),5

[State -2, ‰æ–ÊŠO•\Ž¦]
type = VarSet
trigger1 = numenemy = 1
var(21) = ifelse(enemy,screenpos x - screenpos x < 0,-1,1)
 
; –îˆó•\Ž¦ 
[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(18596)
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

[State -2, ‰æ–ÊŠO•\Ž¦]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(18598)
trigger1 = enemy,screenpos y < 0
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

  
; ŽŽ‡I—¹ 
[State -2, ŽŽ‡I—¹]
type = AssertSpecial
trigger1 = roundstate > 2
flag = nowalk
 
; ‰ñ‚è‚±‚Ý‹ÖŽ~ 
[State -2, ‰ñ‚è‚±‚Ý‹ÖŽ~]
type = Width
trigger1 = vel x > 0 && movetype != H
edge = 5,5

;Put this in Statedef -2 in the char's cns
[State 0, ChangeState] ;Prevents going past 0 in its Y Position when called to assist if a round is done
type = ChangeState
triggerall = roundstate = 3 && (stateno = 100701 || stateno = 150000)
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 0
ctrl = 1

   
[Statedef -3] 
	
; ƒ_ƒ[ƒWƒ{ƒCƒX 
[State 1120, ƒ_ƒ[ƒWƒ{ƒCƒX]
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = stateno = 5000 && time = 1
trigger2 = stateno = 5010 && time = 1
trigger3 = stateno = 5020 && time = 1
trigger4 = stateno = 5070 && time = 1
trigger5 = stateno = 5080 && time = 1
value = s12,random%2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 =  !alive
channel =2
;ignorehitpause
 
