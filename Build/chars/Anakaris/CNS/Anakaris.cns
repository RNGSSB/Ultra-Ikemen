

;VARIABLES
;var(0)-var(6): Temp
;var(7); enemynear, head pos y
;var(8);small opponent y dist
;var(9);miss target
;var(10);throw target id
;
;var(11),var(12); temp bound states
;-------
;var(13) Combo adder 
;Var(14) number and text decider 
;Var(15) is Danger
;var(16) normalize 
;----------
;var(17);combo conditions
;var(18);
;var(19)-var(21);hit type combo
;var(22)-var(24)
;var(25)-var(27);hitcount
;var(28),  Helper, earth quake
;var(29),launcher reset
;variable below 29 will reset between rounds
;
;
;var(30); p2life /100
;var(31); p1life /100
;var(32); damage dampening
;var(33);enemy(1),life/100
; 
;var(34),max hits light atk
;var(35),max hits medium atk
;var(36);max hits hard atk
;var(37);Anakaris bind time
;var(38);dancing swords
;var(39);Anakaris Haste
;var(40)-(41);
;var(42);
;var(43) - var(48); run
;var(49); Kyuukouka Dance 
;var(50);- power up,
;var(51) - special to hyper states
;var(52) - damage to super armor
;var(54) - flight mode
;var(55) - super armor
;var(56);  sos condition
;var(57); Metamorphose
;var(58); remember ai for next round
;var(59); ai activate


[Data]
;Amount of life to start with

life = 1000
attack = 100
defence = 85
power = 5000
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 15
;Number of points for juggling
airjuggle = 15
;Default hit spark number for HitDefs
sparkno = 7200
;Default guard spark number
guard.sparkno = 7300
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volumescale = 155
volume = 155
IntPersistIndex = 29
FloatPersistIndex = 19

[Size]
xscale = .83
yscale = 1.07 
ground.back = 28    ;Player width (back, ground)
ground.front = 28   ;Player width (front, ground)
air.back = 17   ;Player width (back, air)
air.front = 17   ;Player width (front, air)
height = 50          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = 0,-105  ;Approximate position of head
mid.pos = 0,-70   ;Approximate position of midsection
shadowoffset = 0   ;Number of pixels to vertically offset the shadow
draw.offset = 0,-3    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.2    ;Walk forward
walk.back = -2.3     ;Walk backward
run.fwd  = 7.5
run.back = -5
jump.neu = 0,-4.5    ;Neutral jumping velocity (x, y)
jump.back = -2.45    ;Jump back Speed (x, y)
jump.fwd = 2.45       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 5.2,-8.1     ;.
airjump.neu = 0,-8.1     ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 3.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .46        ;Vertical acceleration
stand.friction = .8
crouch.friction = .8


[Statedef 21]
type    = S
physics = S
sprpriority = 1

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 21, 1]
type = VelSet
triggerall = enemy, stateno != 192
trigger1 = command = "holdfwd"
x =1.9

[State 21, 2]
type = VelSet
triggerall = enemy, stateno != 192
trigger1 = command = "holdback"
x = -1.6

[State 21, 3]
type = VelSet
triggerall = enemy, stateno != 192
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = command = "holdfwd" && anim != 20
value = 20

[State 21, 4]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = command = "holdback" && anim != 21
value = 21

[State 21, 4]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = command != "holdfwd" && anim != 0
trigger1 = command != "holdback" && anim != 0
value = 0


[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 20, 21)

;-------------------------------------------------------------------------
;Super Jump
[Statedef 99]
type    = A
physics = A
ctrl = 1
anim = 41
velset = 0, -19

[State 1000, FireB]
type = Explod
trigger1 = time = 0
anim = 8250
id = 8250
pos = -120, 9
scale = 0.54,0.48
sprpriority = 4
supermove = 1
ownpal = 1

[State 52,  Airjump Var]
type = VarSet
trigger1 = time = 0
v = 57
value = 1

[state 40, 11]
type = varset
trigger1 = time = 0
var(57) = 1


[State 91, VelAdd]
type = VelAdd
trigger1 = time > 1
y= 0.07

[State 91, VelAdd]
type = VelAdd
trigger1 = time > 27
y= -0.10


[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 0,2
volumescale = 190

[state veladd]
type = veladd
trigger1 = vel X< 4
trigger1 = command = "holdfwd" && command != "holdback"
x = 0.20

[state veladd]
type = veladd
trigger1 = vel X> -4
trigger1 = command != "holdfwd" && command = "holdback"
x = -0.0525

[State 999, 2a]
type = VelSet
trigger1 = Anim = 45
trigger1 = Time = [0,2]
x = 3

[State 999, 2b]
type = VelSet
trigger1 = Anim = 46
trigger1 = Time = [0,2]
x = -3.5

[State 1310, 6]
type = Turn
;trigger1 = Time = 10
trigger1 = p2dist X < -5

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 42

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 43

[State 9002, SelfState]
type = SelfState
trigger1 = time>10 && pos y >= -20
value = 52

;---------------------------------------------------------------------------
;Falling
[Statedef 1211]
type    = A
movetype= I
physics = A
anim = 48
sprpriority = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y= - 0.07

[State 1211, Ctrl]
type = CtrlSet
trigger1 = prevstateno = 4100
value = 1

[State 112, 3]
type = VelAdd
trigger1 = command = "holdfwd"
trigger1 = Vel X < 3.5
x = 0.20

[State 112, 4]
type = VelAdd
trigger1 = command = "holdback"
trigger1 = Vel X > -3.5
x = -0.0525

[State 1211, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 1211, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 49

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 49

[State 1211, ChangeState]
type = ChangeState
trigger1 = time>10 && pos y >= -60
value = 52

;---------------------------------------------------------------------------
;Falling Pyramid
[Statedef 1221]
type    = A
movetype= I
physics = A
anim = 48
sprpriority = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y= - 0.07

[State 1211, Ctrl]
type = CtrlSet
trigger1 = prevstateno = 4100
value = 1

[State 1211, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 1211, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 49

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 49

[State 1211, ChangeState]
type = ChangeState
trigger1 = time>10 && pos y >= -60
value = 52

;---------------------------------------------------------------------------
; Run forward
[Statedef 100] 
type    = S
physics = N
anim = 100
sprpriority = 1
ctrl=0
velset = const(velocity.run.fwd.x),0

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
scale = 0.5,0.5
random = 30,abs(const(size.head.pos.y))
pos = -20,ceil(const(size.head.pos.y)/2)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn
flag = nowalk

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 0

[State 105, 2]
type = PosSet
triggerall = time > 2
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
y = 0

[State 105, 2]
type = PosSet
trigger1 = command = "holddown"
y = 0

[State 105, 2]
type = VelSet
trigger1 = command = "holddown"
y = 0
x = 25

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem=2
statetype = A   

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holddown"
value = 10
ctrl = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = command="holdup"||command="holdfwd"||command="holdback"||command="holddown"||command="x"||command="y"||command="z"||command="a"||command="b"||command="c"||command="start"
statetype = S    

[State 105, 2a]
type = VelSet
triggerall = time > 2
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
y = 0
x = 15

[State 105, 3]
type = ChangeState
triggerall = time > 2
trigger1 = command = "x"
value = 200

[State 105, 3a]
type = ChangeState
triggerall = time > 2
trigger1 = command = "y"
value = 210

[STate 105, 3b]
type = ChangeState
triggerall = time > 2
trigger1 = command = "z"
value = 220

[State 105, 3c]
type = ChangeState
triggerall = time > 2
trigger1 = command = "a" && command = "holdback"
value = 312

[State 105, 3c]
type = ChangeState
triggerall = time > 2
trigger1 = command = "a"
value = 300

[State 105, 3d]
type = ChangeState
triggerall = time > 2
trigger1 = command = "b"
value = 310

[State 105, 3e]
type = ChangeState
triggerall = time > 2
trigger1 = command = "c"
value = 320

[State 101, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hop backwards
[Statedef 105] 
type    = S
physics = N
anim = 105
sprpriority = 1
ctrl=0
velset = const(velocity.run.back.x),0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn
flag = nowalk

[State 105, 2]
type = PosSet
triggerall = time > 2
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
y = 0

[State 105, 2]
type = PosSet
trigger1 = command = "holddown"
y = 0

[State 105, 2]
type = VelSet
trigger1 = command = "holddown"
y = 0
x = -10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem=2
statetype = A   

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holddown"
value = 10
ctrl = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = command="holdup"||command="holdfwd"||command="holdback"||command="holddown"||command="x"||command="y"||command="z"||command="a"||command="b"||command="c"||command="start"
statetype = S    

[State 105, 2a]
type = VelSet
triggerall = time > 2
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
y = 0
x = -8

[State 105, 3]
type = ChangeState
triggerall = time > 2
trigger1 = command = "x"
value = 200

[State 105, 3a]
type = ChangeState
triggerall = time > 2
trigger1 = command = "y"
value = 210

[STate 105, 3b]
type = ChangeState
triggerall = time > 2
trigger1 = command = "z"
value = 220

[State 105, 3c]
type = ChangeState
triggerall = time > 2
trigger1 = command = "a" && command = "holdback"
value = 312

[State 105, 3c]
type = ChangeState
triggerall = time > 2
trigger1 = command = "a"
value = 300

[State 105, 3d]
type = ChangeState
triggerall = time > 2
trigger1 = command = "b"
value = 310

[State 105, 3e]
type = ChangeState
triggerall = time > 2
trigger1 = command = "c"
value = 320

[State 101, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Air Dash
[Statedef 110] 
type    = A
physics = N
anim = 110
sprpriority = 1
ctrl = 0 + (0*(var(27):=1))
velset = 0,0
sprpriority = -2

[State 117, 1]
type = VelSet
trigger1 = time >= 1
x = 7.6

[State 117, 2] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 117, 2] ;Prevent from turning
type = AssertSpecial
triggerall = var(1)
trigger1 = 1
flag = NoAutoTurn

[State 112, 3]
type = CtrlSet
trigger1 = time = 5
value = 1

[State 101, ChangeState]
type = ChangeState
trigger1 = time = 48
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S
velset = 0,0

[state 180] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay

[State 180, 0]
type = PosSet
trigger1 = Time = 0
y = 0

[State 180]
type = Width
trigger1 = Time = 0
value = 50,50

;[State 180]
;type = ChangeState
;trigger1 = Time >= 1
;trigger1 = command = "holda"
;value = 185

[State 180]
type = ChangeState
trigger1 = WinTime
value = 181

[State 180]
type = ChangeState
trigger1 = Time >= 1
trigger1 = WinKO
value = 181+random%2

;---------------------------------------------------------------------------
; Win pose 1 - Time Over
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 2

[state 189] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay


[state 189] 
type = PlaySnd
trigger1 = Time = 1
value = 181,0
volume = 255
volumescale = 255

[State 189]
type = AssertSpecial
trigger1 = Time < 150
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 2- Win KO
[Statedef 182]
type = S
ctrl = 0
physics = N
anim = 182
sprpriority = 2
facep2 = 1


[State 182] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay


[state 182] 
type = PlaySnd
trigger1 = Time = 1
value = 181,1
volume = 255
volumescale = 255


[State 182]
type = AssertSpecial
trigger1 = Time < 180
flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 3- Win KO
;[Statedef 183]
;type = S
;ctrl = 0
;anim = 183
;velset = 0,0
;sprpriority = 2

;[State 183] 
;type = AssertSpecial 
;trigger1 = Time >= 0 
;flag = NoBarDisplay


;[state 183] 
;type = PlaySnd
;trigger1 = Time = 1
;value = 181,random%7

;[State 183]
;type = AssertSpecial
;trigger1 = Time < 120
;flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 3- Win KO
;[Statedef 184]
;type = S
;ctrl = 0
;anim = 184
;velset = 0,0
;sprpriority = 2

;[State 184] 
;type = AssertSpecial 
;trigger1 = Time >= 0 
;flag = NoBarDisplay


;[state 184] 
;type = PlaySnd
;trigger1 = Time = 1
;value = 181,random%7


;[state 184] 
;type = Varset
;trigger1 = Time = 0
;var(1) = random%1000

;[state 185] 
;type = Helper
;trigger1 = Time = 1; && var(1) < 100
;stateno = 6195
;id = 6195
;ownpal = 1


;[state 185] 
;type = Helper
;trigger1 = Time = 1; && var(1) < 100
;stateno = 6196
;id = 6196
;ownpal = 1


;[state 185] 
;type = Helper
;trigger1 = Time = 1; && var(1) < 100
;stateno = 6197
;id = 6197
;ownpal = 1


;[state 185] 
;type = Helper
;trigger1 = Time = 1; && var(1) < 100
;stateno = 6198
;id = 6198
;ownpal = 1

;[State 184]
;type = AssertSpecial
;trigger1 = Time < 120
;flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 3- Win KO
;[Statedef 185]
;type = S
;ctrl = 0
;anim = 9800
;velset = 0,0
;sprpriority = 3

;[State 185] 
;type = AssertSpecial 
;trigger1 = Time >= 0 
;flag = NoBarDisplay

;[State 185] 
;type = VarSet
;trigger1 = Time = 0 
;fvar(0) = Pos X


;[State 185] 
;type = ScreenBound
;trigger1 = 1
;value = 1
;movecamera = 0,0

;[state 185] 
;type = Helper
;trigger1 = Time = 0
;stateno = 6185
;id = 6185
;ownpal = 1


;[State 185] 
;type = PosSet
;trigger1 = Time = 4 
;x = floor(FrontEdgeDist+fvar(0)+70)

;[State 185] 
;type = Turn
;trigger1 = Time = 4 

;[State 185] 
;type = VelSet
;trigger1 = Time = 4 
;x = 3

;[State 185] 
;type = VelSet
;trigger1 = Pos X < fvar(0) + 20
;x = 0
;persistent = 0

;[State 185]
;type = ChangeAnim 
;trigger1 = Time = 4
;value = 6185

;[state 185] 
;type = Helper
;trigger1 = !NumHelper(6189) && Anim = 6187
;stateno = 6189
;id = 6189
;ownpal = 1

;[State 185]
;type = VelSet 
;trigger1 = command = "holdfwd" 
;trigger2 = var(58) && random < 100 && Vel X < 0
;trigger3 = var(58) && BackEdgeDist < 10
;x = 2.4 

;[State 185]
;type = VelSet 
;trigger1 = command = "holdback" 
;trigger2 = var(58) && random < 100 && Vel X > 0
;trigger3 = var(58) && FrontEdgeDist < 10
;x = -2.0 

;[State 185]
;type = ChangeAnim 
;trigger1 = command = "holdfwd" || Vel X > 0
;trigger1 = Anim != 6187
;value = 6187

;[State 185]
;type = ChangeAnim 
;trigger1 = command = "holdback" || Vel X < 0
;trigger1 = Anim != 6187 
;value = 6187

;[State 185]
;type = null;ChangeAnim 
;;trigger1 = Time > 60
;trigger1 = command != "holdback" 
;trigger1 = command != "holdfwd" 
;trigger1 = Anim != 6187
;value = 6187 

;[State 185 ]
;type = VelSet 
;triggerall = !var(58)
;trigger1 = Time > 60
;trigger1 = command != "holdback" 
;trigger1 = command != "holdfwd" 
;x = 0 

;[State 185]
;type = AssertSpecial
;trigger1 = Time < 700
;flag = roundnotover

;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
physics = N
anim = 9800
velset = 0,0
sprpriority = 0


[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to
type = ChangeState
trigger1 = Time = 1
value = 192;+random%3


;---------------------------------------------------------------------------
; Introduction
[Statedef 192]
type = S
ctrl = 0
physics = N
anim = 192
velset = 0,0
sprpriority = 2


[State 192]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 192]
type = PlayerPush
trigger1 = 1
value = 0

[State 192]
type = PlaySnd
trigger1 = Time = 7
value = 181,5
volume = 255
volumescale = 255
channel = 0

[State 192]
type = PosAdd
trigger1 = Time = 0
y = -260

[State 192]
type = ChangeAnim
trigger1 = Pos Y < 0
value = 192

[State 192]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.06


[State 192]
type = VelSet
trigger1 = Pos Y >= 0
y = 0


[State 192]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 192]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,8

[State 192] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ChangeStat]
type = ChangeState
trigger1 = animtime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
movetype = I
physics = S
poweradd = 10
anim = 195
velset = 0,0
sprpriority = 2


[State 195]
type = PlaySnd
trigger1 = Time = 1
value = 181,1
volume = 255
volumescale = 255
channel = 0


[State 195]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing Punch
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                                          
ctrl = 0                        
anim = 200                        
poweradd = 14                   
sprpriority = 2              

[State 200]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,3
volume = 50
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1


[State 200]
type = HitDef
trigger1 = animelem = 2
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light            
damage = 20,0                  
priority = 3, Hit                
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-60
hitsound = S5+var(39),0
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
guard.hittime = 15
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 60)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0



[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Stand Medium Punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 27
ctrl = 0
anim = 210
sprpriority = 2

[State 210]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,4
volume = 50
volumescale = 50

[State 210]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0
volume = 255
volumescale = 255
channel = 0

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 210]
type = HitDef
trigger1 =time = 0
attr = S, NA
animtype  = Medium
air.animtype = up
damage = 35,0
guardflag = MA
hitflag = MAF
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-80
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -10
ground.cornerpush.veloff = -9.5
air.velocity = 0,-7
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 80)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 210]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Stand  Strong Punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
anim = 220
sprpriority = 2

[State 220]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
volume = 255
volumescale = 255
channel = 0

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 220]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = Hard
damage = 65,0
guardflag = MA
hitflag = MAF
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .88
ground.velocity = -15,0
guard.velocity = -14
air.velocity = -10,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 220]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Stand Kick
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 13
ctrl = 0
anim = 300
sprpriority = 2

[State 300]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,3
volume = 50
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 300]
type = HitDef
trigger1 = animelem = 2
attr = S,NA
hitflag = MAFD
guardflag = MA
animtype = Light  
damage = 20,0    
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-20
hitsound = S5+var(39),0
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
guard.hittime = 15
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
down.velocity = -6,-7
down.cornerpush.veloff = -25.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 20)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 300, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Medium Kick
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 27
ctrl = 0
anim = 310
sprpriority = 2

[State 310]
type = PlaySnd
trigger1 = Time = 1
value = 0,4
volume = 50
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 310]
type = HitDef
trigger1 = animelem = 2
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium   
damage = 35,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-80
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -10
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 80)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 310]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Strong Kick 2
[Statedef 312]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 27
ctrl = 0
anim = 312
sprpriority = 2


[State 312]
type = PlaySnd
trigger1 = Time = 1
value = 0,4
volume = 50
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 312]
type = HitDef
trigger1 = animelem = 5
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium   
damage = 35,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-80
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -10
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 80)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 312]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Strong Kick
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
anim = 320
sprpriority = 2

[State 320]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,5
volume = 50
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 320]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = Hard
damage = 65,0
guardflag = MA
hitflag = MAF
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .88
ground.velocity = -15,0
guard.velocity = -14
air.velocity = -10,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 320]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Strong Kick Foward
[Statedef 321]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
anim = 320
sprpriority = 2

[State 320]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,5
volume = 50
volumescale = 50

[State 105, 2a]
type = VelSet
trigger1 = time > 2
y = 0
x = 2

[State 320]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = Hard
damage = 65,0
guardflag = MA
hitflag = MAF
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .88
ground.velocity = -15,0
guard.velocity = -14
air.velocity = -10,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 320]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Strong Kick Backward
[Statedef 322]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
anim = 320
sprpriority = 2

[State 320]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,5
volume = 50
volumescale = 50

[State 105, 2a]
type = VelSet
trigger1 = time > 2
y = 0
x = -2

[State 320]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = Hard
damage = 65,0
guardflag = MA
hitflag = MAF
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .88
ground.velocity = -15,0
guard.velocity = -14
air.velocity = -10,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 320]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 13
anim = 400
sprpriority = 2
facep2 = 1

[State 400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,3
volume = 50
volumescale = 50

[State 400]
type = HitDef
trigger1 = animelem = 2
attr = C,NA
hitflag = MAFD
guardflag = MA
animtype = Light               
damage = 20,0                         
priority = 3, Hit                
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-20
hitsound = S5+var(39),0
guardsound = S6+var(39),0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
guard.hittime = 15
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
down.velocity = -6,-7
down.cornerpush.veloff = -25.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 20)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 400]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;Crouch Medium Punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 27
ctrl = 0
anim = 410
sprpriority = 2

[State 410]
type = PlaySnd
trigger1 = Time = 4
value = 0,4
volume = 50
volumescale = 50

[State 410]
type = HitDef
trigger1 = animelem = 2
attr = C,NA
hitflag = MAFD
guardflag = MA
animtype = Medium          
damage = 35,0                             
priority = 3, Hit                
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-20
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -7.8,0
guard.velocity = -10
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
down.velocity = -6,-7
down.cornerpush.veloff = -25.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State 410]
type = HitDef
trigger1 = animelem = 3
attr = C,NA
hitflag = MAFD
guardflag = MA
animtype = Medium          
damage = 35                             
priority = 3, Hit                
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-20
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -7.8,0
guard.velocity = -10
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
down.velocity = -6,-7
down.cornerpush.veloff = -25.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1


[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 20)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 40)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 410]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Punch

[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 420
sprpriority = 2

[State 420]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,5
volume = 50
volumescale = 50

[State 420]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage = 65,0
animtype = up
guardflag = MA
hitflag = MAFD
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 16
ground.hittime = 19
air.hittime = 26
guard.hittime = 17
yaccel = .88
ground.velocity = 0,-19
guard.velocity = -14
guard.cornerpush.veloff = -16
ground.cornerpush.veloff = 0
air.velocity = 0,-19
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
pos = 60, -90
ontop = 1
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 0.5,0.5
ownpal = 1
facing = 1  


[State 420, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;Crouch Kick
[Statedef 500]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 13
ctrl = 0
anim = 500
sprpriority = 2

[State 500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,3
volume = 50
volumescale = 50

[State 500]
type = HitDef
trigger1 = animelem = 2
attr = C,NA
hitflag = MAFD
guardflag = LA
animtype = Light            
damage = 20,0             
priority = 3, Hit                
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-10
hitsound = S5+var(39),0
guardsound = S6+var(39),0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
guard.hittime = 15
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
down.velocity = -6,-7
down.cornerpush.veloff = -25.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 10)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 500, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Medium Kick
[Statedef 510]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 27
ctrl = 0
anim = 510
sprpriority = 2

[State 510]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,4
volume = 50
volumescale = 50

[State 510]
type = HitDef
trigger1 = animelem = 5
attr = C,NA
hitflag = MAFD
guardflag = LA
animtype = Medium  
damage = 35,0
priority = 3, Hit                
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-10
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -10
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
down.velocity = -6,-7
down.cornerpush.veloff = -25.5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 10)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 510, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 520]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 50
ctrl = 0
anim = 520
sprpriority = 2

[State 520]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,5
volume = 50
volumescale = 50

[State 520]
type = HitDef
trigger1 = animelem = 5
attr = C,NA
hitflag  = MAFD
guardflag = LA
animtype = Hard
damage = 65,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-10
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .66
ground.velocity = 0,-4
guard.velocity = -14
guard.cornerpush.veloff = -16
ground.cornerpush.veloff = 0
air.velocity = 0,-4
airguard.velocity = -10.5,3
down.cornerpush.veloff = -25.5
down.velocity = -6,-7
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 10)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 520]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;Air Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 13
ctrl = 0
anim = 600
sprpriority = 2

[State 600]
type = PlaySnd
trigger1 = Time = 1
value = 0,3
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 600]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 20,0    
animtype = light
guardflag = HA
hitflag = MAFD
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5+var(39),0
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
guard.velocity = -5.5
down.velocity = -6,-7
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
air.velocity = -0.5,-9
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 15
value = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 600
triggerall = floor (pos Y < -155)
trigger1 = animelem = 15
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 27
ctrl = 0
anim = 610
sprpriority = 2

[State 610]
type = PlaySnd
trigger1 = Time = 1
value = 0,4
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 610, CtrlSet]
type = CtrlSet
trigger1 = animelem = 17
value = 1


[State 610]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 35,0
animtype = Medium
air.animtype = up
guardflag = HA
hitflag = MAFD
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 10
ground.hittime = 16
air.hittime = 12
yaccel = .92
down.velocity = -6,-7
guard.velocity = -10
ground.velocity = -9,0
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
air.velocity = -0.5,-10.6
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -25
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 610
triggerall = floor (pos Y < -155)
trigger1 = animelem = 17
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Air Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 50
ctrl = 0
anim = 620
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 610]
type = PlaySnd
trigger1 = Time = 1
value = 0,5
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 610, CtrlSet]
type = CtrlSet
trigger1 = animelem = 19
value = 1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(16) > 0
var(6) = 1


[State 620]
type = HitDef
trigger1 = !var(6) && time = 0
attr = A, NA
damage = 65,0
animtype = Back
air.animtype = back
guardflag = HA
hitflag = MAFD
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
yaccel = .83
down.velocity = -6,-7
guard.velocity = -14
ground.velocity = -12,0
ground.cornerpush.veloff = -12
air.cornerpush.veloff = 0
air.velocity = -11,10
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620]
type = HitDef
trigger1 = var(6) && time = 0
attr = A, NA
damage = 65,0
animtype = Back
air.animtype = back
guardflag = HA
hitflag = MAFD
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
yaccel = .83
down.velocity = -6,-7
guard.velocity = -14
ground.velocity = -12,0
ground.cornerpush.veloff = -12
air.cornerpush.veloff = 0
air.velocity = -13,10
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), 15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 620
triggerall = floor (pos Y < -155)
trigger1 = animelem = 19
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Kick
[Statedef 700]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 13
ctrl = 0
anim = 700
sprpriority = 2

[State 600]
type = PlaySnd
trigger1 = Time = 1
value = 0,3
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 700]
type = Helper
trigger1 = Time = 4
stateno = 6700
id = 6700
pos = 0,-floor(Pos Y)
ignorehitpause = 1



[State 6700]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 20,0    
animtype = light
guardflag = HA
hitflag = MAFD
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-10
hitsound = S5+var(39),0
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
guard.velocity = -5.5
down.velocity = -6,-7
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
air.velocity = -0.5,-9
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 17
value = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 700
triggerall = floor (pos Y < -155)
trigger1 = animelem = 17
value = 1211
ctrl = 1

;------------------------------------------------------------------------------------------------------------
;Air Kick Leg
[Statedef 6700]
type = A
movetype = I
physics =N
;anim = 6700
ctrl = 0
sprpriority = 3
velset = 0,0

[State 211, 1]
type = ChangeAnim
trigger1 = AnimExist(parent, Anim + 6000)
value = parent, Anim + 6000
elem = Parent, AnimElemNo(0)

[State 631, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 631, 4]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, AT
stateno = 6700

[State 631, 5]
type = DestroySelf
trigger1 = Animelem = 8
trigger2 = parent, stateno != 700
ignorehitpause = 1

[State 631, 1]
type = BindToParent
trigger1 = 1
pos = 0, -(parent, Pos Y)

;------------------------------------------------------------------------------------------------------------
;Air Medium Kick Leg
[Statedef 6710]
type = A
movetype = I
physics =N
;anim = 6710
ctrl = 0
sprpriority = 3
velset = 0,0

[State 211, 1]
type = ChangeAnim
trigger1 = AnimExist(parent, Anim + 6000)
value = parent, Anim + 6000
elem = Parent, AnimElemNo(0)

[State 631, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 631, 4]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, AT
stateno = 6710

[State 631, 5]
type = DestroySelf
trigger1 = Animelem = 13
trigger2 = parent, stateno != 710
ignorehitpause = 1

[State 631, 1]
type = BindToParent
trigger1 = 1
pos = 0, -(parent, Pos Y)


;------------------------------------------------------------------------------------------------------------
;Air Strong Kick Leg
[Statedef 6720]
type = A
movetype = I
physics =N
;anim = 6720
ctrl = 0
sprpriority = 3
velset = 0,0

[State 211, 1]
type = ChangeAnim
trigger1 = AnimExist(parent, Anim + 6000)
value = parent, Anim + 6000
elem = Parent, AnimElemNo(0)

[State 631, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 631, 4]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP, AT
stateno = 6720

[State 631, 5]
type = DestroySelf
trigger1 = Animelem = 12
trigger2 = parent, stateno != 720

[State 631, 1]
type = BindToParent
trigger1 = 1
pos = 0, -(parent, Pos Y)


;------------------------------------------------------------------------------------------------------------
;Air Strong Kick Leg 2
[Statedef 6721]
type = A
movetype = I
physics =N
;anim = 6721
ctrl = 0
sprpriority = 0

[State 211, 1]
type = ChangeAnim
trigger1 = AnimExist(parent, Anim + 6001)
value = parent, Anim + 6001
elem = Parent, AnimElemNo(0)

[State 631, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 631, 5]
type = DestroySelf
trigger1 = Animelem = 12
trigger2 = parent, stateno != 720
ignorehitpause = 1

[State 631, 1]
type = BindToParent
trigger1 = 1
pos = 0, -(parent, Pos Y)

;---------------------------------------------------------------------------
;Air Kick
[Statedef 702]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 13
ctrl = 0
anim = 702
sprpriority = 2

[State 702]
type = PlaySnd
trigger1 = Time = 1
value = 0,3
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 610, CtrlSet]
type = CtrlSet
trigger1 = animelem = 18
value = 1

[State 702]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 20,0    
animtype = light
guardflag = HA
hitflag = MAFD
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5+var(39),0
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
guard.velocity = -5.5
down.velocity = -6,-7
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
air.velocity = -0.5,-11
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 702
triggerall = floor (pos Y < -155)
trigger1 = animelem = 18
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Air Medium Kick
[Statedef 710]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 27
ctrl = 0
anim = 710
sprpriority = 2

[State 710]
type = PlaySnd
trigger1 = Time = 1
value = 0,4
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 710]
type = Helper
trigger1 = Time = 4
stateno = 6710
id = 6710
pos = 0,-floor(Pos Y)


[State 6710]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 35,0
animtype = Medium
air.animtype = Back
guardflag = HA
hitflag = MAFD
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-15
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 10
ground.hittime = 16
air.hittime = 12
yaccel = .92
down.velocity = -6,-7
guard.velocity = -10
ground.velocity = -9,0
ground.cornerpush.veloff = -11
air.cornerpush.veloff = 0
air.velocity = -7,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4
 
[State G-FX, Hit/Guard Spark]
type = Explod
Triggerall = Hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -25
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 6710]
type = HitDef
trigger1 = AnimElem = 7 
attr = A, NA
damage = 35,0
animtype = Medium
air.animtype =  Back
guardflag = HA
hitflag = MAFD
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 10
ground.hittime = 16
air.hittime = 12
yaccel = .92
down.velocity = -6,-7
guard.velocity = -10
ground.velocity = -9,0
air.velocity = -7,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
Triggerall = Hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -25
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 23
value = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 710
triggerall = floor (pos Y < -155)
trigger1 = animelem = 23
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Medium Kick 2
[Statedef 712]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 27
ctrl = 0
anim = 712
sprpriority = 2

[State 712]
type = PlaySnd
trigger1 = Time = 1
value = 0,4
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 610, CtrlSet]
type = CtrlSet
trigger1 = animelem = 17
value = 1


[State 712]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 35,0
animtype = Medium
air.animtype = medium
guardflag = HA
hitflag = MAFD
pausetime = 9,10
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 10
ground.hittime = 16
air.hittime = 8
yaccel = .92
down.velocity = -6,-7
guard.velocity = -10
ground.velocity = -9,0
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
air.velocity = -6,3
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -25
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 712
triggerall = floor (pos Y < -155)
trigger1 = animelem = 17
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Pyramid Horizontal Kick
[Statedef 715]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 27
ctrl = 0
anim = 715
sprpriority = 2

[State 715]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
volume = 255
volumescale = 255
channel = 0


[State 715]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 35,0
animtype = Medium
air.animtype = Back
guardflag = HA
hitflag = MAFD
pausetime = 9,10
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 10
ground.hittime = 16
air.hittime = 9
yaccel = .92
down.velocity = -6,-7
guard.velocity = -10
ground.velocity = -9,0
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
air.velocity = -6,3
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -55
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 715]
type = VelSet
trigger1 = Time < 7
x = 0
y = 0
persistent = 0

[State 715]
type = VelSet
trigger1 = Time > 7
x = 7
y = 0
persistent = 0

[State 715]
type = VelSet
trigger1 = animtime = 0
x = 0
y = 0
persistent = 0


[State 620, ChangeState]
type = ChangeState
triggerall = anim = 715
trigger1 = animtime = 0
value = 1221
ctrl = 0


;---------------------------------------------------------------------------
;Pyramid Forward Down Kick
[Statedef 716]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 27
ctrl = 0
anim = 716
sprpriority = 2

[State 715]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
volume = 255
volumescale = 255
channel = 0


[State 715]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 35,0
animtype = Medium
air.animtype = Back
guardflag = HA
hitflag = MAFD
pausetime = 9,10
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 10
ground.hittime = 16
air.hittime = 9
yaccel = .92
down.velocity = -6,-7
guard.velocity = -10
ground.velocity = -9,0
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
air.velocity = -6,3
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -55
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 715]
type = VelSet
trigger1 = Time < 7
x = 0
y = 0
persistent = 0

[State 715]
type = VelSet
trigger1 = Time > 7
x = 7
y = 7
persistent = 0

[State 715]
type = VelSet
trigger1 = animtime = 0
x = 0
y = 0
persistent = 0


[State 620, ChangeState]
type = ChangeState
triggerall = anim = 716
trigger1 = animtime = 0
value = 1221
ctrl = 0


;---------------------------------------------------------------------------
;Pyramid  Down Kick
[Statedef 717]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 27
ctrl = 0
anim = 717
sprpriority = 2

[State 715]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,0
volume = 255
volumescale = 255
channel = 0


[State 715]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 35,0
animtype = Medium
air.animtype = Back
guardflag = HA
hitflag = MAFD
pausetime = 9,10
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S5+var(39),1
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 10
ground.hittime = 16
air.hittime = 9
yaccel = .92
down.velocity = -6,-7
guard.velocity = -10
ground.velocity = -9,0
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
air.velocity = -6,3
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -55
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 715]
type = VelSet
trigger1 = Time < 7
x = 0
y = 0
persistent = 0

[State 715]
type = VelSet
trigger1 = Time > 7
x = 0
y = 7
persistent = 0

[State 715]
type = VelSet
trigger1 = animtime = 0
x = 0
y = 0
persistent = 0


[State 620, ChangeState]
type = ChangeState
triggerall = anim = 717
trigger1 = animtime = 0
value = 1221
ctrl = 0


;---------------------------------------------------------------------------
;Air Strong Kick
[Statedef 720]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 50
ctrl = 0
anim = 720
sprpriority = 2
;velset = 0,0
facep2 = 1


[State 710]
type = PlaySnd
trigger1 = Time = 1
value = 0,4
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 720]
type = Helper
trigger1 = Time = 1
stateno = 6720
id = 6720
pos = 0,-floor(Pos Y)
ignorehitpause = 1


[State 720]
type = Helper
trigger1 = Time = 1
stateno = 6721
id = 6720
pos = 0,-floor(Pos Y)
ignorehitpause = 1

[State 6720]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 65,0
animtype = Hard
air.animtype = Back
guardflag = HA
hitflag = MAFD
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-15
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 10
ground.hittime = 16
air.hittime = 12
yaccel = .92
down.velocity = -6,-7
guard.velocity = -10
ground.velocity = -12,0
air.velocity = -7,0
ground.cornerpush.veloff = -14
air.cornerpush.veloff = 0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -25
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 17
value = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 720
triggerall = floor (pos Y < -155)
trigger1 = animelem = 17
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Strong Kick 2
[Statedef 722]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 50
ctrl = 0
anim = 722
sprpriority = 2

[State 610]
type = PlaySnd
trigger1 = Time = 1
value = 0,5
volume = 50
volumescale = 50

[State 0, VelAdd]
type = VelAdd
triggerall = !var(57)
trigger1 = 1
y = -.28

[State 610, CtrlSet]
type = CtrlSet
trigger1 = animelem = 17
value = 1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(16) > 0
var(6) = 1


[State 620]
type = HitDef
trigger1 = !var(6) && time = 0
attr = A, NA
damage = 65,0
animtype = Back
air.animtype = back
guardflag = HA
hitflag = MAFD
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
yaccel = .83
down.velocity = -6,-7
guard.velocity = -14
ground.velocity = -12,0
ground.cornerpush.veloff = -12
air.cornerpush.veloff = 0
air.velocity = -11,10
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620]
type = HitDef
trigger1 = var(6) && time = 0
attr = A, NA
damage = 65,0
animtype = Back
air.animtype = back
guardflag = HA
hitflag = MAFD
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5+var(39),2
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
yaccel = .83
down.velocity = -6,-7
guard.velocity = -14
ground.velocity = -12,0
ground.cornerpush.veloff = -12
air.cornerpush.veloff = 0
air.velocity = -13,10
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -25
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 721
triggerall = floor (pos Y < -155)
trigger1 = animelem = 17
value = 1211
ctrl = 1

; Oo 
[Statedef 810]
type    = S
movetype = A
physics = S
anim = 9999
sprpriority = 1
velset = 0,0
ctrl = 0

[State 810, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 810, PosSet]
type = PosSet
trigger1 = 1
x = -140 * facing
y = 0

[State 810, ChangeState]
type = ChangeState
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target,stateno = 5110
value = 100

;---------------------------------------------------------------------------
;Miira Drop Short Range
[Statedef 1240]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 120
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1240,1250)
sprpriority = 2
facep2 = 1

[State 1000, Explod]
type = Explod
triggerall = StateType = S
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1240]
type = PlaySnd
trigger1 = Time = 7
value = 1240,0
volume = 255
volumescale = 255
channel = 0

[State 1240]
type = Helper
trigger1 = Time = 7
stateno = 21240
id = 21240
name = "Hand1"
ownpal = 1

[State 1240]
type = Helper
trigger1 = Time = 7
stateno = 21241
id = 21241
name = "Hand2"
ownpal = 1


[State 1240]
type = VarSet
trigger1 = Time = 0
var(0) = 0

[State 1240]
type = VarSet
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),MoveHit
var(0) = 1
persistent = 0


[State 1240]
type = VarSet
trigger1 = !NumHelper(21240)
trigger1 = AnimTime = 0
var(0) = 0

[State 1240]
type = NotHitBy
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),MoveHit
value = SCA


[State 1240]
type = ChangeState
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),Stateno = 21251
value = 11240
ctrl = 0

[State 1240]
type = ChangeState
triggerall = !var(0)
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1240]
type = ChangeState
triggerall = !var(0)
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Miira Drop Medium Range
[Statedef 1250]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 120
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1240,1250)
sprpriority = 2
facep2 = 1

[State 1000, Explod]
type = Explod
triggerall = StateType = S
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1240]
type = PlaySnd
trigger1 = Time = 7
value = 1240,0
volume = 255
volumescale = 255
channel = 0


[State 1250]
type = Helper
trigger1 = Time = 7
stateno = 21240
id = 21240
name = "Hand1"
ownpal = 1

[State 1250]
type = Helper
trigger1 = Time = 7
stateno = 21241
id = 21241
name = "Hand2"
ownpal = 1

[State 1250]
type = null;VarAdd
trigger1 = !MoveContact && AnimElem = 5, > 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 1250]
type = VarSet
trigger1 = Time = 0
var(0) = 0

[State 1250]
type = VarSet
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),MoveHit
var(0) = 1
persistent = 0

[State 1250]
type = VarSet
trigger1 = !NumHelper(21240)
trigger1 = AnimTime = 0
var(0) = 0

[State 1250]
type = NotHitBy
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),MoveHit
value = SCA


[State 1250]
type = ChangeState
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),Stateno = 21251
value = 11240
ctrl = 0

[State 1250]
type = ChangeState
triggerall = !var(0)
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1



[State 1250]
type = ChangeState
triggerall = !var(0)
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Miira Drop Long Range
[Statedef 1260]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 120
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1240,1250)
sprpriority = 2
facep2 = 1

[State 1000, Explod]
type = Explod
triggerall = StateType = S
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1240]
type = PlaySnd
trigger1 = Time = 7
value = 1240,0
volume = 255
volumescale = 255
channel = 0


[State 1260]
type = Helper
trigger1 = Time = 7
stateno = 21240
id = 21240
name = "Hand1"
ownpal = 1

[State 1260]
type = Helper
trigger1 = Time = 7
stateno = 21241
id = 21241
name = "Hand2"
ownpal = 1

[State 1260]
type = null;VarAdd
trigger1 = !MoveContact && AnimElem = 5, > 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 1260]
type = VarSet
trigger1 = Time = 0
var(0) = 0

[State 1260]
type = VarSet
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),MoveHit
var(0) = 1
persistent = 0

[State 1260]
type = VarSet
trigger1 = !NumHelper(21240)
trigger1 = AnimTime = 0
var(0) = 0

[State 1260]
type = NotHitBy
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),MoveHit
value = SCA


[State 1260]
type = ChangeState
trigger1 = NumHelper(21240)
trigger1 = Helper(21240),Stateno = 21251
value = 11240
ctrl = 0

[State 1260]
type = ChangeState
triggerall = !var(0)
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1



[State 1260]
type = ChangeState
triggerall = !var(0)
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Ouke no Sabaki
[Statedef 1270]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1270
sprpriority = 2

[State 1270]
type = PlaySnd
trigger1 = Time = 7
value = 1270,0
volume = 255
volumescale = 255
channel = 0

[State 1800, 7]
type = VarSet
trigger1 = Time = 0
v = 22
value = 80


[State 1270]
type = Helper
trigger1 = Time = 12
stateno = 21270
id = 21270
pos = 63,-73
ownpal = 1


[State 1270]
type = null;VarAdd
trigger1 = !MoveContact && AnimElem = 3, > 10
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 1270]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1

[State 1270]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Ouke no Sabaki
[Statedef 1280]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1270
sprpriority = 2

[State 1280]
type = PlaySnd
trigger1 = Time = 7
value = 1270,0
volume = 255
volumescale = 255
channel = 0

[State 1800, 7]
type = VarSet
trigger1 = Time = 0
v = 22
value = 80

[State 1280]
type = Helper
trigger1 = Time = 12
stateno = 21270
id = 21270
pos = 63,-73
ownpal = 1


[State 1280]
type = null;VarAdd
trigger1 = !MoveContact && AnimElem = 3, > 10
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 1280]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1280]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Ouke no Sabaki
[Statedef 1290]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1270
sprpriority = 2

[State 1800, 7]
type = VarSet
trigger1 = Time = 0
v = 22
value = 80

[State 1290]
type = PlaySnd
trigger1 = Time = 7
value = 1270,0
volume = 255
volumescale = 255
channel = 0

[State 1290]
type = Helper
trigger1 = Time = 12
stateno = 21270
id = 21270
pos = 63,-73
ownpal = 1

[State 1290]
type = null;VarAdd
trigger1 = !MoveContact && AnimElem = 3, > 10
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 1290]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1

[State 1290]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Hitsugi no Mai Close
[Statedef 1440]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 50
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1450,1451)
sprpriority = 2

[State 1000, Explod]
type = Explod
triggerall = StateType != A
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1


[State 1450]
type = PlaySnd
trigger1 = Time = 4
value = 1270,1
volume = 255
volumescale = 255
channel = 0


[State 1450]
type = Helper
trigger1 = AnimElem = 6 && StateType != A
stateno = 21450
id = 21450
ownpal = 1
pos = 80,floor(-384+Pos Y)

[State 1450]
type = Helper
trigger1 = AnimElem = 3 && StateType = A
stateno = 21450
id = 21450
ownpal = 1
pos = 80,floor(-384+Pos Y)


[State 1450]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1



[State 1450]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Hitsugi no Mai Close
[Statedef 1450]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 50
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1450,1451)
sprpriority = 2

[State 1000, Explod]
type = Explod
triggerall = StateType != A
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1


[State 1450]
type = PlaySnd
trigger1 = Time = 4
value = 1270,1
volume = 255
volumescale = 255
channel = 0


[State 1450]
type = Helper
trigger1 = AnimElem = 6 && StateType != A
stateno = 21450
id = 21450
ownpal = 1
pos = 120,floor(-384+Pos Y)

[State 1450]
type = Helper
trigger1 = AnimElem = 3 && StateType = A
stateno = 21450
id = 21450
ownpal = 1
pos = 120,floor(-384+Pos Y)

[State 1450]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1



[State 1450]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Hitsugi no Mai Close
[Statedef 1460]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 50
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1450,1451)
sprpriority = 2

[State 1000, Explod]
type = Explod
triggerall = StateType != A
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1


[State 1460]
type = PlaySnd
trigger1 = Time = 4
value = 1270,1
volume = 255
volumescale = 255
channel = 0


[State 1450]
type = Helper
trigger1 = AnimElem = 6 && StateType != A
stateno = 21450
id = 21450
ownpal = 1
pos = 170,floor(-384+Pos Y)

[State 1450]
type = Helper
trigger1 = AnimElem = 3 && StateType = A
stateno = 21450
id = 21450
ownpal = 1
pos = 170,floor(-384+Pos Y)

[State 1460]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1



[State 1460]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Hitsugi no Mai Close
[Statedef 1470]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 50
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1450,1451)
sprpriority = 2

[State 1000, Explod]
type = Explod
triggerall = StateType != A
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1470]
type = PlaySnd
trigger1 = Time = 4
value = 1270,1
volume = 255
volumescale = 255
channel = 0


[State 1450]
type = Helper
trigger1 = AnimElem = 6 && StateType != A
stateno = 21450
id = 21450
ownpal = 1
pos = 240,floor(-384+Pos Y)

[State 1450]
type = Helper
trigger1 = AnimElem = 3 && StateType = A
stateno = 21450
id = 21450
ownpal = 1
pos = 240,floor(-384+Pos Y)


[State 1470]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1



[State 1470]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1



;---------------------------------------------------------------------------
;Cobra Blow Close
[Statedef 1480]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 120
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1480,1481)
sprpriority = 2

[State 1000, Explod]
type = Explod
triggerall = StateType = S
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1500]
type = PlaySnd
trigger1 = Time = 9
value = 220,0
volume = 255
volumescale = 255
channel = 0


[State 1480]
type = HitDef
trigger1 = time = 0
attr = SA, NA
animtype  = Diagup
air.animtype  = Diagup
damage = 65,0
guardflag = MA
hitflag = MAF
pausetime = 8,10
guard.pausetime = 8,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5+var(39),3
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 9
yaccel = .74
ground.velocity = -8,-7
guard.velocity = -14
air.velocity = -8,-7
ground.cornerpush.veloff =  -10
air.cornerpush.veloff = -10
guard.cornerpush.veloff =  -15
airguard.cornerpush.veloff =  -10
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 1480]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1480]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Cobra Blow Medium
[Statedef 1490]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 120
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1490,1491)
sprpriority = 2

[State 1000, Explod]
type = Explod
triggerall = StateType = S
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1500]
type = PlaySnd
trigger1 = Time = 9
value = 220,0
volume = 255
volumescale = 255
channel = 0

[State 1480]
type = HitDef
trigger1 = time = 0
attr = SA, NA
animtype  = Diagup
air.animtype  = Diagup
damage = 65,0
guardflag = MA
hitflag = MAF
pausetime = 8,10
guard.pausetime = 8,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5+var(39),3
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 9
yaccel = .74
ground.velocity = -8,-7
guard.velocity = -14
ground.cornerpush.veloff =  -10
air.cornerpush.veloff = -10
guard.cornerpush.veloff =  -15
airguard.cornerpush.veloff =  -10
air.velocity = -8,-7
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 1490]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1490]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Cobra Blow Medium
[Statedef 1500]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 120
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1500,1501)
sprpriority = 2

[State 1000, Explod]
type = Explod
triggerall = StateType = S
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1500]
type = PlaySnd
trigger1 = Time = 9
value = 220,0
volume = 255
volumescale = 255
channel = 0

[State 1480]
type = HitDef
trigger1 = time = 0
attr = SA, NA
animtype  = Diagup
air.animtype  = Diagup
damage = 65,0
guardflag = MA
hitflag = MAF
pausetime = 8,10
guard.pausetime = 8,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5+var(39),3
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 9
yaccel = .74
ground.velocity = -8,-10
guard.velocity = -14
ground.cornerpush.veloff =  -10
air.cornerpush.veloff = -10
guard.cornerpush.veloff =  -15
airguard.cornerpush.veloff =  -10
air.velocity = -8,-10
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 1500]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1500]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Hitsugi no Utage
[Statedef 3000]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = ifelse(StateType != A ,3000,3002)
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1


[State 3040]
type = Explod
trigger1 = AnimElem = 3 && StateType != A
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[State 3001]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1270,1
volume = 255
volumescale = 255
channel = 0


[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 8500
supermovetime = 99999999
pos = ceil(35*const(size.xscale)),ceil(-160*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 2,< 0
value = SCA


[State 3000]
type = ChangeState
trigger1 = animtime = 0
value = 3001
ctrl = 0


;---------------------------------------------------------------------------
;Hitsugi no Utage
[Statedef 3001]
type    = U
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = ifelse(StateType != A ,3001,3003)
ctrl = 0
sprpriority = 2
facep2 = 1


[State 3001]
type = VarSet
trigger1 = animtime = 0
var(1) = 0

[State 3001]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1270,1
volume = 255
volumescale = 255
channel = 0


[State 3001]
type = Helper
trigger1 = AnimElem = 5
stateno = 23001
id = 23001
ownpal = 1
postype = back
pos = 120+random%220,floor(-384+Pos Y)


[State 3001]
type = VarAdd
trigger1 = AnimElem = 8
var(1) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = Animelem = 11
var(4) = 0

[State 3001]
type = ChangeAnim
trigger1 = AnimElem = 8 && var(1) < 7
value = anim


[State 3001]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 3001]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Pharaoh Cobra Blow
[Statedef 3020]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3020
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3040]
type = Explod
trigger1 = AnimElem = 5 && StateType != A
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 4
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 4
stateno = 8500
supermovetime = 99999999
pos = ceil(25*const(size.xscale)),ceil(-100*const(size.yscale))
ownpal = 1
id = 8500
persistent = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 4
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000
persistent = 0

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 4,< 0
value = SCA

[State 3020]
type = ChangeState
trigger1 = animtime = 0
value = 3021
ctrl = 0


;---------------------------------------------------------------------------
;Pharaoh Cobra Blow
[Statedef 3021]
type    = U
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3021
ctrl = 0
sprpriority = 4

[State 3021]
type = PlaySnd
trigger1 = animelem = 2
value = 0,12
volume = 255
volumescale = 255

[State 3021]
type = Helper
trigger1 = Time = 0
stateno = 23027
id = 23027
ownpal = 1

[State 3021]
type = Helper
triggerall = time%11
triggerall = Time = [10,170]
triggerall = !NumHelper(23021)
trigger1 = command = "x"
trigger2 = var(59) && random < 200
stateno = 23021
id = 23021
ownpal = 1
pos = 0,-115


[State 3021]
type = Helper
triggerall = time%11
triggerall = Time = [10,170]
triggerall = !NumHelper(23022)
trigger1 = command = "y" || command = "z" 
trigger2 = var(59) && random < 200
stateno = 23021
id = 23022
ownpal = 1
pos = 0,-85


[State 3021]
type = Helper
triggerall = time%11
triggerall = Time = [10,170]
triggerall = !NumHelper(23023)
trigger1 = command = "a"
trigger2 = var(59) && random < 200
stateno = 23021
id = 23023
ownpal = 1
pos = 0,-55


[State 3021]
type = Helper
triggerall = time%11
triggerall = Time = [10,170]
triggerall = !NumHelper(23024)
trigger1 = command = "b" || command = "c" 
trigger2 = var(59) && random < 200
stateno = 23021
id = 23024
ownpal = 1
pos = 0,-25


[State 3021]
type = ChangeAnim
trigger1 = time = 15
value = 3022
persistent = 0

[State 3021]
type = ChangeState
trigger1 = Time >= 170
trigger1 = !NumHelper(23021) && !NumHelper(23022) && !NumHelper(23023) && !NumHelper(23024)
value = 3023
ctrl = 0


;---------------------------------------------------------------------------
;Pharaoh Cobra Blow End
[Statedef 3023]
type    = U
movetype= I
physics = N
juggle  = 2
;poweradd=
velset = 0,0
anim = 3023
ctrl = 0
sprpriority = 2

[State 3023]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 1
var(4) = 0


[State 3023]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Eternal Slumber
[Statedef 3040]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = ifelse(StateType != A ,3040,3042)
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1


[State 3041]
type = Helper
trigger1 = Time = 0
stateno = 23040
pos = 0,-floor(Pos Y)
ownpal = 1

[State 3040]
type = Explod
trigger1 = AnimElem = 6 && StateType != A
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 5
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 5
stateno = 8500
supermovetime = 99999999
pos = ceil(15*const(size.xscale)),ceil(-120*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 5
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 5,< 0
value = SCA

[State 3040]
type = ChangeState
trigger1 = animtime = 0
value = 3041
ctrl = 0

;---------------------------------------------------------------------------
;Eternal Slumber
[Statedef 3041]
type    = U
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = ifelse(StateType != A ,3041,3043)
ctrl = 0
sprpriority = 2


[State 3041]
type = VarSet
trigger1 = AnimTime = 0 
var(1) = 0


[State 3041]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 3041]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1270,1
volume = 255
volumescale = 255
channel = 0

[State 3041]
type = Helper
trigger1 = AnimElem = 7, = 2
stateno = 23041
id = 23041
ownpal = 1
pos = 105,-96+20*(StateType = A)
persistent = 0


[State 3041]
type = Helper
triggerall = p2stateno = [5000,5070]
trigger1 = AnimElem = 7, = 2
trigger1 = !NumHelper(23041)
stateno = 23042
id = 23042
ownpal = 1
pos = 105,-96+20*(StateType = A)
persistent = 0

[State 3041]
type = Helper
triggerall = p2stateno = [5000,5070]
trigger1 = AnimElem = 7, = 2
trigger1 = !NumHelper(23042) && !NumHelper(23041)
stateno = 23043
id = 23043
ownpal = 1
pos = 105,-96+20*(StateType = A)
persistent = 0


[State 3041]
type = Helper
triggerall = p2stateno = [5000,5070]
trigger1 = AnimElem = 5, = 2
trigger1 = var(1)
stateno = 23057
id = 23057
ownpal = 1
postype = p2
pos = 0,-384+floor(Pos Y)
persistent = 0


[State 3041]
type = VarAdd
trigger1 = var(1)
var(1) = 1


[State 3041]
type = VarAdd
trigger1 = AnimElem = 8 
var(2) = 1

[State 3041]
type = ChangeAnim
triggerall = p2stateno = [5000,5070]
trigger1 = AnimElem = 8 && var(2) < 4
value = anim

[State 3041]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1

[State 3000, VarSet]
type = VarSet
trigger1 = Animelem = 11
var(4) = 0

[State 3041]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Pharaoh Illusion
[Statedef 3060]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3060
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1


[State 3060]
type = Helper
trigger1 = Time = 0
stateno = 23077
ownpal = 1


[State 3060]
type = VarSet
trigger1 = animtime = 0
var(2) = 0


[State 3060]
type = VarSet
trigger1 = var(59) && random < 50
var(2) = 0

[State 3060]
type = VarSet
trigger1 = command = "z"
trigger2 = var(59) && random < 10
var(2) = 1


[State 3060]
type = VarSet
trigger1 = command = "c"
trigger2 = var(59) && random < 10
var(2) = 2

[State 3040]
type = Explod
trigger1 = AnimElem = 5 && StateType != A
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1


[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 5
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 5
stateno = 8500
supermovetime = 99999999
pos = ceil(35*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 5
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 5,< 0
value = SCA

[State 3060]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 3060]
type = VelSet
trigger1 = AnimElem = 7
y = -25

[State 3060]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0,2
volumescale = 190
persistent = 0

[State 3020, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HP
hitflag = MAFD
guardflag = MA
animtype = Up
damage = 80,5
getpower = 0,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S5+var(39),3
guardsound = S6+var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .53
ground.velocity = -3,-10
guard.velocity = -10
ground.cornerpush.veloff = 0
down.velocity = -6,-7
air.velocity = -3,-14
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 4
p2stateno = 3062

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3060]
type = VelAdd
trigger1 = Vel Y < 0
y = -0.9

[State 3060]
type = ChangeState
trigger1 = Pos Y < -250
value = 3061
ctrl = 0

;---------------------------------------------------------------------------
;Pharaoh Illusion
[Statedef 3061]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3061
ctrl = 0
sprpriority = -3
facep2 = 1

[State 3060]
type = PlaySnd
trigger1 = Time = 0
value = 181,1
volume = 255
volumescale = 255
channel = 0

[State 3061]
type = PosSet
trigger1 = Time = 0
y = 0
x = -3


[State 3061]
type = PosAdd
trigger1 = Time < 30
y = -2

[State 3061]
type = Posadd
trigger1 = movecontact
y = 0

[State 3061]
type = PosAdd
trigger1 = Pos Y < 0 && Time > 30
y = 2

;[State 3061]
;type = velset
;triggerall = time > 40
;trigger1 = Pos Y > -50  
;y = 3

;[State 3061]
;type = velset
;triggerall = time > 40
;trigger1 = Pos Y < 0  
;y = -3


[State 3061]
type = PosAdd
trigger1 = command = "holdfwd"
trigger2 = var(59) && p2bodydist x > 120
x = 1

[State 3061]
type = PosAdd
trigger1 = command = "holdback"
trigger2 = var(59) && p2bodydist x < -120
x = -1

[State 3061]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 3061]
type = PlayerPush
trigger1 = 1
value = 0

[State 3061]
type = AngleDraw
trigger1 = Time < 30
value = 0
scale = 0.04*Time,0.04*Time

[State 3061]
type = AngleDraw
trigger1 = Time = 30
value = 0
scale = 1,1

[State 3061]
type = Trans
trigger1 = Time < 30
trans = add1
;alpha = time, 256-time

[State 3061]
type = Helper
trigger1 = Time = 0
stateno = 23061
id = 23061
ownpal = 1

[State 3061]
type = Helper
trigger1 = Time = 0
stateno = 23062
id = 23062
ownpal = 1

[State 3061]
type = ChangeState
trigger1 = Time = 200 && StateType != A
value = 3065
ctrl = 1

[State 3061]
type = ChangeState
trigger1 = Time = 200 && StateType = A
value = 3065
ctrl = 0

[Statedef 3062] 
type = A
movetype = H
physics = N
sprpriority = 0
ctrl = 0

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(5250)
value = 5252

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = SelfAnimExist(5250)
value = 5250

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -1.9
y = -16.4

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 3020, ChangeState]
type = ChangeState
trigger1 = time = 15
value = 3063

[Statedef 3063] 
type = A
movetype = H
physics = N
sprpriority = 0
ctrl = 0

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(5251)
value = 5253

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = SelfAnimExist(5251)
value = 5251

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 9031, SelfState]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5110;ifelse(alive,5040,5050)

;---------------------------------------------------------------------------
;Pharaoh Illusion End
[Statedef 3065]
type    = A
movetype= I
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3065
ctrl = 0
sprpriority = 2
facep2 = 1


[State 3065]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3060]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 3065]
type = Helper
trigger1 = Time = 0
stateno = 23077
ownpal = 1

[State 3065]
type = PosSet
trigger1 = Time = 0
y = -30

[State 3065]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4

[State 3065]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = anim
elem = 2
persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 15
freq = 70
ampl = -4


[State 3065]
type = VelSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3065]
type = PosSet
trigger1 = AnimElem = 2
y = 0

[State 3065]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,8

[State 3065]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 1

;------------------------------------------------------------------------------------------
; Hit by  - shaking from the hit
; (a custom gethit state)

[Statedef 9020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 9020, Anim] ;Custom animation
type = null;ChangeAnim2
trigger1 = 1
value = 5012


[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim ;2
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)


[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type



[State 5050, 2] ; anim for trip
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(groundtype) = 3
trigger1 = SelfAnimExist(5070)
value = 5070


[State 9020, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 9030

;------------------
; Hit by - flying through the air
; (a custom gethit state)
[Statedef 9030]
type    = A
movetype= H
physics = N

[State 9030, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 9030, Gravity]
type = VelAdd
trigger1 = 1
y = .39

[State 9030, No scroll]
type = ScreenBound
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 9030, Hit wall]
type = ChangeState
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 9027


[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050
trigger2 = Anim != 5070

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0


[State 5050, 2] ;Coming down anim for trip
type = ChangeAnim
trigger1 = anim = 5070
trigger1 = Vel Y >= 0
trigger1 = SelfAnimExist(anim-10) || SelfAnimExist(5071)
value = ifelse(SelfAnimExist(5071),5071,anim-10)
persistent = 0


[State 5035, 3]
type = null;ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 5050, 4] ;Recover near ground
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = 1;Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 9030, Hit ground]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5071]), 0, 25)
value = 5100 ;HIT_BOUNCE

;-----------------------------------------------------------------------------------------------------
; Hit by  - hit wall
; (a custom gethit state)
[Statedef 9027]
type    = A
movetype= H
physics = N

[State 9027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 9027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 9027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 9027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 9027, Spark]
type = null;Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 9027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 825

[State 9027, Sound]
type = null;PlaySnd
trigger1 = Time = 0
value = F7,0

[State 9027, State]
type = ChangeState
trigger1 = Time = 5
value = 9028

;------------------
; Hit by  - bounce off wall
; (a custom gethit state)
[Statedef 9028]
type    = A
movetype= H
physics = N


[State 9028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 9028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = 2

[State 9028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 5


[State 9028, Turn]
type = null;Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 9028, Gravity]
type = VelAdd
trigger1 = 1
y = .39

[State 9028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 9028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 9028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 9028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 9028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;Miira Drop
[Statedef 11240]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1241,1251)
sprpriority = 2
;facep2 = 1


[State 11240]
type = NotHitBy
trigger1 = 1
value = SCA


[State 11240]
type = PlaySnd
trigger1 = AnimElem = 8 || AnimElem = 14 || AnimElem = 20
value = 1240,1



[State 11240]
type = ChangeState
trigger1 = Time = 107
value = 11241
ctrl = 0



;---------------------------------------------------------------------------
;Miira Drop
[Statedef 11241]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = ifelse(StateType != A ,1243,1253)
sprpriority = 2
;facep2 = 1



[State 11241]
type = NotHitBy
trigger1 = 1
value = SCA


[State 11241]
type = Turn
trigger1 = AnimElem = 5


[State 11241]
type = Helper
trigger1 = AnimElem = 6
stateno = 11243
ownpal = 1


[State 11241]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1



[State 11241]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1211
ctrl = 1



;---------------------------------------------------------------------------
;Miira Drop Arm
[Statedef 11243]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11243
sprpriority = 4
;facep2 = 1


[State 11245]
type = DestroySelf
trigger1 = Parent,stateno != 11241
trigger2 = AnimTime = 0

[State 11245]
type = BindToParent
trigger1 = 1


;---------------------------------------------------------------------------
;Villager
[Statedef 11265]
type    = S
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 8061
sprpriority = 2
;facep2 = 1


[State 11265]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 11282

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
y = 0


[State 11265]
type = Turn
trigger1 = Enemynear,facing = facing


[State 11265]
type = PlayerPush
trigger1 = 1
value = 0



[State 11265]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 11265]
type = VelSet
trigger1 = command = "holdfwd"
x = 2


[State 11265]
type = VelSet
trigger1 = command = "holdback"
x = -2


[State 11265]
type = VelSet
trigger1 = command != "holdback" && command != "holdfwd"
x = 0


[State 11265]
type = SelfState
trigger1 = Time = 600
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Villager
[Statedef 11270]
type    = S
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = -3,-4
;anim = 11282
sprpriority = 2
;facep2 = 1



[State 11265]
type = PlayerPush
trigger1 = PlayerId(Root,var(37)),facing != facing
value = 1


[State 11270]
type = ChangeAnim
trigger1 = Time = 0
value = 11282

[State 11270]
type = Turn
trigger1 = PlayerId(Root,var(37)),facing != facing

[State 11270]
type = PlaySnd
trigger1 = Time = 1
value = 1270,4

[State 11270]
type = VelAdd
trigger1 = 1
y = 0.4

[State 11270]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 11275
ctrl = 1


;---------------------------------------------------------------------------
;Villager
[Statedef 11273]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
;anim = 11282
sprpriority = 2
;facep2 = 1



[State 11273]
type = ChangeAnim2
trigger1 = Time = 0
value = 11281

[State 11273]
type = PlaySnd
trigger1 = Time = 1
value = 1270,2

[State 11273]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 11273]
type = ChangeState
trigger1 = AnimTime = 0 && Pos Y = 0
value = 11275
ctrl = 1

[State 11273]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 11275
ctrl = 1


;---------------------------------------------------------------------------
;Villager
[Statedef 11274]
type    = S
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
;anim = 11282
sprpriority = 2
;facep2 = 1



[State 11274]
type = ChangeAnim2
trigger1 = Time = 0
value = 9800

[State 11274]
type = DestroySelf
trigger1 = Time = 700
trigger2 = Parent,Stateno != [11275,11279]

;---------------------------------------------------------------------------
;Villager Stand
[Statedef 11275]
type    = S
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
;anim = 11275
sprpriority = 2
facep2 = 1



[State 11265]
type = PlayerPush
trigger1 = PlayerId(Root,var(37)),facing != facing
value = 1



[State 11275]
type = ScreenBound
trigger1 = 1
value = 1


[State 11275]
type = PosSet
trigger1 = Pos Y != 0
y = 0


[State 11275]
type = null;Turn
trigger1 = p2bodydist x < -15


[State 11275]
type = Turn
trigger1 = PlayerId(Root,var(37)),facing != facing

[State 11275]
type = ChangeAnim
triggerall = Anim != 11275 
trigger1 = Time = 0
trigger2 = PlayerId(Root,var(37)),command != "holdfwd" && PlayerId(Root,var(37)),command != "holdback"
trigger2 = PlayerId(Root,var(37)),command != "holddown"
value = 11275


[State 11275]
type = ChangeAnim
trigger1 = Anim != 11276 
trigger1 = PlayerId(Root,var(37)),command = "holdfwd" || PlayerId(Root,var(37)),command = "holdback"
value = 11276


[State 11275]
type = ChangeAnim
trigger1 = Anim != 11283
trigger1 = PlayerId(Root,var(37)),command = "holddown"
value = 11283

[State 11275]
type = null;Helper
trigger1 = Time = 0
stateno = 11274
id = 11274
ownpal = 1


;[State 11275]
;type = ChangeState
;trigger1 = PlayerId(Root,var(37)),command = "holdup"
;value = 11278


[State 11275]
type = ChangeState
trigger1 = PlayerId(Root,var(37)),command = "a" || PlayerId(Root,var(37)),command = "b" || PlayerId(Root,var(37)),command = "c"
trigger2 = PlayerId(Root,var(37)),command = "x" || PlayerId(Root,var(37)),command = "y" || PlayerId(Root,var(37)),command = "z"
value = 11273

[State 11275]
type = VelSet
trigger1 = PlayerId(Root,var(37)),command = "holdfwd"
x = 2

[State 11275]
type = VelSet
trigger1 = PlayerId(Root,var(37)),command = "holddown"
x = 0

[State 11275]
type = VelSet
trigger1 = PlayerId(Root,var(37)),command = "holdback"
x = -2

[State 11275]
type = VelSet
trigger1 = PlayerId(Root,var(37)),command != "holdback" && PlayerId(Root,var(37)),command != "holdfwd"
x = 0



[State 11275]
type = ChangeState
trigger1 = PlayerId(Root,var(37)),stateno != 11265
value = 11276


;---------------------------------------------------------------------------
;Villager End
[Statedef 11276]
type    = S
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
;anim = 11282
sprpriority = 2
;facep2 = 1


[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8201

[State 11276]
type = ChangeAnim2
trigger1 = Time = 0
value = 9800

[State 11276]
type = ParentVarset
trigger1 = Time = 0
var(37) = 0


[State 11276]
type = DestroySelf
trigger1 = Time = 1

;---------------------------------------------------------------------------
;Villager Jump
[Statedef 11278]
type    = S
movetype= I
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
;anim = 11277
sprpriority = 2
facep2 = 1

[State 11278]
type = ChangeAnim2
trigger1 = Time = 0
value = 11277

[State 11275]
type = Turn
trigger1 = PlayerId(Root,var(37)),facing != facing

[State 11278]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 11278]
type = VarSet
trigger1 = PlayerId(Root,var(37)),command = "holdfwd"
sysvar(1) = 1

[State 11278]
type = VarSet
trigger1 = PlayerId(Root,var(37)),command = "holdback"
sysvar(1) = -1

[State 11278]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 11278]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)


[State 11278]
type = ChangeState
trigger1 = AnimTime = 0
value = 11279
ctrl = 0



;---------------------------------------------------------------------------
;Villager Jump
[Statedef 11279]
type    = A
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
;velset = 0,0
;anim = 11275
sprpriority = 2
facep2 = 1


[State 11275]
type = Turn
trigger1 = PlayerId(Root,var(37)),facing != facing

[State 11279]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 11279]
type = ChangeAnim
trigger1 = PlayerId(Root,var(37)),Time = 0
value = 11278

[State 11279]
type = ChangeAnim2
trigger1 = PlayerId(Root,var(37)),Vel y > -4
persistent = 0
value = 11279

[State 11279]
type = VelAdd
trigger1 = 1
y = 0.35

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200

[State 11279]
type = ChangeState
trigger1 = PlayerId(Root,var(37)),command = "a" || PlayerId(Root,var(37)),command = "b" || PlayerId(Root,var(37)),command = "c"
trigger2 = PlayerId(Root,var(37)),command = "x" || PlayerId(Root,var(37)),command = "y" || PlayerId(Root,var(37)),command = "z"
value = 11273

[State 11279]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 11275
ctrl = 1

;------------------------------------------------------------------------------------------------------------
;Miira Drop Arm
[Statedef 21240]
type = U
movetype = A
physics =N
anim = 21240
ctrl = 0
sprpriority = 4
velset = 0,0

[State 21240]
type = VarSet
trigger1 = Time = 0
var(1) = Parent,stateno


[State 21240]
type = NotHitBy
trigger1 = 1
value = SCA


[State 21240]
type = DestroySelf
trigger1 = Parent,stateno != var(1)

[State 21240]
type = HitDef
trigger1 = Root,statetype != A
trigger1 = hitcount < 1
attr = S, ST          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 3, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 21250       ;On success, changes to state 
p2stateno = 21260       ;If hit, p2 changes to state 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S5,4
id = 800


[State 21240]
type = HitDef
trigger1 = Root,statetype = A
trigger1 = hitcount < 1
attr = A, ST          ;Attributes: Standing, Normal Throw
hitflag = A-          ;Affect only ground people who are not being hit
priority = 3, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 21250       ;On success, changes to state 
p2stateno = 21260       ;If hit, p2 changes to state 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S5,4
id = 800


[State 21240]
type = BindToParent
trigger1 = Parent,stateno = 1240
pos = 70,0

[State 21240]
type = BindToParent
trigger1 = Parent,stateno = 1250
pos = 140,0


[State 21240]
type = BindToParent
trigger1 = Parent,stateno = 1260
pos = 210,0


;------------------------------------------------------------------------------------------------------------
;Miira Drop Arm
[Statedef 21241]
type = U
movetype = I
physics =N
anim = 21241
ctrl = 0
sprpriority = 0
velset = 0,0

[State 21241]
type = VarSet
trigger1 = Time = 0
var(1) = Parent,stateno

[State 21241]
type = DestroySelf
trigger1 = Parent,stateno != var(1)
trigger2 = Parent,var(0)

[State 21241]
type = BindToParent
trigger1 = Parent,stateno = 1240
pos = 70,0

[State 21241]
type = BindToParent
trigger1 = Parent,stateno = 1250
pos = 140,0


[State 21241]
type = BindToParent
trigger1 = Parent,stateno = 1260
pos = 210,0

;---------------------------------------------------------------------------
; Throw

[Statedef 21250]
type    = U
movetype= A
physics = N
anim = 21250
poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 4

[State 21250]
type = Turn
trigger1 = Parent,Facing != Facing


[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(1*const(size.xscale)),ceil(-40*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1


[State 21250];Bind 1
type = TargetBind
trigger1 = 1
pos = 36,-67


[State 21250]
type = VelSet
trigger1 = Time = 7
x = -16



[State 21250]
type = VelSet
trigger1 = ParentDist X >= 0
x = 0



[State 21250]
type = TargetState
trigger1 = ParentDist X >= -38
value = 21261

[State 21250]
type = ChangeState
trigger1 = ParentDist X >= -38
value = 21251
ctrl = 0


[State 21250]
type = DestroySelf
trigger1 = !NumTarget(800)
trigger2 = Parent,stateno != [1240,1260]
trigger2 = Parent,stateno != [11240,11241]


;---------------------------------------------------------------------------
; Throw

[Statedef 21251]
type    = U
movetype= A
physics = N
;anim =
poweradd = 0
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2


[State 21251]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 21251]
type = Turn
trigger1 = Parent,Facing != Facing


[State 21251]
type = NotHitBy
trigger1 = 1
value = SCA

[State 21251];Bind 1
type = TargetBind
trigger1 = 1
pos = 36,-67


[State 21251]
type = TargetLifeAdd
trigger1 = Parent,stateno = 11240
trigger1 = Parent,AnimElem = 13 || Parent,AnimElem = 19
value = -22

[State 21251]
type = TargetPowerAdd
trigger1 = Parent,stateno = 11240
trigger1 = Parent,AnimElem = 13 || Parent,AnimElem = 19
value = 60

[State 21251]
type = PowerAdd
trigger1 = Parent,stateno = 11240
trigger1 = Parent,AnimElem = 13 || Parent,AnimElem = 19
value = 60

[State 21251]
type = TargetState
trigger1 = Parent,stateno = 11241
trigger1 = Parent,AnimElem = 6
value = 21262

[State 21251]
type = ChangeState
trigger1 = Parent,stateno = 11241
trigger1 = Parent,AnimElem = 6
value = 21252
ctrl = 0


[State 21251]
type = DestroySelf
trigger1 = !NumTarget(800)
trigger2 = Parent,stateno != [1240,1260]
trigger2 = Parent,stateno != [11240,11241]


;---------------------------------------------------------------------------
; Throw

[Statedef 21252]
type    = U
movetype= A
physics = N
;anim =
poweradd = 0
juggle  = 0
velset = 0,7
ctrl = 0
sprpriority = 4

[State 5100, 8]
type = Explod
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
anim = 8010
scale = 0.81,0.81
pos = 20, -50
ownpal = 1
sprpriority = 5
persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 15
freq = 70
ampl = -4

[State 5100, 10]
type = PlaySnd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0,7
persistent = 0

[State 21252]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 21252]
type = Turn
trigger1 = Parent,Facing != Facing


[State 21252]
type = NotHitBy
trigger1 = 1
value = SCA

[State 21252]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 21252]
type = VarSet
trigger1 = Parent,stateno = 11241
trigger1 = Parent,AnimElem = 6
var(1) = 1
persistent = 0

[State 21252]
type = VarAdd
trigger1 = var(1)
var(1) = 1


[State 21252];Bind 1
type = BindToParent
trigger1 = 1
pos = 0,60

[State 21252];Bind 1
type = TargetBind
trigger1 = 1
pos = 43,-60


[State 21252]
type = TargetLifeAdd
trigger1 = var(1)
value = -52
persistent = 0

[State 21252]
type = TargetPowerAdd
trigger1 = var(1)
value = 60
persistent = 0

[State 21252]
type = PowerAdd
trigger1 = var(1)
value = 60
persistent = 0



[State 21252]
type = TargetState
trigger1 = var(1) >= 10
value = ifelse(Root,StateType != A, 21263,21264)

[State 21252]
type = ChangeState
trigger1 = var(1) >= 10
value = 21253
ctrl = 0


[State 21252]
type = DestroySelf
trigger1 = !NumTarget(800)
trigger2 = Parent,stateno != [11240,11241]


;---------------------------------------------------------------------------
;Throw End
[Statedef 21253]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
;anim = 0
sprpriority = 2
;facep2 = 1

[State 21253]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 21253]
type = DestroySelf
trigger1 = Time = 17


;---------------------------------------------------------------------------
;Thrown

[Statedef 21260]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 3

[State 21260]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 21260]
type = ChangeAnim2
trigger1 = Time = 0
value = 21260


[State 21260]
type = Turn
trigger1 = facing = enemynear,facing


[State 21260]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 21260]
type = DestroySelf
trigger1 = ishelper

;---------------------------------------------------------------------------
;Thrown

[Statedef 21261]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2


[State 21261]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 21261]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 21261]
type = ChangeAnim2
trigger1 = Time = 0
value = 21260


[State 21261]
type = Turn
trigger1 = facing = enemynear,facing


[State 21261]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 21261]
type = DestroySelf
trigger1 = ishelper

;---------------------------------------------------------------------------
;Thrown

[Statedef 21262]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 3


[State 21262]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 21262]
type = ChangeAnim2
trigger1 = Time = 0
value = ifelse(enemynear,statetype != A,21262,21263)


[State 21262]
type = Turn
trigger1 = facing = enemynear,facing


[State 21262]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 21262]
type = DestroySelf
trigger1 = ishelper



;---------------------------------------------------------------------------
;Thrown

[Statedef 21263]
type    = A
movetype= H
physics = N
velset = -9.7,-12.6
;poweradd = 60

[State 21263]
type = Turn
trigger1 = facing = enemynear,facing

[State 21263]
type = ChangeAnim2
Trigger1 = Time = 0
value = 823


[State 21263] ;Gravity
type = VelAdd
trigger1 = 1
y = .8


[State 21263]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 21263]
type = null;ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 825


[State 21263]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 21263]
type = null;SelfState
trigger1 = Vel Y > 2
value = 5040

[State 21263] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground


;---------------------------------------------------------------------------
;Thrown

[Statedef 21264]
type    = A
movetype= H
physics = N
velset = -3,17
;poweradd = 60

[State 21264]
type = Turn
trigger1 = facing = enemynear,facing

[State 21264]
type = ChangeAnim2
Trigger1 = Time = 0
value = 823


[State 21264] ;Gravity
type = VelAdd
trigger1 = 1
y = .8


[State 21264]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 21264]
type = null;ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 825


[State 21264]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 21264]
type = null;SelfState
trigger1 = Vel Y > 2
value = 5040

[State 21264] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground



;------------------------------------------------------------------------------------------------------------
;Spirit Helper
[Statedef 21270] 
type = A
movetype = A
physics = N
anim = 21272
ctrl = 0
sprpriority = 3
velset = 0,0
hitcountpersist = 1


[State 21270]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 21270]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21270]
type = AssertSpecial
trigger1 = Time < 31
trigger2 = var(1) > 1
flag = invisible


[State 21270]
type = BindToParent
trigger1 = Time = 0
pos = 63,-73

[State 21270]
type = Helper
trigger1 = Time = 0
stateno = 21271
id = 21271
ownpal = 1

[State 21270]
type = Helper
trigger1 = Time = 7
stateno = 21271
id = 21272
ownpal = 1

[State 21270]
type = Helper
trigger1 = Time = 14
stateno = 21271
id = 21273
ownpal = 1

[State 21270]
type = Helper
trigger1 = Time = 19
stateno = 21271
id = 21274
ownpal = 1


[State 21270]
type = PosSet
trigger1 = var(1)
trigger1 = NumHelper(21271)
x = Helper(21271),fvar(1)
y = Helper(21271),fvar(2)
persistent = 0


[State 21270]
type = VelSet
trigger1 = Time = 31 && Parent,stateno = 1270
x = 3
y = 3


[State 21270]
type = VelSet
trigger1 = Time = 31 && Parent,stateno = 1280
x = 3
y = 5


[State 21270]
type = VelSet
trigger1 = Time = 31 && Parent,stateno = 1290
x = 5
y = 7

[State 21270]
type = VelSet
trigger1 = Pos Y > -10
y = 0
x = 1

[State 21270]
type = DestroySelf
trigger1 = FrontEdgeDist < - 100
trigger2 = Time = 60



;------------------------------------------------------------------------------------------------------------
;Spirit Helper
[Statedef 21271] 
type = A
movetype = A
physics = N
;anim = 21270
ctrl = 0
sprpriority = 3
velset = 5,7
hitcountpersist = 1


[State 21271]
type = Varset
trigger1 = Time = 0
var(3) = parent,id

[State 21271]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 21270
value = 21270


[State 21271]
type = VelSet
trigger1 = Time = 0
x = 5
y = 7

[State 21271]
type = VelSet
trigger1 = Time = 8
x = 0
y = 0


[State 21271]
type = ParentVarset
trigger1 = isHelper(21274) && Time > 8
var(1) = 1
persistent = 0

[State 21271]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21271]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21271]
type = HitOverride
trigger1 = 1
stateno = 21279
attr = SCA,AP
slot = 0
time = -1


[State 21271]
type = HitDef
attr = A, SP
triggerall = p2stateno != [1840,1895]
trigger1 = isHelper(21271)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 70,1
animtype = Medium
priority  = 3, Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,7
sparkxy = -10,-10
hitsound = S5+parent,var(39),2
guardsound = S6+parent,var(39),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -11,0
yaccel = 0.99
air.velocity = -7
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,50,20),ifelse(MoveHit,50,0)
sprpriority = 3
p2stateno = 1840+(NumHelper(1890) = 1)*10
id = 700

[State 21271]
type = HitDef
attr = A, SP
trigger1 = p2stateno = [1840,1895]
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 70,1
animtype = Medium
priority  = 3, Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,7
sparkxy = -10,-10
hitsound = S5+parent,var(39),2
guardsound = S6+parent,var(39),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -11,-9
yaccel = 0.99
air.velocity = -7
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,50,20),ifelse(MoveHit,50,0)
sprpriority = 3
id = 700

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 11273]
type = PlaySnd
triggerall = p2stateno = [1840,1895]
trigger1 = Movehit
value = 1270,4
volume = 255
volumescale = 255
channel = 0

[State 52, Helper]
type = Helper
triggerall = p2stateno = [1840,1895]
trigger1 = Movehit
stateno = 8201


[State 21271]
type = ParentVarset
trigger1 = MoveContact
var(1) = 2
ignorehitpause = 1


[State 21271]
type = ParentVarset
trigger1 = MoveHit
var(1) = 3
ignorehitpause = 1



[State 21271]
type = ChangeState
trigger1 = MoveContact || Parent,var(1) > 1
trigger2 = Parent,Time > 60
value = 21279
ignorehitpause = 1


[State 21271]
type = DestroySelf
trigger1 = !PlayerIDExist(var(3))

[State 21272]
type = null;BindToParent
trigger1 = PlayerIDExist(var(3))

[State 21271]
type = null;DestroySelf
trigger1 = FrontEdgeDist < - 100
trigger2 = Time = 240


[State 21251]
type = VarSet
trigger1 = Time = 0; || AnimTime = 0
fvar(0) = 45

[State 21271]
type = VarAdd
trigger1 = 1
fvar(0) = 1


[State 21251]
type = VarSet
trigger1 = Time = 8
fvar(1) = Pos X


[State 21251]
type = VarSet
trigger1 = Time = 8
fvar(2) = Pos Y

[State 21251]
type = null;Pause
trigger1 = time > 0
time = 30

[State 21271]
type = PosSet
trigger1 = Time > 8 && !Parent,var(1)
x = 30*sin(fvar(0)*(pi/13)) + fvar(1)
y = -2*cos(Time*(pi/13))+ fvar(2)

[State 21271]
type = null;PosSet
trigger1 = Parent,var(1)
x = 30*sin(fvar(0)*(pi/13)) + fvar(1) + 5*(Time-8)
y = -2*cos(Time*(pi/13))+ fvar(2) + 5*(Time-8)

[State 21271]
type = SprPriority
trigger1 = AnimElem = 15
value = -3

[State 21271]
type = SprPriority
trigger1 = AnimElem = 27
value = 3

[State 1800, 7]
type = VarSet
trigger1 = Time = 0
v = 22
value = 80


[State 21271]
type = BindToParent
trigger1 = Parent,Time > 30
pos = 30*sin(fvar(0)*(pi/13)),-2*cos(Time*(pi/13))


[State 21271]
type = AssertSpecial
trigger1 = Parent,Time > 30
flag = invisible

;P2
[Statedef 1840]
type    = S                      
movetype= H                      
physics = S                                           
VelSet = 0,0
ctrl = 0                         

              
[State 1840, 2]
type = ChangeAnim2
trigger1 = Time = 0
Value = 1840

[State 1840, 3]
type = ChangeState
trigger1 = Time = 5
Value = 1850

[Statedef 1850]
type    = A                     
movetype= H                      
physics = S                                          
VelSet = 0,0                         

[State 1850, 0]
type = NotHitBy
trigger1 = time = 0 || Enemy, Var(22) = 11
value = SCA
time = 15+(PrevStateNo = 1840)*20

[State 1850, 1]
type = LifeAdd
trigger1 = Life = 1
Value = -1

[State 1850, 2]
type = Turn
trigger1 = P2Bodydist x <= -65

[State 1850, 3]
type = ChangeAnim2
trigger1 = Time >= 0 && ((command != "holdup" && command != "holddown" && command != "holdfwd" && command != "holdback" && (Anim != [1870,1871])) || ((Anim = [1870,1871]) && Animtime = 0)) && Enemy, Var(22) >= 12
Value = 1850+(Enemy, Var(20) = [3,4])

[State 1850, 4]
type = PosSet
trigger1 = Time >= 0 && (Anim != [1870,1871])
y = -1

[State 1850, 5]
type = ChangeAnim2
trigger1 = command = "holddown" && command != "holdfwd" && command != "holdback" && (Anim != [1870,1871]) && Enemy, Var(22) >= 12 
Value = 1855+(Enemy, Var(20) = [3,4])

[State 1850, 6]
type = ChangeAnim2
trigger1 = command = "holdfwd" && command != "holdup" && command != "holddown" && (Anim != [1870,1871]) && Enemy, Var(22) >= 12
Value = 1860+(Enemy, Var(20) = [3,4])

[State 1850, 7]
type = ChangeAnim2
trigger1 = command = "holdback" && command != "holdup" && command != "holddown" && (Anim != [1870,1871]) && Enemy, Var(22) >= 12
Value = 1865+(Enemy, Var(20) = [3,4])

[State 1850, 8]
type = Changeanim2
trigger1 = command = "holdup" && (Anim != [1870,1871])
Value = 1870+(Enemy, Var(20) = [3,4])


[State 1850, 9]
type = Velset
trigger1 = Anim = [1860,1866]
x = 2.5-(Anim =[1865,1866])*5

[State 1850, 10]
type = Velset
trigger1 = (Anim = [1870,1871]) && AnimElem = 1 
x = 0+(command = "holdfwd" || Vel x > 0)*3+(command = "holdback" || Vel x < 0)*-3
y = -8

[State 1850, 11]
type = VelAdd
trigger1 = (Anim = [1870,1871])
x  = 0.25*(1-(Vel x < 0)*2)*(Vel x != 0)
y = 0.45*(Pos Y < -10)

[State 1850, 12]
type = VelSet
trigger1 = (Time >= 0 && ((command != "holdup" && command != "holddown" && command != "holdfwd" && command != "holdback" && (Anim != [1870,1871])) || ((Anim != [1870,1871]) && Animtime = 0))) || Enemy, Var(22) <= 11
trigger1 = (Pos Y >= -5 && Time >= 10)
x = 0
y = 0

[State 1850, 13]
type = ChangeState
trigger1 = Enemy, Var(22) <= 11
Value = 1895

[State 1850, 14]
type = SelfState
trigger1 = Enemy, Var(22) <= 0 || Life = 0
Value = 0+(life = 0)*5050
ctrl = 1

[Statedef 1880]
type    = S                     
movetype= H                     
physics = S                                          
ctrl = 0                         

[State 1880, 1]
type = ChangeAnim2
trigger1 = Time = 0
Value = 1880+(Enemy, Var(20) = [3,4])

[State 1880, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1880, 3]
type = VelSet
trigger1 = Time = 0
x = -4.5*(1-((Facing = 1 && Enemy, Facing = 1) || (Facing = -1 && Enemy, Facing = -1))*2)
y = -4.5

[State 1880, 4]
type = VelAdd
trigger1 = Time >= 0 && Pos Y < -5
x = -0.1*(1-((Facing = 1 && Enemy, Facing = 1) || (Facing = -1 && Enemy, Facing = -1))*2)
y = 0.3

[State 1880, 5]
type = VelSet
trigger1 = (Pos Y >= -5 && Time >= 10) 
x = 0
y = 0

[State 1880, 6]
type = PosSet
trigger1 = (Pos Y >= -5 && Time >= 10) 
y = 0

[State 1880, 7]
type = ChangeState
trigger1 = (Pos Y >= -5 && Time >= 10) 
Value = 1850

[State 1880, 8]
type = SelfState
trigger1 = Enemy, Var(21) <= 11 || Life = 0
Value = 5050

;??????
[Statedef 1890]                                       
ctrl = 0                         

[State 1890, 1]
type = PlaySnd
trigger1 = time = 5 && Parent, Var(20) >= 2
value = s1270,4
persistent = 0

[State 52, Helper]
type = Helper
trigger1 = time = 5
stateno = 8201


[State 52, Helper]
type = Helper
trigger1 = Parent, Var(22) = 16 || P2Movetype = H && (P2StateNo != [1840,1899])
stateno = 8201


[State 1890, 15]
type = DestroySelf
trigger1 = Parent, Var(22) = 0

;????????
[Statedef 1895]                   
movetype= H                                                                                    

[State 1895, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 1895, 2]
type = SelfState
trigger1 = Time = 0
Value = 0+(Pos Y != 0)*52
Ctrl = 1

;---------------------------------------------------------------------------

[Statedef 21272]
type    = A
movetype= H
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = -8,-4
;anim = 11282
sprpriority = 2
;facep2 = 1

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8201

[State 11270]
type = VelAdd
trigger1 = 1
y = 0.4
x = -0.2

[State 11265]
type = Changeanim
trigger1 = Time = 0
value = 5050

[State 226, 4]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 25)
trigger1 = alive
value = 21273

[State 226, 5]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 0
value = 5100

;---------------------------------------------------------
; Hit by SSP - Recover
[Statedef 21273]
type    = A
movetype= I
physics = N
anim = 5210

[State 227, 1]
type = VelSet
trigger1 = Time = 0
y = -3

[State 9910, PosSet]
type = PosSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -5

[State 1300, 6]
type = PalFX
triggerall = name = "Dhalsim"
trigger1 = animelem = 1
time = 18
sinadd =  255,255,255,43
ignorehitpause = 0

[State 5100, 10]
type = PlaySnd
triggerall = name = "Dhalsim"
trigger1 = Time = 1
value = S3,0

[State 9910, VelSet]
type = VelSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -2
x = 0

[State 9910, VelAdd]
type = VelAdd
triggerall = name = "Dhalsim"
trigger1 = time = 1
y = 0

[State 227, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x > 0
x = 5

[State 227, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x < 0
x = -5

[State 227, 4]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 227, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 227, 6]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 52
ctrl = 1


;------------------------------------------------------------------------------------------------------------
;Spirit Helper End
[Statedef 21279] 
type = A
movetype = I
physics = N
anim = 21275
ctrl = 0
sprpriority = 3
velset = 0,0
hitcountpersist = 1

[State 21279]
type = ParentVarset
trigger1 = Time = 0
var(1) = 2



[State 21279]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21279]
type = null;AssertSpecial
trigger1 = Time%2 = 0
flag = invisible

[State 21279]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = movecontact && isHelper(21271)


;------------------------------------------------------------------------------------------------------------
;Sarcophagus Helper
[Statedef 21450] 
type = A
movetype = A
physics = N
;anim = 21275
ctrl = 0
sprpriority = 3
velset = 0,9
hitcountpersist = 1


[State 21450]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 21450
value = 21450


[State 21450]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21450]
type = VelAdd
trigger1 = 1
y = 0.4

[State 21450]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21450]
type = HitOverride
trigger1 = 1
stateno = 21450
attr = SCA,AP
slot = 0
time = -1

[State 21450]
type = HitDef
trigger1 = time = 0
attr = A, SP
animtype  = Hard
damage = 125,2
guardflag = MA
hitflag = MAFD
pausetime = 0,7
guard.pausetime = 0,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-5
hitsound = S5+parent,var(39),3
guardsound = S6+parent,var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .88
down.velocity = -6,-7
ground.velocity = -15,0
guard.velocity = -14
air.velocity = -10,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 125)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 21450]
type = ChangeState
trigger1 = MoveContact 
value = 21459

[State 21450]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 21458

[State 21450]
type = DestroySelf
trigger1 = Time = 360


;------------------------------------------------------------------------------------------------------------
;Sarcophagus Helper End
[Statedef 21458] 
type = S
movetype = I
physics = N
;anim = 21451
ctrl = 0
sprpriority = 3
velset = 0,0
;hitcountpersist = 1



[State 21458]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21458]
type = PlaySnd
trigger1 = Time = 1
value = 0,8


[State 21458]
type = EnvShake
trigger1 = Time = 1
time = 15
freq = 70
ampl = -4

[State 21458]
type = ChangeAnim
trigger1 = Time = 1
value = 21451
persistent = 0


[State 21458]
type = VelSet
trigger1 = AnimElem = 5
y = -7
persistent = 0

[State 21458]
type = VelAdd
trigger1 = Vel Y < 0
y = -0.4

[State 21458]
type = DestroySelf
trigger1 = Pos Y < -434
trigger2 = Time = 240

;------------------------------------------------------------------------------------------------------------
;Sarcophagus Helper End
[Statedef 21459] 
type = S
movetype = I
physics = N
;anim = 21451
ctrl = 0
sprpriority = 3
velset = 0,0
;hitcountpersist = 1

[State 21458]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21458]
type = ChangeAnim
trigger1 = Time = 1
value = 21451
persistent = 0


[State 21458]
type = VelSet
trigger1 = AnimElem = 5
y = -7
persistent = 0

[State 21458]
type = VelAdd
trigger1 = Vel Y < 0
y = -0.4

[State 21458]
type = DestroySelf
trigger1 = Pos Y < -584
trigger2 = Time = 240

;------------------------------------------------------------------------------------------------------------
;Sarcophagus Helper
[Statedef 23001] 
type = A
movetype = A
physics = N
;anim = 21275
ctrl = 0
sprpriority = 3
velset = 0,9
hitcountpersist = 1


[State 21450]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 21450
value = 21450


[State 21450]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21450]
type = VelAdd
trigger1 = 1
y = 0.4

[State 21450]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21450]
type = HitOverride
trigger1 = 1
stateno = 21450
attr = SCA,AP
slot = 0
time = -1

[State 21450]
type = HitDef
trigger1 = time = 0
attr = A, SP
animtype  = Hard
air.animtype  = up
damage = 65,2
guardflag = MA
hitflag = MAF
pausetime = 0,7
guard.pausetime = 0,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-5
hitsound = S5+parent,var(39),3
guardsound = S6+parent,var(39),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 16
yaccel = .88
ground.velocity = -15,0
guard.velocity = -14
air.velocity = 0,-14
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 125)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 21450]
type = ChangeState
trigger1 = MoveContact 
value = 21459

[State 21450]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 21458

[State 21450]
type = DestroySelf
trigger1 = Time = 360

;------------------------------------------------------------------------------------------------------------
;Windy
[Statedef 23007]
type = S
movetype = I
physics = N
anim = 23007
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 23007]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23007]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23007]
type = HitBy
trigger1 = 1
value = SCA,AA,AP,AT

[State 23007]
type = HitOverride
trigger1 = 1
stateno = 23007
attr = SCA,AA,AP,AT
slot = 0
time = -1

[State 23007]
type = DestroySelf
trigger1 = Parent,stateno != 3001


[State 23007]
type = BindToParent
trigger1 = 1


;------------------------------------------------------------------------------------------------------------
;Cobra Head
[Statedef 23021] 
type = A
movetype = A
physics = N
;anim = 21270
ctrl = 0
sprpriority = 3
velset = 0,0
hitcountpersist = 1
movehitpersist = 1

[State 23021]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23020
value = 23020


[State 23021]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3040,1


[State 23021]
type = Helper
trigger1 = ParentDist X < -8
stateno = 23024
ownpal = 1
persistent = 0


[State 23021]
type = VelSet
trigger1 = Time = 0
x = 12

[State 23021]
type = null;VelAdd
trigger1 = Vel X > 0
x = 0.3


[State 23021]
type = null;VelAdd
trigger1 = Vel X < 0
x = -0.3

[State 23021]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23021]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 23021]
type = HitOverride
trigger1 = 1
stateno = 23021
attr = SCA,AP
slot = 0
time = -1


[State 23021]
type = HitDef
attr = A, HP
trigger1 = Time%77 = 0
damage = 10,1
animtype = Hard
priority  = 3, Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,5
guard.pausetime = 2,5
sparkxy = -10,-10
hitsound   = -1
guardsound = -1
sparkno = S9999
guard.sparkno = S8050
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -13
air.velocity = -7
down.velocity = -6,-7
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.99
ID = 2+4
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = 3

[state 200, 1]
type = playsnd
trigger1 = movehit
value = s5+parent,var(39),3
channel = 5
volume = 90
volumescale = 90
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
trigger1 = moveguarded
value = s6+parent,var(39),0
channel = 5
volume = 90
volumescale = 90
ignorehitpause = 1
persistent = 0

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = parent,movecontact
ignorehitpause = 1

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23021]
type = Varset
trigger1 = time = 0
var(0) = 7

[State 23021]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 23021]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded


[State 23021]
type = VelSet
trigger1 = FrontEdgeDist < 15
x = -12

[State 23021]
type = VelSet
trigger1 = ParentDist X > 20+Vel X
trigger1 = Vel X < 0
x = 0


[State 23021]
type = DestroySelf
trigger1 = Vel X = 0
trigger2 = ParentDist X > 20+Vel X


[State 23021]
type = ChangeState
trigger1 = AnimTime = 0
value = 23022
ctrl = 0

;------------------------------------------------------------------------------------------------------------
;Cobra Head
[Statedef 23022] 
type = A
movetype = A
physics = N
;anim = 21270
ctrl = 0
sprpriority = 3
velset = 0,0
hitcountpersist = 1
movehitpersist = 1


[State 23022]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23021
value = 23021

[State 23021]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3040,1


[State 23022]
type = null;Helper
trigger1 = ParentDist X < -8
stateno = 23024
ownpal = 1
persistent = 0


[State 23022]
type = VelSet
trigger1 = Time = 0
x = 12

[State 23022]
type = null;VelAdd
trigger1 = Vel X > 0
x = 0.3


[State 23022]
type = null;VelAdd
trigger1 = Vel X < 0
x = -0.3

[State 23022]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23022]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 23022]
type = HitOverride
trigger1 = 1
stateno = 23021
attr = SCA,AP
slot = 0
time = -1


[State 23022]
type = HitDef
attr = A, HP
trigger1 = Time%77 = 0
damage = 10,1
animtype = Hard
priority  = 3, Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,5
guard.pausetime = 2,5
sparkxy = -10,-10
hitsound   = -1
guardsound = -1
sparkno = S9999
guard.sparkno = S8050
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -13
down.velocity = -6,-7
air.velocity = -7
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.99
ID = 2+4
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = 3

[state 200, 1]
type = playsnd
trigger1 = movehit
value = s5+parent,var(39),3
channel = 5
volume = 90
volumescale = 90
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
trigger1 = moveguarded
value = s6+parent,var(39),0
channel = 5
volume = 90
volumescale = 90
ignorehitpause = 1
persistent = 0

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = parent,movecontact
ignorehitpause = 1

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23022]
type = Varset
trigger1 = time = 0
var(0) = 7

[State 23022]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 23022]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded

[State 23022]
type = VelSet
trigger1 = FrontEdgeDist < 15
x = -12

[State 23022]
type = VelSet
trigger1 = ParentDist X > 20+Vel X
trigger1 = Vel X < 0
x = 0


[State 23022]
type = DestroySelf
trigger1 = Vel X = 0
trigger2 = ParentDist X > 20+Vel X


[State 23022]
type = ChangeState
trigger1 = Vel X < 0
value = 23023
ctrl = 0

;------------------------------------------------------------------------------------------------------------
;Cobra Head
[Statedef 23023] 
type = A
movetype = A
physics = N
;anim = 21270
ctrl = 0
sprpriority = 3
velset = 0,0
hitcountpersist = 1
movehitpersist = 1

[State 23023]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23022
value = 23022

[State 23021]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3040,1


[State 23023]
type = null;Helper
trigger1 = ParentDist X < -8
stateno = 23024
ownpal = 1
persistent = 0


[State 23023]
type = VelSet
trigger1 = Time = 0
x = 12

[State 23023]
type = null;VelAdd
trigger1 = Vel X > 0
x = 0.3


[State 23023]
type = null;VelAdd
trigger1 = Vel X < 0
x = -0.3

[State 23023]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23023]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 23023]
type = HitOverride
trigger1 = 1
stateno = 23021
attr = SCA,AP
slot = 0
time = -1


[State 23023]
type = HitDef
attr = A, HP
trigger1 = Time%77 = 0
damage = 10,1
animtype = Hard
priority  = 3, Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,5
guard.pausetime = 2,5
sparkxy = -10,-10
hitsound   = -1
guardsound = -1
sparkno = S9999
guard.sparkno = S8050
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -13
air.velocity = -7
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.velocity = -6,-7
yaccel = 0.99
ID = 2+4
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = 3

[state 200, 1]
type = playsnd
trigger1 = movehit
value = s5+parent,var(39),3
channel = 5
volume = 90
volumescale = 90
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
trigger1 = moveguarded
value = s6+parent,var(39),0
channel = 5
volume = 90
volumescale = 90
ignorehitpause = 1
persistent = 0

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = parent,movecontact
ignorehitpause = 1

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23023]
type = Varset
trigger1 = time = 0
var(0) = 7

[State 23023]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 23023]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded


[State 23023]
type = VelSet
trigger1 = FrontEdgeDist < 15
x = -12

[State 23023]
type = VelSet
trigger1 = ParentDist X > 20+Vel X
trigger1 = Vel X < 0
x = 0


[State 23023]
type = DestroySelf
trigger1 = Vel X = 0
trigger2 = ParentDist X > 20+Vel X

;------------------------------------------------------------------------------------------------------------
;Cobra Body
[Statedef 23024] 
type = A
movetype = I
physics = N
;anim = 9800
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 23024]
type = Varset
trigger1 = Time = 0
var(1) = parent,id

[State 23024]
type = DestroySelf
trigger1 = !PlayerIDExist(var(1))

[State 23024]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23024
value = 23024
elem = Parent,AnimElemNo(0)


[State 23024]
type = ChangeAnim
trigger1 = Parent,AnimElemNo(0) != AnimElemNo(0)
value = anim
elem = Parent,AnimElemNo(0)

[State 23024]
type = ChangeAnim
trigger1 = RootDist X < -32 && Parent,Vel X > 0
value = anim+1

[State 23024]
type = ChangeAnim
trigger1 = RootDist X > 0 && Parent,Vel X < 0
value = anim-1



[State 23024]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23024]
type = AssertSpecial
trigger1 = anim < 23024
flag = invisible

[State 23024]
type = BindToParent
trigger1 = PlayerIDExist(var(1))
pos = -28*(Anim-23023),0

[State 23024]
type = null;DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = Time = 240



;------------------------------------------------------------------------------------------------------------
;Sacro Field
[Statedef 23027]
type = S
movetype = I
physics = N
anim = 23037
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 23027]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23027]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23027]
type = HitBy
trigger1 = 1
value = SCA,AA,AP,AT

[State 23027]
type = HitOverride
trigger1 = 1
stateno = 23007
attr = SCA,AA,AP,AT
slot = 0
time = -1

[State 23027]
type = DestroySelf
trigger1 = Parent,stateno != [3021,3023]


[State 23027]
type = BindToParent
trigger1 = 1


;---------------------------------------------------------------------------
;Eternal Slumber
[Statedef 23040]
type    = S
movetype= I
physics = N
juggle  = 4
velset = 0,0
anim = 23040
poweradd= 0
ctrl = 0
sprpriority = 3
;facep2 = 1

[State 23040]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23040]
type = ChangeAnim
trigger1 = Parent,stateno = 3041
trigger1 = Parent,AnimElem = 9
value = 23040
elem = 7
persistent = 0

[State 23040]
type = ChangeAnim
trigger1 = Parent,stateno = 3041
trigger1 = Parent,AnimElem = 1, = 1
value = 23040
elem = 5


[State 23040]
type = DestroySelf
trigger1 = Root,MoveType = H
trigger2 = AnimElem = 11, >= 3

;---------------------------------------------------------------------------
;Eternal Slumber
[Statedef 23041]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,3
;anim = 23041
ctrl = 0
sprpriority = 3
;facep2 = 1


[State 23041]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23041
value = 23041


[State 23041]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23041]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23051)
stateno = 23051
id = 23051
ownpal = 1


[State 23041]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23052)
stateno = 23052
id = 23052
ownpal = 1

[State 23041]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23053)
stateno = 23053
id = 23053
ownpal = 1


[State 23041]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23054)
stateno = 23054
id = 23054
ownpal = 1

[State 23041]
type = NotHitBy
trigger1 = 1
value = SCA;AP

[State 23041]
type = null;HitOverride
trigger1 = 1
stateno = 23041
attr = SCA,AP
slot = 0
time = -1

[State 23041]
type = HitDef
attr = A, HP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 50,1
animtype = Medium
air.animtype  = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 7,157
guard.pausetime = 7,10
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 60
ground.velocity = -5
guard.velocity = -14
air.velocity = -5
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.88
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = 3
palfx.time = 132
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
kill = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 23041]
type = PlaySnd
trigger1 = MoveHit
value = 3040,1
persistent = 0

[State 23041]
type = DestroySelf
trigger1 = Root,MoveType = H
trigger2 = MoveContact
trigger3 = Pos Y >= 0
trigger3 = Vel Y > 0

;---------------------------------------------------------------------------
;Eternal Slumber
[Statedef 23042]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 4,4
;anim = 23042
ctrl = 0
sprpriority = 3
facep2 = 1


[State 23042]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23042
value = 23042


[State 23042]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23042]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23051)
stateno = 23051
id = 23051
ownpal = 1


[State 23042]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23052)
stateno = 23052
id = 23052
ownpal = 1

[State 23042]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23053)
stateno = 23053
id = 23053
ownpal = 1


[State 23042]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23054)
stateno = 23054
id = 23054
ownpal = 1

[State 23042]
type = NotHitBy
trigger1 = 1
value = SCA;AP

[State 23042]
type = null;HitOverride
trigger1 = 1
stateno = 23041
attr = SCA,AP
slot = 0
time = -1

[State 23042]
type = HitDef
attr = A, HP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 50,1
animtype = Medium
air.animtype  = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 7,157
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 60
ground.velocity = -5
air.velocity = -5
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.88
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = 3
palfx.time = 132
palfx.add = 0,50,220
palfx.sinadd = 160,55,55,3
palfx.color = 0
kill = 0
guard.kill = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23042]
type = PlaySnd
trigger1 = MoveHit
value = 3040,2
persistent = 0

[State 23042]
type = DestroySelf
trigger1 = Root,MoveType = H
trigger2 = MoveContact
trigger3 = Pos Y >= 0
trigger3 = Vel Y > 0

;---------------------------------------------------------------------------
;Eternal Slumber
[Statedef 23043]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 4,4
;anim = 23043
ctrl = 0
sprpriority = 3
facep2 = 1


[State 23043]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23043
value = 23043


[State 23043]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23043]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23051)
stateno = 23051
id = 23051
ownpal = 1


[State 23043]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23052)
stateno = 23052
id = 23052
ownpal = 1

[State 23043]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23053)
stateno = 23053
id = 23053
ownpal = 1


[State 23043]
type = Helper
trigger1 = Time = 0
;trigger1 = !NumHelper(23054)
stateno = 23054
id = 23054
ownpal = 1

[State 23043]
type = NotHitBy
trigger1 = 1
value = SCA;AP

[State 23043]
type = null;HitOverride
trigger1 = 1
stateno = 23041
attr = SCA,AP
slot = 0
time = -1

[State 23043]
type = HitDef
attr = A, HP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 50,1
animtype = Medium
air.animtype  = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 7,157
sparkxy = -10,-10
hitsound   = s5+parent,var(39),3
guardsound = s6+parent,var(39),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 60
ground.velocity = -5
air.velocity = -5
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.88
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = 3
palfx.time = 62
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
kill = 0
guard.kill = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23043]
type = PlaySnd
trigger1 = MoveHit
value = 3040,3
persistent = 0


[State 23043]
type = ParentVarSet
trigger1 = MoveContact || Time > 1
var(1) = 1
persistent = 0

[State 23043]
type = DestroySelf
trigger1 = Root,MoveType = H
trigger2 = MoveContact
trigger3 = Pos Y >= 0
trigger3 = Vel Y > 0



;---------------------------------------------------------------------------
;Spirit
[Statedef 23051]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 23055;23051
ctrl = 0
sprpriority = 4
facep2 = 1


[State 23051]
type = Varset
trigger1 = Time = 0
var(1) = parent,id

[State 23051]
type = ChangeState
trigger1 = !PlayerIDExist(var(1))
trigger2 = Root,MoveType = H
value = 23059


[State 23051]
type = VarSet
trigger1 = Time = 0 || AnimTime = 0
fvar(0) = 0

[State 23051]
type = VarAdd
trigger1 = 1
fvar(0) = 1

[State 23051]
type = BindToParent
trigger1 = PlayerIDExist(var(1))
pos = -10*cos(fvar(0)*(pi/14))-10,23*sin(fvar(0)*(pi/14))-35

[State 23051]
type = AssertSpecial
trigger1 = 1
flag = noshadow



;---------------------------------------------------------------------------
;Spirit
[Statedef 23052]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 23056;23059
ctrl = 0
sprpriority = 4
facep2 = 1


[State 23052]
type = Varset
trigger1 = Time = 0
var(1) = parent,id

[State 23052]
type = ChangeState
trigger1 = !PlayerIDExist(var(1))
trigger2 = Root,Stateno != 3041
value = 21279

[State 23052]
type = VarSet
trigger1 = Time = 0 || AnimTime = 0
fvar(0) = 0

[State 23052]
type = VarAdd
trigger1 = 1
fvar(0) = 1

[State 23052]
type = BindToParent
trigger1 = PlayerIDExist(var(1))
pos = -10*cos(fvar(0)*(pi/14)),23*sin(fvar(0)*(pi/14))

[State 23052]
type = AssertSpecial
trigger1 = 1
flag = noshadow


;---------------------------------------------------------------------------
;Spirit
[Statedef 23053]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 23055;23059
ctrl = 0
sprpriority = -1
facep2 = 1


[State 23053]
type = Varset
trigger1 = Time = 0
var(1) = parent,id

[State 23053]
type = ChangeState
trigger1 = !PlayerIDExist(var(1))
trigger2 = Root,MoveType = H
value = 23059

[State 23053]
type = VarSet
trigger1 = Time = 0 || AnimTime = 0
fvar(0) = 0

[State 23053]
type = VarAdd
trigger1 = 1
fvar(0) = 1

[State 23053]
type = BindToParent
trigger1 = PlayerIDExist(var(1))
pos = 10*cos(fvar(0)*(pi/14))+10,-23*sin(fvar(0)*(pi/14))+35


[State 23053]
type = AssertSpecial
trigger1 = 1
flag = noshadow


;---------------------------------------------------------------------------
;Spirit
[Statedef 23054]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 23056;23054
ctrl = 0
sprpriority = -1
facep2 = 1

[State 23054]
type = Varset
trigger1 = Time = 0
var(1) = parent,id

[State 23054]
type = ChangeState
trigger1 = !PlayerIDExist(var(1))
trigger2 = Root,MoveType = H
value = 23059


[State 23054]
type = VarSet
trigger1 = Time = 0 || AnimTime = 0
fvar(0) = 0

[State 23054]
type = VarAdd
trigger1 = 1
fvar(0) = 1

[State 23054]
type = BindToParent
trigger1 = PlayerIDExist(var(1))
pos = -10*cos(fvar(0)*(pi/14)),-23*sin(fvar(0)*(pi/14))

[State 23054]
type = AssertSpecial
trigger1 = 1
flag = noshadow


;------------------------------------------------------------------------------------------------------------
;Sarcophagus Helper
[Statedef 23057] 
type = A
movetype = A
physics = N
;anim = 23057
ctrl = 0
sprpriority = 3
velset = 0,7
hitcountpersist = 1


[State 23057]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23057
value = 23057


[State 23057]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23057]
type = VelAdd
trigger1 = 1
y = 0.4

[State 23057]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 23057]
type = HitOverride
trigger1 = 1
stateno = 23045
attr = SCA,AP
slot = 0
time = -1

[State 23057]
type = HitDef
attr = A, HP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 110,1
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,4
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 60
ground.velocity = 0,2
yaccel = 0.99
air.velocity = 0,2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,50,0)
sprpriority = 3

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23057]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 23058

[State 23057]
type = DestroySelf
trigger1 = Time = 360


;------------------------------------------------------------------------------------------------------------
;Sarcophagus Helper End
[Statedef 23058] 
type = S
movetype = I
physics = N
;anim = 21451
ctrl = 0
sprpriority = 3
velset = 0,0
;hitcountpersist = 1


[State 23058]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23058]
type = PlaySnd
trigger1 = Time = 1
value = 0,9


[State 23057]
type = ChangeAnim
trigger1 = Time = 7
value = 23058
persistent = 0


[State 23058]
type = VelSet
trigger1 = AnimElem = 4
y = -7
persistent = 0

[State 23058]
type = VelAdd
trigger1 = Vel Y < 0
y = -0.4

[State 23058]
type = DestroySelf
trigger1 = Pos Y < -384
trigger2 = Time = 240


;------------------------------------------------------------------------------------------------------------
;Spirit Helper End
[Statedef 23059]
type = A
movetype = I
physics = N
anim = 21275
ctrl = 0
sprpriority = 3
velset = 0,0
hitcountpersist = 1

[State 23059]
type = ParentVarset
trigger1 = Time = 0
var(1) = 2


[State 23059]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23059]
type = null;AssertSpecial
trigger1 = Time%2 = 0
flag = invisible

[State 23059]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23061] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0


[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 23061]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23061]
type = BindToParent
trigger1 = Time < 100
pos = -132,-96


[State 23061]
type = BindToParent
trigger1 = Parent,Pos Y = 0
pos = -132,-96

[State 23061]
type = AngleDraw
trigger1 = Time < 30
value = 0
scale = 0.04*Time,0.04*Time


[State 23061]
type = AngleDraw
trigger1 = Time = 30
value = 0
scale = 1,1

[State 23061]
type = Trans
trigger1 = Time < 30
trans = add1
;alpha = time, 256-time


[State 23061]
type = ChangeState
trigger1 = Parent,Pos Y = 0
trigger2 = Time = 30
value = 23063

;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23062] 
type = S
movetype = A
physics = N
;anim = 23061
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 23062]
type = Turn
trigger1 = Time = 0


[State 23062]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23062]
type = null;Helper
trigger1 = Time = 0
stateno = 23075

[State 23062]
type = BindToParent
trigger1 = Time < 100
pos = 132,-96


[State 23062]
type = BindToParent
trigger1 = Parent,Pos Y = 0
pos = 132,-96

[State 23062]
type = AngleDraw
trigger1 = Time < 30
value = 0
scale = 0.04*Time,0.04*Time


[State 23062]
type = AngleDraw
trigger1 = Time = 30
value = 0
scale = 1,1

[State 23062]
type = Trans
trigger1 = Time < 30
trans = add1
;alpha = time, 256-time


[State 23062]
type = ChangeState
trigger1 = Parent,Pos Y = 0
trigger2 = Time = 30
value = 23064




;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23063] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0
hitcountpersist = 1


[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060


[State 23063]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 23063]
type = HitBy
trigger1 = 1
value = SCA,AP,AA

[State 23063]
type = HitOverride
trigger1 = 1
stateno = 23063
attr = SCA,AP,AA
slot = 0
time = -1

[State 23063]
type = ChangeState
triggerall = var(2)
triggerall = Parent,command = "holddown"
trigger1 = Parent,command = "a" || Parent,command = "b" 
trigger2 = Parent,command = "x" || Parent,command = "y" 
value = 23084
ctrl = 0


[State 23063]
type = ChangeState
triggerall = Parent,command = "holdup"
trigger1 = Parent,command = "a" || Parent,command = "b" 
trigger2 = Parent,command = "x" || Parent,command = "y" 
value = 23083
ctrl = 0

[State 23063]
type = ChangeState
trigger1 = Parent,command = "x" || Parent,command = "y" 
value = 23081
ctrl = 0


[State 23063]
type = ChangeState
trigger1 = Parent,command = "a" || Parent,command = "b" 
value = 23082
ctrl = 0




[State 23063]
type = DestroySelf
trigger1 = Parent,Stateno != 3061

[State 23063]
type = BindToParent
trigger1 = 1
pos = -132,-96



;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23064] 
type = S
movetype = A
physics = N
;anim = 23061
ctrl = 0
sprpriority = -1
velset = 0,0
hitcountpersist = 1


[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060


[State 23064]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 23064]
type = HitBy
trigger1 = 1
value = SCA,AP,AA

[State 23064]
type = HitOverride
trigger1 = 1
stateno = 23064
attr = SCA,AP,AA
slot = 0
time = -1



[State 23064]
type = ChangeState
triggerall = Parent,command = "holddown"
trigger1 = Parent,command = "z"
trigger2 = Parent,command = "c"
value = 23094
ctrl = 0

[State 23064]
type = ChangeState
triggerall = Parent,command = "holdup"
trigger1 = Parent,command = "c"
trigger2 = Parent,command = "z"
value = 23093
ctrl = 0

[State 23064]
type = ChangeState
trigger1 = Parent,command = "z"
value = 23091
ctrl = 0

[State 23064]
type = ChangeState
trigger1 = Parent,command = "c"
value = 23092
ctrl = 0

[State 23064]
type = DestroySelf
trigger1 = Parent,Stateno != 3061

[State 23064]
type = BindToParent
trigger1 = 1
pos = 132,-96


;------------------------------------------------------------------------------------------------------------
;Illusion
[Statedef 23075]
type = S
movetype = I
physics = N
anim = 23075
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 23075]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23075]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23075]
type = HitBy
trigger1 = 1
value = SCA,AA,AP

[State 23075]
type = HitOverride
trigger1 = 1
stateno = 23075
attr = SCA,AA,AP
slot = 0
time = -1

[State 23075]
type = DestroySelf
trigger1 = Root,Stateno != 3061


[State 23075]
type = BindToParent
trigger1 = 1


;------------------------------------------------------------------------------------------------------------
;Illusion
[Statedef 23077]
type = S
movetype = I
physics = N
anim = 23077
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 23077]
type = VarSet
trigger1 = Time = 0
var(1) = Parent,Stateno


[State 23077]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23077]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23077]
type = HitBy
trigger1 = 1
value = SCA,AA,AP

[State 23077]
type = HitOverride
trigger1 = 1
stateno = 23077
attr = SCA,AA,AP
slot = 0
time = -1

[State 23077]
type = DestroySelf
trigger1 = Parent,stateno != var(1)


[State 23077]
type = BindToParent
trigger1 = 1


;------------------------------------------------------------------------------------------------------------
;Illusion
[Statedef 23078]
type = S
movetype = I
physics = N
anim = 23078
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 23078]
type = VarSet
trigger1 = Time = 0
var(1) = Parent,Stateno


[State 23078]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23078]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23078]
type = HitBy
trigger1 = 1
value = SCA,AA,AP

[State 23078]
type = HitOverride
trigger1 = 1
stateno = 23078
attr = SCA,AA,AP
slot = 0
time = -1

[State 23078]
type = DestroySelf
trigger1 = Parent,stateno != var(1)


[State 23078]
type = BindToParent
trigger1 = 1


;---------------------------------------------------------------------------
;Custom Bound
[Statedef 23079]
type    = A
movetype= H
physics = N
velset = -7,-7
;poweradd = 60



[State 23079]
type = ChangeAnim2
trigger1 = Time = 0
value = 823


[State 23079] ;Gravity
type = VelAdd
trigger1 = 1
y = .4


[State 23079]
type = ScreenBound
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,0


[State 23079]
type = Turn
trigger1 = BackEdgeBodyDist < 15
trigger2 = FrontEdgeBodyDist < 15
persistent = 0

[State 23079]
type = VelSet
trigger1 = BackEdgeBodyDist < 15
trigger2 = FrontEdgeBodyDist < 15
x = -7
persistent = 0

[State 23079] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground

;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23081] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060


[State 23081]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23084]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23081]
type = NotHitBy
trigger1 = 1
value = SCA


[State 23081]
type = HitDef
attr = A, HA
triggerall = Time%3 = 0
trigger1 = Vel X != 0 && Vel Y != 0 && !var(2) 
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 44,3
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 9,9
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 30
ground.velocity = -7,-8
air.velocity = -7,-9
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.velocity = -6,-7
fall = 1
air.fall = 1
fall.recover = 0
yaccel = 0.99
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = -1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 23081]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23081]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23081]
type = VarAdd
trigger1 = !var(2) && var(1) < 45
var(1) = 1

[State 23081]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23081]
type = VelSet
trigger1 = Time = 5
x = -16-(BackEdgeDist+100)*0.04
y = (-Pos Y - 116)*0.04

[State 23081]
type = VelSet
trigger1 = BackEdgeDist < 60
x = 16
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2


[State 23081]
type = VarSet
trigger1 = ParentDist X < 0 && Vel X > 0
var(2) = 1
persistent = 0



[State 23081]
type = VelSet
trigger1 = var(2)
x = (ParentDist X -132)*0.29
y = (ParentDist Y -96)*0.29

[State 23081]
type = VarAdd
trigger1 = var(2) && var(1) > 0
var(1) = -1

[State 23081]
type = ChangeState
trigger1 = var(2)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23063
ctrl = 0

[State 23081]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23084
ctrl = 0


[State 23081]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23083
ctrl = 0

[State 23081]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23081
ctrl = 0

[State 23081]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Root,var(59) && random < 100
value = 23082
ctrl = 0

[State 23081]
type = DestroySelf
trigger1 = Parent,Stateno != 3061


;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23082] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2

[State 23082]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23084]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23082]
type = NotHitBy
trigger1 = 1
value = SCA

[State 23081]
type = HitDef
attr = A, HA
triggerall = Time%3 = 0
trigger1 = Vel X != 0 && Vel Y != 0 && !var(2) 
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 44,3
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 9,9
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 30
ground.velocity = -7,-8
air.velocity = -7,-9
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.velocity = -6,-7
fall = 1
air.fall = 1
fall.recover = 0
yaccel = 0.99
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = -1


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23082]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23082]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23082]
type = VarAdd
trigger1 = !var(2) && var(1) < 45
var(1) = 1

[State 23082]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23082]
type = VelSet
trigger1 = Time = 5
x = -16-(BackEdgeDist+100)*0.04
y = (-Pos Y - 16)*0.04

[State 23082]
type = VelSet
trigger1 = BackEdgeDist < 60
x = 16
y = 0


[State 23082]
type = VarSet
trigger1 = ParentDist X < 0 && Vel X > 0
var(2) = 1
persistent = 0



[State 23082]
type = VelSet
trigger1 = var(2)
x = (ParentDist X -132)*0.29
y = (ParentDist Y -96)*0.29

[State 23082]
type = VarAdd
trigger1 = var(2) && var(1) > 0
var(1) = -1


[State 23082]
type = ChangeState
trigger1 = var(2)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23063
ctrl = 0


[State 23082]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23084
ctrl = 0


[State 23082]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23083
ctrl = 0

[State 23082]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23081
ctrl = 0

[State 23082]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Root,var(59) && random < 100
value = 23082
ctrl = 0

[State 23082]
type = DestroySelf
trigger1 = Parent,Stateno != 3061


;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23083] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2

[State 23083]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23083]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23083]
type = NotHitBy
trigger1 = 1
value = SCA


[State 23083]
type = HitDef
attr = A, HA
triggerall = Time%3 = 0
trigger1 = Vel X != 0 && !var(2)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 44,3
animtype = up
air.animtype = up
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 9,9
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 16
ground.hittime = 19
air.hittime = 26
guard.hittime = 17
yaccel = .88
ground.velocity = 0,-15
guard.velocity = -14
guard.cornerpush.veloff = -16
ground.cornerpush.veloff = 0
air.velocity = 0,-15
airguard.velocity = -10.5,3
down.velocity = -6,-7
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1
yaccel = 0.99
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = -1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23083]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23083]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23083]
type = VarAdd
trigger1 = !var(2) && var(1) < 120
var(1) = 2

[State 23083]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23083]
type = VelSet
trigger1 = Time = 5
x = (-BackEdgeDist+70)*0.04
y = -20

[State 23083]
type = VelSet
trigger1 = ScreenPos Y < -30
x = 0
y = 20


[State 23083]
type = VarSet
trigger1 = ParentDist Y < 6 && Vel Y > 0
var(2) = 1
persistent = 0



[State 23083]
type = VelSet
trigger1 = var(2)
x = (ParentDist X -132)*0.24
y = (ParentDist Y -96)*0.24

[State 23083]
type = VarAdd
trigger1 = var(2) && var(1) > 0
var(1) = -1


[State 23083]
type = ChangeState
trigger1 = var(2) && !var(1)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23063
ctrl = 0



[State 23083]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23084
ctrl = 0


[State 23083]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23083
ctrl = 0

[State 23083]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23081
ctrl = 0

[State 23083]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Root,var(59) && random < 100
value = 23082
ctrl = 0


[State 23083]
type = DestroySelf
trigger1 = Parent,Stateno != 3061


;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23084] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2

[State 23084]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23084]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23084]
type = NotHitBy
trigger1 = 1
value = SCA


[State 23084]
type = HitDef
attr = A, HA
triggerall = Time%3 = 0
trigger1 = Vel X != 0 && !var(2)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 44,3
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 9,9
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 30
ground.velocity = 0,2
air.velocity = 0,2
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
down.velocity = -6,-7
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = 0.99
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = -1


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23084]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23084]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23084]
type = VarAdd
trigger1 = !var(2) && var(1) > -45
var(1) = -1

[State 23084]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23084]
type = VelSet
trigger1 = Time = 5
x = (-BackEdgeDist+70)*0.04
y = -20

[State 23084]
type = VelSet
trigger1 = ScreenPos Y < -30
x = 0
y = 20


[State 23084]
type = VarSet
trigger1 = ParentDist Y < 6 && Vel Y > 0
var(2) = 1
persistent = 0



[State 23084]
type = VelSet
trigger1 = var(2)
x = (ParentDist X -132)*0.24
y = (ParentDist Y -96)*0.24

[State 23084]
type = VarAdd
trigger1 = var(2) && var(1) < 0
var(1) = 1

[State 23084]
type = ChangeState
trigger1 = var(2) && !var(1)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23063
ctrl = 0


[State 23084]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23084
ctrl = 0


[State 23084]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23083
ctrl = 0

[State 23084]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23081
ctrl = 0

[State 23084]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Root,var(59) && random < 100
value = 23082
ctrl = 0


[State 23084]
type = DestroySelf
trigger1 = Parent,Stateno != 3061



;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23087] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2

[State 23087]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23087]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23087]
type = NotHitBy
trigger1 = 1
value = SCA


[State 23087]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23087]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23087]
type = VarAdd
trigger1 = !var(2) && var(1) > -45
var(1) = -1

[State 23087]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23087]
type = VelSet
trigger1 = Time = 5
x = 0
y = -20

[State 23087]
type = VelSet
trigger1 = ScreenPos Y < -20
x = 0
y = 20


[State 23087]
type = VarSet
trigger1 = ParentDist Y < 96
var(2) = 1
persistent = 0



[State 23087]
type = VelSet
trigger1 = var(2)
;x = (ParentDist X -132)*0.01
y = (ParentDist Y -96)*0.03

[State 23087]
type = VarAdd
trigger1 = var(2) && var(1) < 0
var(1) = 1

[State 23087]
type = ChangeState
trigger1 = var(2) && !var(1)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23063
ctrl = 0


[State 23087]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23084
ctrl = 0


[State 23087]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "a" || Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23083
ctrl = 0

[State 23087]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "x"
trigger2 = Root,var(59) && random < 100
value = 23081
ctrl = 0

[State 23087]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Root,var(59) && random < 100
value = 23082
ctrl = 0

[State 23087]
type = DestroySelf
trigger1 = Parent,Stateno != 3061


;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23091] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2

[State 23091]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23084]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23091]
type = NotHitBy
trigger1 = 1
value = SCA


[State 23091]
type = HitDef
attr = A, HA
triggerall = Time%3 = 0
trigger1 = Vel X != 0 && Vel Y != 0 && !var(2) 
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 44,3
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 9,9
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 30
ground.velocity = -7,-8
air.velocity = -7,-9
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
down.velocity = -6,-7
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = 0.99
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = -1


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23091]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23091]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23091]
type = VarAdd
trigger1 = !var(2) && var(1) < 45
var(1) = 1

[State 23091]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23091]
type = VelSet
trigger1 = Time = 5
x = -16-(BackEdgeDist+100)*0.4
y = (-Pos Y - 116)*0.04

[State 23091]
type = VelSet
trigger1 = BackEdgeDist < 60
x = 16
y = 0


[State 23091]
type = VarSet
trigger1 = ParentDist X < 0 && Vel X > 0
var(2) = 1
persistent = 0



[State 23091]
type = VelSet
trigger1 = var(2)
x = (ParentDist X -132)*0.29
y = (ParentDist Y -96)*0.29

[State 23091]
type = VarAdd
trigger1 = var(2) && var(1) > 0
var(1) = -1

[State 23091]
type = ChangeState
trigger1 = var(2)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23064
ctrl = 0

[State 23091]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "z" || Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23094
ctrl = 0


[State 23091]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "z" || Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23093
ctrl = 0

[State 23091]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "z"
trigger2 = Root,var(59) && random < 100
value = 23091
ctrl = 0

[State 23091]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23092
ctrl = 0

[State 23091]
type = DestroySelf
trigger1 = Parent,Stateno != 3061


;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23092] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2

[State 23092]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23092]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23092]
type = NotHitBy
trigger1 = 1
value = SCA


[State 23092]
type = HitDef
attr = A, HA
triggerall = Time%3 = 0
trigger1 = Vel X != 0 && Vel Y != 0 && !var(2) 
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 44,3
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 9,9
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 30
ground.velocity = -7,-8
air.velocity = -7,-9
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
down.velocity = -6,-7
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = 0.99
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = -1


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23092]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23092]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23092]
type = VarAdd
trigger1 = !var(2) && var(1) < 45
var(1) = 1

[State 23092]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23092]
type = VelSet
trigger1 = Time = 5
x = -16-(BackEdgeDist+100)*0.04
y = (-Pos Y - 16)*0.04

[State 23092]
type = VelSet
trigger1 = BackEdgeDist < 60
x = 16
y = 0


[State 23092]
type = VarSet
trigger1 = ParentDist X < 0 && Vel X > 0
var(2) = 1
persistent = 0



[State 23092]
type = VelSet
trigger1 = var(2)
x = (ParentDist X -132)*0.29
y = (ParentDist Y -96)*0.29

[State 23092]
type = VarAdd
trigger1 = var(2) && var(1) > 0
var(1) = -1


[State 23092]
type = ChangeState
trigger1 = var(2)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23064
ctrl = 0


[State 23092]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "z" || Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23094
ctrl = 0


[State 23092]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "z" || Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23093
ctrl = 0

[State 23092]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "z"
trigger2 = Root,var(59) && random < 100
value = 23091
ctrl = 0

[State 23092]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23092
ctrl = 0

[State 23092]
type = DestroySelf
trigger1 = Parent,Stateno != 3061


;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23093] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2

[State 23093]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23093]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23093]
type = NotHitBy
trigger1 = 1
value = SCA


[State 23093]
type = HitDef
attr = A, HA
triggerall = Time%3 = 0
trigger1 = Vel X != 0 && !var(2)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 44,3
animtype = up
air.animtype = up
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 9,9
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 16
ground.hittime = 19
air.hittime = 26
guard.hittime = 17
yaccel = .88
ground.velocity = 0,-15
guard.velocity = -14
guard.cornerpush.veloff = -16
ground.cornerpush.veloff = 0
down.velocity = -6,-7
air.velocity = 0,-15
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1
yaccel = 0.99
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = -1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23093]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23093]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23093]
type = VarAdd
trigger1 = !var(2) && var(1) < 120
var(1) = 2

[State 23093]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23093]
type = VelSet
trigger1 = Time = 5
x = (-BackEdgeDist+70)*0.04
y = -20

[State 23093]
type = VelSet
trigger1 = ScreenPos Y < -30
x = 0
y = 20


[State 23093]
type = VarSet
trigger1 = ParentDist Y < 6 && Vel Y > 0
var(2) = 1
persistent = 0



[State 23093]
type = VelSet
trigger1 = var(2)
x = (ParentDist X -132)*0.24
y = (ParentDist Y -96)*0.24

[State 23093]
type = VarAdd
trigger1 = var(2) && var(1) > 0
var(1) = -1


[State 23093]
type = ChangeState
trigger1 = var(2) && !var(1)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23064
ctrl = 0


[State 23093]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "z" || Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23094
ctrl = 0


[State 23093]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "z" || Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23093
ctrl = 0

[State 23093]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "z"
trigger2 = Root,var(59) && random < 100
value = 23091
ctrl = 0

[State 23093]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23092
ctrl = 0


[State 23093]
type = DestroySelf
trigger1 = Parent,Stateno != 3061




;------------------------------------------------------------------------------------------------------------
;Arm Helper
[Statedef 23094] 
type = S
movetype = A
physics = N
;anim = 23060
ctrl = 0
sprpriority = -1
velset = 0,0

[State 23061]
type = ChangeAnim
trigger1 = Time = 0
value = 23060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,6
volumescale = 30
volume = 30
channel = 2

[State 23094]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23094]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23094]
type = NotHitBy
trigger1 = 1
value = SCA


[State 23094]
type = HitDef
attr = A, HA
triggerall = Time%3 = 0
trigger1 = Vel X != 0 && !var(2)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 44,3
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 9,9
sparkxy = -10,-10
hitsound   = s5+parent,var(49),3
guardsound = s6+parent,var(49),0
sparkno = S9999
guard.sparkno = S8050
ground.type = High
ground.slidetime = 15
ground.hittime  = 30
ground.velocity = 0,2
air.velocity = 0,2
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.velocity = -6,-7
fall = 1
air.fall = 1
fall.recover = 0
yaccel = 0.99
getpower = ifelse(MoveHit,20,10),ifelse(MoveHit,20,0)
sprpriority = -1


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10),  -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 23094]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 23094]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 23094]
type = VarAdd
trigger1 = !var(2) && var(1) > -45
var(1) = -1

[State 23094]
type = AngleDraw
trigger1 = 1
value = var(1)%360


[State 23094]
type = VelSet
trigger1 = Time = 5
x = (-BackEdgeDist+70)*0.04
y = -20

[State 23094]
type = VelSet
trigger1 = ScreenPos Y < -30
x = 0
y = 20


[State 23094]
type = VarSet
trigger1 = ParentDist Y < 6 && Vel Y > 0
var(2) = 1
persistent = 0



[State 23094]
type = VelSet
trigger1 = var(2)
x = (ParentDist X -132)*0.24
y = (ParentDist Y -96)*0.24

[State 23094]
type = VarAdd
trigger1 = var(2) && var(1) < 0
var(1) = 1

[State 23094]
type = ChangeState
trigger1 = var(2) && !var(1)
trigger1 = ParentDist X = [128,136]
trigger1 = ParentDist Y = [92,100]
value = 23064
ctrl = 0


[State 23094]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holddown"
trigger1 = Parent,command = "z" || Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23094
ctrl = 0


[State 23094]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "holdup"
trigger1 = Parent,command = "z" || Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23093
ctrl = 0

[State 23094]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "z"
trigger2 = Root,var(59) && random < 100
value = 23091
ctrl = 0

[State 23094]
type = ChangeState
triggerall = var(2)
trigger1 = Parent,command = "c"
trigger2 = Root,var(59) && random < 100
value = 23092
ctrl = 0


[State 23094]
type = DestroySelf
trigger1 = Parent,Stateno != 3061


;------------------------------------------------------------------------------------------------------------
;Illusion
[Statedef 23100]
type = S
movetype = I
physics = N
anim = 23117
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 23100]
type = VarSet
trigger1 = Time = 0
var(1) = Parent,Stateno


[State 23100]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23100]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23100]
type = HitBy
trigger1 = 1
value = SCA,AA,AP

[State 23100]
type = HitOverride
trigger1 = 1
stateno = 23117
attr = SCA,AA,AP
slot = 0
time = -1

[State 23100]
type = DestroySelf
trigger1 = Parent,stateno != var(1)


[State 23100]
type = BindToParent
trigger1 = 1

; HIT_FALLRECOVER (on the ground) 
[Statedef 5201]
type    = C
movetype= H
physics = N
anim = ifelse(prevstateno=5200,5200,5201)
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(anim=5200,8,-4)
y = 0

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

; AhoVOK[h(wp[) 
[Statedef 8060]
type = A
physics = N
anim = 8061
velset = -14,0
ctrl = 0

[State 8060, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,13

[State 8060, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 8060, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 8060, DestroySelf]
type = DestroySelf
trigger1 = time = 16;24

; nGtFNg 
[Statedef 8200]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
pos = 16,0
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,0
vel = -4,0
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0

; nGtFNg 
[Statedef 8201]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 10,10
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 10,10
pos = 16,-20
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,-20
vel = -4,0
scale = 10,10
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0

; X[p[R{o(wp[) 
	
[Statedef 8500] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,0
volume = 200
volumescale = 200

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(4) = 1 && !numexplod(8505)
anim = 8505
id = 8505
postype = left
bindtime = -1
removetime = -1
scale = .5,.5*fvar(1)
sprpriority = -3
ownpal = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(8505)
ID = 8505
scale = .5,.5*fvar(1)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = ifelse(screenpos y-212<0,0,screenpos y-212)

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = 1+(fvar(0)/512)

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(4) = 0 || root,var(4) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,winko
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(4) = 0
trigger2 = root,movetype = H
 
 
[Statedef 8510] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,17

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,16

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = (StageVar(Info.Name) != "Absolute Cloud-Night")
flag = nomusic

[State 8510, Explod]
type = Explod
trigger1 = time = 0
anim = 8510
id = 8510
scale = .5,.5
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1

[State 8510, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(8510)

; ^[QbgJo[ 
[Statedef 9900]
type = A
movetype = H
physics = N

[State 9900, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5040,5050)
 
; ^[Qbg_EA 
[Statedef 9901]
type = A
movetype = H
physics = N

[State 9901, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5201,5050)
 
; ^[QbgoEh 
[Statedef 9910]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5210

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -6


[State 9910, PosSet]
type = PosSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -5

[State 1300, 6]
type = PalFX
triggerall = name = "Dhalsim"
trigger1 = animelem = 1
time = 18
sinadd =  255,255,255,43
ignorehitpause = 0

[State 5100, 10]
type = PlaySnd
triggerall = name = "Dhalsim"
trigger1 = Time = 1
value = S3,0

[State 9910, VelSet]
type = VelSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -4
x = 0

[State 9910, VelAdd]
type = VelAdd
triggerall = name = "Dhalsim"
trigger1 = time = 1
y = 0

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52

;-----------------------------------------------------------------
; Override common states (use same number to override) :
;-----------------------------------------------------------------



;-----------------------------------------------------------------
; States that are always executed (use statedef -2)
;-----------------------------------------------------------------

;-----------------------------------------------------------------
; States that are executed when in se

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]


[State -2, ]
type = VarSet
trigger1 = (P2StateNo != [1840,1899])
V = 20
Value = 0

;---------------------------------------------------------------------------
;?????

[State -2, 1]
type = RemoveExplod
trigger1 = ((Stateno != [1800,1803]) && StateNo != 2300) || Movetype = H
id = 1800
ignorehitpause = 1

[State -2, 2]
type = Helper
trigger1 = P2StateNo = 1840 && Var(22) != 0 && NumHelper(1890) = 0
StateNo = 1890
Id = 1890
name = "?????????"
Pos = 9999999,9999999
postype = P1
keyctrl = 0
facing = 1
bindtime = -1
ownpal = 0
persistent = 0
ignorehitpause = 1

[State -2, 3]
type = VarAdd
trigger1 = NumHelper(1890) = 1
V = 22
Value = -1
ignorehitpause = 1

[State -2, 4]
type = Explod
trigger1 = P2StateNo = 1850 && (Enemy, Anim = [1850,1851]) && NumExplod(11275) = 0
Anim = 11275+Var(20)*10
Id = 5800
Pos = 0,0
postype = p2
facing = 1*(1-((Facing = 1 && Enemy, Facing = 1) || (Facing = -1 && Enemy, Facing = -1))*2)
bindtime = -1
RemoveTime = 999
sprpriority = -1
ownpal = 1
scale = .83,1.07 
ignorehitpause = 1
persistent = 0

[State -2, 5]
type = RemoveExplod
trigger1 = Enemy, Anim != [1850,1851]
ID = 5800
ignorehitpause = 1

[State -2, 6]
type = Explod
trigger1 = P2StateNo = 1850 && (Enemy, Anim = [1855,1856]) && NumExplod(11283) = 0
Anim = 11283+Var(20)*10
Id = 5801
Pos = 0,0
postype = p2
facing = 1*(1-((Facing = 1 && Enemy, Facing = 1) || (Facing = -1 && Enemy, Facing = -1))*2)
bindtime = -1
RemoveTime = -1
ownpal = 1
scale = .83,1.07 
ignorehitpause = 1
persistent = 0

[State -2, 7]
type = RemoveExplod
trigger1 = Enemy, Anim != [1855,1856]
ID = 5801
ignorehitpause = 1

[State -2, 8]
type = Explod
trigger1 = P2StateNo = 1850 && (Enemy, Anim = [1860,1861]) && NumExplod(11276) = 0
Anim = 11276+Var(20)*10
Id = 5802
Pos = 0,0
postype = p2
facing = 1*(1-((Facing = 1 && Enemy, Facing = 1) || (Facing = -1 && Enemy, Facing = -1))*2)
bindtime = -1
RemoveTime = 999
sprpriority = -1
ownpal = 1
scale = .83,1.07 
ignorehitpause = 1
persistent = 0
ignorehitpause = 1

[State -2, 9]
type = RemoveExplod
trigger1 = Enemy, Anim != [1860,1861]
ID = 5802
ignorehitpause = 1

[State -2, 10]
type = Explod
trigger1 = P2StateNo = 1850 && (Enemy, Anim = [1865,1866]) && NumExplod(11276) = 0
Anim = 11276+Var(20)*10
Id = 5803
Pos = 0,0
postype = p2
facing = 1*(1-((Facing = 1 && Enemy, Facing = 1) || (Facing = -1 && Enemy, Facing = -1))*2)
bindtime = -1
sprpriority = -1
ownpal = 1
scale = .83,1.07 
ignorehitpause = 1
persistent = 0

[State -2, 11]
type = RemoveExplod
trigger1 = Enemy, Anim != [1865,1866]
ID = 5803
ignorehitpause = 1

[State -2, 12]
type = Explod
trigger1 = P2StateNo = 1850 && (Enemy, Anim = [1870,1871]) && NumExplod(11278) = 0
Anim = 11279+Var(20)*10
Id = 5804
Pos = 0,0
postype = p2
facing = 1*(1-((Facing = 1 && Enemy, Facing = 1) || (Facing = -1 && Enemy, Facing = -1) || Enemy, Vel X < 0)*2)
bindtime = -1
sprpriority = -1
scale = .83,1.07 
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -2, 13]
type = RemoveExplod
trigger1 = Enemy, Anim != [1870,1871]
ID = 5804
ignorehitpause = 1

[State -2, 14]
type = Explod
trigger1 = P2StateNo = 1880 && NumExplod(11278) = 0
Anim = 11278+Var(20)*10
Id = 5805
Pos = 0,0
postype = p2
facing = 1*(1-((Facing = 1 && Enemy, Facing = 1) || (Facing = -1 && Enemy, Facing = -1))*2)
bindtime = -1
sprpriority = -1
ownpal = 1
scale = .83,1.07 
ignorehitpause = 1
persistent = 0

[State -2, 15]
type = RemoveExplod
trigger1 = P2StateNo != 1880
ID = 5805
ignorehitpause = 1


[State -2, 16]
type = HitAdd
trigger1 = P2StateNo = [1840,1899]
Value = -1
ignorehitpause = 1

[State -2, 17]
type = PlaySnd
trigger1 = P2StateNo = 1880 && Var(20) >= 2 && Time = 1
value = s8,0+Var(20)-2+(Var(20) = 2)*13
persistent = 0
ignorehitpause = 1

[State -2, 18]
type = VarSet
trigger1 = P2Life = 0 && Var(21) >= 12
v = 22
Value = 11
ignorehitpause = 1

[State -2, 19]
type = VarSet
trigger1 = MoveType = H
v = 22
Value = 0
persistent = 0
ignorehitpause = 1

[State Debug Display]
type = DisplayToClipboard
text = "%f %f %f %f "
params = pos x,pos y,P2BodyDist X, P2BodyDist Y;Pos X,Pos Y
trigger1 = 1

[State Append]
type = AppendToClipboard
text = "%d %d %d %d %d"
params = prevstateno,FrontEdgeDist,BackEdgeDist,var(37),NumHelper;
trigger1 = 1

[State -2]
type = null;SelfState
triggerall = lose
triggerall = stateno != 30000 && stateno != 171
triggerall = HitShakeOver
trigger1 = Pos Y < -50
value = 30000

[State 0, PosSet]
type = PosSet
trigger1 = prevstateno = 100
y = 0

[State -2, A-Dash-CLR]
type = VarSet
triggerall = var(27)
trigger1 = stateno = 52
trigger2 = stateno = 0
var(27) = 0

[State 0, PosSet]
type = PosSet
trigger1 = prevstateno = 105
y = 0

; ===================== (Recovery p2 effect and sound) =======================

[State 0, PlaySnd]
type = PlaySnd
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
value = 0,10
channel = 4
volume = 155
volumescale = 155

[State 0, PlaySnd]
type = PlaySnd
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
value = 0,7
channel = 4
volume = 155
volumescale = 155

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 20, 2]
type = envshake
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
time = 8
freq = 80
ampl = 3

; ===================== (Pre-walking) =======================

[State -2, Pre-walking state]
type = ChangeState
;triggerall = !var(59)
trigger1 = prevstateno = 192
trigger2 = RoundNo != 1              ;Enable If Round Number is > 1
trigger2 = RoundState = 1           ;RoundState < 2 and
trigger2 = RoundState = 2
trigger2 = stateno = 0              ;Current state is 0
value = 21
ctrl = 0

[State -2, Remember the last Position (X)]
type = VarSet
triggerall = RoundState < 2
trigger1 = stateno = [0, 21] ;Enable after Intro
fvar(5) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(5) != 0
trigger1 = prevstateno != 192
x = fvar(5)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(5) = 0

; ===================== (p1 & p2 icon) =======================

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = screenpos y < 0
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = roundstate = [2,3]
triggerall = !numexplod(8596) && numenemy
triggerall = screenpos y > 240-const(size.head.pos.y)
trigger1 = var(33) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(33) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8595+teamside
ownpal = 1
ontop = 1
facing = -var(33)
postype = left
pos = floor(screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8596

[State -2, O\]
type = Explod
triggerall = roundstate = [2,3]
triggerall = !numexplod(8598) && numenemy
triggerall = screenpos y < 0
trigger1 = var(33) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(33) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8597+teamside
ownpal = 1
ontop = 1
facing = -var(33)
postype = left
pos = floor(screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8596)
trigger1 = screenpos y <= 240-const(size.head.pos.y)
id = 8596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8598)
trigger1 = screenpos y >= 0
id = 8598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8596)
id = 8596
postype = left
pos = floor(screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8598)
id = 8598
postype = left
pos = floor(screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy
var(33) = ifelse(screenpos x - enemynear,screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(8596)
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .25,.25
facing = -var(33)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(8598)
trigger1 = screenpos y < 0
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .25,.25
facing = -var(33)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

  
; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = enemy,screenpos y < 0
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = roundstate = [2,3]
triggerall = !numexplod(18596)
triggerall = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
trigger1 = var(32) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(32) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8595+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(32)
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18596

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = roundstate = [2,3]
triggerall = !numexplod(18598)
triggerall = enemy,screenpos y < 0
trigger1 = var(32) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(32) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8597+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(32)
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18596)
trigger1 = enemy,screenpos y <= 240-enemy,const(size.head.pos.y)
id = 18596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18598)
trigger1 = enemy,screenpos y >= 0
id = 18598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18596)
id = 18596
postype = left
pos = floor(enemy,screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18598)
id = 18598
postype = left
pos = floor(enemy,screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy = 1
var(32) = ifelse(enemy,screenpos x - screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(18596)
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
facing = -var(32)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(18598)
trigger1 = enemy,screenpos y < 0
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
facing = -var(32)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

  
; I 
[State -2, I]
type = AssertSpecial
trigger1 = roundstate > 2
flag = nowalk
 
; ~ 
[State -2, ~]
type = Width
trigger1 = vel x > 0 && movetype != H
edge = 5,5



; No AR Finisher for the following Chars
; --------------------------------------
[State -2, Special Cases for AR]
type = VarSet
trigger1  = p2name != "Apocalypse"
trigger2  = p4name != "Apocalypse"
trigger3  = p2name != "Onslaught"
trigger4  = p4name != "Onslaught"
trigger5  = P2name != "Abyss Form 1"
trigger6  = P4name != "Abyss Form 1"
trigger7  = P2name != "Abyss Form 2"
trigger8  = P4name != "Abyss Form 2"
trigger9  = P2name != "Abyss Form 3"
trigger10 = P4name != "Abyss Form 3"
trigger11 = P2name != "Abyss"
trigger12 = P4name != "Abyss"
var(34) = 1

[State -2, Special Cases for AR]
type = VarSet
trigger1  = p2name = "Apocalypse"
trigger2  = p4name = "Apocalypse"
trigger3  = p2name = "Onslaught"
trigger4  = p4name = "Onslaught"
trigger5  = P2name = "Abyss Form 1"
trigger6  = P4name = "Abyss Form 1"
trigger7  = P2name = "Abyss Form 2"
trigger8  = P4name = "Abyss Form 2"
trigger9  = P2name = "Abyss Form 3"
trigger10 = P4name = "Abyss Form 3"
trigger11 = P2name = "Abyss"
trigger12 = P4name = "Abyss"
var(34) = 0



[State -3]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090


[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate = 2
trigger1 = roundstate != 3
trigger1 = NumHelper(19999997) = 0
stateno = 19999997
id = 19999997

;KO Sound
[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate != 2
trigger1 = roundstate = 3
trigger1 = NumHelper(19999998) = 0
stateno = 19999998
id = 19999998

; ===================== (System Messages) =======================

[State -2, VS_Combo]
type = VarSet
triggerall = (var(29)!=10) || (var(29)=10 && movehit && statetype != A)
trigger1 = var(28) >= 3
trigger2 = var(28)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = [5000,5899])
var(29) = 1+(var(28)>4)+(var(28)>5)+(var(28)>7)+(var(28)>9)+(var(28)>29)+(var(28)>49)+(var(28)>69)-(var(28)=-1)
ignorehitpause = 1

[State -2, Air Combo]
type = VarSet
triggerall = var(28) >= 3 && statetype = A && var(29)!=10 && var(6)
trigger1 = (movehit)
var(29) = 10
ignorehitpause = 1

[State -2, Danger]
type = VarSet
trigger1 = var(30) !=1 && roundstate=2 && life = [1,250]
var(29) = 9
ignorehitpause = 1

; sound First attack
[State -2, First Attack]
type = PlaySnd
triggerall = var(28)=-1
triggerall = NumExplod(8701) = 0
trigger1 = var(28)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
persistent = 0
value = 2,0
channel = 14
volume=255
ignorehitpause = 1

; Telop sound
[State -2, Combo Sound]
type = PlaySnd
trigger1 = NumExplod(8701) = 0
trigger1 = var(28)=0 && var(29)!=0
persistent = 0;1
value = 2,var(29)
channel = 14
volume=255
ignorehitpause = 1

[State -2, Left]
type = explod
trigger1 = var(28)=0 && var(29)!=0
trigger2 = var(28)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
triggerall = TeamSide = 1 && NumExplod(8701) = 0
anim = (8550 + var(29))
ID = 8701
postype = left
pos = 3,80
ontop = 1
bindtime = -1
removetime = 60
ownpal = 1
supermovetime = 60
pausemovetime = 60
scale = 0.5,0.5
persistent = 0
ignorehitpause = 1

[State -2, Right]
type = explod
trigger1 = var(28)=0 && var(29)!=0
trigger2 = var(28)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
triggerall = TeamSide = 2 && NumExplod(8701) = 0
anim = (8650+ var(29));8011;8720;
ID = 8701
postype = right
pos = -10,80;130;82
ontop = 1
bindtime = -1
removetime = 60;90
ownpal = 1
supermovetime = 60;90
pausemovetime = 60;90
scale = 0.5,0.5
persistent = 0;1
ignorehitpause = 1

[State -2, VS_Combo]
type = VarAdd
trigger1 = enemynear, time = 0
trigger1 = enemynear, Hitshakeover = 0
trigger1 = (p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H;p2stateno = [5000,5899]
trigger2 = var(28)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
var(28) = 1 + (var(28)=-1)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
trigger1 = var(28)!=-1 && (p2movetype!=H || enemynear, ctrl)
trigger2 = var(28)=-1 && movetype = H;p2stateno = [5000,5899])
var(28) = 0 - (roundstate<2)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
triggerall = numexplod(8701)!=0
trigger1 = var(28)=0
var(29) = 0
ignorehitpause = 1

[State -2, Score]
type = Varadd
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = moveguarded || p2stateno = 6300 || p2movetype = H;p2stateno = [5000,5899])
trigger2 = var(28)=-1 && (movehit || p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
trigger3 = roundstate=4 && time=0 && stateno = [180,189]
var(21) = ceil(stateno/50)*var(28) + (life)*(roundstate=4) + (moveguarded)
ignorehitpause = 1

[State -2, Normalize Score]
type = Varset
triggerall = numpartner=1
trigger1 = var(21)< partner, var(21)
var(21) = partner, var(21)

[State -2, Is Danger]
type = VarSet
trigger2 = var(30) = 0 && life <= 250
trigger1 = var(30) = 1 && roundstate!=2
var(30) = (roundstate>1)
ignorehitpause = 1

[State -2, Is First Attack p3]
type = VarSet
triggerall = numpartner=1
trigger1 = partner, movehit
trigger1 = partner, var(28) != -1
var(28) = 0
ignorehitpause = 1

[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = nomusic

; AhoVOK[h 
[State -2, AhoVOK[h]
type = Helper
trigger1 = var(35)
stateno = 8060
postype = p2
pos = 20,0
id = 8060

[State -2, AhoVOK[h]
type = PosFreeze
trigger1 = numhelper(8060)

[State -2, AhoVOK[h]
type = VelAdd
trigger1 = numhelper(8060)
trigger1 = statetype = A
y = -gethitvar(yaccel)

[State -2, AhoVOK[h]
type = Explod
trigger1 = var(35)
anim = 8060
pos = 47,-85
ontop = 1
scale = 0.5, 0.5

[State -2, AhoVOK[h]
type = VarSet
trigger1 = var(35)
var(35) = 0

; R{ 
[State -2, R{]
type = VarSet
trigger1 = statetype = A && prevstateno = [600,800)
trigger1 = stateno = [1000,5000)
var(13) = 1

[State -2, R{]
type = VarAdd
trigger1 = movehit = 1
trigger2 = projhit = 1
var(18) = 1

[State -2, R{]
type = VarAdd
triggerall = statetype = A && numtarget
triggerall = target,statetype = A
triggerall = movehit = 1 || projhit = 1
trigger1 = stateno = [600,800)
trigger2 = var(13) && stateno = [1000,5000)
var(16) = 1

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(13) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(18) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(16) = 0

; GA~b^[A 
[State 650, GA~b^[A]
type = PlaySnd
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
value = 0,11

[State 620, GA~b^[A]
type = VarSet
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
var(6) = 2

[State -2, GA~b^[A]
type = VarSet
trigger1 = !numtarget
var(6) = 0

[State -2, GA~b^[A]
type = VarSet
trigger1 = var(6)= 2 && ctrl && statetype != A
var(6) = 3

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = var(6) = 2
trigger1 = pos x*facing < 0
value = 0
movecamera = 0,0
ignorehitpause = 1

[State -2, GA~b^[A]
type = ChangeState
triggerall = var(6) = 2
trigger1 = backedgebodydist < -20 && stateno != 101 && stateno != [810,811]
value = 810

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = stateno = 100 && prevstateno = 810
value = 0
movecamera = 0,0

[State -2, GA~b^[A]
type = NotHitBy
trigger1 = stateno = 100 && prevstateno = 810
value = SCA
 
; wp[A 
[State -2, wp[A]
type = VarSet
trigger1 = !numhelper
var(4) = 0

; ^[Qbg 
[State -2, ^[Qbg]
type = VarSet
trigger1 = 1
var(7) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget
var(7) = target,id
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = !numtarget
var(5) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget && hitpausetime
var(5) = target,stateno = 5080
ignorehitpause = 1

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7)) && !var(5)
trigger1 = playerID(var(7)),gethitvar(chainid) & 1
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),hitover && playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9900
value = 9900

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7)) && var(5)
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 5201 && playerID(var(7)),stateno != 9910
value = 9901

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7))
trigger1 = playerID(var(7)),gethitvar(chainid) & 2
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9910
value = 9910

; ===================== (Metal Hit Code) =======================

[state -2, metal]
type = varset
trigger1 = enemynear, name = "War Machine"
trigger2 = enemynear, name = "Iron Man"
trigger3 = enemynear, name = "Sentinel"
trigger4 = enemynear, name = "Doctor Doom"
trigger5 = enemynear, name = "Tron Bonne"
var(39) =10

[state -2, metal]
type = varset
trigger1 = enemynear, name = "War Machine"
trigger1 = enemynear, name = "Iron Man"
trigger1 = enemynear, name = "Sentinel"
trigger1 = enemynear, name = "Doctor Doom"
trigger1 = enemynear, name = "Tron Bonne"
var(39) =0 

[state -2, metal]
type = varset
triggerall = enemynear, Name = "Mecha Zangief"
trigger1 = enemynear, var(38)=1
var(39) =10

[state -2, metal]
type = varset
triggerall = enemynear, Name = "Mecha Zangief"
trigger1 = enemynear, var(38)=0
var(39) =0

; ===================== (Wall hit) =======================

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemynear,stateno != [120,159]
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 8015
postype = p2
pos = 0, -50
postype = p2
bindtime = 1
facing = -1
removetime = -2
scale = 0.9,0.9
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemynear,stateno != [120,159]
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,8
channel = 4
volume = 255

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 24
value = var(23)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 23
value = var(25)+hitcount

[state -3, 2];combo hosei
type = varset
trigger1 = enemynear,movetype != H
v = 25
value = 0

;***************
[state -3, 2];combo
type = varset
trigger1 = var(23)>var(24)
v = 42
value = 1

;---------------------------------------------

;Pos Y
[State -2]
type = PosSet
trigger1 = PrevStateno = [100,107] 
trigger1 = StateType != A && Pos Y != 0
y = 0

;---------------------------------


[State -2]
type = AttackMulSet
trigger1 = var(56) != 4
trigger1 = roundstate = 2
value = 0.8+0.7*(var(50) > 1)


[State -2]
type = DefenceMulSet
trigger1 = var(56) != 4
trigger1 = roundstate = 2
value = 1-0.3*(var(49) >= 1)

;--------------------------------

[State -2]
type = null;Ctrlset
trigger1 = roundstate < 2
value = 0


[State -2, Life]
type = LifeAdd
triggerall = Lose = 0
triggerall = var(56) = 4
trigger1 = Life < 70*Var(31)
value = 30*Var(31)


[State -2, Life]
type = PowerAdd
triggerall = Lose = 0
trigger1 = Life < 70*Var(31)
trigger1 = var(56) = 4
value = 30*Var(31)



;---------------------------------------------------------------


[State -2,t]
type = varset
trigger1 = Time = 0
trigger2 = !gethitvar(isbound) 
v = 11
value = 12

[State -2,t]
type = varset
trigger1 = gethitvar(isbound)
v = var(11)
value = enemynear,prevstateno


[State -2,t]
type = varadd
trigger1 = gethitvar(isbound)
trigger1 = var(11) < 14
v = 11
value = 1


[State -2,t]
type = varset
trigger1 = !gethitvar(isbound)
trigger1 = !var(43)
var(43) = var(12)



[State -2,t]
type = varset
trigger1 = !gethitvar(isbound)
trigger1 = !var(44)
trigger1 = var(12) != var(43)
var(44) = var(12)



[State -2,t]
type = varset
trigger1 = !gethitvar(isbound)
trigger1 = !var(45)
trigger1 = var(12) != var(43)
trigger1 = var(12) != var(44)
var(45) = var(12)



[State -2,t]
type = varset
trigger1 = !gethitvar(isbound)
trigger1 = !var(46)
trigger1 = var(12) != var(43)
trigger1 = var(12) != var(44)
trigger1 = var(12) != var(45)
var(46) = var(12)


[State -2,t]
type = varset
trigger1 = !gethitvar(isbound)
trigger1 = !var(47)
trigger1 = var(12) != var(43)
trigger1 = var(12) != var(44)
trigger1 = var(12) != var(45)
trigger1 = var(12) != var(46)
var(47) = var(12)


[State -2,t]
type = varset
trigger1 = !gethitvar(isbound)
trigger1 = !var(48)
trigger1 = var(12) != var(43)
trigger1 = var(12) != var(44)
trigger1 = var(12) != var(45)
trigger1 = var(12) != var(46)
trigger1 = var(12) != var(47)
var(48) = var(12)



[State -2,t]
type = varset
trigger1 = !gethitvar(isbound)
trigger1 = !var(49)
trigger1 = var(12) != var(43)
trigger1 = var(12) != var(44)
trigger1 = var(12) != var(45)
trigger1 = var(12) != var(46)
trigger1 = var(12) != var(47)
trigger1 = var(12) != var(48)
var(49) = var(12)


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------


[Statedef -3]


[State -3]
type = AfterImage
trigger1 = time = 0
time = 0
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3

[State 130]
type = AssertSpecial
trigger1 = 1
trigger1 = Stateno = [120,155]
flag = NoWalk


[State -3,ai]
type = varset
trigger1 = !var(58)
trigger1 = var(59)
var(58) = 1


