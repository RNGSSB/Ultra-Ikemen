[Data]
;Amount of life to start with
life = 1000
attack = 100
defence = 100
power = 5000
fall.defence_up = 50
liedown.time = 16
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 200
IntPersistIndex = 0
FloatPersistIndex = 0
volumescale = 200


[Size]
xscale = .83
yscale = 1.07 
ground.back = 25     ;Player width (back, ground)
ground.front = 17    ;Player width (front, ground)
air.back = 15        ;Player width (back, air)
air.front = 13       ;Player width (front, air)
height = 85      ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = 3, -89   ;Approximate position of head
mid.pos = -3, -57    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 4.3      ;Walk forward
walk.back = -3.2     ;Walk backward
run.fwd  = 8, 0    ;Run forward (x, y)
run.back = -7,-3.8 ;Hop backward (x, y)
jump.neu = 0,-11    ;Neutral jumping velocity (x, y)
jump.back = -3.35    ;Jump back Speed (x, y)
jump.fwd = 3.35       ;Jump forward Speed (x, y)
runjump.back = -2.55,-10 ;Running jump speeds (opt)
runjump.fwd = 4.88,-11      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0     ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .59
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

[Statedef 21]
type    = S
physics = S
sprpriority = 1

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 21, 1]
type = VelSet
triggerall = enemy, stateno != [190, 194]
trigger1 = command = "holdfwd"
x = 1.6

[State 21, 2]
type = VelSet
triggerall = enemy, stateno != [190, 194]
trigger1 = command = "holdback"
x = -1.3

[State 21, 3]
type = VelSet
triggerall = enemy, stateno != [190, 194]
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = command = "holdfwd" && anim != 24
value = 24

[State 21, 4]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = command = "holdback" && anim != 25
value = 25

[State 21, 4]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = command != "holdfwd" && anim != 0
trigger1 = command != "holdback" && anim != 0
value = 0


[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 24, 25)

[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 180]
type = S

[State 180, 2]
type = ChangeState
trigger1 = time = 0
value = ifelse(WinKO,181+random%3,181)

[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 1

[State 181, 1]
type = AssertSpecial
trigger1 = time < 180
flag = RoundNotOver

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 10,12

[State 181, 3]
type = Explod
trigger1 = AnimElem = 7
ID = 454
anim = 182
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
ownpal = 1
sprpriority = 2
scale = const(size.xscale),1

;---------------------------------------------------------------------------
; WinPose B - Group Pose A
[Statedef 182]
type = S
movetype = I
physics = S
anim = 183
ctrl = 0
velset = 0, 0
sprpriority = 1

[State 182, 1]
type = AssertSpecial
trigger1 = time < 180
flag = RoundNotOver

[State 182, 2]
type = VarSet
trigger1 = time = 0
v = 10
value = 210 ;floor(screenpos Y)

[State 182, 3]
type = PlaySnd
trigger1 = time = 38
value = 10,12
channel = 0

[State 182, Jennety]
type = Explod
trigger1 = AnimElem = 3
ID = 100
anim = 770
postype = p1
pos = -115*const(size.xscale), -(var(10))
bindtime = 1
removetime = 12
vel = 5.6, 16
accel = 0, .4
sprpriority = 0
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 182, Jennety]
type = Explod
trigger1 = time = 24
ID = 100
anim = 201
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 182, Sho]
type = Explod
trigger1 = AnimElem = 3
ID = 101
anim = 751
postype = p1
pos = 135*const(size.xscale), -(var(10))
bindtime = 1
removetime = 12
vel = -6.4, 16
accel = 0, .4
sprpriority = 0
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 182, Sho]
type = Explod
trigger1 = time = 24
ID = 101
anim = 184
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 182, Hoover]
type = Explod
trigger1 = AnimElem = 3
ID = 102
anim = 730
postype = p1
pos = 10*const(size.xscale), -(var(10))
bindtime = 1
removetime = 12
vel = -3.3, 16
accel = 0, .4
sprpriority = 0
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 182, Hoover]
type = Explod
trigger1 = time = 24
ID = 102
anim = 186
postype = p1
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

;---------------------------------------------------------------------------
; WinPose B - Group Pose B
[Statedef 183]
type = S
movetype = I
physics = S
anim = 187
ctrl = 0
velset = 0, 0
sprpriority = 1

[State 183, 1]
type = AssertSpecial
trigger1 = time < 180
flag = RoundNotOver

[State 183, 2]
type = VarSet
trigger1 = time = 0
v = 10
value = 210 ;floor(screenpos Y)

[State 183, 3]
type = PlaySnd
trigger1 = time = 38
value = 10,12

[State 183, Jennety]
type = Explod
trigger1 = AnimElem = 2
ID = 100
anim = 770
postype = p1
pos = 115*const(size.xscale), -(var(10))
bindtime = 1
removetime = 12
vel = -5.6, 16
accel = 0, .4
sprpriority = 0
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 183, Jennety]
type = Explod
trigger1 = time = 18
ID = 100
anim = 188
postype = p1
pos = 40*const(size.xscale), -1
bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 183, Sho]
type = Explod
trigger1 = AnimElem = 2
ID = 101
anim = 751
postype = p1
pos = -135*const(size.xscale), -(var(10))
bindtime = 1
removetime = 12
vel = 6.4, 16
accel = 0, .4
sprpriority = 0
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 183, Sho]
type = Explod
trigger1 = time = 18
ID = 101
anim = 189
postype = p1
pos = -31*const(size.xscale), 0
bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1
shadow = -1, 0, 0
scale  =const(size.xscale),1

[State 183, Hoover]
type = Explod
trigger1 = AnimElem = 2
ID = 102
anim = 730
postype = p1
pos = 10*const(size.xscale), -(var(10))
facing = -1
bindtime = 1
removetime = 12
vel = -3.3, 16
accel = 0, .4
sprpriority = 0
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[State 183, Hoover]
type = Explod
trigger1 = time = 18
ID = 102
anim = 733
postype = p1
pos = 0, -12
facing = -1
bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1
shadow = -1, 0, 0
scale = const(size.xscale),1

[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0
sprpriority = 1

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10,0
channel = 0

[State 191, 4]
type = PlaySnd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 20
trigger3 = AnimElem = 27
trigger4 = AnimElem = 42
value = 20,1

[State 191, 5]
type = Explod
trigger1 = AnimElem = 57
ID = 147
anim = 191
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = 2
ownpal = 1
scale = const(size.xscale),1

[State 191, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 20,0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 200]
type    = S                    
movetype= A                     
physics = S                     
;juggle  = 1                                           
ctrl = 0                       
anim = 200              
poweradd = 20                 
sprpriority = 2    

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1         

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 7,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
ground.velocity = -5.5,0
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 3

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium punch
[Statedef 210]
type    = S
movetype= A
physics = S
;juggle  = 3
poweradd= 40
ctrl = 0
anim = 210
sprpriority =2

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10,3
channel = 0

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,7
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -10,0
ground.cornerpush.veloff = -13.5
air.velocity = -4,-6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Hard Punch
[Statedef 220]
type = S
movetype = A
physics = S
ctrl = 0
anim = 220
poweradd = 60
;juggle = 4
sprpriority = 2

[State 220, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 10,5
channel = 0

[State 220, 2a]
type = PlaySnd
trigger1 = AnimElem = 4
value = 20,3

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 220, 3]
type = Explod
trigger1 = time = 0
ID = 458
anim = 225
postype = p1
pos = 0, -6
bindtime = 22
removetime = -2
sprpriority = 3
ownpal = 1
removeongethit = 1
scale = const(size.xscale),1

[State 220, 4]
type = PosAdd
trigger1 = AnimElem = 4 
x = 32

[State 220, 5]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
hitflag = MAF
guardflag = MA
pausetime = 10, 8
animtype = back
damage = 75
sparkxy = -5, -80
sparkno = S9999
hitsound = S5,2
guardsound = S6,0
guard.sparkno = s8050
ground.velocity = -12, -3
ground.hittime = 10
air.velocity = -12, -1
air.hittime = 12
guard.slidetime = 16
guard.hittime = 18
guard.velocity = -9
givepower = 60
getpower = 80
ground.cornerpush.veloff = -13.5
palfx.time = 39
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
fall = 1
fall.recover = 0
yaccel = .86
id = 2+4+16

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing light kick
[Statedef 230]
type    = S
movetype= A
physics = S
;juggle  = 2
poweradd= 20
ctrl = 0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 3

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 7,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
ground.velocity = -5.5,0
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing medium kick
[Statedef 240]
type    = S
movetype= A
physics = S
;juggle  = 3
poweradd= 40
ctrl = 0
anim = 240
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10,3
channel = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 240, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,7
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -10,0
ground.cornerpush.veloff = -13.5
air.velocity = -4,-6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Hard Kick
[Statedef 250]
type = S
movetype = A
physics = N
ctrl = 0
anim = 250
;juggle = 4
poweradd = 70

;[State 250, a]
;type = VarSet
;trigger1 = time = 0
;fv = 0
;value = enemyNear, const(movement.yaccel)

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 250, 1]
type = PlaySnd
trigger1 = time = 0
value = 10,4
channel = 0

[State 250, 3]
type = VelSet
trigger1 = AnimElem = 2
x = 2
y = -4

[State 250, 4]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = A

[State 250, 5]
type = VelAdd
trigger1 = time > 14
trigger1 = vel X > 0
x = -.15

[State 250, 6]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 250, 7]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = MA
pausetime = 9, 9
guard.pausetime = 12,10
damage = 45
animtype = up
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10, -94
hitsound = s5,2
guardsound = S6,0
ground.type = High
ground.velocity = 0, -19
air.velocity = 0, -18.5
guard.slidetime = 17
guard.hittime = 20
guard.velocity = -10
ground.cornerpush.veloff = 0
yaccel = .82
fall = 1
fall.recover = 0
id = 1+4
givepower = 50
getpower = 60

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, Explod]
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = 45,-60
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
;juggle  = 2
poweradd= 20
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 3

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 7,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
ground.velocity = -5.5,0
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching medium punch
[Statedef 410]
type    = C
movetype= A
physics = C
;juggle  = 4
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

;[State 410, a]
;type = VarSet
;trigger1 = time = 0
;fv = 0
;value = enemyNear, const(movement.yaccel)

[State 410, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4

[State 410, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10,3
channel = 0

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = MA
pausetime = 9, 11
guard.pausetime = 12,10
damage = 45
animtype = up
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10, -94
hitsound = s5,1
guardsound = S6,0
ground.type = High
ground.velocity = -2.5, -16
air.velocity = -2.5, -15.5
guard.slidetime = 17
guard.hittime = 20
guard.velocity = -10
ground.cornerpush.veloff = 0
yaccel = .82
fall = 1
fall.recover = 0
id = 1+4
givepower = 50
getpower = 60

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, Explod]
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = 45,-60
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Hard Punch
[Statedef 420]
type = C
movetype = A
physics = C
ctrl = 0
anim = 420
;juggle = 4
poweradd = 50
sprpriority = 2

[State 420, 1]
type = PlaySnd
trigger1 = time = 0
value = 10,5
channel = 0

[State 420, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 20,4

[State 420, 3]
type = Explod
trigger1 = time = 0
ID = 4478
anim = 425
postype = p1
pos = 0, -5
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
removeongethit = 1
scale = const(size.xscale),1

[State 420, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 9,11
guard.pausetime = 12,13
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -15,0
ground.cornerpush.veloff = -16.5
air.velocity = -8,-2
airguard.velocity = -7,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
palfx.time = 31
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
id = 1+4+8

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 430]
type    = C
movetype= A
physics = C
;juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 3

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C,NA
hitflag = MAFD
guardflag = LA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 9,8
guard.pausetime = 9,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-5
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -6.5,0
air.velocity = -4,-2
airguard.velocity = -6,-2
ground.cornerpush.veloff = -6.5
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 15)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Medium Kick
[Statedef 440]
type    = C
movetype= A
physics = C
;juggle  = 7
poweradd= 40
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4

[State 440, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C,NA
hitflag = MAFD
guardflag = LA
animtype = medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-5
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 13
ground.hittime = 15
air.hittime = 12
yaccel = .88
ground.velocity = -12,0
air.velocity = -4,-2
airguard.velocity = -6,-2
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 30)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Hard Kick
[Statedef 450]
type = C
movetype = A
physics = C
ctrl = 0
anim = 450
;juggle = 5
poweradd = 60

[State 450, 1]
type = PlaySnd
trigger1 = time = 0
value = 0, 5

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10,4
channel = 0

[State 450, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = C,NA
hitflag  = MAFD
guardflag = LA
animtype = Hard
damage = 65,0
getpower = 30,0
givepower = 20,0
pausetime = 9,8
guard.pausetime = 9,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-5
hitsound = S5,2
guardsound = S6,0
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .53
ground.velocity = 0,-4
ground.cornerpush.veloff = 0
air.velocity = 0,-4
guard.velocity = -10
airguard.velocity = -6,-2
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 15)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
;juggle  = 2
poweradd= 16
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 3

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.5,-11
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 600, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
anim= 44

;---------------------------------------------------------------------------
;Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
;juggle  = 2
poweradd= 40
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 1 = 4
value = 10,3
channel = 0

[State 610, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 610, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Up
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .92
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.5,-7
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 610, 4]
type = ChangeState
trigger1 = AnimTime = 0
value =51
anim = 44
;---------------------------------------------------------------------------
; Jump Hard Punch
[Statedef 620]
type = A
movetype = A
physics = A
ctrl = 0
anim = 620
;juggle = 2
poweradd = 60
sprpriority = 2

[State 620, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10,5
channel = 0

[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 20,4

[State 630, 3]
type = Explod
trigger1 = time = 0
ID = 4580
anim = 625
postype = p1
pos = 0, 0
bindtime = -1
removetime = -2
ownpal = 1
sprpriority = 5
removeongethit = 1
scale = const(size.xscale),1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(19) > 0
var(6) = 1

[State 630, 4]
type = HitDef
triggerall = !var(6)
trigger1 = AnimElem = 3
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 75,0
getpower = 50,0
givepower = 20,0
pausetime = 11,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .78
ground.velocity = -16,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -12,8
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
palfx.time = 31
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
id = 2+4+8

[State 630, 4]
type = HitDef
triggerall = var(6)
trigger1 = AnimElem = 3
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 75,0
getpower = 50,0
givepower = 20,0
pausetime = 11,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .78
ground.velocity = -16,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -12,8
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
palfx.time = 31
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
id = 4+8+64
fall.envshake.time = 10

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
anim = 44

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
;juggle  = 2
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 2

[State 630, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 3

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 630, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.5,-11
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
anim = 44
;---------------------------------------------------------------------------
;Jump Medium Kick
[Statedef 640]
type    = A
movetype= A
physics = A
;juggle  = 2
poweradd= 35
ctrl = 0
anim = 640
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0, 4

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 640, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Up
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .92
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.5,-7
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
 
[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 640, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
anim = 44

;---------------------------------------------------------------------------
; Jump Hard Kick
[Statedef 650]
type = A
movetype = A
physics = A
ctrl = 0
anim = 650
;juggle = 2
poweradd = 55
sprpriority = 2

[State 650, 1]
type = PlaySnd
trigger1 = time = 0
value = 0, 5

[State 650, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10,4
channel = 0

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(19) > 0
var(6) = 1


[State 650, 3]
type = HitDef
triggerall = !var(6)
trigger1 = AnimElem = 4
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 75,0
getpower = 50,0
givepower = 20,0
pausetime = 11,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .78
ground.velocity = -16,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -12,8
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 650, 3]
type = HitDef
triggerall = var(6)
trigger1 = AnimElem = 4
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 75,0
getpower = 50,0
givepower = 20,0
pausetime = 11,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .78
ground.velocity = -16,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -12,8
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 4+64
fall.envshake.time= 10

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 650, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
anim = 44

[Statedef 810]
type    = S
movetype = A
physics = S
anim = 9999
sprpriority = 1
velset = 0,0
ctrl = 0

[State 810, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 810, PosSet]
type = PosSet
trigger1 = 1
x = -180 * facing
y = 0

[State 810, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 810, ChangeState]
type = ChangeState
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target,stateno = 5110
value = 101

[Statedef 800] 
type = S
movetype = A
physics = S
anim = 700
sprpriority = 1
velset = 0,0
ctrl = 0

[State 900, HitDef]
type = HitDef
trigger1 = 1
attr = S, NT
getpower = 0,0
givepower = 0,0
guardflag =
hitflag = M-
sparkno = -1
hitsound = S5,4
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
p1stateno = 805
p2stateno = 806
p1facing = ifelse(command = "holdfwd",1,-1)
p2facing = 1
numhits = 0
id = 4

[State 900, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 220

[Statedef 805]
type = S
movetype = A
physics = S
ctrl = 0

[State 805, 1]
type = VarRandom
trigger1 = time = 0
v = 10
range = 0, 600

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(-5*const(size.xscale)),ceil(-72*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 805, 2]
type = ChangeState
triggerall = time = 0
trigger1 = var(10) = [0,200]
value = 811

[State 805, 3]
type = ChangeState
triggerall = time = 0
trigger1 = var(10) = [201,400]
value = 870

[State 805, 4]
type = ChangeState
triggerall = time = 0
trigger1 = var(10) = [401,600]
value = 920

; Neutral State for target
[Statedef 806]
type = S
movetype = H
physics = N
ctrl = 0

[State 820, 1]
type = changestate
triggerall = time < 4
triggerall = command = "holdfwd" || command = "holdback"
trigger1 = command = "y"
trigger2 = command = "z"
trigger3 = command = "b"
trigger4 = command = "c"
value = 200020

[State 806, 1]
type = ChangeAnim2
trigger1 = 1
value = 720

[Statedef 811]
type = S
movetype = A
physics = N
ctrl = 0
anim = 710
poweradd = 90
sprpriority = 2

[State 810]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 200020
value = 200000


[State 810, 1]
type = Width
trigger1 = 1
value = 60, 0

[State 810, 1a]
type = VarSet
trigger1 = time = 0
v = 10
value = floor(ScreenPos Y)

[State 810, 2]
type = TargetState
trigger1 = time = 0
value = 850

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 1
time = 12
pos = 45*const(size.xscale), 0

[State 810, 4]
type = Explod
trigger1 = AnimElem = 1
ID = 4858
anim = 711
postype = p1
pos = 0, 0
facing = ifelse(command = "holdback", -1, 1)
bindtime = -1
removetime = -2
sprpriority = 0
ownpal = 1
scale = const(size.xscale),1

[State 810, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10,6
channel = 0

[State 810, 6]
type = TargetBind
trigger1 = AnimElem = 2
time = 15
pos = 47*const(size.xscale), -11*const(size.yscale)

[State 810, 7]
type = Helper
trigger1 = AnimElem = 2
name = "Hoover"
ID = 2001
postype = p1
pos = -140*const(size.xscale), -(var(10))
stateno = 820
ownpal = 1
size.xscale = const(size.xscale)

[State 810, 8]
type = TargetBind
trigger1 = AnimElem = 3
time = 10
pos = 57*const(size.xscale), -40*const(size.yscale)

[State 810, 9]
type = Explod
trigger1 = AnimElem = 4
anim = 8004
postype = p1
pos = 52*const(size.xscale), -134
bindtime = -1
scale = 0.5,0.5
removetime = -2
sprpriority = 3
ownpal = 1

[State 810, 10]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,2

[State 810, 11]
type = TargetState
trigger1 = AnimElem = 5
value = 860

[State 810, 12]
type = TargetDrop
trigger1 = AnimElem = 5

[State 810, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hoover's States
[Statedef 820]
type = A
movetype = I
physics = N
anim = 730
sprpriority = 0
velset = 3, 7

[State 820, 1]
type = VelAdd
trigger1 = 1
y = .75

[State 820, 1]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(10)

[State 820, 3]
type = ChangeState
trigger1 = Pos Y >= 0
value = 825

; Land
[Statedef 825]
type = S
movetype = I
physics = N
anim = 731
velset = 0, 0

[State 825, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 825, 1a]
type = PlaySnd
trigger1 = time = 0
value = 10,16

[State 825, 2]
type = ChangeAnim
trigger1 = time = 5
value = 732

[State 825, 3]
type = PlaySnd
trigger1 = time = 15
value = 20,5
volumescale = 222

[State 825, 5]
type = Explod
trigger1 = time = 15
anim = 8080
postype = p2
pos = -14,-80 
bindtime = 1
scale = 1.3,1.3
removetime = -2
ontop = 1

[State 8040, Explod]
type = Explod
trigger1 = time = 15
anim = 8040
pos = 64,-280 
sprpriority = 8
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 15
anim = 8041
pos = 94,-280 
sprpriority = 8
ownpal = 1
bindtime = -1
scale = 1.9,1.9

[State 8040, Explod]
type = Explod
trigger1 = time = 15
anim = 8040
pos = 114,-280 
sprpriority = 8
ownpal = 1
bindtime = -1
scale = 1.9,1.9

[State 8040, Explod]
type = Explod
trigger1 = time = 15
anim = 8041
pos = 134,-280 
sprpriority = 8
ownpal = 1
bindtime = -1
scale = 1.9,1.9

[State 825, 6]
type = ChangeAnim
trigger1 = time = 45
value = 733

[State 825, 7]
type = ChangeState
trigger1 = time = 95
value = 830

; Hoover - Jump Out
[Statedef 830]
type = A
movetype = I
physics = N
anim = 730
velset = -1.8, -19

[State 830, 1]
type = VelAdd
trigger1 = 1
y = .31

[State 830, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

;---------------------------------------------------------------------------
; Getting hit by Hoover-type Commando Throw
[Statedef 850]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
poweradd = 100

[State 850, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 850, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 720

; Launched Up
[Statedef 860]
type = A
movetype = H
physics = N
velset = 0, -16

[State 860, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 60

[State 860, 3]
type = ChangeAnim2
trigger1 = time = 0
value = 721

[State 860, 4]
type = VelAdd
trigger1 = 1
y = .93

[State 860, 5]
type = PosFreeze
trigger1 = time = [15,19]
value = 1

[State 860, 6]
type = PalFX
trigger1 = time = 19
time = 70
add = 224,64,0
mul = 256,240,32
sinadd = 48,16,0,4
;invertall = 1
color = 8

[State 860, 6a]
type = LifeAdd
trigger1 = time = 19
value = -98

[State 860, 7]
type = VelSet
trigger1 = time = 19
x = -13
y = -11

[State 860, 4]
type = VelAdd
trigger1 = time = 19
y = .93

[State 860, 3]
type = ChangeAnim2
trigger1 = time = 19
value = 722

[State 860, 8]
type = SelfState
trigger1 = time = 27
value = 5040

;---------------------------------------------------------------------------
; Commando Throw: Sho
[Statedef 870]
type = S
movetype = A
physics = N
ctrl = 0
anim = 710
poweradd = 90
sprpriority = 2

[State 810]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 200020
value = 200000

[State 870, 1]
type = Width
trigger1 = 1
value = 60, 0

[State 870, 1a]
type = VarSet
trigger1 = time = 0
v = 10
value = floor(ScreenPos Y)

[State 870, 1b]
type = VarSet
trigger1 = time = 0 
v = 31
value = 0

[State 870, 2]
type = TargetState
trigger1 = time = 0
value = 900

[State 870, 3]
type = TargetBind
trigger1 = AnimElem = 1
time = 12
pos = 45*const(size.xscale), 0

[State 870, 4]
type = Explod
trigger1 = AnimElem = 1
ID = 4858
anim = 711
postype = p1
pos = 0, 0
facing = ifelse(command = "holdback", -1, 1)
bindtime = -1
removetime = -2
sprpriority = 0
ownpal = 1
scale = const(size.xscale),1

[State 870, 5]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10,8
channel = 0

[State 870, 6]
type = TargetBind
trigger1 = AnimElem = 2
time = 15
pos = 47*const(size.xscale), -11*const(size.yscale)

[State 870, 7]
type = Helper
trigger1 = AnimElem = 2
name = "Sho"
ID = 2002
postype = p1
pos = 100*const(size.xscale), 0
stateno = 880
ownpal = 1
size.xscale=const(size.xscale)

[State 870, 8]
type = TargetBind
trigger1 = AnimElem = 3
time = 10
pos = 57*const(size.xscale), -40*const(size.yscale)

[State 870, 9]
type = Explod
trigger1 = AnimElem = 4
anim = 8002
postype = p1
pos = 52*const(size.xscale), -134
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1

[State 870, 10]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,2

[State 870, 11]
type = TargetState
trigger1 = AnimElem = 5
value = 910

[State 870, 12]
type = TargetDrop
trigger1 = AnimElem = 5

[State 870, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 875

[Statedef 875]
type = S
movetype = I
physics = S
anim = 0

[State 875, 1]
type = VarAdd
trigger1 = Anim = 0
v = 31
value = 1

[State 875, 1]
type = ChangeState
trigger1 = var(31) = 50
value = 0 
ctrl = 1

;---------------------------------------------------------------------------
; Sho's States for Commando Throw
[Statedef 880]
type = A
movetype = I
physics = N
anim = 9999
sprpriority = 1

[State 880, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, Var(10)

[State 880, 1]
type = Explod
trigger1 = time = 26
ID = 457
anim = 760
postype = p1
pos = -60*const(size.xscale), -255
bindtime = 1
removetime = -2
ontop = 1
ownpal = 1
scale = const(size.xscale),1

[State 880, 2]
type = PlaySnd
trigger1 = time = 30
value = 5,12

[State 880, 2]
type = PlaySnd
trigger1 = time = 31
value = 5,12

[State 880, 2]
type = PlaySnd
trigger1 = time = 32
value = 5,12

[State 880, 2]
type = PlaySnd
trigger1 = time = 33
value = 5,12

[State 880, 2]
type = PlaySnd
trigger1 = time = 35
value = 10,18

[State 880, 3]
type = ChangeAnim
trigger1 = time = 35
value = 750

[State 880, 4]
type = ChangeState
trigger1 = time = 95
value = 890

; Sho - Jump Out
[Statedef 890]
type = A
movetype = I
physics = N
anim = 751
velset = -2.8, -29

[State 890, 1]
type = VelAdd
trigger1 = 1
y = .65

[State 890, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

;---------------------------------------------------------------------------
; Getting hit by Sho-type Commando Throw
[Statedef 900]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
poweradd = 100

[State 900, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 720

; Launched Up
[Statedef 910]
type = A
movetype = H
physics = N
velset = 0, -18

[State 910, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 60

[State 910, 3]
type = ChangeAnim2
trigger1 = time = 0
value = 721

[State 910, 4]
type = VelAdd
trigger1 = 1
y = .93

[State 910, 5]
type = PosFreeze
trigger1 = time = [20,39]
value = 1

[State 910, 6]
type = LifeAdd
trigger1 = time = 39
value = -98

[State 910, 7]
type = VelSet
trigger1 = time = 39
x = -7
y = -6

[State 860, 4]
type = VelAdd
trigger1 = time = 39
y = .93

[State 860, 3]
type = ChangeAnim2
trigger1 = time = 39
value = 722

[State 910, 8]
type = SelfState
trigger1 = time = 50
value = 5040

;---------------------------------------------------------------------------
; Commando Throw: Jennety
[Statedef 920]
type = S
movetype = A
physics = N
ctrl = 0
anim = 712
poweradd = 90
sprpriority = 2

[State 810]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 200020
value = 200000


[State 920, 1]
type = Width
trigger1 = 1
value = 60, 0

[State 920, 1a]
type = VarSet
trigger1 = time = 0
v = 10
value = floor(ScreenPos Y)

[State 920, 2]
type = TargetState
trigger1 = time = 0
value = 950

[State 920, 3]
type = TargetBind
trigger1 = AnimElem = 1
time = 12
pos = 45*const(size.xscale), 0

[State 920, 4]
type = Explod
trigger1 = AnimElem = 1
ID = 4858
anim = 711
postype = p1
pos = 0, 0
facing = ifelse(command = "holdback", -1, 1)
bindtime = -1
removetime = -2
sprpriority = 0
ownpal = 1
scale = const(size.xscale),1

[State 920, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = 10,7
channel = 0

[State 920, 6]
type = TargetBind
trigger1 = AnimElem = 2
time = 15
pos = 47*const(size.xscale), -11*const(size.yscale)

[State 920, 7]
type = Helper
trigger1 = AnimElem = 1
name = "Jennety"
ID = 2003
postype = p1
pos = -70, -(var(10))
stateno = 930
ownpal = 1
size.xscale = const(size.xscale)

[State 920, 8]
type = TargetBind
trigger1 = AnimElem = 3
time = 10
pos = 57*const(size.xscale), -40*const(size.yscale)

[State 920, 9]
type = Explod
trigger1 = AnimElem = 4
anim = 8002
postype = p1
pos = 52*const(size.xscale), -134
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1

[State 920, 10]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,2

[State 920, 11]
type = TargetState
trigger1 = AnimElem = 5
value = 960

[State 920, 12]
type = TargetDrop
trigger1 = AnimElem = 5

[State 920, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Jennety's states for Commando Throw
[Statedef 930]
type = A
movetype = I
physics = N
anim = 770
sprpriority = 0
velset = 3, 15

[State 930, 1]
type = VelAdd
trigger1 = 1
y = .75

[State 930, 1]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(10)

[State 930, 3]
type = ChangeState
trigger1 = Pos Y >= 0
value = 940

; Land
[Statedef 940]
type = S
movetype = A
physics = N
anim = 771
velset = 0, 0

[State 940, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 940, 2]
type = PlaySnd
trigger1 = time = 18
value = 10,17

[State 880, 2]
type = PlaySnd
trigger1 = time = 30
value = 5,13

[State 880, 2]
type = PlaySnd
trigger1 = time = 20
value = 5,13

[State 880, 2]
type = PlaySnd
trigger1 = time = 24
value = 5,13

[State 880, 2]
type = PlaySnd
trigger1 = time = 28
value = 5,13

[State 940, 3]
type = ChangeAnim
trigger1 = time = 18
value = 780

[State 940, 2]
type = PlaySnd
trigger1 = time = 18
value = 10,17

[State 940, 4]
type = VelSet
trigger1 = time = 25
y = -13

[State 940, 4a]
type = PosAdd
trigger1 = time = 25
x = 30

[State 940, 5]
type = HitDef
triggerall = Anim = 780
triggerall = HitCount < 3
trigger1 = (time % 2) = 0
attr = A, NA
hitflag = AF+
guardflag = 
pausetime = 9, 3
damage = 23
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -122
hitsound = S5,2
guardsound = S6,0
ground.velocity = -2,-4
air.velocity = -2, -4
;p2stateno = 970
air.fall = 1
fall.recovertime = 2
yaccel = .93
givepower = 20
getpower = 0
id = 2+4

[State 940, 6]
type = DestroySelf
trigger1 = Pos Y < -522

;---------------------------------------------------------------------------
; Getting hit by Jennety-type Commando Throw
[Statedef 950]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
poweradd = 100

[State 950, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 950, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 723

; Launched Up
[Statedef 960]
type = A
movetype = H
physics = N
velset = 0, -24.5

[State 960, a]
type = LifeAdd
trigger1 = time = 0
value = -30

[State 910, 5]
type = PosFreeze
trigger1 = time = [20,39]
value = 1

[State 960, 3]
type = ChangeAnim2
trigger1 = time = 0
value = 721

[State 960, 4]
type = VelAdd
trigger1 = 1
y = 1.03

[State 960, 8]
type = SelfState
trigger1 = time = 25
value = 5040

; Get hit
[Statedef 970]
type = A
movetype = H
physics = N
velset = -2, -4

[State 970, b]
type = NotHitBy
trigger1 = time > 9
value = SCA
time = 60

;[State 970, c]
;type = EnvColor
;trigger1 = time = 0
;time = 3
;value = 255, 255, 255

[State 970, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5010

[State 970, 2]
type = VelAdd
trigger1 = 1
y = .88

[State 970, 8]
type = SelfState
trigger1 = time = 19
value = 5040

;-----------------------------------------------------------------
; Electric Hold Throw - Attempt
[Statedef 980]
type = S
movetype = A
physics = S
anim = 700
sprpriority = 1
velset = 0,0
ctrl = 0

[State 900, HitDef]
type = HitDef
trigger1 = 1
attr = S, NT
getpower = 0,0
givepower = 0,0
guardflag =
hitflag = M-
sparkno = -1
hitsound = S5,4
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
p1stateno = 985
p2stateno = 990
p1facing = ifelse(command = "holdfwd",1,-1)
p2facing = 1
numhits = 0
id = 4

[State 900, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 250


;-----------------------------------------------------------------
; Electric Hold Throw - Throwing Opponent
[Statedef 985]
type = S
movetype = I
physics = N
ctrl = 0
anim = 790
sprpriority = 1
poweradd = 80

[State 810]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 200020
value = 200000

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(-5*const(size.xscale)),ceil(-72*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 985, a]
type = Width
trigger1 = 1
value = 60, 0

[State 985, 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 29
pos = 68*const(size.xscale), 0

[State 985, 2]
type = VarSet
trigger1 = time = 0
v = 10
value = 0

[State 985, 3]
type = VarSet
trigger1 = time = 0
v = 31
value = 0

[State 985, 3]
type = Explod
trigger1 = AnimElem = 3
ID = 14
anim = 810
postype = p1
pos = 0, 0
bindtime = -1
removetime = 15
ownpal = 1
sprpriority = 2
scale = const(size.xscale),1

[State 985, 4]
type = TargetBind
trigger1 = AnimElem = 4
time = 26
pos = 91*const(size.xscale), 0

[State 985, 5]
type = TargetState
trigger1 = AnimElem = 4
value = 991

[State 985, 6]
type = Explod
trigger1 = AnimElem = 4
ID = 15
anim = 820
postype = p1
pos = 0, 0
bindtime = -1
removetime = 26
sprpriority = 3
ownpal = 1
scale = const(size.xscale),1

[State 985, 7]
type = Explod
triggerall = NumExplod(112) = 0
trigger1 = AnimElemNo(0) = 4 
ID = 112
anim = 8035
postype = p2
pos = var(22), var(32)
bindtime = -1
removetime = -2
ontop = 1
scale = 1.5,1.5
ownpal = 1
scale = const(size.xscale),1

[State 985, 7]
type = Explod
triggerall = NumExplod(112) = 0
trigger1 = AnimElemNo(0) = 6
ID = 112
anim = 8036
postype = p2
pos = var(22), var(32)
bindtime = -1
removetime = -2
ontop = 1
scale = 1.5,1.5
ownpal = 1
scale = const(size.xscale),1

[State 985, 8]
type = PlaySnd
trigger1 = AnimElem = 4
value = 20,6

[State 985, 9]
type = VarAdd
trigger1 = AnimElemNo(0) = 4
v = 10
value = 1

[State 975, 10] 
type = PalFX
trigger1 = time = 30
trigger2 = time = 33
trigger3 = time = 36
trigger4 = time = 39
trigger5 = time = 42
trigger6 = time = 45
trigger7 = time = 48
trigger8 = time = 51
trigger8 = time = 54
time = 1
add = 52,62,256
mul = 41,328,337
sinadd = 61,31,41,25
;invertall = 0
color = 256

[State 985, 11]
type = TargetLifeAdd
triggerall = AnimElemNo(0) = 4
trigger1 = (var(10) % 2) = 0
value = -5

[State 985, 15]
type = TargetState
trigger1 = AnimElem = 5
value = 992

[State 985, 16]
type = PlaySnd
trigger1 = AnimElem = 5
value = 10,4
channel = 0

[State 985, 17]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5,2

[State 985, 18]
type = TargetLifeAdd
trigger1 = AnimElem = 5
value = -30

[State 985, 19]
type = Explod
trigger1 = AnimElem = 5
anim = 8004
postype = p1
pos = 66*const(size.xscale), -122
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 985, 20]
type = TargetDrop 
trigger1 = AnimElem = 5

[State 985, 21]
type = ChangeState
trigger1 = AnimTime = 0
value = 12
ctrl = 1

;-----------------------------------
; Being Thrown
[Statedef 990]
type = S
movetype = H
physics = N
ctrl = 0
sprpriority = 2
poweradd = 100

[State 820, 1]
type = changestate
triggerall = time < 4
triggerall = command = "holdfwd" || command = "holdback"
trigger1 = command = "y"
trigger2 = command = "z"
trigger3 = command = "b"
trigger4 = command = "c"
value = 200020

[State 990, 1]
type = Screenbound
trigger1 = 1
value = 0

[State 990, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 800

; Zapped
[Statedef 991]
type = S
movetype = H
physics = N

[State 995, 1]
type = Screenbound
trigger1 = 1
value = 0

[State 995, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 800
elem = 2

[State 995, 3]
type = PalFX
trigger1 = time = 0
time = 60
add = 40,96,240
mul = 176,240,240
sinadd = 8,32,64,4
color = 8

; Kicked
[Statedef 992]
type = A
movetype = H
physics = N
velset = -7, -25

[State 996, 1]
type = ChangeAnim
trigger1 = time <= 4
value = 801

[State 996, 3]
type = SelfState
trigger1 = time = 16
value = 5040

[State 0, VelSet]
type = VelAdd
trigger1 = 1
y = 1.33
;ignorehitpause = 
;persistent = 

;---------------------------------------------------------------------------
; Air Throw - Attempt
[Statedef 993]
type = A
physics = A
movetype = A
ctrl = 0
anim = 830

[State 720, 1]
type = HitDef
Trigger1 = Time = 0
attr = A, NT          ;Attributes: Standing, Normal Throw
hitflag = A          
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = S9999   
sparkxy = -5, -67
hitsound = S5,4
sprpriority = 1       ;Draw in front of p2
;p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = -1         
p1stateno = 994      
p2stateno = 995      
fall = 1              ;Force p2 into falling down
id = 4
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2

[State 720, 2]
type = ChangeState
Trigger1 = time = 3
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Throwing Opponent
[Statedef 994]
type = A
movetype = I
physics = N
anim = 840
sprpriority = 1
velset = 0, 0
poweradd = 80

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(-25*const(size.xscale)),ceil(-90*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 730, 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 13
pos = -49, -64

[State 730, 2]
type = TargetBind
trigger1 = AnimElem = 2
time = 6
pos = -66, -101

[State 730, 3]
type = TargetBind
trigger1 = AnimElem = 3
time = 5
pos = -50, -113

[State 730, 4]
type = TargetBind
trigger1 = AnimElem = 4
time = 5
pos = 64, -43

[State 730, 5]
type = TargetLifeAdd
trigger1 = AnimElem = 4 = 2
value = -98

[State 730, 6]
type = TargetState
trigger1 = AnimElem = 4 = 2
value = 996

[State 730, 7]
type = TargetDrop
trigger1 = AnimElem = 4 = 2

[State 730, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;--------------------------------
; Getting thrown
[Statedef 995]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0, 0
poweradd = 100

[State 740, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 740, 2]
type = ChangeAnim2
trigger1 = time = 0
value = 850

;---------------------------------
; Thrown Into Ground
[Statedef 996]
type = A
movetype = H
physics = N
velset = 6, 14

[State 750, 1]
type = SelfState
trigger1 = Pos Y >= -1
value = 5110

;Captain Fire
[Statedef 1000]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1000
poweradd = 70
sprpriority = 2
velset = 0, 0

[State 1000, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1000, 2]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1000, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1000, 4]
type = PlaySnd
trigger1 = time = 0
value = 10,1
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1000, 6]
type = Helper
trigger1 = AnimElem = 4
ID = 111
name = "Flames"
StateNo = 1005
postype = p1
pos = 13*const(size.xscale), -73
ownpal = 1
size.xscale = const(size.xscale)

[State 0, 1]
type = ChangeState
triggerall = var(23)=0
trigger1 = animtime = 0
value = 12
ctrl = 1

[State 0, 1]
type = ChangeState
triggerall = var(23)=1
trigger1 = animtime = 0
value = ifelse(roundstate=3,12,100530)
ctrl = ifelse(roundstate=3,1,0)

;---------------------------------------------------------------------------
; State for Flames
[Statedef 1005]
type = A
movetype = A
physics = N
sprpriority = 3
;juggle = 4
hitdefpersist = 1

[State 1005, a]
type = VarAdd
trigger1 = 1
v = 10
value = 1

[State 1005, b]
type = ChangeAnim
trigger1 = var(10) = 1
value = 1020

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
var(18) = 1

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 1005, 1]
type = BindToParent
trigger1 = 1
pos = 5*const(size.xscale), -71

[State 1005, 2]
type = PlaySnd
trigger1 = time = 0
value = 20,3

[State 1005, 3]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1005, 4]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1005
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1005, 5]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1005, 6]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1005, 7]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 0, 8
damage = 90, 2
air.animtype = Diagup
animtype = Diagup
ground.type = high
air.type = low
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -3
hitsound = S5,11
guardsound = S6,0
ground.velocity = -9, -8
ground.hittime = 22
ground.slidetime = 18
air.hittime = 30
air.velocity = -8, -8.2
guard.slidetime = 18
guard.hittime = 3
guard.velocity = -12
sprpriority = 3
down.velocity = -8,0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 3
givepower = 50
getpower = 60
palfx.time = 39
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
yaccel = 1.23
id = 2+4+16

[State 8040, Explod]
type = Explod
trigger1 = movecontact
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*2))
sprpriority = 4
ownpal = 1
postype = p2
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = movecontact
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
postype = p2
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = movecontact
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
postype = p2
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = movecontact
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5
postype = p2

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 225

[State 1005, 8]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Parent, MoveType = H

;---------------------------------------------------------
; Hit by Fierce
[Statedef 225]
type    = A
movetype= H
physics = N
velset = 0,0

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5030

[State 225, 2]
type = ChangeState
trigger1 = Time = 12
value = 226

;---------------------------------------------------------
; Hit by Fierce - Flying
[Statedef 226]
type    = A
movetype= H
physics = N

[State 226, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 226, 2]
type = VelAdd
trigger1 = 1
y = 1.51

[State 226, 3]
type = Null;Explod
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
anim = 7000
persistent = 0
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 226, 4]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 25)
trigger1 = alive
value = 227

[State 226, 5]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 0
value = 5100

;---------------------------------------------------------
; Hit by Fierce - Recover
[Statedef 227]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5040

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -8
y = -4

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52
 
;---------------------------------------------------------------------------
; Air Captain Fire
[Statedef 1010]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1010
poweradd = 60
sprpriority = 2

[State 1010, 1]
type = VelMul
trigger1 = time = 0
x = .15
y = .15

[State 1010, 1a]
type = VelAdd
trigger1 = time = 0
trigger1 = Vel Y = [-.1,.1]
y = ifelse(Vel Y <= 0, .1, -.1)

[State 1010, 2]
type = PlaySnd
trigger1 = time = 0
value = 10,1
channel = 0

[State 1010, 3]
type = Helper
trigger1 = AnimElem = 4
ID = 111
name = "Flames"
StateNo = 1015
postype = p1
pos = 19*const(size.xscale), -101
ownpal = 1
size.xscale = const(size.xscale)

[State 1010, 3a]
type = VelSet
trigger1 = Pos Y >= 4
y = 0

[State 1010, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
anim = 44

;---------------------------------------------------------------------------
; State for Flames (Air)
[Statedef 1015]
type = A
movetype = A
physics = N
sprpriority = 3
;juggle = 4
hitdefpersist = 1

[State 1015, a]
type = VarAdd
trigger1 = 1
v = 10
value = 1

[State 1015, b]
type = ChangeAnim
trigger1 = var(10) = 1
value = 1020

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
var(18) = 1

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 1015, 1]
type = BindToParent
trigger1 = 1
pos = 19*const(size.xscale), -101

[State 1015, 2]
type = PlaySnd
trigger1 = time = 0
value = 20,3

[State 1015, 3]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1015, 4]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1015
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1015, 5]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1015, 6]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1015, 7]
type = HitDef
trigger1 = var(10) = 1 ;time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 0, 8
damage = 90, 2
animtype = Diagup
ground.type = high
air.type = low
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -3
hitsound = S5,11
guardsound = S6,0
ground.velocity = -9, -8
ground.hittime = 22
ground.slidetime = 18
air.hittime = 30
air.velocity = -8, -8.2
guard.slidetime = 18
guard.hittime = 26
guard.velocity = -12
sprpriority = 3
down.velocity = -8,0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 5
givepower = 50
getpower = 60
palfx.time = 39
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
yaccel = 1.03
id = 2+4+16

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 225


[State 1015, 8]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Parent, MoveType = H

;---------------------------------------------------------------------------
; Captain Corridor (Light)
[Statedef 1020]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1030
poweradd = 60
sprpriority = -1

[State 1020, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1020, 2]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1020, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1020, 4]
type = PlaySnd
trigger1 = time = 0
value = 10,2
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1


[State 1020, 6]
type = Helper
trigger1 = AnimElem = 6
ID = 222
name = "Energy Blast"
StateNo = 1025
postype = p1
pos = 26*const(size.xscale), 9
ownpal = 1
size.xscale = const(size.xscale)

[State 1020, 7]
type = Explod
trigger1 = AnimElem = 6
ID = 279
anim = 1050
postype = p1
pos = 0, 0
bindtime = -1
removetime = 46
sprpriority = 2
ownpal = 1
removeongethit = 1
scale = const(size.xscale),1

[State 1020, 8]
type = PalFX
trigger1 = AnimElemNo(0) = 6
trigger1 = (time % 3) = 0
time = 1
add = 174,174,184
mul = 256,256,256
color = 200

[State 1020, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 12
ctrl = 1

;---------------------------------------------------------------------------
; Explosion State
[Statedef 1025]
type = A
movetype = A
physics = N
sprpriority = 9
;juggle = 15
hitdefpersist = 1

[State 1025, 1]
type = VarAdd
trigger1 = 1
v = 10
value = 1

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
var(18) = 1

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 1025, 2]
type = ChangeAnim
trigger1 = var(10) = 1
value = 1040

[State 1025, 3]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1025, 4]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1025
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1025, 5]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1025, 6]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1025, 7]
type = PlaySnd
trigger1 = var(10) = 1
value = 20,2

[State 1025, 8]
type = EnvShake
trigger1 = var(10) = 1
time = 15
freq = 80
ampl = -5

[State 1025, 9]
type = HitDef
trigger1 = var(10) = 1 ;time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
pausetime = 1, 9
damage = 140, 2
animtype = Diagup
sparkno = s8002
guard.sparkno = s8050
sparkxy = -5, -30
hitsound = S5,7
guardsound = S6,0
down.velocity = -8,-4
priority = 8
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -13,-24
guard.slidetime = 15
guard.velocity = -13
airguard.velocity = -4,0
air.hittime = 26
air.velocity = -13,-24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 60
givepower = 56
yaccel = 0.8
air.fall = 1
fall.recover = 10
palfx.time = 39
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
id = 1+4+8

[State 8030, Explod]
type = Explod
trigger1 = time%6=0
trigger1 = MoveHit
anim = 8030+random%4+(random%2)*5
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
postype = p2
bindtime = -1

[State 1025, 10]
type = DestroySelf
trigger1 = AnimTime = 0


;---------------------------------------------------------------------------
; Captain Corridor (Medium)
[Statedef 1030]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1030
poweradd = 60
sprpriority = -1

[State 1030, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1030, 2]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1030, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1030, 4]
type = PlaySnd
trigger1 = time = 0
value = 10,2
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1030, 6]
type = Helper
trigger1 = AnimElem = 6
ID = 222
name = "Energy Blast"
StateNo = 1025
postype = p1
pos = 53*const(size.xscale), 9
ownpal = 1
size.xscale= const(size.xscale)

[State 1030, 7]
type = Explod
trigger1 = AnimElem = 6
ID = 279
anim = 1050
postype = p1
pos = 0, 0
bindtime = -1
removetime = 46
sprpriority = 2
ownpal = 1
removeongethit = 1
scale = const(size.xscale),1

[State 1030, 8]
type = PalFX
trigger1 = AnimElemNo(0) = 6
trigger1 = (time % 3) = 0
time = 1
add = 174,174,184
mul = 256,256,256
color = 200

[State 1030, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 12
ctrl = 1

;---------------------------------------------------------------------------
; Captain Corridor (Hard)
[Statedef 1040]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1030
poweradd = 60
sprpriority = -1

[State 1040, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1040, 2]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1040, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1040, 4]
type = PlaySnd
trigger1 = time = 0
value = 10,2
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1040, 6]
type = Helper
trigger1 = AnimElem = 6
ID = 222
name = "Energy Blast"
StateNo = 1025
postype = p1
pos = 86*const(size.xscale), 9
ownpal = 1
size.xscale= const(size.xscale)

[State 1040, 7]
type = Explod
trigger1 = AnimElem = 6
ID = 279
anim = 1050
postype = p1
pos = 0, 0
bindtime = -1
removetime = 46
sprpriority = 2
ownpal = 1
removeongethit = 1
scale = const(size.xscale),1

[State 1040, 8]
type = PalFX
trigger1 = AnimElemNo(0) = 6
trigger1 = (time % 3) = 0
time = 1
add = 174,174,184
mul = 256,256,256
color = 200

[State 0, 1]
type = ChangeState
triggerall = var(23)=0
trigger1 = animtime = 0
value = 12
ctrl = 1

[State 0, 1]
type = ChangeState
triggerall = var(23)=1
trigger1 = animtime = 0
value = ifelse(roundstate=3,12,100530)
ctrl = ifelse(roundstate=3,1,0)


;---------------------------------------------------------------------------
; Captain Kick (Light)
[Statedef 1050]
type = S
movetype = A
physics = S
ctrl = 0
anim = 40
poweradd = 50
;juggle = 4
sprpriority = 2
velset = 0, 0

[State 1050, a]
type = PosSet
trigger1 = time = 0
y = 0

[State 1050, b]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1050, c]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1050, 2]
type = PlaySnd
trigger1 = time = 0
value = 10,9
channel = 0

[State 1050, 3]
type = ChangeAnim
trigger1 = Anim = 40
trigger1 = AnimTime = 0
value = 1060

[State 1050, 4]
type = StateTypeSet
trigger1 = Anim = 1060
StateType = A
physics = N
persistent = 0

[State 1050, 5]
type = VelSet
trigger1 = Anim = 1060
x = 6.5
y = -1.8
persistent = 0

[State 1050, 6]
type = VelAdd
trigger1 = Anim = 1060
trigger1 = AnimElemNo(0) = [2,4]
x = -.6

[State 1050, 7]
type = VelAdd
trigger1 = Anim = 1060
trigger1 = AnimElemNo(0) = [5,6]
trigger1 = Vel X <= 9.5
x = 1

[State 1050, 8]
type = VelSet
trigger1 = Anim = 1060
trigger1 = AnimElem = 5
y = -1.1

[State 1050, 9]
type = Explod
trigger1 = AnimElem = 6
ID = 806
anim = 1070
postype = p1
pos = 108*const(size.xscale), -67
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 1
scale = const(size.xscale),1

[State 1050, 10]
type = PlaySnd
trigger1 = AnimElem = 6
value = 20,3

[State 1050, 11]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 6, 4
damage = 35, 2
animtype = back
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -85
hitsound = S5,11
guardsound = S6,0
ground.velocity = -4, -8
air.velocity = -4, -7
guard.slidetime = 13
guard.hittime = 13
guard.velocity = -7
fall = 1
air.fall = 1
fall.recovertime = 60
givepower = 40
getpower = 60
yaccel = .93
id = 1+4

[State 1050, 12]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 13, 11
damage = 65, 2
animtype = back
sparkno = s8002
guard.sparkno = s8050
sparkxy = -5, -64
hitsound = S5,11
guardsound = S6,0
ground.velocity = -20, -7
air.velocity = -20, -7
guard.slidetime = 15
guard.hittime = 11
guard.velocity = -9
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 39
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
givepower = 70
getpower = 70
id = 4+16
yaccel = 1.23

[State 1050, 13]
type = ChangeState
trigger1 = Anim = 1060
trigger1 = AnimTime = 0
value = 51
anim = 44

;---------------------------------------------------------------------------
; Captain Kick (Medium)
[Statedef 1060]
type = S
movetype = A
physics = S
ctrl = 0
anim = 40
poweradd = 50
;juggle = 4
sprpriority = -1
velset = 0, 0

[State 1060, a]
type = PosSet
trigger1 = time = 0
y = 0

[State 1060, b]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1060, c]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1060, 2]
type = PlaySnd
trigger1 = time = 0
value = 10,9
channel = 0

[State 1060, 3]
type = ChangeAnim
trigger1 = Anim = 40
trigger1 = AnimTime = 0
value = 1080

[State 1060, 4]
type = StateTypeSet
trigger1 = Anim = 1080
StateType = A
physics = N
persistent = 0

[State 1060, 5]
type = VelSet
trigger1 = Anim = 1080
x = 6.5
y = -1.8
persistent = 0

[State 1060, 6]
type = VelAdd
trigger1 = Anim = 1080
trigger1 = AnimElemNo(0) = [2,4]
x = -.6

[State 1060, 7]
type = VelAdd
trigger1 = Anim = 1080
trigger1 = AnimElemNo(0) = [5,6]
trigger1 = Vel X <= 10.5
x = 1

[State 1060, 8]
type = VelSet
trigger1 = Anim = 1080
trigger1 = AnimElem = 5
y = -1.4

[State 1060, 9]
type = Explod
trigger1 = AnimElem = 6
ID = 806
anim = 1090
postype = p1
pos = 108*const(size.xscale), -67
bindtime = -1
removetime = -2
sprpriority =4
ownpal = 1
removeongethit = 1
scale = const(size.xscale),1

[State 1060, 10]
type = PlaySnd
trigger1 = AnimElem = 6
value = 20,3

[State 1060, 11]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 6, 4
damage = 35, 2
animtype = back
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -85
hitsound = S5,11
guardsound = S6,0
ground.velocity = -4, -8
air.velocity = -4, -7
guard.slidetime = 13
guard.hittime = 13
guard.velocity = -7
fall = 1
air.fall = 1
fall.recovertime = 60
givepower = 40
getpower = 60
yaccel = .93
id = 1+4

[State 1060, 12]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 13, 11
damage = 65, 2
animtype = back
sparkno = s8002
guard.sparkno = s8050
sparkxy = -5, -64
hitsound = S5,11
guardsound = S6,0
ground.velocity = -20, -7
air.velocity = -20, -7
guard.slidetime = 15
guard.hittime = 11
guard.velocity = -9
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 39
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
givepower = 70
getpower = 70
id = 4+16
yaccel = 1.23

[State 1060, 13]
type = ChangeState
trigger1 = Anim = 1080
trigger1 = AnimTime = 0
value = 51
anim = 44

;---------------------------------------------------------------------------
; Captain Kick (Hard)
[Statedef 1070]
type = S
movetype = A
physics = S
ctrl = 0
anim = 40
poweradd = 50
;juggle = 4
sprpriority = -1
velset = 0, 0

[State 1070, a]
type = PosSet
trigger1 = time = 0
y = 0

[State 1070, b]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1070, c]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1070, 2]
type = PlaySnd
trigger1 = time = 0
value = 10,9
channel = 0

[State 1070, 3]
type = ChangeAnim
trigger1 = Anim = 40
trigger1 = AnimTime = 0
value = 1100

[State 1070, 4]
type = StateTypeSet
trigger1 = Anim = 1100
StateType = A
physics = N
persistent = 0

[State 1070, 5]
type = VelSet
trigger1 = Anim = 1100
x = 6.5
y = -1.8
persistent = 0

[State 1070, 6]
type = VelAdd
trigger1 = Anim = 1100
trigger1 = AnimElemNo(0) = [2,4]
x = -.6

[State 1070, 7]
type = VelAdd
trigger1 = Anim = 1100
trigger1 = AnimElemNo(0) = [5,6]
trigger1 = Vel X <= 11.5
x = 1

[State 1070, 8]
type = VelSet
trigger1 = Anim = 1100
trigger1 = AnimElem = 5
y = -1.95

[State 1070, 9]
type = Explod
trigger1 = AnimElem = 6
ID = 806
anim = 1110
postype = p1
pos = 108*const(size.xscale), -67
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 1
scale= const(size.xscale),1

[State 1070, 10]
type = PlaySnd
trigger1 = AnimElem = 6
value = 20,3

[State 1070, 11]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 6, 4
damage = 35, 2
animtype = back
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -85
hitsound = S5,11
guardsound = S6,0
ground.velocity = -4, -8
air.velocity = -4, -7
guard.slidetime = 13
guard.hittime = 13
guard.velocity = -7
fall = 1
air.fall = 1
fall.recovertime = 60
givepower = 40
getpower = 60
yaccel = .93
id = 1+4

[State 1070, 12]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 13, 11
damage = 65, 2
animtype = back
sparkno = s8002
guard.sparkno = s8050
sparkxy = -5, -64
hitsound = S5,11
guardsound = S6,0
ground.velocity = -20, -7
air.velocity = -20, -7
guard.slidetime = 15
guard.hittime = 11
guard.velocity = -9
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 39
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
givepower = 70
getpower = 70
id = 4+16
yaccel = 1.23

[State 1070, 13]
type = ChangeState
trigger1 = Anim = 1100
trigger1 = AnimTime = 0
value = 51
anim = 44

;---------------------------------------------------------------------------
; Commando Strike - Sho
[Statedef 1080]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
sprpriority = 2
anim = 1120
poweradd = 50

[State 1080, a]
type = VarSet
trigger1 = time = 0
v = 10
value = floor(ScreenPos Y)

[State 1080, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1080, 2]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1080, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1080, 4]
type = PlaySnd
trigger1 = time = 0
value = 10,8
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1080, 6]
type = Helper
trigger1 = time = 4
ID = 444
name = "Sho"
StateNo = 1090
postype = p1
pos = 8*const(size.xscale), -120
ownpal = 1
size.xscale = const(size.xscale)

[State 1080, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Sho Striker
[Statedef 1090]
type = A
movetype = A
physics = N
anim = 1130
sprpriority = 3

[State 1090, 1]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1090, 2]
type = NotHitBy
trigger1 = 1
time = 1
value = ,AT

[State 1090, 3]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
time = -1
stateno = 1110

[State 1090, 4]
type = PlaySnd
trigger1 = AnimElem = 6
value = 10,18

[State 1090, 5]
type = PlaySnd
trigger1 = AnimElem = 7
value = 5,13

[State 1090, 6]
type = VelSet
trigger1 = AnimElem = 6
x = 3.8

[State 1090, 7]
type = VelAdd
trigger1 = time > 7
y = .53

[State 1090, 8]
type = Explod
trigger1 = AnimElem = 6
ID = 409
anim = 1150
postype = p1
pos = -15*const(size.xscale), -57
bindtime = 1
removetime = -2
vel = -1.8, -3
accel = 0, .35
sprpriority = 4
ownpal = 1
scale = const(size.xscale),1

[State 1090, 9]
type = HitDef
triggerall = (HitCount < 3) && (var(1) < 3)
trigger1 = (time % 3) = 0
trigger2 = AnimElem = 7
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 5,7
damage = 15, 2
animtype = back
priority = 5
sparkno = s8072
guard.sparkno = s8050
sparkxy = -10, -61
hitsound = S5,10
guardsound = S6,0
ground.velocity = -9, -11
ground.hittime = 20
air.velocity = -9, -11
air.hittime = 15 
guard.slidetime = 16
guard.hittime = 16
guard.velocity = -8
givepower = 20
getpower = 30 
yaccel = 1.33
 
[State 1090, 10]
type = VarAdd
trigger1 = MoveGuarded
v = 31
value = 1

[State 1090, 11]
type = MoveHitReset
trigger1 = MoveGuarded 
trigger2 = MoveHit
 
[State 1090, 12]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1100

;----------------------------------
; Sho - Land
[Statedef 1100]
type = S
movetype = I
physics = N
anim = 1140
velset = 0, 0

[State 1100, 1]
type = NotHitBy
trigger1 = 1
time = 1
value = ,AT

[State 1100, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
time = -1
stateno = 1110

[State 1100, 3]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[State 1100, 4]
type = PosSet
trigger1 = time = 0
y = 0

[State 1100, 5]
type = ChangeAnim
trigger1 = Anim = 1140
trigger1 = AnimTime = 0
value = 1141

[State 1100, 6]
type = VelSet
trigger1 = Anim = 1141
x = 3
y = -15
persistent = 0

[State 1100, 7]
type = VelAdd
trigger1 = Anim = 1141
y = .35

[State 1100, 8]
type = DestroySelf
trigger1 = Anim = 1141
trigger1 = Pos Y < -(var(10))

;--------------------------------
; Sho - Get Hit
[Statedef 1110]
type = A
movetype = H
physics = N
anim = 1141

[State 1110, 1]
type = VelSet
trigger1 = time = 0
x = 3
y = -18

[State 1110, 2]
type = VelAdd
trigger1 = 1
y = .25

[State 1110, 3]
type = PlaySnd
trigger1 = time = 0
value = 10,19

[State 1110, 4]
type = DestroySelf
trigger1 = Pos Y < -555

;---------------------------------------------------------------------------
; Commando Strike - Jennety
[Statedef 1120]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
sprpriority = 2
anim = 1160
poweradd = 50

[State 1120, a]
type = VarSet
trigger1 = time = 0
v = 10
value = floor(ScreenPos Y)

[State 1120, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1120, 2]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1120, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1120, 4]
type = PlaySnd
trigger1 = time = 0
value = 10,7
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1120, 6]
type = Helper
trigger1 = time = 10
StateNo = 1130
ID = 444
name = "Jennety"
postype = back
pos = -100*const(size.xscale), -(var(17))
ownpal = 1
size.xscale = const(size.xscale)

[State 1120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Jennety Striker
[Statedef 1130]
type = A
movetype = A
physics = N
anim = 1170
sprpriority = 2

[State 1130, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1130, 1]
type = NotHitBy
trigger1 = 1
time = 1
value = ,AT

[State 1130, 2]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
time = -1
stateno = 1140

[State 1130, 3]
type = PlaySnd
trigger1 = AnimElem = 4 
value = 0, 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 9
y = 5.3

[State 0, VelSet]
type = VelSet
trigger1 = time = 34
x = 9
y = -5.1

[State 1130, 4]
type = VelAdd
trigger1 = 1
y = -.192

[State 1130, 5]
type = HitDef
triggerall = (HitCount < 3) && (var(31) < 3)
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 9, 9
damage = 20, 2
animtype = back
priority = 5
sparkno = s8002
guard.sparkno =s8050
sparkxy = -10, -41
hitsound = S5,2
guardsound = S6,0
ground.velocity = -8, -7
ground.hittime = 20
air.velocity = -9.5, -6
air.hittime = 15 
guard.slidetime = 16
guard.hittime = 16
guard.velocity = -8
givepower = 20
getpower = 30 
yaccel = 1.33
air.fall = 1
fall.recovertime = 30
 
[State 1130, 6]
type = VarAdd
trigger1 = MoveGuarded
v = 31
value = 1

[State 1130, 7]
type = MoveHitReset
trigger1 = MoveGuarded
trigger2 = MoveHit

[State 1130, 8]
type = DestroySelf
trigger1 = (facing = 1) && (ScreenPos X >= 370)
trigger2 = (facing = -1) && (ScreenPos X <= -70)
trigger3 = time = 50

;------------------------------------------------
; Jennety - Get Hit
[Statedef 1140]
type = A
movetype = H
physics = N
anim = 770
velset = 3, -7

[State 1140, 1]
type = PlaySnd
trigger1 = time = 0
value = 10,20

[State 1140, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

[State 1140, 3]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
; Commando Strike - Hoover
[Statedef 1150]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
sprpriority = 2
anim = 1180
poweradd = 70

[State 1150, a]
type = VarSet
trigger1 = time = 0
v = 10
value = floor(ScreenPos Y)

[State 1150, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1150, 2]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1150, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1150, 4]
type = PlaySnd
trigger1 = time = 0
value = 10,6
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1150, 6]
type = Helper
trigger1 = time = 9
ID = 444
name = "Hoover"
StateNo = 1160
postype = back
pos = -98*const(size.xscale), -(var(17))
ownpal = 1

[State 1150, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hoover Striker
[Statedef 1160]
type = A
movetype = I
physics = N
anim = 730
velset = 8, 9
sprpriority = 2

[State 1160, 1]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1160, 2]
type = NotHitBy
trigger1 = 1
time = 1
value = ,AT

[State 1160, 3]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
time = -1
stateno = 1220

[State 1160, 4]
type = VelAdd
trigger1 = 1
y = .55

[State 1160, 5]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1170

;--------------------------------------
; Hoover - Land and attack
[Statedef 1170]
type = S
movetype = I
physics = N
anim = 1190
velset = 0, 0

[State 1170, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1170, 2]
type = PlaySnd
trigger1 = time = 0
value = 20,4

[State 1170, 3]
type = PlaySnd
trigger1 = time = 0
value = 10,16
channel = 1

[State 1170, 4]
type = NotHitBy
trigger1 = 1
time = 1
value = ,AT

[State 1170, 5]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
time = -1
stateno = 1220

[State 1170, 6]
type = PlaySnd
trigger1 = AnimElem = 3
value = 20,8

[State 1170, 7]
type = Helper
trigger1 = AnimElem = 4
ID = 445
name = "Hoover Missile"
StateNo = 1190
postype = p1
pos = 34*const(size.xscale), -66
ownpal = 1
size.xscale = const(size.xscale)

[State 1170, 7a]
type = Explod
;triggerall = NumExplod(111) = 0
trigger1 = var(44) = 1
;ID = 111
anim = 6060
postype = p2
pos = parent, var(22), parent, var(32)
bindtime = -1
removetime = -2
sprpriority = -4
ownpal = 1
persistent = 0
;
;[State 1170, 7b]
;type = ParentVarSet
;trigger1 = var(4) = 1
;v = 11
;value = 1
;persistent = 0

[State 1170, 8]
type = ChangeState
trigger1 = var(32) = 1
trigger1 = var(44) = 1
value = 1180

[State 1170, 8a]
type = ChangeState
trigger1 = var(32) = 1
trigger1 = var(44) = 0
value = 1185

[State 1170, 9]
type = ChangeState
trigger1 = time > 10
trigger1 = NumHelper(445) = 0
value = 1210

;-------------------------------
; Hoover - Pose and Jump Out
[Statedef 1180]
type = S
movetype = I
physics = N
anim = 1190

[State 1180, 1]
type = ChangeAnim
trigger1 = time < 15
value = 1190

[State 1180, 2]
type = NotHitBy
trigger1 = 1
time = 1
value = ,AT

[State 1180, 3]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AP
time = -1
stateno = 1220

[State 1180, 4]
type = ChangeAnim
trigger1 = time = 15
value = 733

[State 1180, 5]
type = ChangeState
trigger1 = time = 50
value = 1185

;-------------------------------
; Hoover - Jump Out
[Statedef 1185]
type = A
movetype = I
physics = N
anim = 730
velset = 3, -19

[State 1185, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1185, 2]
type = VelAdd
trigger1 = 1
y = .15

[State 1185, 3]
type = DestroySelf
trigger1 = Pos Y < -555

;-------------------------------
; Hoover Missile
[Statedef 1190]
type = A
movetype = A
physics = N
anim = 1200
velset = 6, 0
sprpriority = 3

[State 1190, Speed Up]
type = VelAdd
trigger1 = 1
x = .15

[State 1190, a]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1190, b]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1200
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1190, c]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1190, 1]
type = Explod
trigger1 = time = 0
ID = 7812
anim = 1210
postype = p1
pos = -54*const(size.xscale), 0
bindtime = -1
removetime = -1
ownpal = 1
sprpriority = 3
scale = const(size.xscale),1

[State 1190, 2]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = MA
pausetime = 1, 4
damage = 120, 10
animtype = Hard
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, 0
hitsound = S5,14
guardsound = S6,0
ground.velocity = -9.5, -11
air.velocity = -9.5, -11
guard.slidetime = 17 
guard.hittime = 18
guard.velocity = -9
fall = 1
air.fall = 1
fall.recover = 0
yaccel = 1.03
palfx.time = 39
palfx.add = 224,64,0
palfx.mul = 256,240,32
palfx.sinadd = 48,16,0,4
palfx.color = 8
givepower = 100
getpower = 50
id = 4+16

[State 1190, 2a]
type = ParentVarSet
trigger1 = MoveHit
v = 44
value = 1

[State 1190, 3]
type = ChangeState
trigger1 = MoveContact
value = 1200

[State 1190, 3a]
type = RemoveExplod
trigger1 = (Facing = 1) && (ScreenPos X > 440)
trigger2 = (Facing = -1) && (ScreenPos X < -150)
trigger3 = time = 600

[State 1190, 4]
type = DestroySelf
trigger1 = (Facing = 1) && (ScreenPos X > 440)
trigger2 = (Facing = -1) && (ScreenPos X < -150)
trigger3 = time = 600

;------------------------------------------------
; Hoover - Hit Contacts
[Statedef 1200]
type = A
movetype = I
physics = N
anim = 1220
sprpriority = 4

[State 1200, a]
type = RemoveExplod
trigger1 = time = 0

[State 1200, 1]
type = PlaySnd
trigger1 = time = 0
value = 20,5

[State 1200, 2]
type = Explod
trigger1 = time = 0
ID = 486
anim = 8080
postype = p1
pos = 53*const(size.xscale), 0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
scale = 1.5,1.5

[State 1200, 3]
type = VelSet
trigger1 = time = 0
x = .1 * (parentDist X / 6)
y = -12

[State 1200, 4]
type = VelAdd
trigger1 = 1
y = .4

[State 1200, 5]
type = ParentVarSet
trigger1 = ParentDist X >= -10
trigger1 = ParentDist Y <= 68
v = 32
value = 1

[State 1200, 6]
type = DestroySelf
trigger1 = ParentDist X >= -10
trigger1 = ParentDist Y <= 68

;------------------------------------
; Hoover - Empty Mech Jump Away
[Statedef 1210]
type = A
movetype = I
physics = N
anim = 1230
velset = 3, -15

[State 1210, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1210, 2]
type = VelAdd
trigger1 = 1
y = .35

[State 1210, 3]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

;------------------------------------------
; Hoover - Get Hit
[Statedef 1220]
type = A
movetype = H
physics = N
anim = 733
velset = 3, -15

[State 1220, a]
type = PlaySnd
trigger1 = time = 0
value = 10,21
channel = 1

[State 1220, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1220, 2]
type = VelAdd
trigger1 = 1
y = .35

[State 1220, 3]
type = DestroySelf
trigger1 = Pos Y < -(var(10))


;Captain Sword
[Statedef 1500]
type = S
movetype = A
physics = S
anim = 1500
ctrl = 0
velset = 0, 0
sprpriority = 2

[State 1500, a]
type = PosSet
trigger1 = time = 0
y = 0

[State 1500, b]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1500, c]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1500, d]
type = VarSet
trigger1 = time = 0
v = 10
value = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1


[State 1500, 1a]
type = PlaySnd
trigger1 = time = 0
value = 10,13
channel = 0

;[State 1500, 2]
;type = SuperPause
;trigger1 = time = 7
;time = 2
;sound = S2,7
;anim = S6140
;pos = 6, -119
;movetime = 2
;poweradd = -1000
;
;[State 1500, 2a]
;type = SuperPause
;trigger1 = time = [8,40]
;time = 2
;anim = -1
;sound = -1
;movetime = 2
;p2defmul = 1


[State 3010, VarSet]
type = VarSet
triggerall = var(23)=0
trigger1 = time = 7
var(4) = 1

[State 3010, Normal Hyper Helper]
type = Helper
triggerall = var(23)=0
triggerall = var(24)=0
trigger1 = time = 7
stateno = 8500
supermovetime = 99999999
pos = ceil(6*const(size.xscale)),ceil(-119*const(size.yscale))
ownpal = 1
id = 8500

[State 3010, SuperPause]
type = SuperPause
triggerall = var(23)=0
trigger1 = time = 7
time = 36
;movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = ifelse(var(24)=1,-2000,-1000)

[State 1500, 7]
type = Helper
trigger1 = time = 7
ID = 888
name = "Hoover"
StateNo = 1520
postype = p1
pos = -140*const(size.xscale), -(var(17))
ownpal = 1
supermovetime = 900
size.xscale = const(size.xscale)

[State 1500, 8]
type = Helper
trigger1 = time = 7
ID = 889
name = "Jennety"
StateNo = 1550
postype = p1
pos = 6*const(size.xscale), -(var(17))
ownpal = 1
supermovetime = 900
size.xscale = const(size.xscale)

[State 1500, 9]
type = Helper
trigger1 = time = 7
ID = 890
name = "Sho"
StateNo = 1580
postype = p1 
pos = 30*const(size.xscale), -(var(17))
ownpal = 1
supermovetime = 900
size.xscale = const(size.xscale)


[State 1500, 12]
type = Helper
triggerall = var(23)=0
trigger1 = time = 8
ID = 999
name = "Sword Beam"
StateNo = 1600
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = const(size.xscale)

[State 1500, 12]
type = Helper
triggerall = var(23)=1
trigger1 = time = 15
ID = 999
name = "Sword Beam"
StateNo = 1600
postype = p1
pos = 0, 0
ownpal = 1
size.xscale = const(size.xscale)


[State 1500, 13]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 13
value = 1511

[State 1500, 14]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 19
value = 1512

[State 1500, 15]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 22
value = 1513

[State 1500, 16]
type = ChangeAnim
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 30
value = 1514

[State 1500, 17]
type = VarSet
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), AnimElem = 20
v = 10
value = 1

[State 1500, 18]
type = VarSet
triggerall = var(23)=0
triggerall = NumHelper(999) = 1
trigger1 = Helper(999), MoveHit
trigger1 = Helper(999), AnimElemNo(0) = 24
v = 26
value = 1


[State 1500, 19]
type = VarAdd
trigger1 = Anim = 1514
trigger1 = NumHelper(999) = 0
v = 10
value = 1

[State 1500, 19a]
type = RemoveExplod
trigger1 = var(10) >= 20
ID = 640

[State 1500, 19b]
type = ChangeState
triggerall = var(23)=0
trigger1 = var(10) >= 20
trigger1 = var(26) = 1
value = 1510


[State 0, 1]
type = ChangeState
triggerall = var(23)=0
trigger1 = var(10)>=20
value = 12
ctrl = 1

[State 0, 1]
type = ChangeState
triggerall = var(23)=1
trigger1 = var(10)>=20
value = ifelse(roundstate=3,12,100511)
ctrl = ifelse(roundstate=3,1,0)

[State 0, VarSet]
type = VarSet
trigger1 = time = 7
var(4)=1

[State 0, VarSet]
type = VarSet
trigger1 = var(10)>=20
var(24)=0

[State 0, VarSet]
type = VarSet
trigger1 = var(10)>=20
var(4)=0


[State 1500, 21]
type = ScreenBound
triggerall = var(24)=0
trigger1 = var(26) = 1
value = 0

;-----------------------------------------------------
; Dash Back Onto Screen
[Statedef 1510]
type = S
movetype = I
physics = S
anim = 0

[State 1510, 2]
type = VarSet
trigger1 =1
v = 4
value = 0

[State 1510, 1]
type = ChangeState
trigger1 = BackEdgeDist <= 0
value = 1515

[State 1510, 2]
type = VarSet
trigger1 = BackEdgeDist > 0
v = 26
value = 0

[State 1510, 3]
type = ChangeState
trigger1 = BackEdgeDist > 0
value = 0
ctrl = 1

[State 1510, 4]
type = ScreenBound
trigger1 = 1
value = 0

;----------------
[Statedef 1515]
type = S
movetype = I
physics = S

[State 1515, a]
type = ScreenBound
trigger1 = 1
value = 0

[State 1515, b]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0 && animelemtime(5)<0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -20,ceil(const(size.head.pos.y)/2)
scale = 0.5, 0.5

[State 1515, 1]
type = ChangeAnim
trigger1 = time = 50
value = 100

[State 1515, 2]
type = PlaySnd
trigger1 = time = 50
value = 10,4

[State 1515, 2]
type = PlaySnd
trigger1 = time = 50
value = 0,1

[State 1515, 3]
type = PosAdd
trigger1 = BackEdgeDist < -100
x = -70 - BackEdgeDist

[State 1515, 4]
type = VelSet
trigger1 = time = 50
x = 20

[State 1515, 5]
type = VarSet
trigger1 = Anim = 100
trigger1 = AnimTime = 0
v = 26
value = 0

[State 1515, 6]
type = ChangeState
trigger1 = Anim = 100
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------
; Hoover - Captain Sword
[Statedef 1520]
type = A
movetype = I
physics = N
anim = 730
velset = 4.4, 11
sprpriority = 0

[State 1520, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1520, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1520, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1525


;------------------------
; Hoover - Land
[Statedef 1525]
type = S
movetype = I
physics = N
anim = 1520
velset = 0, 0

[State 1525, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1525, 1a]
type = VarSet
trigger1 = time = 0
v = 31
value = -(floor(ParentDist X))

[State 1525, 1b]
type = VarSet
trigger1 = time = 0
v = 22
value = -(floor(ParentDist Y))

[State 1525, 1c]
type = BindToParent
trigger1 = 1
time = 1
pos = var(31), var(22)

[State 1525, 2]
type = ChangeAnim
trigger1 = parent, var(10) = 1
value = 1525
persistent = 0

[State 1525, 3]
type = ChangeState
trigger1 = parent, var(10) > 1
trigger2 = parent, MoveType = H
value = 1530

;-----------------------------------------------------
; Hoover - Jump Out
[Statedef 1530]
type = A
movetype = I
physics = N
anim = 730
velset = 3, -14

[State 1530, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1530, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

;-----------------------------------------------------
; Jennety - Captain Sword
[Statedef 1550]
type = A
movetype = I
physics = N
anim = 770
velset = 1, 11
sprpriority = 1

[State 1550, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1550, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1550, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1555

;------------------------
; Jennety - Land
[Statedef 1555]
type = S
movetype = I
physics = N
anim = 1530
velset = 0, 0

[State 1555, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1555, 1a]
type = VarSet
trigger1 = time = 0
v = 31
value = -(floor(ParentDist X))

[State 1555, 1b]
type = VarSet
trigger1 = time = 0
v = 22
value = -(floor(ParentDist Y))

[State 1555, 1c]
type = BindToParent
trigger1 = 1
time = 1
pos = var(31), var(22)

[State 1555, 2]
type = ChangeAnim
trigger1 = parent, var(10) = 1
value = 1535
persistent = 0

[State 1555, 3]
type = ChangeState
trigger1 = parent, var(10) > 1
trigger2 = parent, MoveType = H
value = 1560

;-----------------------------------------------------
; Jennety - Jump Out
[Statedef 1560]
type = A
movetype = I
physics = N
anim = 770
velset = -5, -14

[State 1560, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1560, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

;-----------------------------------------------------
; Sho - Captain Sword
[Statedef 1580]
type = A
movetype = I
physics = N
anim = 1141
velset = -4.4, 11
sprpriority = 3

[State 1580, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1580, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1580, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1585

;------------------------
; Sho - Land
[Statedef 1585]
type = S
movetype = I
physics = N
anim = 1540
velset = 0, 0

[State 1585, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1585, 1a]
type = VarSet
trigger1 = time = 0
v = 31
value = -(floor(ParentDist X))

[State 1585, 1b]
type = VarSet
trigger1 = time = 0
v = 22
value = -(floor(ParentDist Y))

[State 1585, 1c]
type = BindToParent
trigger1 = 1
time = 1
pos = var(31), var(22)

[State 1585, 2]
type = ChangeAnim
trigger1 = parent, var(10) = 1
value = 1545
persistent = 0

[State 1585, 3]
type = ChangeState
trigger1 = parent, var(10) > 1
trigger2 = parent, MoveType = H
value = 1590

;-----------------------------------------------------
; Sho - Jump Out
[Statedef 1590]
type = A
movetype = I
physics = N
anim = 1141
velset = -4, -14

[State 1590, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1590, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

;----------------------------------------
; Sword Beam
[Statedef 1600]
type = A
movetype = A
physics = N
sprpriority = 4

[State 1600, a]
type = VarAdd
trigger1 = 1
v = 10
value = 1

[State 1600, b]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1600, c]
type = ChangeAnim
trigger1 = var(10) = 1
value = 1550

[State 1600, 1]
type = BindToParent
trigger1 = time = 0
pos = 0, 0
time = 9999

[State 1600, 2]
type = PlaySnd
trigger1 = var(10) = 1
value = 20,9

[State 1600, 3]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1600, 4]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1600
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1600, 5]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1600, 6]
type = HitDef
trigger1 = AnimElem = 13
trigger2 = AnimElem = 14
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 2
damage = 10, 2
animtype = back
sparkno = s8003
guard.sparkno = s8050
sparkxy = -5, floor(P2Dist Y + parent, var(32))
hitsound = S5,5
guardsound = S6,0
ground.velocity = -5, 3
air.velocity = -1.2, 1
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 4
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
;p2stateno = 2000
yaccel = 0.93

[State 1600, 7]
type = HitDef
trigger1 = AnimElem = 18
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 1
damage = 15, 2
animtype = back
sparkno = s8003
guard.sparkno =s8050
sparkxy = -5, floor(P2Dist Y + parent, var(32))
hitsound = S5,5
guardsound = S6,0
ground.velocity = -5, 0
air.velocity = -11, 5 ;fvar(0)  ;3
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority =4
yaccel = .95
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
;p2stateno = 2000

[State 1600, 8]
type = HitDef
trigger1 = AnimElem = 19
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 1
damage = 10, 2
animtype = back
sparkno = s8003
guard.sparkno= s8050
sparkxy = -5, floor(P2Dist Y + parent, var(32))
hitsound = S5,5
guardsound = S6,0
ground.velocity = -5, 0
air.velocity = -11, 7 ;fvar(0) ;7
yaccel = .9
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority =4
fall = 1
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
;p2stateno = 2000

[State 1600, 9]
type = HitDef
trigger1 = AnimElem = 20
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 1
damage = 10, 2
animtype = back
sparkno = s8003
guard.sparkno=s8050
sparkxy = -5, floor(P2Dist Y + parent, var(32))
hitsound = S5,5
guardsound = S6,0
ground.velocity = -9, 0
air.velocity = -11, 11 ;fvar(0) ;6
guard.hittime = 20
guard.velocity = -10
yaccel = 1.3
airguard.velocity = -5, 4
sprpriority = 4
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
;p2stateno = 2000

[State 1600, 10]
type = HitDef
trigger1 = AnimElem = 21
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 4, 1
damage = 10, 2
animtype = back
sparkno = s8003
guard.sparkno=s8050
sparkxy = -5, floor(P2Dist Y + parent, var(32))
hitsound = S5,5
guardsound = S6,0
ground.velocity = -9, 0
air.velocity = -11, 11 ;fvar(0) ;9
yaccel = 1.2
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
sprpriority = 4
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
;p2stateno = 2000

[State 1600, 10]
type = HitDef
trigger1 = AnimElem = 22
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 1
damage = 20, 2
animtype = back
sparkno = s8003
guard.sparkno=s8050
sparkxy = -5, floor(P2Dist Y + parent, var(32))
hitsound = S5,5
guardsound = S6,0
ground.velocity = -14, 0
air.velocity = -9, 9 ;fvar(0) ;6
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
yaccel = ifelse(HitCount < 2, .45, 1.3)
sprpriority = 4
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
;p2stateno = 2000

[State 1600, 11]
type = HitDef
trigger1 = AnimElem = 23
attr = A, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 1
damage = 30, 2
animtype = back
sparkno = s8003
guard.sparkno=s8050
sparkxy = -5, floor(P2Dist Y + parent, var(32))
hitsound = S5,5
guardsound = S6,0
ground.velocity = -13, 0
air.velocity = -7, 7 ;fvar(0) ;5.4
guard.hittime = 20
guard.velocity = -10
airguard.velocity = -5, 4
yaccel = ifelse(HitCount < 2, .15, 1.4)
sprpriority = 3
air.fall = 1
fall.recover = 0
givepower = 40
getpower = 0
;p2stateno = 2000

[State 1600, 12]
type = HitDef
trigger1 = AnimElem = 24
attr = A, HA
hitflag = MAFD
guardflag = MA
pausetime = 2,3
damage = 170, 2
animtype = back
sparkno = s8003
guard.sparkno=s8050
sparkxy = -5, floor(P2Dist Y + parent, var(32))
hitsound = S5,5
guardsound = S6,0
ground.velocity = -42, -33
air.velocity = -41, -33
guard.hittime = 20
guard.velocity = -15
airguard.velocity = -5, 1
fall = 1
air.fall = 1
fall.recover = 0
sprpriority = 4
givepower = 40
getpower = 0
;p2stateno = 2000
yaccel = 1.32
fall.envshake.time=10

;[State 1600, 12a]
;type = ParentVarSet
;trigger1 = MoveHit
;v = 11
;value = 1

[State 1600, 12b]
type = MoveHitReset
trigger1 = MoveHit

[State 1600, 23]
type = ChangeAnim
trigger1 = Anim = 1550
trigger1 = AnimTime = 0
value = 9999

[State 1600, 24]
type = DestroySelf
trigger1 = Anim = 9999
trigger1 = NumExplod = 0
trigger2 = parent, MoveType = H
trigger3 = ScreenPos X <= -486
trigger4 = ScreenPos X >= 806


;Captain Storm
[Statedef 1610]
type = S
movetype = I
physics = S
anim = 1560
ctrl = 0
velset = 0, 0
sprpriority = 2

[State 1610, a]
type = PosSet
trigger1 = time = 0
y = 0

[State 1610, b]
type = RemoveExplod
trigger1 = time = 0
ID = 458

[State 1610, c]
type = RemoveExplod
trigger1 = time = 0
ID = 4478

[State 1610, d]
type = VarSet
trigger1 = time = 0
v = 10
value = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1610, 1a]
type = PlaySnd
trigger1 = time = 0
value = 10,14
channel = 0

[State 3010, VarSet]
type = VarSet
trigger1 = time = 7
var(4) = 1

[State 3010, Helper]
type = Helper
trigger1 = time = 7
stateno = 8500
supermovetime = 99999999
pos = ceil(-3*const(size.xscale)),ceil(-89*const(size.yscale))
ownpal = 1
id = 8500

[State 3010, SuperPause]
type = SuperPause
trigger1 = time = 7
time = 36
;movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 1610, 4a]
type = Explod
trigger1 = AnimElem = 2
ID = 490
anim = 1565
postype = p1
pos = 0, 0
bindtime = -1
removetime = 45
sprpriority = 2
ownpal = 1
removeongethit = 1
supermovetime = 999
scale=const(size.xscale),1

[State 1610, 7]
type = Helper
trigger1 = time = 7
ID = 888
name = "Hoover"
StateNo = 1700
postype = p1
pos = -54, -(var(17))
ownpal = 1
supermovetime = 900

[State 1610, 8]
type = Helper
trigger1 = time = 7
ID = 889
name = "Jennety"
StateNo = 1740
postype = p1
pos = -160*const(size.xscale), -(var(17))
ownpal = 1
supermovetime = 900
size.xscale = const(size.xscale)

[State 1610, 9]
type = Helper
trigger1 = time = 7
ID = 890
name = "Sho"
StateNo = 1780
postype = p1 
pos = 40*const(size.xscale), -(var(17))
ownpal = 1
supermovetime = 900
size.xscale=const(size.xscale)


[State 1610, 12]
type = ChangeState
trigger1 = time = 8
value = 1620

;---------------------------------
; Captain Storm - Dash at Opponent
[Statedef 1620]
type = S
movetype = I
physics = N
anim = 1570
velset = 15, 0


[State 1620, 1]
type = ChangeState
triggerall = AnimElemNo(0) != 1
trigger1 = P2BodyDist X <= 25
value = 1630

[State 1620, 2]
type = StateTypeSet
trigger1 = AnimElem = 6
physics = S

[State 1620, 2a]
type = NotHitBy
trigger1 = 1
value = ,AP



[State 1620, 3a]
type = VarSet
trigger1 = AnimTime = 0
v = 10
value = 2

[State 1620, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
; Captain Storm - Uppercut
[Statedef 1630]
type = S
movetype = A
physics = N
anim = 1580

[State 1630, a]
type = VelMul
trigger1 = time = 0
x = .8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,11
channel = 5

[State 1630, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = HitCount = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger3 = HitCount = 2
trigger4 = AnimElem = 5
trigger4 = HitCount = 3
;trigger5 = AnimElem = 6
;trigger5 = HitCount = 4
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 4, 4
guard.pausetime = 9, 9
animtype = Hard
air.animtype = Hard
ground.type = High
damage = 10, 2
priority = 7, Hit
sparkno = s8002
guard.sparkno=s8050
sparkxy = -5, -90
guardsound = S6,0
ground.velocity = -3, -9
ground.hittime = 50
ground.cornerpush.veloff = 0
air.velocity = -3, -13
air.hittime = 50
air.cornerpush.veloff = 0
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
yaccel = 1.2
fall = 1
air.fall = 1
;p2stateno = 1820
givepower = 20
getpower = 0

[State 1630, 1a]
type = HitDef
;trigger1 = AnimElem = 2
;trigger2 = HitCount = 1
;trigger2 = AnimElem = 3
;trigger3 = AnimElem = 4
;trigger3 = HitCount = 2
;trigger4 = AnimElem = 5
;trigger4 = HitCount = 3
trigger1 = AnimElem = 6
trigger1 = HitCount = 4
attr = S, HA
hitflag = MAF
guardflag = MA
pausetime = 3, 4
guard.pausetime = 9, 9
damage = 10, 2
priority = 7, Hit
sparkno = s8002
animtype = Hard
air.animtype = Hard
ground.type = High
guard.sparkno =s8050
sparkxy = -5, -90
guardsound = S6,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -3, -8
guard.slidetime = 23 
guard.hittime = 23
guard.velocity = -9
hitonce = 1
kill = 0
fall = 1
air.fall = 1
yaccel = 1.2
p2stateno = 1820
givepower = 20
getpower = 0

[State 1630, 1b]
type = Width
trigger1 = MoveHit
value = 30, 0

[State 1630, 2]
type = VelSet
trigger1 = AnimElem = 5
y = -6

[State 1630, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
StateType = A

[State 1630, 4]
type = Gravity
trigger1 = time > 12

[State 1630, 5]
type = VarSet
trigger1 = MoveHit
v = 10
value = 1

[State 1630, 6]
type = NotHitBy
trigger1 = MoveHit
value = SCA
time = 10

[State 1630, 6]
type = ChangeState
triggerall = MoveHit
trigger1 = HitCount = 5
trigger2 = AnimElemNo(0) = 7
value = 1640

[State 1630, 7]
type = VarSet
trigger1 = MoveGuarded
v = 10
value = 2

[State 1630, 7a]
type = VelMul
trigger1 = MoveGuarded
x = .5

[State 1630, 8]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1635

;-----------------------
; Captain Storm - Land from Uppercut
[Statedef 1635]
type = S
movetype = I
physics = S
anim = 1590

[State 1635, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 1635, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State 1635, 3]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1635, 3a]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 640

[State 1635, 3b]
type = VarSet
trigger1 = time = 0 ;AnimTime = 0
v = 10
value = 2

[State 1635, 3b]
type = VarSet
trigger1 = animelem = 6
var(4)=0


[State 1635, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; Captain Storm - Initial attack connected, launching followups
[Statedef 1640]
type = A
movetype = I
physics = N

[State 1640, b]
type = ScreenBound
trigger1 = 1
value = 0

[State 1640, c]
type = TargetState
trigger1 = time = 0
value = 1830

[State 1640, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 3

[State 1640, 2]
type = VelSet
trigger1 = time = 0
x = 0
y = 12

[State 1640, 3]
type = VelAdd
trigger1 = time > 0
trigger1 = ScreenPos Y < 350
y = .39

[State 1640, 3]
type = VelSet
trigger1 = ScreenPos Y >= 350
x = 0
y = 0
persistent = 0

[State 1640, 4]
type = ChangeState
trigger1 = ScreenPos Y >= 350
value = 1645

;----------------------------
; Captain Storm - Helper Attacks
[Statedef 1645]
type = A
movetype = I
physics = N
anim = 0
velset = 0, 0

[State 1645, b]
type = ScreenBound
trigger1 = 1
value = 0

[State 1645, c]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 1645, 1]
type = Helper
trigger1 = time = 0
trigger2 = time = 37
ID = 770
name = "Jennety"
StateNo = 1691
postype = p1
pos = 30*const(size.xscale), 0
ownpal = 1
size.xscale =const(size.xscale)

[State 1645, 2]
type = Helper
trigger1 = time = 16
ID = 771
name = "Sho"
StateNo = 1692
postype = left
pos = -60*const(size.xscale), 20
ownpal = 1
size.xscale=const(size.xscale)

[State 1645, 3]
type = Helper
trigger1 = time = 28
ID = 772
name = "Hoover"
StateNo = 1693
postype = right
pos = 100*const(size.xscale), 90
ownpal = 1
facing = -1
size.xscale=const(size.xscale)

[State 1645, 4]
type = Helper
trigger1 = time = 53
ID = 771
name = "Sho"
StateNo = 1694
postype = right
pos = 100*const(size.xscale), 20
ownpal = 1
facing = -1
size.xscale=const(size.xscale)

[State 1645, 5]
type = Helper
trigger1 = time = 68
ID = 772
name = "Hoover"
StateNo = 1695
postype = left
pos = -60*const(size.xscale), 40
ownpal = 1
size.xscale=const(size.xscale)

[State 1645, 6]
type = TargetState
trigger1 = time = 90
value = 1850

[State 1645, 7]
type = Turn
trigger1 = time = 110

[State 1645, 7a]
type = PosAdd
trigger1 = time = 111
x = -85

[State 1645, 8]
type = VelSet
trigger1 = time = 120
y = -14

[State 1645, 9]
type = VelAdd
trigger1 = time > 120
y = -.39

[State 1645, 10]
type = ChangeAnim
trigger1 = time = 114
value = 1030

[State 1645, 11]
type = PlaySnd
trigger1 = time = 114
value = 10,5
channel=0

[State 1645, 12]
type = Helper
trigger1 = Anim = 1030
trigger1 = AnimElem = 6
ID = 789
name = "Energy Blast"
StateNo = 1696
postype = p1
pos = 53*const(size.xscale), 9
ownpal = 1
size.xscale=const(size.xscale)

[State 1020, 8]
type = PalFX
trigger1 = AnimElemNo(0) = 6
trigger1 = (time % 3) = 0
time = 1
add = 174,174,184
mul = 256,256,256
color = 200


;[State 1645, 13a]
;type = VarSet
;trigger1 = WinKO
;v = 16
;value = 2

[State 1645, 14]
type = ChangeState
trigger1 = Pos Y <= 0
value = 1650

;---------------------------
; Captain Storm - Stop Moving
[Statedef 1650]
type = S
movetype = I
physics = N
velset = 0, 0
sprpriority = 4

[State 1650, b]
type = Null ;ScreenBound
trigger1 = (Anim != 183)
value = 0

[State 1650, c]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 1650, d]
type = VarSet
trigger1 = time = 0
v = 31
value = 0

;[State 1650, e]
;type = VarSet
;trigger1 = WinKO
;v = 16
;value = 2

[State 1650, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1650, 2]
type = ChangeAnim
trigger1 = Anim = 1030
trigger1 = AnimTime = 0
value = 12

[State 1650, 3]
type = ChangeAnim
trigger1 = Anim = 12
trigger1 = AnimTime = 0
value = 183
elem = 3

[State 0, VarSet]
type = VarSet
trigger1 = anim=183
var(4)=0


[State 1650, 4]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 4
ID = 046
name = "Jennety"
StateNo = 1660
postype = p1
pos = -115*const(size.xscale), -(var(17))
ownpal = 1
size.xscale=const(size.xscale)

[State 1650, 5]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 4
ID = 047
name = "Sho"
StateNo = 1670
postype = p1
pos = 135*const(size.xscale), -(var(17))
ownpal = 1
size.xscale=const(size.xscale)

[State 1650, 6]
type = Helper
trigger1 = Anim = 183
trigger1 = AnimElem = 4
ID = 048
name = "Hoover"
StateNo = 1680
postype = p1 
pos = 10*const(size.xscale), -(var(17))
ownpal = 1
size.xscale=const(size.xscale)

[State 1650, 7]
type = Explod
triggerall = NumHelper(046) > 0
trigger1 = Helper(046), StateNo = 1665
ID = 789
anim = 8080
postype = p1
pos = 0, -76
bindtime = 1
removetime = -2
scale = 2.7,2.7
sprpriority = -1
ownpal = 1
persistent = 0

[State 1650, 7]
type = Explod
triggerall = NumHelper(046) > 10
trigger1 = Helper(046), StateNo = 1665
ID = 789
anim = 8080
postype = p1
pos = 20, -56
bindtime = 1
removetime = -2
scale = 2.7,2.7
sprpriority = -1
ownpal = 1
persistent = 0

[State 1650, 8]
type = PlaySnd
trigger1 = NumExplod(789) = 1
value = 20,10
persistent = 0

[State 1650, 8]
type = PlaySnd
trigger1 = NumExplod(789) = 1
value = 20, 10
persistent = 0

[State 1650, 9]
type = VarAdd
trigger1 = Anim = 183
v = 31
value = 1

[State 1650, 10]
type = VarSet
trigger1 = var(31) = 65
v = 10
value = 10

[State 1650, 11]
type = RemoveExplod
trigger1 = var(31) = 70
ID = 640

[State 1650, 12]
type = ChangeState
trigger1 = var(31) = 70
value = 0
ctrl = 1

;------------------------------
; Jennety - Storm End Pose
[Statedef 1660]
type = A
movetype = I
physics = N
anim = 770
sprpriority = 1
velset = 2.6, 11

[State 1660, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1660, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1660, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1665

; Land and Pose
[Statedef 1665]
type = S
movetype = I
physics = N
anim = 201
velset = 0, 0

[State 1665, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1665, 2]
type = ChangeState
trigger1 = parent, var(10) = 10
value = 1760

;------------------------------
; Sho - Storm End Pose
[Statedef 1670]
type = A
movetype = I
physics = N
anim = 1141
sprpriority = 1
velset = -3.4, 11

[State 1670, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1670, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1670, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1675

; Land and Pose
[Statedef 1675]
type = S
movetype = I
physics = N
anim = 184
velset = 0, 0

[State 1675, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1675, 2]
type = ChangeState
trigger1 = parent, var(10) = 10
value = 1800

;------------------------------
; Hoover - Storm End Pose
[Statedef 1680]
type = A
movetype = I
physics = N
anim = 730
sprpriority = 1
velset = -.3, 11

[State 1680, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1680, 1]
type = VelAdd
trigger1 = 1
y = .3

[STate 1680, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1685

; Land and Pose
[Statedef 1685]
type = S
movetype = I
physics = N
anim = 186
velset = 0, 0
;sprpriority = 4

[State 1685, 1]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, 0

[State 1685, 2]
type = ChangeState
trigger1 = parent, var(10) = 10
value = 1720

;------------------
; Jennety Attack 1
[Statedef 1691]
type = A
movetype = A
physics = N
anim = 1170
velset = 1, -18

[State 1691, 1]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 1691, 1a]
type = PlaySnd
trigger1 = time = 0
value = 10,18

[State 1691, 1b]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,11
channel = 5

[State 1691, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 8,4
damage = 35
sparkno = s8002
guard.sparkno=s8050
sparkxy = -5, -70
kill = 0
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
yaccel = 1
getpower = 0

[State 1691, 2a]
type = ParentVarAdd
trigger1 = MoveHit=1
v = 18
value = 1


[State 1691, 3]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

;-----------------
; Sho Attack 1
[Statedef 1692]
type = A
movetype = A
physics = N
anim = 1625

[State 1692, b]
type = PlaySnd
trigger1 = time = 0
value = 10,17

[State 1692, 1]
type = VelSet
trigger1 = time = 0
x = 26
y = (P2Dist Y) / 21

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,11
channel = 5

[State 1692, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 8,4
damage = 35
sparkno = s8002
sparkxy = -5, -60
kill = 0
fall = 1
air.fall = 1
yaccel = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1692, 2a]
type = ParentVarAdd
trigger1 = MoveHit=1
var(18)=1

[State 1692, 3]
type = DestroySelf
trigger1 = ScreenPos X > 320

;----------------
; Hoover Attack 1
[Statedef 1693]
type = A
movetype = A
physics = N
anim = 1605

[State 1693, 1]
type = PlaySnd
trigger1 = time = 0
value = 10,16

[State 1693, 2]
type = VelSet
trigger1 = time = 0
x = 26
y = (P2Dist Y) / 27

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,11
channel = 5

[STate 1693, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 7,4
damage = 35
sparkno = s8002
sparkxy = -5, -90
kill = 0
yaccel = 1
fall = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1693, 3a]
type = ParentVarAdd
trigger1 = MoveHit=1
v = 18
value = 1

[State 1693, 4]
type = DestroySelf
trigger1 = ScreenPos X < -20

;----------------
; Sho Attack 2
[Statedef 1694]
type = A
movetype = A
physics = N
anim = 1625

[State 1694, 1]
type = PlaySnd
trigger1 = time = 0
value = 10,17

[State 1694, 2]
type = VelSet
trigger1 = time = 0
x = 26
y = (P2Dist Y) / 29

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,11
channel = 5

[STate 1694, 3]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 7,4
damage = 35
sparkno = s8002
sparkxy = -5, -70
kill = 0
fall = 1
yaccel = 1
air.fall = 1
p2stateno = 1840
givepower = 10
getpower = 0

[State 1694, 3a]
type = ParentVarAdd
trigger1 = MoveHit=1
v = 18
value = 1

[State 1694, 4]
type = DestroySelf
trigger1 = ScreenPos X < -20

;-----------------
; Hoover - Attack 2
[Statedef 1695]
type = A
movetype = A
physics = N
anim = 1605

[State 1695, b]
type = PlaySnd
trigger1 = time = 0
value = 10,16

[State 1695, 1]
type = VelSet
trigger1 = time = 0
x = 26
y = (P2Dist Y) / 21

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,11
channel = 5

[State 1695, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAF+
guardflag = 
pausetime = 7,4
damage = 40
sparkno = s8002
sparkxy = -5, -80
kill = 0
fall = 1
air.fall = 1
p2stateno = 1850
givepower = 10
yaccel = 1
getpower = 0

[State 1695, 2a]
type = ParentVarAdd
trigger1 = MoveHit=1
v = 18
value = 1
;persistent = 0

[State 1695, 3]
type = DestroySelf
trigger1 = ScreenPos X > 320

;---------------
; Energy Blast
[Statedef 1696]
type = A
movetype = A
physics = N
sprpriority = 9
juggle = 15

[State 1696, a]
type = BindToParent
trigger1 = 1
time = 2
pos = 53*const(size.xscale), 9

[State 1696, 1]
type = VarAdd
trigger1 = 1
v = 10
value = 1

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit = 1
var(18) = 1

[State -2, R{]
type = ParentVarSet
trigger1 = 1
fvar(0) = 1.0-(parent,var(18)>3)*((parent,var(18)-3)*.075)

[State -2, R{]
type = ParentVarSet
trigger1 = parent,fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = parent,fvar(0)

[State 1696, 2]
type = ChangeAnim
trigger1 = var(10) = 1
value = 1041

[State 1696, 3]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1696, 4]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1025
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1696, 5]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1696, 6]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1696, 7]
type = PlaySnd
trigger1 = var(10) = 1
value = 20,2

[State 1025, 8]
type = EnvShake
trigger1 = var(10) = 1
time = 15
freq = 80
ampl = -5

[State 1696, 9]
type = HitDef
trigger1 = time = 0
attr = A, HA
hitflag = MAFD+
guardflag = MA
pausetime = 0, 4
damage = 105, 2
animtype = Up
sparkno = s8002
sparkxy = -5, floor(P2Dist Y)
hitsound = S5,3
guard.sparkno= s8050
ground.velocity = -4, -15
guardsound = S0, 12
air.velocity = -4, -15
down.velocity = -3, -6
guard.slidetime = 18 
guard.hittime = 19
guard.velocity = -8.5
sprpriority = 4
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 1865
givepower = 90
palfx.time = 50
palfx.add = 40,96,240
palfx.mul = 176,240,240
palfx.sinadd = 8,32,64,4
palfx.color = 8
id = 8
getpower = 60

[State 1696, 10]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Captain Storm Hoover - Pose for startup
[Statedef 1700]
type = A
movetype = I
physics = N
anim = 730
velset = 2.2, 11
sprpriority = 1

[State 1700, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1700, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1700, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1710

; Hoover - Land
[Statedef 1710]
type = S
movetype = I
physics = N
anim = 1600
velset = 0, 0

[State 1710, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1710, 2]
type = ChangeState
trigger1 = parent, var(10) = 1
value = 1730

[State 1710, 3]
type = ChangeState
trigger1 = parent, var(10) = 2
trigger2 = parent, MoveType = H
value = 1720

; Hoover - Leave when attack is blocked
[Statedef 1720]
type = A
movetype = I
physics = N
anim = 730
velset = 3, -17

[State 1720, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1720, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

; Hoover - Fly off for attack
[Statedef 1730]
type = A
movetype = I
physics = N
anim = 1605

[State 1730, 1]
type = Turn
trigger1 = time = 0

[State 1730, 2]
type = VelSet
trigger1 = time = 0
x = 11
y = -8

[State 1730, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; Captain Storm Jennety - Pose for Startup
[Statedef 1740]
type = A
movetype = I
physics = N
anim = 770
velset = 4.5, 11
sprpriority = 2

[State 1740, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1740, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1740, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1750

; Jennety - Land
[Statedef 1750]
type = S
movetype = I
physics = N
anim = 1610
velset = 0, 0

[State 1750, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1750, 2]
type = ChangeState
trigger1 = parent, var(10) = 1
value = 1770

[State 1750, 3]
type = ChangeState
trigger1 = parent, var(10) = 2
trigger2 = parent, MoveType = H
value = 1760

; Jennety - Leave when attack is blocked
[Statedef 1760]
type = A
movetype = I
physics = N
anim = 770
velset = -5, -17

[State 1760, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1760, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

; Jennety - Fly off for attack
[Statedef 1770]
type = A
movetype = I
physics = N
anim = 1170

[State 1770, 2]
type = VelSet
trigger1 = time = 0
x = 1
y = -19

[State 1770, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------------------------------------------
; Captain Storm Sho - Pose for Startup
[Statedef 1780]
type = A
movetype = I
physics = N
anim = 1141
velset = -7, 11
sprpriority = 3

[State 1780, a]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(17)

[State 1780, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1780, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1790

; Sho - Land
[Statedef 1790]
type = S
movetype = I
physics = N
anim = 1620
velset = 0, 0

[State 1790, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 1790, 2]
type = ChangeState
trigger1 = parent, var(10) = 1
value = 1810

[State 1790, 3]
type = ChangeState
trigger1 = parent, var(10) = 2
trigger2 = parent, MoveType = H
value = 1800

; Sho - Leave when attack is blocked
[Statedef 1800]
type = A
movetype = I
physics = N
anim = 1141
velset = -4, -17

[State 1800, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1800, 2]
type = DestroySelf
trigger1 = Pos Y < -(var(10))

; Jennety - Fly off for attack
[Statedef 1810]
type = A
movetype = I
physics = N
anim = 1625

[State 1810, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1810, 2]
type = VelSet
trigger1 = time = 0
x = 15
y = -11

[State 1810, 3]
type = DestroySelf
trigger1 = time = 70

;---------------------------------------
; Custom State for P2 hit by Captain Storm
[Statedef 1820]
type = A
movetype = H
physics = N
ctrl = 0
velset = -5, -12

[State 1820, 1]
type = ChangeAnim2
trigger1 = 1
value = 1640

[State 1820, 1a]
type = PosFreeze
trigger1 = time < 5

[State 1820, 2]
type = SelfState
trigger1 = time = 140
value = 5050

; Part 2
[Statedef 1830]
type = A
movetype = H
physics = N
velset = 0, -.1

[State 1830, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1640 

[State 1830, 2]
type = VelSet
trigger1 = floor(ScreenPos Y) > floor(120 - const(size.mid.pos.y))
y = -8

[State 1830, 3]
type = VelSet
trigger1 = floor(ScreenPos Y) < floor(120 - const(size.mid.pos.y))
y = 9

[State 1830, 4]
type = VelSet
trigger1 = floor(ScreenPos Y) = floor(120 - const(size.mid.pos.y))
y = 0

[State 1830, 5]
type = PlayerPush
trigger1 = 1
value = 0

; Part 3
[Statedef 1840]
type = A
movetype = H
physics = N
velset = 0, -.34

[State 3206, 1]
type = ChangeAnim2
trigger1 = time < 29
trigger1 = !SelfAnimExist(5250)
value = 1642

[State 3206, 2]
type = ChangeAnim
trigger1 = time < 29
trigger1 = SelfAnimExist(5250)
value = 5250

[State 1840, 2]
type = PosFreeze
trigger1 = time < 9

[State 1840, 2]
type = PosFreeze
trigger1 = time > 29

[State 1840, 3]
type = PlayerPush
trigger1 = 1
value = 0

; Part 4
[Statedef 1850]
type = A
movetype = H
physics = N

[State 1850, 2a]
type = VelAdd
trigger1 = time > 9
y = .10

[State 3206, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(5251)
trigger1 = Vel Y >= 0
value = 5252

[State 3206, 2]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5251)
trigger1 = Vel Y >= 0
value = 5251

[State 1850, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 1850, 4]
type = SelfState
trigger1 = time = 300
value = 5050

; Part 5 - Flying through Air
[Statedef 1860]
type = A
movetype = H
physics = N
velset = -6, -17

[State 1860, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5061

[State 1860, 2]
type = VelAdd
trigger1 = 1
y = .49

[State 1860, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1870

;Struck by Captain Corridor during Captain Storm
[Statedef 1865]
type = A
movetype = H
physics = N
velset = -6, -31

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1860, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5061

[State 1860, 2]
type = VelAdd
trigger1 = 1
y = .89

[State 1860, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1870

; Part 6 - Hit Ground
[Statedef 1870]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1860, a]
type = ChangeAnim
trigger1 = time = 0
value = 5110

[State 1860, 1]
type = Explod
trigger1 = time = 0
anim = 8010
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 5

[State 1860, 2]
type = PlaySnd
trigger1 = time = 0
value = 0,7

[State 1860, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1860, 4]
type = SelfState
trigger1 = time = 75
trigger1 = Alive
value = 5120

[State 1860, 5]
type = SelfState
;trigger1 = time = 115
trigger1 = !Alive
value = 5150

; Custom States for getting hit by Sword

; Decide statetype
[Statedef 2000]
type = U
movetype = H
physics = U
ctrl = 0

[State 2000, 1]
type = ChangeState
trigger1 = StateType = S
value = 2010

[State 2000, 2]
type = ChangeState
trigger1 = StateType = C
value = 2020

[State 2000, 3]
type = ChangeState
trigger1 = StateType = A
value = 2030

[State 2000, 4]
type = ChangeState
trigger1 = StateType = L
value = 2040

;-------------------------------------------------
; Stand gethits
[Statedef 2010]
type    = S
movetype= H
physics = N
velset = 0,0

[State 2010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 2010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 2010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 2010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 2010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
type = a

[State 2010, 6]
type = Null ;ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5001 ;HITG_SLIDE

[State 2010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 2031

[State 2010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 2010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 2010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

; Crouching Gethit
[Statedef 2020]
type    = C
movetype= H
physics = N
velset = 0,0

[State 2020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 2020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 2020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 2020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 2020, 5]
type = Null ;ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5011 ;HITC_SLIDE

[State 2020, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 2031

[State 2020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 2020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 2020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

; Air Gethit
[Statedef 2030]
type    = A
movetype= H
physics = N
velset = 0,0

[State 2030, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 2030, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 2030, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 2030, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 2030, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 2031

[State 2030, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 2030, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 2030, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

; Fly through air
[Statedef 2031]
type    = A
movetype= H
physics = N
ctrl = 0

[State 2031, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 2031, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 2031, 3]
type = Null ;ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5040 ;HITA_RECOV

[State 2031, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 2033 ;HITA_FALL

[State 2031, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2032 ;HITA_UP (transition)

; HitA_fall
[Statedef 2032]
type    = A
movetype= H
physics = N

[State 2032, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 2032, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 2032, 3]
type = Null ;ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 2032, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 2033 ;HITA_FALL

; Knocked up, falling
[Statedef 2033]
type    = A
movetype= H
physics = N

[State 2033, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 2033, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2033, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 2033, 4] ;Recover near ground
type = Null ;ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = Null ;ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 2033, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5110 ;HIT_Ground

[Statedef 0]
type = S
physics = S
sprpriority = 0
velset = 0,0

[State 0, Random]
type = VarRandom
trigger1 = 1
v = 10
range = 0, 60

[State 0, Normal Anim]
type = ChangeAnim
trigger1 = Anim = 5 && AnimTime = 0 ;Turn anim over
trigger2 = PrevStateNo != 20
trigger2 = time = 0
value = ifelse(var(10) <= 20, 175, ifelse(var(10) >= 40, 180, 185))

[State 0, Stop Walk Anim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo = 20
value = ifelse(var(15) = 1, 22, 23)

[State 0, End Taunt Anim]
type = ChangeAnim
triggerall = time = 0
trigger1 = PrevStateNo = 195
trigger2 = PrevStateNo = 220
value = 22

[State 0, 1]
type = ChangeAnim
triggerall = var(10) = [0,20]
trigger1 = ((Anim = 22) || (Anim = 23)) && AnimTime = 0
trigger2 = (Anim = 160) || (Anim = 165) || (Anim = 171)
trigger2 = AnimTime = 0
value = 175

[State 0, 1a]
type = ChangeAnim
triggerall = var(10) = [21,40]
trigger1 = ((Anim = 22) || (Anim = 23)) && AnimTime = 0
trigger2 = (Anim = 160) || (Anim = 165) || (Anim = 171)
trigger2 = AnimTime = 0
value = 180

[State 0, 1b]
type = ChangeAnim
triggerall = var(10) = [41,60]
trigger1 = ((Anim = 22) || (Anim = 23)) && AnimTime = 0
trigger2 = (Anim = 160) || (Anim = 165) || (Anim = 171)
trigger2 = AnimTime = 0
value = 185

[State 0, Lean]
type = ChangeAnim
triggerall = Anim = 175 || Anim = 180 || Anim = 185 || Anim = 0
triggerall = var(10) = [0,20]
triggerall = time > 0
trigger1 = (time % 110) = 0
value = 160

[State 0, Lean]
type = ChangeAnim
triggerall = Anim = 175 || Anim = 180 || Anim = 185 || Anim = 0
triggerall = var(10) = [21,40]
triggerall = time > 0
trigger1 = (time % 110) = 0
value = 165

[State 0, Lean]
type = ChangeAnim
triggerall = Anim = 175 || Anim = 180 || Anim = 185 || Anim = 0
triggerall = var(10) = [41,60]
triggerall = time > 0
trigger1 = (time % 110) = 0
value = 171

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0


[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
 
; Stand to Crouch 
[Statedef 10]
type    = C
physics = C
anim = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 10, ChangeAnim]
type = ChangeState
trigger1 = animtime = 0
value = 11
 
; Walk 
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, VelMul]
type = VelMul
trigger1 = var(51) = 1
x = 1.3


[State 20, 2a]
type = VarSet
trigger1 = command = "holdfwd"
v = 15
value = 1

[State 20, 2b]
type = VarSet
trigger1 = command = "holdback"
v = 15
value = -1


[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x > 0 &&  anim != 20
value = 20

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x < 0 &&  anim != 21
value = 21
 
; Jump Start 
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
velset = 0,0
facep2 = 1

[State 40, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 40, VarSet]
type = VarSet
trigger1 = time = 1
sysvar(1) = ifelse(command = "holdfwd",1,ifelse(command = "holdback", -1, 0))

[State 40, VarSet] ;This is the Super Jump Var
type = VarSet
trigger1 = time = 0 && var(6) < 2
var(1) = command = "highjump" || prevstateno = [200,499]

[State 40, VarSet] ;This is the Air Jump limiter.
type = VarSet
trigger1 = time = 0
var(2) = 0 ;Increasing the number allows how many air jumps the character can do.

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(3) = 1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0 && var(1)
fvar(1) = -.1

[State 40, VelSet]
type = VelSet
trigger1 = animtime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = ifelse(!var(1),const(velocity.jump.y),-18)

[State 40, VelSet]
type = VelSet
trigger1 = animtime = 0
trigger1 = prevstateno = 101
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, Explod]
type = Explod
trigger1 = animtime = -1
trigger1 = var(1)
anim = 8250
id = 8250
pos = -120, 0
scale = 0.54,0.48
sprpriority = 4
supermove = 1
ownpal = 1

[State 40, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
 
; AirJump Start 
[Statedef 45]
type    = A
physics = A
velset = 0,0

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(1) = ifelse(command = "holdfwd",1,ifelse(command = "holdback", -1, 0))

[State 40, VarAdd]
type = VarAdd
trigger1 = time = 0
var(2) = -1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(3) = 1

[State 40, VelSet]
type = VelSet
trigger1 = Time = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))
 
; Jump Up 
[Statedef 50]
type    = A
physics = A

[State 3000, VarSet] ;This is to kill the Hyper Helper
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 50, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = var(1)
value = 0,2

[State 50, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(1) = 0

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43));+var(1)*3

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = var(1)&& time = 6
value = ifelse((vel x)=0, 48, ifelse((vel x)>0, 49, 50));+var(1)*3
 
; Jump Land 
[Statedef 52]
type    = S
physics = S
anim = 47
velset = 0,0
ctrl = 1

[State 3000, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[State 52, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 52, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200

[State 52, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 
; RUN_FWD 
	
[Statedef 100] 
type    = S
physics = S
anim = 0
sprpriority = 1
velset = 0,0
ctrl = 0

[State 100, ChangeState]
type = ChangeState
trigger1 = 1
value = 101
 
[Statedef 101] 
type    = S
physics = N
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = time = 0
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = PlaySnd
trigger1 = time = 0
value = 10,4

[State 100, 7]
type = StateTypeSet
trigger1 = AnimElem = 5
physics = S

[state 100, Sound effect]
type = playsnd
trigger1 = time = 0
value = 0,1
volumescale = 44

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0 && animelemtime(5)<0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -20,ceil(const(size.head.pos.y)/2)
scale = 0.5, 0.5

[State 101]
type = ChangeState
trigger1 = AnimTime = 0
value = 102

 
[Statedef 102] 
type    = S
physics = S
anim = 0
sprpriority = 1

[State 102, ChangeState]
type = ChangeState
trigger1 =1
value = 0
ctrl = 1

; RUN_BACK 
	 
[Statedef 105] 
type    = S
physics = S
anim = 0
sprpriority = 1
velset = 0,0
ctrl = 0

[State 105, ChangeState]
type = ChangeState
trigger1 = 1
value = 106
 
[Statedef 106] 
type    = S
physics = N
anim = 105
sprpriority = 1

[State 105, a]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 105, b]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = -7.5


[State 105, 3]
type = StateTypeSet
trigger1 = AnimElem = 6
physics = S


[State 106, ChangeState]
type = ChangeState
trigger1 = animtime =0
value = 107
 
[Statedef 107] 
type    = S
physics = S
anim = 11
sprpriority = 1

[State 107, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 12
ctrl = 1
  
; HIT_FALLRECOVER (on the ground) 
[Statedef 5201]
type    = C
movetype= H
physics = N
anim = ifelse(prevstateno=5200,5200,5201)
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(anim=5200,8,-4)
y = 0

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 
; Initialize (at the start of the round) 
[Statedef 5900]
type = S

; Like in vs Series, you always start with 1 power stock...
[State 190, PowerAdd]
type = PowerSet
triggerall = Roundno = 1
trigger1 = time = 0
value = 1000

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno



[State 5900, VarRangeSet] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0  && roundno >= 1
value = 0
first = 1
last = 59

[State 5900, VarRangeSet] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0  && roundno >= 1
fvalue = 0


[State 5900, 1a]
type = VarSet
trigger1 = time = 0
v = 17
value = floor(ScreenPos Y)


[State 5900, Helper]
type = Helper
trigger1 = roundsexisted = 0
stateno = 9999

[State 5900, VarSet]
type = VarSet
trigger1 = roundsexisted = 0
var(0) = 0

[State 5900, VarSet]
type = VarSet
trigger1 = roundsexisted = 0
var(5) = 5068355

[State 5900, VarSet]
type = VarSet
trigger1 = time = 0
var(12) = 0

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 191

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
triggerall = !roundsexisted && teammode = turns
trigger1 = roundno != 1
value = 191

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
triggerall  = roundsexisted
trigger1 = roundno != 1
value = 21

  
; VXep 
	
; ^[QbgJo[ 
[Statedef 9900]
type = A
movetype = H
physics = N

[State 9900, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5040,5050)
 
; ^[Qbg_EA 
[Statedef 9901]
type = A
movetype = H
physics = N

[State 9901, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5201,5050)
 
; ^[QbgoEh 
[Statedef 9910]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5040

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -6

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52
 
; X[p[R{o(wp[) 

;Lv 1 Hyper Helper
[Statedef 8500] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,0

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900+root,var(0)
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(4) = 1 && !numexplod(8505)
anim = 8505
id = 8505
postype = left
bindtime = -1
removetime = -1
scale = .5,.5*fvar(1)
sprpriority = -3
ownpal = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(8505)
ID = 8505
scale = .5,.5*fvar(1)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = ifelse(screenpos y-212<0,0,screenpos y-212)

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = 1+(fvar(0)/512)

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(4) = 0 || root,var(4) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,winko
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(4) = 0
trigger2 = root,movetype = H
 

;Lv 3 Hyper Helper
[Statedef 8501] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,2

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900+root,var(0)
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(4) = 1 && !numexplod(8505)
anim = 8506
id = 8505
postype = left
bindtime = -1
removetime = -1
sprpriority = -3
ownpal = 1

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(4) = 0 || root,var(4) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,winko
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(4) = 0
trigger2 = root,movetype = H
  
[Statedef 8510] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,4

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,12

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = nomusic

[State 8510, Explod]
type = Explod
trigger1 = time = 0
anim = 8510
id = 8510
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1

[State 8510, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(8510)
  
; AhoVOK[h(wp[) 
[Statedef 8060]
type = A
physics = N
anim = 8061
velset = -14,0
ctrl = 0

[State 8060, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,10

[State 8060, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 8060, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 8060, DestroySelf]
type = DestroySelf
trigger1 = time = 16;24
 
; dqbg 
[Statedef 8030]
type = A
movetype = H
physics = N
anim = 9999

[State 8030, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8030, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = time = 32

[State 8030, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8030, Explod]
type = Explod
trigger1 = time%6=0
trigger1 = playeridexist(var(0))
anim = 8030+random%4+(random%2)*5
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
postype = p2
ownpal = 1
bindtime = -1
 
; qbg 
[Statedef 8040]
type = A
movetype = H
physics = N
anim = 9999

[State 8040, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8040, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = random%2

[State 8040, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = !root,hitpausetime

[State 8040, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*2))
sprpriority = 4
ownpal = 1
postype = p2
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
postype = p2
bindtime = -1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
postype = p2
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5
postype = p2
 
; qbg() 
[Statedef 8045]
type = A
movetype = H
physics = N
anim = 9999

[State 8045, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8045, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = random%2

[State 8045, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = !root,hitpausetime

[State 8045, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 80,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*2))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5



[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
scale = 1.5,1.5
 
; nGtFNg 
[Statedef 8200]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
pos = 16,0
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,0
vel = -4,0
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0
 
; TIMEQ[W 
[Statedef 8580]
type    = A
movetype = I
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8580, Explod]
type = Explod
trigger1 = teamside = 1
anim = 8580
scale = .5,.5
ontop = 1
ownpal = 1
postype = left
pos = floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = root,var(12) > 0
anim = 8582
scale = (root,var(12)/480.0)*.5,.5
ontop = 1
ownpal = 1
postype = left
pos = floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 2
anim = 8581
scale = .5,.5
ontop = 1
ownpal = 1
postype = right
pos = -floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = root,var(12) > 0
anim = 8583
scale = (root,var(12)/480.0)*.5,.5
ontop = 1
ownpal = 1
postype = right
pos = -floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, DestroySelf]
type = DestroySelf
trigger1 = root,var(12) = 0

; PRE-WALKING
[Statedef 22]
type    = S
physics = S
sprpriority = 0

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, VelMul]
type = VelMul
trigger1 = var(51) = 1
x = 1.7

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x > 0 &&  anim != 24
value = 24

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x < 0 &&  anim != 25
value = 25


[Statedef -2] 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = StateNo = 9910 && time = 1
value = 0,7
channel = 4

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = StateNo = 227 && time = 1
value = 0,7
channel = 4

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 227  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1


; Get opponent mid pos for positioning hit FX
[State -2, Get Nearest Opponent Mid]
type = VarSet
trigger1 = 1
v = 22
value = floor(EnemyNear, const(size.mid.pos.x))

[State -2, Get Nearest Opponent Mid]
type = VarSet
trigger1 = 1
v = 32
value = floor(EnemyNear, const(size.mid.pos.y))

[State 0, VarSet] ;This is to make sure the partner attack only once during a X-Over attack
type = VarSet
trigger1 = var(45) = 0 && Stateno = 150000
var(45) = 1

[State 0, VarSet]
type = VarSet
trigger1 = partner,var(4) = 0 && var(45)
var(45) = 0

[State -2, Pre-walking state]
type = ChangeState
;triggerall = !var(59)
trigger1 = prevstateno = 191 ;Enable after Intro
trigger2 = RoundNo != 1              ;Enable If Round Number is > 1
trigger2 = RoundState = 1           ;RoundState < 2 and
trigger2 = stateno = 0              ;Current state is 0
value = 21
ctrl = 0

; No AR Finisher for the following Chars
; --------------------------------------
[State -2, Special Cases for AR]
type = VarSet
trigger1  = p2name != "Apocalypse"
trigger2  = p4name != "Apocalypse"
trigger3  = p2name != "Onslaught"
trigger4  = p4name != "Onslaught"
trigger5  = P2name != "Abyss Form 1"
trigger6  = P4name != "Abyss Form 1"
trigger7  = P2name != "Abyss Form 2"
trigger8  = P4name != "Abyss Form 2"
trigger9  = P2name != "Abyss Form 3"
trigger10 = P4name != "Abyss Form 3"
trigger11 = P2name != "Abyss"
trigger12 = P4name != "Abyss"
var(34) = 1

[State -2, Special Cases for AR]
type = VarSet
trigger1  = p2name = "Apocalypse"
trigger2  = p4name = "Apocalypse"
trigger3  = p2name = "Onslaught"
trigger4  = p4name = "Onslaught"
trigger5  = P2name = "Abyss Form 1"
trigger6  = P4name = "Abyss Form 1"
trigger7  = P2name = "Abyss Form 2"
trigger8  = P4name = "Abyss Form 2"
trigger9  = P2name = "Abyss Form 3"
trigger10 = P4name = "Abyss Form 3"
trigger11 = P2name = "Abyss"
trigger12 = P4name = "Abyss"
var(34) = 0



[State -3]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090


[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate = 2
trigger1 = roundstate != 3
trigger1 = NumHelper(19999997) = 0
stateno = 19999997
id = 19999997

;KO Sound
[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate != 2
trigger1 = roundstate = 3
trigger1 = NumHelper(19999998) = 0
stateno = 19999998
id = 19999998
	
; fobOp 
[State -2, Debug]
type = DisplayToClipboard
trigger1 = 1
text = "velx:%f,vely:%f,distx:%f,disty:%f %f"
params = vel x,vel y,p2bodydist x,p2bodydist y,fvar(1)
ignorehitpause = 1
 
; VXep 
	
; _[W 
[State -2, _[W]
type = VarSet
trigger1 = movetype = H
var(4) = 0

[State -2, _[W]
type = AfterImage
trigger1 = movetype = H
time = 0
 
; ^[Qbg 
[State -2, ^[Qbg]
type = VarSet
trigger1 = 1
var(7) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget
var(7) = target,id
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = !numtarget
var(9) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget && hitpausetime
var(9) = target,stateno = 5080
ignorehitpause = 1

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7)) && !var(9)
trigger1 = playerID(var(7)),gethitvar(chainid) & 1
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),hitover && playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9900
value = 9900

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7)) && var(9)
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 5201 && playerID(var(7)),stateno != 9910
value = 9901

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7))
trigger1 = playerID(var(7)),gethitvar(chainid) & 2
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9910
value = 9910

;Wall Hit

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemynear,stateno != [120,159]
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 8015
postype = p2
pos = 0, -50
postype = p2
bindtime = 1
facing = -1
removetime = -2
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemynear,stateno != [120,159]
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,8
channel = 4
volume = 255

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 24
value = var(23)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 23
value = var(25)+hitcount

[state -3, 2];combo hosei
type = varset
trigger1 = enemynear,movetype != H
v = 25
value = 0

;***************
[state -3, 2];combo
type = varset
trigger1 = var(23)>var(24)
v = 42
value = 1

[state 250,11]
type = helper
trigger1 = p2stateno = 328
trigger1 = !numhelper(60120)
persistent = 0
stateno = 60120
ID = 60120
bindtime = 1
postype = p2
pos = 0,500 

[State -2, ^[Qbg]
type = VarSet
trigger1 = 1
var(35) = 0
ignorehitpause = 1

[State -2, ^[Qbg] ;This is the Heavy Player trigger. Heavy characters have different wallhit & hitground sounds. Insert more in the trigger if you'd like.
type = VarSet
triggerall = numtarget
trigger1 = Target,name = "Charizard by Gladiacloud"
var(35) = target,id
ignorehitpause = 1

[State -2, @GtFNg]
type = VarSet
trigger1 = numexplod(8010)
trigger2 = moveguarded
var(8) = 1

[State -2, @GtFNg]
type = VarSet
trigger1 = !numtarget
trigger2 = movehit = 1
var(8) = 0
ignorehitpause = 1
 
; qbgGtFNg 
[State -2, Helper]
type = Helper
trigger1 = movehit && hitpausetime && numtarget
trigger1 = !numhelper(8030) && target,gethitvar(chainid)&8
stateno = 8030
id = 8030
ignorehitpause = 1

[State -2, Helper]
type = Helper
trigger1 = movehit && hitpausetime && numtarget
trigger1 = !numhelper(8040) && target,gethitvar(chainid)&16
stateno = 8040
id = 8040
ignorehitpause = 1

[State -2, Helper]
type = Helper
trigger1 = movehit && hitpausetime && numtarget
trigger1 = !numhelper(8045) && target,gethitvar(chainid)&32
stateno = 8045
id = 8045
ignorehitpause = 1
 
; X[p[WvA 
[State -2, X[p[WvA]
type = VarSet
trigger1 = statetype != A && stateno != 40
var(1) = 0

[State -2, X[p[WvA]
type = VarSet
trigger1 = fvar(1) < 0 && movecontact
fvar(1) = 0;-fvar(1)

[State -2, X[p[WvA]
type = VelAdd
trigger1 = var(1)
x = ctrl * ((command="holdfwd")*.11-(command="holdback")*.075)

[State -2, X[p[WvA]
type = VelSet
trigger1 = var(1)
trigger1 = stateno = 50 || stateno = [600,800)
x = ifelse(vel x > const(velocity.jump.fwd.x),const(velocity.jump.fwd.x),ifelse(vel x < const(velocity.jump.back.x),const(velocity.jump.back.x),vel x))

[State -2, X[p[WvA]
type = VelAdd
trigger1 = var(1) && statetype = A
trigger1 = stateno != [1000,5000)
y = fvar(1)

[State -2, Super Jump]
type = Turn
trigger1 = var(1)
trigger1 = (enemy,pos x-pos x)*facing < 0 && ctrl
 
; WvA 
[State -2, WvA]
type = VarSet
trigger1 = var(3)
trigger1 = command != "holdup"
var(3) = 0
 
; AhoVOK[h 
[State -2, AhoVOK[h]
type = Helper
trigger1 = var(11)
stateno = 8060
postype = p2
pos = 20,0
id = 8060

[State -2, AhoVOK[h]
type = PosFreeze
trigger1 = numhelper(8060)

[State -2, AhoVOK[h]
type = VelAdd
trigger1 = numhelper(8060)
trigger1 = statetype = A
y = -gethitvar(yaccel)

[State -2, AhoVOK[h]
type = Explod
trigger1 = var(11)
anim = 8060
pos = 47,-55
ontop = 1
scale = 0.5, 0.5

[State -2, AhoVOK[h]
type = VarSet
trigger1 = var(11)
var(11) = 0
 
; GA~b^[A 
[State 650, GA~b^[A]
type = PlaySnd
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
value = 0,11
channel = 5

[State 620, GA~b^[A]
type = VarSet
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
var(6) = 2

[State -2, GA~b^[A]
type = VarSet
trigger1 = !numtarget
var(6) = 0

[State -2, GA~b^[A]
type = VarSet
trigger1 = var(6)= 2 && ctrl && statetype != A
var(6) = 3

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = var(6) = 2
trigger1 = pos x*facing < 0
value = 0
movecamera = 0,0
ignorehitpause = 1

[State -2, GA~b^[A]
type = ChangeState
triggerall = var(6) = 2
trigger1 = backedgebodydist < -20 && stateno != 101 && stateno != [810,811]
value = 810

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = stateno = 101 && prevstateno = 810
value = 0
movecamera = 0,0

[State -2, GA~b^[A]
type = NotHitBy
trigger1 = stateno = 101 && prevstateno = 810
value = SCA
 
; wp[A 
[State -2, wp[A]
type = VarSet
trigger1 = !numhelper
var(4) = 0
 
; R{bZ[W 
; 1P
[State -2, R{bZ[W]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 1
trigger1 = var(18) >= 3 && var(19) < 2
anim = 8550+(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State -2, R{bZ[W]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 1
trigger1 = var(18) >= 3 && var(19) >= 2
anim = 8558+(var(40)=2)
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State 0, ScreenBound]
type = ScreenBound
trigger1 = var(23)=1;Stateno = 100530
;trigger2 = Stateno = [100701,100799] 
value = 1
movecamera = 0,0 

[State 0, VarSet]
type = VarSet
trigger1 = movetype=H
var(23)=0
[State 0, VarSet]
type = VarSet
trigger1 = movetype=H
var(24)=0

; 2P
[State -2, R{bZ[W]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 2
trigger1 = var(18) >= 3 && var(19) < 2
anim = 8560+(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State -2, R{bZ[W]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 2
trigger1 = var(18) >= 3 && var(19) >= 2
anim = 8568+(var(40)=2)
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

; AiEX
[State -2, R{bZ[W]
type = PlaySnd
triggerall = var(40)
triggerall = !numtarget && roundstate = 2
trigger1 = var(18) >= 3 && var(19) < 2
value = 2,(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ignorehitpause = 1

[State -2, R{bZ[W]
type = PlaySnd
triggerall = var(40)
triggerall = !numtarget && roundstate = 2
trigger1 = var(18) >= 3 && var(19) >= 2
value = 2,8+(var(40)=2)
ignorehitpause = 1
 
; VXebZ[W 
[State -2, VXebZ[W]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&1) && teamside = 1
trigger1 = movehit
trigger2 = projhittime(0) > 0
anim = 8570
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, VXebZ[W]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&1) && teamside = 2
trigger1 = movehit
trigger2 = projhittime(0) > 0
anim = 8575
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, VXebZ[W]
type = PlaySnd
triggerall = var(40)
triggerall = !(var(14)&1)
trigger1 = movehit
trigger2 = projhittime(0) > 0
value = 2,10
ignorehitpause = 1

[State -2, VXebZ[W]
type = VarSet
triggerall = !(var(14)&1)
trigger1 = movehit
trigger2 = projhittime(0) > 0
trigger3 = movetype = H && stateno != [120,155]
trigger4 = numpartner
trigger4 = partner,movetype = H && partner,stateno != [120,155]
trigger5 = numpartner
trigger5 = partner,movehit || partner,projhittime(0) > 0
var(14) = var(14) | 1
ignorehitpause = 1

[State -2, VXebZ[W]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&2) && teamside = 1
trigger1 = life < lifemax * .35
anim = 8571
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, VXebZ[W]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&2) && teamside = 2 && alive
trigger1 = life < lifemax * .35
anim = 8576
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, VXebZ[W]
type = PlaySnd
triggerall = var(40)
triggerall = !(var(14)&2) && alive
trigger1 = life < lifemax * .35
value = 2,11
ignorehitpause = 1

[State -2, VXebZ[W]
type = VarSet
triggerall = !(var(14)&2)
trigger1 = life < lifemax * .35
var(14) = var(14) | 2
ignorehitpause = 1

[State -2, VXebZ[W]
type = VarSet
triggerall = (var(14)&2)
trigger1 = life >= lifemax * .35
var(14) = var(14) ^ 2
ignorehitpause = 1

[State -2, VXebZ[W]
type = RemoveExplod
trigger1 = numexplod(8570) && numexplod(8550)
id = 8550
ignorehitpause = 1
 
; R{ 
[State -2, R{]
type = VarSet
trigger1 = statetype = A && prevstateno = [600,800)
trigger1 = stateno = [1000,5000)
var(13) = 1

[State -2, R{]
type = VarAdd
trigger1 = movehit = 1
trigger2 = projhit = 1
var(18) = 1

[State -2, R{]
type = VarAdd
triggerall = statetype = A && numtarget
triggerall = target,statetype = A
triggerall = movehit = 1 || projhit = 1
trigger1 = stateno = [600,800)
trigger2 = var(13) && stateno = [1000,5000)
var(19) = 1

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(13) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(18) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(19) = 0
 
; R{ 
[State -2, R{]
type = VarSet
trigger1 = 1
fvar(0) = 1.0-(var(18)>3)*((var(18)-3)*.075)

[State -2, R{]
type = VarSet
trigger1 = fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = fvar(0)
 
; TimeQ[W 
[State 8580, VarAdd]
type = VarAdd
triggerall = var(12)
trigger1 = !numhelper(8500)
trigger2 = numhelper(8500)
trigger2 = helper(8500),time > 36
var(12) = - 1
 
; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = screenpos y < 0
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(8596) && numenemy
triggerall = screenpos y > 240-const(size.head.pos.y)
trigger1 = var(20) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(20) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8595+teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8596

[State -2, O\]
type = Explod
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(8598) && numenemy
triggerall = screenpos y < 0
trigger1 = var(20) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(20) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8597+teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8596)
trigger1 = screenpos y <= 220-const(size.head.pos.y)
id = 8596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8598)
trigger1 = screenpos y >= 0
id = 8598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8596)
id = 8596
postype = left
pos = floor(screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8598)
id = 8598
postype = left
pos = floor(screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy
var(20) = ifelse(screenpos x - enemynear,screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(8596)
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

[State -2, O\]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(8598)
trigger1 = screenpos y < 0
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

  
; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = enemy,screenpos y < 0
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(18596)
triggerall = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
trigger1 = var(21) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(21) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8595+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18596

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(18598)
triggerall = enemy,screenpos y < 0
trigger1 = var(21) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(21) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8597+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18596)
trigger1 = enemy,screenpos y <= 220-enemy,const(size.head.pos.y)
id = 18596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18598)
trigger1 = enemy,screenpos y >= 0
id = 18598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18596)
id = 18596
postype = left
pos = floor(enemy,screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18598)
id = 18598
postype = left
pos = floor(enemy,screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy = 1
var(21) = ifelse(enemy,screenpos x - screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(18596)
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(18598)
trigger1 = enemy,screenpos y < 0
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

  
; I 
[State -2, I]
type = AssertSpecial
trigger1 = roundstate > 2
flag = nowalk
 
; ~ 
[State -2, ~]
type = Width
trigger1 = vel x > 0 && movetype != H
edge = 5,5


[State -2, Remember the last Position (X)]
type = VarSet
triggerall = RoundState < 2
trigger1 = stateno = [0, 21] ;Enable after Intro
fvar(5) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(5) != 0
trigger1 = prevstateno != [191,194]
x = fvar(5)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(5) = 0

[Statedef -3] 
	
;
;[State 0, VarSet]
;type = VarSet
;trigger1 = time = 0
;trigger2 = 1
;v = 29
;value = 0
;ignorehitpause = 1

; _[W{CX 
[State 1120, _[W{CX]
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = stateno = 5000 && time = 1
trigger2 = stateno = 5010 && time = 1
trigger3 = stateno = 5020 && time = 1
trigger4 = stateno = 5070 && time = 1
trigger5 = stateno = 5080 && time = 1
value = s12,random%2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 =  !alive
channel =2

