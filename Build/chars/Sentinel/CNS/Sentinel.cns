

;VARIABLES
;var(0)-var(6): Temp
;var(7); time counter
;var(8);keep track of p2life
;var(9);keep track of p1life
;var(10); 2nd opponent life in simul mode
;
;var(11),var(12); temp bound states
;-------
;var(13) Combo adder 
;Var(14) number and text decider 
;Var(15) is Danger 
;var(16) normalize 
;----------
;var(17);combo conditions
;var(18);ko sound
;var(19)-var(21);hit type combo
;var(22)-var(24);
;var(25)-var(27);hitcount
;var(29),launcher reset
;variable below 29 will reset between rounds
;
;
;var(30); p2life /100
;var(31); p1life /100
;var(33);p2life
;var(34);p1life
;var(32); damage dampening
; 
;var(34),max hits light atk
;var(35),max hits medium atk
;var(36);max hits hard atk
;var(40)-(41);
;var(42);
;var(43) - var(48); run
;var(51) - normal to special to hyper states
;var(52) - damage to super armor
;var(54) - flight mode
;var(55) - super armor
;var(56); sos condition
;var(57); 
;var(58); remember ai for next round
;var(59); ai activate

[Data]
life = 1000					; Amount of life to start with
attack = 100				; 100% attack power (more is stronger)
defence = 105				; 135% defensive power (more is stronger)
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 15
;Number of points for juggling
airjuggle = 15
;Default hit spark number for HitDefs
sparkno = 7200
;Default guard spark number
guard.sparkno = 7300
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volumescale = 75
volume = 75
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 29
FloatPersistIndex = 19

[Size]
xscale = .83
yscale = 1.07
ground.back = 33    ;Player width (back, ground)
ground.front = 33    ;Player width (front, ground)
air.back = 15   ;Player width (back, air)
air.front = 15   ;Player width (front, air)
height = 152          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = 0,-140  ;Approximate position of head
mid.pos = 0,-90   ;Approximate position of midsection
shadowoffset = 0   ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 3			; Walk forward
walk.back = -3				; Walk backward
run.fwd  = 8,-5   ;Run forward (x, y)
run.back = -8,-4.8 ;Hop backward (x, y)
jump.neu = 0,-8    ;Neutral jumping velocity (x, y)
jump.back = -2.15    ;Jump back Speed (x, y)
jump.fwd = 4       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 5.4,-7.5  ;.
airjump.neu = 0,-8.1     ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 3.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .69			; Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching


[Statedef 21]
type    = S
physics = S
sprpriority = 1

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 21, 1]
type = VelSet
triggerall = enemy, stateno != [191, 198]
trigger1 = command = "holdfwd"
x = 1.5

[State 21, 2]
type = VelSet
triggerall = enemy, stateno != [191, 198]
trigger1 = command = "holdback"
x = -1.5

[State 21, 3]
type = VelSet
triggerall = enemy, stateno != [191, 198]
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = command = "holdfwd" && anim != 22
value = 22

[State 21, 4]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = command = "holdback" && anim != 23
value = 23

[State 21, 4]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = command != "holdfwd" && anim != 0
trigger1 = command != "holdback" && anim != 0
value = 0


[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 22, 23)

;---------------------------------------------------------------------------
; Lose by Time Over


[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170]
type = PosSet
trigger1 = Time = 0
y = 0

[State 170]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
; Win state decider

[Statedef 180]
type = S
velset = 0,0


[State 180] 
type = Assertspecial 
trigger1 = Time >= 0 
flag = NoBarDisplay

[State 180, 0]
type = PosSet
trigger1 = Time = 0
y = 0


[State 183]
type = Width
trigger1 = Time = 0
value = 50,50


[State 181]
type = PlaySnd
trigger1 = Time = 0 && random < 500
trigger1 = MatchOver = 0
value = 181,4


[State 181]
type = PlaySnd
trigger1 = Time = 0 && random < 500
trigger1 = MatchOver = 1
value = 181,3

[State 180, 1]
type = ChangeState
trigger1 = Time >= 1
trigger1 = WinTime
value = 189


[State 180, 1]
type = ChangeState
trigger1 = Time >= 1
trigger1 = WinKO
value = 181+random%2

;---------------------------------------------------------------------------
; Win pose 1 - Time Over

[Statedef 189]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 2

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 16
value = 181,1
volume = 255
volumescale = 255

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 22
value = 181,2
volume = 255
volumescale = 255

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 181,3
volume = 255
volumescale = 255

[State 189]
type = AssertSpecial
trigger1 = Time < 240
flag = roundnotover



;---------------------------------------------------------------------------
; Win pose 1 - Win KO

[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 2

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 16
value = 181,1
volume = 255
volumescale = 255

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 22
value = 181,2
volume = 255
volumescale = 255

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 181,3
volume = 255
volumescale = 255

[State 189]
type = AssertSpecial
trigger1 = Time < 240
flag = roundnotover

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "start"
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Win pose 2 - Win KO

[Statedef 182]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 2

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 16
value = 181,1
volume = 255
volumescale = 255

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 22
value = 181,2
volume = 255
volumescale = 255

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 181,3
volume = 255
volumescale = 255

[State 182]
type = AssertSpecial
trigger1 = Time < 240
flag = roundnotover

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "start"
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Introduction

[Statedef 191]
type = A
ctrl = 0
anim = 192
velset = 0,2.3
sprpriority = 3

[State 21280]
type = ScreenBound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 192]
type = PlaySnd
trigger1 = time = 5
value = 50,0
volume = 230
volumescale = 230
channel = 1

[State 192]
type = PlaySnd
trigger1 = time = 6
value = 100,4
volume = 230
volumescale = 230

[State 192, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 3]
type = ChangeState
trigger1 = time = 100
value = 198
ctrl = 0

;---------------------------------------------------------------------------
; Taunt

[Statedef 195]
type = S
ctrl = 0
movetype = I
physics = S
poweradd = 10
anim = 195
velset = 0,0
sprpriority = 2

[State 195]
type = PlaySnd
trigger1 = AnimElem = 9
value = 181,5
volume = 195
volumescale = 195


[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 197]
type    = S
physics = S
anim = 12


[State 197]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
;---------------------------------------------------------------------------
; Jump Land
[Statedef 198]
type    = S
physics = S
ctrl = 0
anim = 47
sprpriority = -1

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 192, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 12, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 20,0
volume = 230
volumescale = 230

[State -3, Shake on Land]
type = EnvShake
trigger1 = time = 1
time = 12
freq = 110
ampl = 3

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 191, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0

;---------------------------------------------------------------------------
; Standing Punch

[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
ctrl = 0                        
anim = 200                        
poweradd = 13                   
sprpriority = 2      
facep2 = 1           

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA             
damage = 57,5    
animtype = Light                 
guardflag = MA                  
hitflag = MAF                    
priority = 3, Hit                
pausetime = 8,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch

[Statedef 210]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                                          
ctrl = 0                        
anim = 205                        
poweradd = 40                   
sprpriority = 2                 
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 205]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA             
damage = 42,6             
animtype = Medium                 
guardflag = MA                  
hitflag = MAF                    
priority = 3, Hit                
pausetime = 10,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -10.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 211

;---------------------------------------------------------------------------
; Standing Medium Punch

[Statedef 211]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                                          
ctrl = 0                        
anim = 206                        
poweradd = 40                   
sprpriority = 2                 
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255

[State 205]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA             
damage = 32,6           
animtype = Medium                 
guardflag = MA                  
hitflag = MAF                    
priority = 3, Hit                
pausetime = 9,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -10.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand  Strong Punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
anim = 220
sprpriority = 2
facep2 = 1

[State 220]
type = PlaySnd
trigger1 = AnimElem = 9
volume = 255
volumescale = 255
value = 220,1

[State 220]
type = Helper
trigger1 = AnimElem = 10
stateno = 20220
ownpal = 1
pos = 81,-112

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 220, 2]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA
animtype  = Hard
damage    = 11*var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-64
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = -8
air.velocity = -8
getpower = ifelse(MoveHit,50,20),ifelse(MoveHit,50,0)
;fall.animtype = Up
;fall = 1
;air.fall = 1
;fall.recover =0
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;p2stateno = 9020


[State 220, 3]
type = ChangeAnim
trigger1 = AnimTime = 0 && Anim = 220
value = 221
persistent = 0

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0 && Anim = 221
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Kick
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 13
ctrl = 0
anim = 300
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 300, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Light
hitflag = MAF     
damage = 57,5    
guardflag = MA
pausetime = 8,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 300, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Medium Kick
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40
ctrl = 0
anim = 310
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4
volumescale = 50

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 205,0
volume = 255
volumescale = 255

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 310, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = Medium
hitflag = MAF     
damage = 42,6      
guardflag = MA
pausetime = 9,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -10.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 310]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Strong Kick
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
anim = 320
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 320, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 330,0
volume = 225
volumescale = 225

[State 320, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype = Up
hitflag  = MAF
damage = 115,9     
guardflag = MA
pausetime = 9,9
guard.pausetime = 12,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 16
ground.hittime = 27
air.hittime = 27
guard.hittime = 17
yaccel = .82
ground.velocity = 0,-17.4
ground.cornerpush.veloff = 0
air.velocity = 0,-17.4
guard.velocity = -10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = 45,-60
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

[State 420, Explod]
type = Explod
trigger1 = Time = 11
anim = 8080
ontop = 1
ownpal = 1
pos = 62,-46
sprpriority = 9
scale = 0.9,0.9

[State 420, Explod]
type = Explod
trigger1 = Time = 13
anim = 8080
ontop = 1
ownpal = 1
pos = 104,-88
sprpriority = 9
scale = 0.9,0.9

[State 420, Explod]
type = Explod
trigger1 = Time = 13
anim = 8080
ontop = 1
ownpal = 1
pos = 75,-168
sprpriority = 9
scale = 0.9,0.9

[State 320]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 13
ctrl = 0
anim = 400
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3
volumescale = 50


[State 400, 1]
type = HitDef
trigger1 = animelem = 2
attr = C, NA             
damage = 57,5           
animtype = Light                 
guardflag = MA                
hitflag = MAFD                   
priority = 3, Hit                
pausetime = 8,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
down.velocity = -6,-7
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 30)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Medium Punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 40
ctrl = 0
anim = 410
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4
volumescale = 50

[State 410, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA             
damage = 42,6                
animtype = Medium                 
guardflag = M                 
hitflag = MAFD                    
priority = 3, Hit                
pausetime = 10,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -10.3,0
down.velocity = -6,-7
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 411

;---------------------------------------------------------------------------
;Crouch Medium Punch
[Statedef 411]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 40
ctrl = 0
anim = 411
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255

[State 410, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA             
damage = 32,6                  
animtype = Medium                 
guardflag = M                 
hitflag = MAFD                 
priority = 3, Hit                
pausetime = 9,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -10.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 25)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Punch

[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 420
sprpriority = 2
facep2 = 1

[State 420]
type = PlaySnd
trigger1 = AnimElem = 9
value = 220,1
volume = 255
volumescale = 255

[State 420]
type = Helper
trigger1 = AnimElem = 10
stateno = 20420
ownpal = 1
pos = 68,-63

[State 420, 2]
type = null;HitDef
trigger1 = !var(29)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = C, NA
damage    = 10*var(30)
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 7,7
sparkxy = -10,-64
sparkno = S7262;S(8220+random%2)
hitsound   = S1,13
guardsound = S4,0
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,-15;-11
air.velocity = 0,-14;-10
getpower = ifelse(MoveHit,50,20),ifelse(MoveHit,50,0)
;fall = 1
;air.fall = 1
;fall.recover =0
;fall.animtype = Hard
;p2stateno = 9020
p2stateno = 421

[State 420]
type = null;varset
trigger1 = MoveHit
var(29) = 1
ignorehitpause = 1
persistent = 0

[State 420, 3]
type = ChangeAnim
trigger1 = AnimTime = 0 && Anim = 420
value = 421
persistent = 0

[State 420, 3]
type = ChangeState
trigger1 = AnimTime = 0 && Anim = 421
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Kick
[Statedef 500]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 13
ctrl = 0
anim = 500
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3
volumescale = 50


[State 500, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA             
damage = 57,5                  
animtype = Light                 
guardflag = m                
hitflag = MAFD                   
priority = 3, Hit                
pausetime = 8,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 30)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 500, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Medium Kick
[Statedef 510]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 40
ctrl = 0
anim = 510
sprpriority = 2
velset = 0,0 
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4
volumescale = 50

[State 510, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
animtype = Medium
damage = 42,6      
guardflag = M                 
hitflag = MAFD                    
priority = 3, Hit                
pausetime = 10,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
down.velocity = -6,-7
ground.velocity = -10.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 511


;---------------------------------------------------------------------------
;Crouch Medium Kick
[Statedef 511]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 40
ctrl = 0
anim = 511
sprpriority = 2
velset = 0,0 
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 205,0
volume = 255
volumescale = 255

[State 510, 2]
type = HitDef
triggerall = P2Dist X > 110
trigger1 = AnimElem = 3
attr = C, NA
animtype = Medium
damage = 32,6      
guardflag = M                 
hitflag = MAFD                    
priority = 3, Hit                
pausetime = 6,6
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
down.velocity = -6,-7
air.hittime = 6
yaccel = .88
ground.velocity = -10.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 512

;---------------------------------------------------------------------------
;Crouch Medium Kick
[Statedef 512]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 40
ctrl = 0
anim = 512
sprpriority = 2
velset = 0,0 
facep2 = 1

[State 510, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
animtype = Medium
damage = 32,6      
guardflag = M                 
hitflag = MAFD                    
priority = 3, Hit                
pausetime = 9,8
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
down.velocity = -6,-7
ground.velocity = -10.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 500, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 520]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 50
ctrl = 0
anim = 520
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5
volumescale = 50


[State 520, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
animtype = Hard
damage = 57,5     
guardflag = M                 
hitflag = MAFD                    
priority = 3, Hit                
pausetime = 11,9
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
down.velocity = -6,-7
ground.velocity = -14.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 521

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 521]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 50
ctrl = 0
anim = 521
sprpriority = 2
facep2 = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 205,0
volume = 255
volumescale = 255


[State 520, 2]
type = HitDef
triggerall = P2Dist X > 110
trigger1 = AnimElem = 3
attr = C, NA
animtype = Hard
damage = 50,5     
guardflag = M                 
hitflag = MAFD                    
priority = 3, Hit                
pausetime = 7,7
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -10.3,0
air.velocity = -7,-2
down.velocity = -6,-7
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 522

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 522]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 50
ctrl = 0
anim = 522
sprpriority = 2
facep2 = 1

[State 520, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
animtype = Hard
damage = 50,5    
guardflag = M                 
hitflag = MAFD                    
priority = 3, Hit                
pausetime = 7,7
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -10.3,0
air.velocity = -7,-2
down.velocity = -6,-7
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 523

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 523]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 50
ctrl = 0
anim = 523
sprpriority = 2
facep2 = 1

[State 520, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
animtype = Hard
damage = 50,5    
guardflag = M                 
hitflag = MAFD                    
priority = 3, Hit                
pausetime = 7,7
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,3
guardsound = S6,0
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .53
ground.velocity = 0,-4
ground.cornerpush.veloff = 0
air.velocity = 0,-4
down.velocity = -6,-7
guard.velocity = -10
airguard.velocity = -6,-2
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 500, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Air Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 13
ctrl = 0
anim = 600
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAFD
animtype = Light
air.animtype = Light
damage = 42,6     
guardflag = HA
pausetime = 7,7
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 18
yaccel = .92
ground.velocity = -6.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = 0
air.velocity = -0.5,-7
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 600
triggerall = floor (pos Y < -115)
trigger1 = animelem = 5
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Punch Hover
[Statedef 601]
type    = A
movetype= A
physics = A
poweradd= 13
ctrl = 0
anim = 601
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31


[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAFD
animtype = Light
air.animtype = Light
damage = 42,6     
guardflag = HA
pausetime = 7,7
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 18
yaccel = .92
ground.velocity = -6.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = -6.5
air.velocity = -0.5,-7
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 5 && var(21)
value = 1335

;---------------------------------------------------------------------------
;Air Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 40
ctrl = 0
anim = 610
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,650)
trigger1 = target,statetype = A
var(13) = 1

[State 610, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAFD
animtype = Medium
air.animtype = Medium
damage = 60,8     
guardflag = HA
pausetime = 7,7
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 18
yaccel = .92
ground.velocity = -10,0
down.velocity = -6,-7
ground.cornerpush.veloff = -11
air.cornerpush.veloff = 0
air.velocity = -0.5,-10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 610
triggerall = floor (pos Y < -115)
trigger1 = animelem = 5
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Medium Punch  Hover
[Statedef 611]
type    = A
movetype= A
physics = A
poweradd= 40
ctrl = 0
anim = 611
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,650)
trigger1 = target,statetype = A
var(13) = 1

[State 610, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAFD
animtype = Medium
air.animtype = Medium
damage = 60,8     
guardflag = HA
pausetime = 7,7
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 18
yaccel = .92
ground.velocity = -10,0
down.velocity = -6,-7
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
air.velocity = -0.5,-10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 5 && var(21)
value = 1335

;---------------------------------------------------------------------------
;Air Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 50
ctrl = 0
anim = 620
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 13
value = 1

[State 0, VarSet]
type = ParentVarSet
;triggerall=Parent,Var(12)
;trigger1=Parent,prevstateno=600||Parent,prevstateno=610||Parent,prevstateno=630||Parent,prevstateno=640||Parent,prevstateno=620
trigger1=parent,hitcount>=2;Parent,var(11)=1
trigger1=movehit
var(13)=1
ignorehitpause=1

[State 620, 2]
type = HitDef
triggerall = !var(13)
trigger1 = time = 0
attr = A, NA
hitflag = MAFD
animtype = Back
air.animtype = back
damage = 98,8     
guardflag = HA
pausetime = 9,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 26
air.hittime = 12
yaccel = .73
down.velocity = -6,-7
ground.velocity = -15,0
air.cornerpush.veloff = 0
air.velocity = -13,11
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620, 2]
type = HitDef
triggerall = var(13)
trigger1 = time = 0
attr = A, NA
hitflag = MAFD
animtype = Back
air.animtype = back
damage = 98,8  
guardflag = HA
pausetime = 9,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 26
air.hittime = 12
yaccel = .73
down.velocity = -6,-7
ground.velocity = -15,0
air.cornerpush.veloff = 0
air.velocity = -13,11
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -45
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 620
triggerall = floor (pos Y < -115)
trigger1 = animelem = 13
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Strong Punch  Hover
[Statedef 621]
type    = A
movetype= A
physics = A
poweradd= 50
ctrl = 0
anim = 621
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 12
value = 1

[State 620, 2]
type = HitDef
triggerall = !var(13)
trigger1 = time = 0
attr = A, NA
hitflag = MAFD
animtype = Back
air.animtype = back
damage = 98,8     
guardflag = HA
pausetime = 9,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 26
air.hittime = 12
yaccel = .73
down.velocity = -6,-7
ground.velocity = -15,0
ground.cornerpush.veloff = -16
air.cornerpush.veloff = -16
air.velocity = -13,11
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -45
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 12 && var(21)
value = 1335

;---------------------------------------------------------------------------
;Air Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 13
ctrl = 0
anim = 700
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,650)
trigger1 = target,statetype = A
var(13) = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 9
value = 1

[State 700, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAFD
animtype = Light
air.animtype = Light
damage = 42,6    
guardflag = MA
pausetime = 7,7
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 18
yaccel = .92
ground.velocity = -6.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = 0
air.velocity = -0.5,-7
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 700
triggerall = floor (pos Y < -115)
trigger1 = animelem = 9
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Kick  Hover
[Statedef 631]
type    = A
movetype= A
physics = A
poweradd= 13
ctrl = 0
anim = 701
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,650)
trigger1 = target,statetype = A
var(13) = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 8
value = 1

[State 700, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAFD
animtype = Light
air.animtype = Light
damage = 42,6    
guardflag = MA
pausetime = 7,7
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 18
yaccel = .92
ground.velocity = -6.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = -6.5
air.velocity = -0.5,-7
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 8 && var(21)
value = 1335

;---------------------------------------------------------------------------
;Air Medium Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 40
ctrl = 0
anim = 710
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,650)
trigger1 = target,statetype = A
var(13) = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 11
value = 1

[State 710, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAFD
animtype = Medium
air.animtype = Medium
damage = 60,8   
guardflag = HA
pausetime = 7,7
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 18
yaccel = .92
ground.velocity = -10,0
down.velocity = -6,-7
ground.cornerpush.veloff = -11
air.cornerpush.veloff = 0
air.velocity = -0.5,-10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -85
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 710
triggerall = floor (pos Y < -115)
trigger1 = animelem = 11
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Medium Kick  Hover
[Statedef 641]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 40
ctrl = 0
anim = 711
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,650)
trigger1 = target,statetype = A
var(13) = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 10
value = 1

[State 710, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAFD
animtype = Medium
air.animtype = Medium
damage = 60,8   
guardflag = HA
pausetime = 7,7
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 18
yaccel = .92
ground.velocity = -10,0
down.velocity = -6,-7
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
air.velocity = -0.5,-10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -85
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 10 && var(21)
value = 1335

;---------------------------------------------------------------------------
;Air Strong Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 50
ctrl = 0
anim = 720
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 11
value = 1

[State 720, 2]
type = HitDef
triggerall = !var(13)
trigger1 = time = 0
attr = A, NA
hitflag = MAFD
animtype = Back
air.animtype = back
damage = 85,8  
guardflag = HA
pausetime = 9,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 26
air.hittime = 12
yaccel = .73
down.velocity = -6,-7
ground.velocity = -15,0
air.cornerpush.veloff = 0
air.velocity = -9,11
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 720, 2]
type = HitDef
triggerall = var(13)
trigger1 = time = 0
attr = A, NA
hitflag = MAFD
animtype = Back
air.animtype = back
damage = 85,8  
guardflag = HA
pausetime = 9,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 26
air.hittime = 12
yaccel = .73
down.velocity = -6,-7
ground.velocity = -15,0
air.cornerpush.veloff = 0
air.velocity = -9,11
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 720
triggerall = floor (pos Y < -115)
trigger1 = animelem = 11
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Strong Kick  Hover
[Statedef 651]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 50
ctrl = 0
anim = 721
sprpriority = 2
;velset = 0,0
facep2 = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= - 0.31

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 205,0
volume = 255
volumescale = 255
channel = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 10
value = 1

[State 720, 2]
type = HitDef
triggerall = !var(13)
trigger1 = time = 0
attr = A, NA
hitflag = MAFD
animtype = Back
air.animtype = back
damage = 85,8  
guardflag = HA
pausetime = 9,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 26
air.hittime = 12
yaccel = .73
down.velocity = -6,-7
ground.velocity = -15,0
ground.cornerpush.veloff = -16
air.cornerpush.veloff = -16
air.velocity = -9,11
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 10 && var(21)
value = 1335

;---------------------------------------------------------------------------------
; Oo 
[Statedef 710]
type    = S
movetype = A
physics = S
anim = 9999
sprpriority = 1
velset = 0,0
ctrl = 0

[State 810, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[state 710,3]
type = posset
trigger1 = facing = 1
x = -200
y = 0

[state 710,4]
type = posset
trigger1 = facing = -1
x = 200
y = 0

[State 810, VarSet]
type = VarSet
trigger1 = time = 0
var(15) = 0

[State 810, ChangeState]
type = ChangeState
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target,stateno = 5110
value = 100
  
; Z 
	
;---------------------------------------------------------------------------
;Forward Slam - Attempt

; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 800]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 0
sprpriority = 2



; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 800, 1]
type = HitDef
trigger1 = 1
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = ifelse(command = "holdfwd",1,-1)
p2facing = 1          ;Force p2 to face p`
p1stateno = 810       ;On success, changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S5,4 
id = 4

[State 800]
type = Helper
trigger1 = NumHelper(21245) = 0
trigger1 = Time = 0
stateno = 801
id = 21245
name = "Ground Throw"
persistence = 0
keyctrl = 0
sprpriority = 5

[State 800]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 800, 2]
type = ChangeState
trigger1 = NumHelper(21245) = 0
trigger2 = AnimTime = 0
value = 0
ctrl = 1

[State 800, 2]
type = ChangeState
trigger1 = NumHelper(21245)
trigger1 = Helper(21245),MoveHit
value = 805
ctrl = 0

;---------------------------------------------------------------------------
;Forward Slam - Attempt

; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 801]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 801
sprpriority = 2



; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 801, 1]
type = HitDef
trigger1 = 1
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
guardflag =
getpower = 0,0
givepower = 0,0
sparkno = -1          ;No spark
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 810       ;On success, changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 
fall = 1              ;Force p2 into falling down
hitsound = S5,4 
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2
id = 800

[State 801]
type = HitBy
trigger1 = 1
value = SCA,AA,AP,AT

[State 801]
type = HitOverride
trigger1 = 1
stateno = 802
attr = SCA,AA,AP,AT
slot = 0
time = -1

[State 801, 2]
type = DestroySelf
trigger1 = AnimTime = 0

[State 801]
type = BindToParent
trigger1 = 1

;------------------------------------------------------------------------------------------------------------
;Remove Helper
[Statedef 802]
type = S
movetype = I
physics = N
anim = 9800
ctrl = 0
sprpriority = 4
velset = 0,0

[State 802]
type = DestroySelf
trigger1 = Time = 0


;---------------------------------------------------------------------------
;Ground Rocket Punch Horizontal Throw
[Statedef 805]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1240
sprpriority = 4

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 805]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(60*const(size.xscale)),ceil(-80*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 805]
type = Helper
trigger1 = Time = 0
stateno = 21240
ownpal = 1

[State 805]
type = null;Helper
trigger1 = Time = 15
stateno = 21245
id = 21245
ownpal = 1
pos = 131,-94

[State 805]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21242
id = 21242
ownpal = 1
pos = 122-48+48*NumHelper(21242),-99


[State 825, Sound]
type = PlaySnd
trigger1 = Time = 15
value = 8,2
volume = 255
volumescale = 255

[State 825, Spark]
type = Explod
trigger1 = Time = 15
anim = 8080
pos = -20, 0
postype = p2
scale = 1.5,1.5
sprpriority = 8

[State 805]
type = PlaySnd
trigger1 = AnimElem = 5
value = 100,5
volume = 255
volumescale = 255

[State 805]
type = ChangeAnim
trigger1 = var(1) = 1
value = 1240
elem = 7
persistent = 0

[State 805]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 805]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rocket Punch Helper Throw

[Statedef 810]
type    = S
movetype= A
physics = N
anim = 21275
poweradd = 60
juggle  = 0
velset = 12,0
ctrl = 0
sprpriority = 2


[State 810]
type = AssertSpecial
trigger1 = Root,StateTime < 15
trigger1 = Root,Stateno = 805
flag = invisible


[State 810]
type = BindToParent
trigger1 = Root,StateTime < 15
trigger1 = Root,Stateno = 805
pos = 131,-101


[State 810]
type = null;Turn
trigger1 = Time = 0

[State 810]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
pos = 70,-50

[State 810]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 810]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 810, Bind 1]
type = TargetBind
trigger1 = Time < 4
pos = 0,0

[State 810, Bind 2]
type = TargetBind
trigger1 = Time = [4,6]
pos = 15,0

[State 810, Bind 3]
type = TargetBind
trigger1 = Time = 7
pos = 20,0


[State 810, Bind 3]
type = TargetBind
trigger1 = Time = 8
pos = 30,0


[State 810, Bind 3]
type = TargetBind
trigger1 = Time > 8
pos = 35,0

[State 810]
type = TargetLifeAdd
trigger1 = Target(800),BackEdgeDist < 15
value = -80
persistent = 0

[State 810]
type = TargetState
trigger1 = Time > 17
trigger1 = Target(800),BackEdgeDist < 15
value = 823

[State 810, State End]
type = ChangeState
trigger1 = Time > 17
trigger1 = Target(800),BackEdgeDist < 15
value = 811
ctrl = 0

[State 810, State End]
type = DestroySelf
trigger1 = !NumTarget(800)
trigger2 = Root,MoveType = H



;---------------------------------------------------------------------------
; Rocket Punch Throw Continue

[Statedef 811]
type    = S
movetype= A
physics = N
anim = 21246
;poweradd = 60
juggle  = 0
velset = -12,0
ctrl = 0
sprpriority = 2

[State 811]
type = VelSet
trigger1 = ParentDist X > -151+Vel X
trigger1 = Vel X < 0
x = 0

[State 811]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 811, State End]
type = DestroySelf
trigger1 = Root,var(1) = 2
trigger2 = Root,MoveType = H


;---------------------------------------------------------------------------
;Thrown by Forward Slam

[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 820]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820


[State 820, 1]
type = null;Turn
trigger1 = facing = enemynear,facing


[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 820, 2]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown by Forward Slam

[Statedef 823]
type    = A
movetype= H
physics = N
velset = 0,-7
poweradd = 60

[State 823, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 823

[State 823, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = Const(movement.yaccel)

[State 823, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 823, 1]
type = null;ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 825

[State 823, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground


;-------------------------------------------------------------------------
;Wall Smack
[Statedef 825]
type = A
movetype = H
physics = N
velset = 0,-7

[State 825, 4]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = Vel Y = 0
value = 827

[State 825, 5]
type = null;Turn
trigger1 = time = 0

[State 823, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0

[State 825, 7]
type = VelAdd
trigger1 = time >= 0
y = Const(movement.yaccel)


[State 825, 8]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

;-------------------------------------------------------------------------
;Hit Ground By Throw
[Statedef 826]
type = A
movetype = H
physics = N
velset = 0,0

[State 826, 5]
type = null;Turn
trigger1 = time = 0

[State 826, 7]
type = VelAdd
trigger1 = time >= 0
y = Const(movement.yaccel)

[State 823, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0

[State 826, 8]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110


;-------------------------------------------------------------------------
;Wall Smack
[Statedef 827]
type = A
movetype = H
physics = N
;velset = 0,0


[State 827, 4]
type = null;ChangeAnim2
trigger1 = time = 0
value = 827

[State 828, 5]
type = null;Turn
trigger1 = time = 0

[State 827, 6]
type = null;VelSet
trigger1 = time = 0
x = ifelse(Vel X < 0,3,-3)


[State 827, 7]
type = VelAdd
trigger1 = time >= 0
y = Const(movement.yaccel)

[State 823, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 827, 8]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
;Air Rocket Punch- Attempt

[Statedef 920]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 44
sprpriority = 2



[State 920, 1]
type = null;HitDef
trigger1 = hitcount < 1
attr = A, NT          ;Attributes: Standing, Normal Throw
hitflag = A-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 930       ;On success, changes to state 940
p2stateno = 940       ;If hit, p2 changes to state 940 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S1,9 
id = 920


[State 920]
type = Helper
trigger1 = NumHelper(21275) = 0
trigger1 = Time = 0
stateno = 921
id = 21275
name = "Air Throw"
persistence = 0
keyctrl = 0
sprpriority = 5

[State 920]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 920]
type = ChangeState
trigger1 = NumHelper(21275)
trigger1 = Helper(21275),MoveHit
value = 925
ctrl = 0

[State 920]
type = ChangeAnim
trigger1 = Time = 8
trigger2 = NumHelper(21275) = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))
persistent = 0

[State 920]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = anim = [41,43]
trigger1 = SelfAnimExist(anim + 3)
value = Anim + 3
persistent = 0

[State 920]
type = VelAdd
trigger1 = Time >= 7
y = 0.4

[State 920, 2]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = ifelse(var(54),1335,52)
ctrl = 0


;---------------------------------------------------------------------------
;Air Rocket Punch- Attempt by Helper

[Statedef 921]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 921
sprpriority = 2



[State 921, 1]
type = HitDef
trigger1 = hitcount < 1
attr = A, NT          ;Attributes: Standing, Normal Throw
hitflag = A-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 930       ;On success, changes to state 940
p2stateno = 940       ;If hit, p2 changes to state 940 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S5,4 
id = 920

[State 921]
type = HitBy
trigger1 = 1
value = SCA,AA,AP,AT

[State 921]
type = HitOverride
trigger1 = 1
stateno = 922
attr = SCA,AA,AP,AT
slot = 0
time = -1

[State 921]
type = DestroySelf
trigger1 = Time = 8


[State 921]
type = BindToParent
trigger1 = 1

;------------------------------------------------------------------------------------------------------------
;Remove Helper
[Statedef 922]
type = S
movetype = I
physics = N
anim = 9800
ctrl = 0
sprpriority = 4
velset = 0,0

[State 922]
type = DestroySelf
trigger1 = Time = 0


;---------------------------------------------------------------------------
;Air Rocket Punch Horizontal Throw
[Statedef 925]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1270
sprpriority = 2

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 805]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(60*const(size.xscale)),ceil(-80*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 925]
type = Helper
trigger1 = Time = 0
stateno = 21270
id = 21270
ownpal = 1

[State 925]
type = null;Helper
trigger1 = Time = 15
stateno = 21275
id = 21275
ownpal = 1
pos = 80,-105

[State 925]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21272
id = 21272
ownpal = 1
pos = 80-48+48*NumHelper(21272),-105


[State 925]
type = PlaySnd
trigger1 = Time = 15
value = 100,5
volume = 255
volumescale = 255

[State 825, Sound]
type = PlaySnd
trigger1 = Time = 20
value = 8,2
volume = 255
volumescale = 255

[State 825, Spark]
type = Explod
trigger1 = Time = 20
anim = 8080
pos = -20, 0
postype = p2
scale = 1.5,1.5
sprpriority = 8

[State 925]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 1270
trigger1 = time = 45
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; Air Rocket Punch

[Statedef 930]
type    = A
movetype= A
physics = N
anim = 21275
poweradd = 60
juggle  = 0
velset = 12,0
ctrl = 0
sprpriority = 2


[State 930]
type = AssertSpecial
trigger1 = Root,StateTime < 15
trigger1 = Root,Stateno = 925
flag = invisible


[State 930]
type = BindToParent
trigger1 = Root,StateTime < 15
trigger1 = Root,Stateno = 925
pos = 80,-105

[State 930]
type = null;Turn
trigger1 = Time = 0

[State 930]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
pos = 70,-50

[State 930]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 930]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 930, Bind 1]
type = TargetBind
trigger1 = Time < 4
pos = 0,0

[State 930, Bind 2]
type = TargetBind
trigger1 = Time = [4,6]
pos = 15,0

[State 930, Bind 3]
type = TargetBind
trigger1 = Time = 7
pos = 20,0


[State 930, Bind 3]
type = TargetBind
trigger1 = Time = 8
pos = 30,0


[State 930, Bind 3]
type = TargetBind
trigger1 = Time > 8
pos = 35,0

[State 930]
type = TargetLifeAdd
trigger1 = Target(920),BackEdgeDist < 15
value = -80
persistent = 0

[State 930]
type = TargetState
trigger1 = Time > 17
trigger1 = Target(920),BackEdgeDist < 15
value = 943

[State 930, State End]
type = ChangeState
trigger1 = Time > 17
trigger1 = Target(920),BackEdgeDist < 15
value = 931
ctrl = 0


[State 930, State End]
type = DestroySelf
trigger1 = !NumTarget(920)
trigger2 = Root,MoveType = H



;---------------------------------------------------------------------------
; Air Throw End

[Statedef 931]
type    = S
movetype= A
physics = N
anim = 21276
;poweradd = 60
juggle  = 0
velset = -12,0
ctrl = 0
sprpriority = 2

[State 931]
type = VelSet
trigger1 = ParentDist X > -87+Vel X
trigger1 = Vel X < 0
x = 0


[State 931]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 931, State End]
type = DestroySelf
trigger1 = Root,var(1) = 2
trigger2 = Root,MoveType = H

;---------------------------------------------------------------------------
;Thrown by Air Forward Slam

[Statedef 940]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 940]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0


[State 940, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 940, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 940, 2]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown by Air Forward Slam

[Statedef 943]
type    = A
movetype= H
physics = N
velset = 0,-7
poweradd = 60

[State 943, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 823


[State 943, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = Const(movement.yaccel)

[State 943, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0

[State 943, 1]
type = null;SelfState
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5050

[State 943, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground


[State 943, 5]
type = null;SelfState
trigger1 = Vel Y > 0 
value = 5040 ;HITA_RECOV


;---------------------------------------------------------------------------
;Ground Rocket Punch Horizontal
[Statedef 1240]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1240
sprpriority = 4


[State 1240]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 1240, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255


[State 1240]
type = Helper
trigger1 = Time = 0
stateno = 21240
ownpal = 1

[State 1240]
type = Helper
trigger1 = Time = 15
stateno = 21245
id = 21245
ownpal = 1
pos = 131,-94

[State 1240]
type = Helper
trigger1 = Time = [10,45]
trigger1 = Time%4 = 0
stateno = 21242
id = 21242
ownpal = 1
pos = 102-48+48*NumHelper(21242),-95

[State 1240]
type = ChangeAnim
triggerall = AnimElem = 6, > 0
trigger1 = NumHelper(21245)
trigger1 = Helper(21245),Vel X = 0
value = anim
elem = 7
persistent = 0

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
var(34) = -48

[State 1240]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 1240]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 0
numhits = 0
guardflag = MA
pausetime = 0,0
sparkno = S9999
guard.sparkno = S9999
sparkxy = -10,-50
ground.type = Low
ground.cornerpush.veloff = -16.5
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = -48 && stateno = 1240
down.velocity = -6,-7
air.cornerpush.veloff = -16.5
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4


[State 1240]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0

[State 1240]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Ground Rocket Punch Downward
[Statedef 1250]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1250
sprpriority = 2


[State 1240]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1240, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255

[State 1250]
type = Helper
trigger1 = Time = 0
stateno = 21250
ownpal = 1


[State 1250]
type = Helper
trigger1 = Time = 15
stateno = 21255
id = 21255
ownpal = 1
pos = 120,-80

[State 1250]
type = Helper
trigger1 = Time = [10,45]
trigger1 = Time%4 = 0
stateno = 21252
id = 21252
ownpal = 1
pos = 98-48+48*NumHelper(21252),-77-24+24*NumHelper(21252)


[State 1250]
type = ChangeAnim
triggerall = AnimElem = 6, > 0
trigger1 = NumHelper(21255)
trigger1 = Helper(21255),Vel X = 0
value = anim
elem = 7
persistent = 0


[State 1250]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 11*var(30),var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -9,-4
air.velocity = -9,-4
getpower = ifelse(MoveHit,60,30),ifelse(MoveHit,60,0)
fall = 1
air.fall = 1
fall.recover =0
;p2stateno = 9020
;persistent = 0
;p2stateno = 321


[State 1250]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0

[State 1250]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Ground Rocket Punch Upward
[Statedef 1260]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1250
sprpriority = 2

[State 1240]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 1240, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255

[State 12560]
type = Helper
trigger1 = Time = 0
stateno = 21260
ownpal = 1


[State 1260]
type = Helper
trigger1 = Time = 15
stateno = 21265
id = 21265
ownpal = 1
pos = 100,-140

[State 1260]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21262
id = 21262
ownpal = 1
pos = 110-48+48*NumHelper(21262),-135+24-24*NumHelper(21262)


[State 1260]
type = ChangeAnim
triggerall = AnimElem = 6, > 0
trigger1 = NumHelper(21265)
trigger1 = Helper(21265),Vel X = 0
value = anim
elem = 7
persistent = 0


[State 1260]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 11*var(30),var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -9,-4
air.velocity = -9,-4
getpower = ifelse(MoveHit,60,30),ifelse(MoveHit,60,0)
fall = 1
air.fall = 1
fall.recover =0
;p2stateno = 9020
;persistent = 0
;p2stateno = 321


[State 1260]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0


[State 1260]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Air Rocket Punch Horizontal
[Statedef 1270]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1270
sprpriority = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 1270]
type = Helper
trigger1 = Time = 0
stateno = 21270
id = 21270
ownpal = 1

[State 1270]
type = Helper
trigger1 = Time = 15
stateno = 21275
id = 21275
ownpal = 1
pos = 80,-100

[State 1270]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21272
id = 21272
ownpal = 1
pos = 80-48+48*NumHelper(21272),-100


[State 1270, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255


[State 1270]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 1270]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 11*var(30),var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -9,-4
air.velocity = -9,-4
getpower = ifelse(MoveHit,60,30),ifelse(MoveHit,60,0)
fall = 1
air.fall = 1
fall.recover =0
;p2stateno = 9020
;persistent = 0
;p2stateno = 321


[State 1270]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0

[State 1270]
type = ChangeAnim
trigger1 = !NumHelper(21270)
value = 44
persistent = 0

[State 1100, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x / 86
y = vel y / 86

[State 1100, VelAdd]
type = VelAdd
trigger1 = time = 0
y = .29

[State 1100, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = pos y > -20
y = -20


[State 620, ChangeState]
type = ChangeState
trigger1 = time = 49
value = 1211
ctrl = 1



;---------------------------------------------------------------------------
;Air Rocket Punch Downward
[Statedef 1280]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1280
sprpriority = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 1280]
type = Helper
trigger1 = Time = 0
stateno = 21280
id = 21280
ownpal = 1

[State 1280]
type = Helper
trigger1 = Time = 15
stateno = 21285
id = 21285
ownpal = 1
pos = 85,-87

[State 1280]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21282
id = 21282
ownpal = 1
pos = 85-48+48*NumHelper(21282),-87-24+24*NumHelper(21282)

[State 1280, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255


[State 1280]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 1280]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 11*var(30),var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -9,-4
air.velocity = -9,-4
getpower = ifelse(MoveHit,60,30),ifelse(MoveHit,60,0)
fall = 1
air.fall = 1
fall.recover =0
;p2stateno = 9020
;persistent = 0
;p2stateno = 321


[State 1280]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0

[State 1280]
type = ChangeAnim
trigger1 = !NumHelper(21280)
value = 44
persistent = 0

[State 1100, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x / 86
y = vel y / 86

[State 1100, VelAdd]
type = VelAdd
trigger1 = time = 0
y = .29

[State 1100, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = pos y > -20
y = -20


[State 620, ChangeState]
type = ChangeState
trigger1 = time = 49
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Rocket Punch Upward
[Statedef 1290]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1290
sprpriority = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 1290]
type = Helper
trigger1 = Time = 0
stateno = 21290
id = 21290
ownpal = 1

[State 1290]
type = Helper
trigger1 = Time = 15
stateno = 21295
id = 21295
ownpal = 1
pos = 85,-145

[State 1290]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21292
id = 21292
ownpal = 1
pos = 80-48+48*NumHelper(21292),-143+24-24*NumHelper(21292)

[State 1290, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255


[State 1290]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 1290]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 11*var(30),var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -9,-4
air.velocity = -9,-4
getpower = ifelse(MoveHit,60,30),ifelse(MoveHit,60,0)
fall = 1
air.fall = 1
fall.recover =0
;p2stateno = 9020
;persistent = 0
;p2stateno = 321


[State 1290]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0

[State 1290]
type = ChangeAnim
trigger1 = !NumHelper(21290)
value = 44
persistent = 0

[State 1100, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x / 86
y = vel y / 86

[State 1100, VelAdd]
type = VelAdd
trigger1 = time = 0
y = .29

[State 1100, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = pos y > -20
y = -20


[State 620, ChangeState]
type = ChangeState
trigger1 = time = 49
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Rocket Punch Horizontal
[Statedef 1271]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1271
sprpriority = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 1270]
type = Helper
trigger1 = Time = 0
stateno = 21271
id = 21271
ownpal = 1

[State 1270]
type = Helper
trigger1 = Time = 15
stateno = 21276
id = 21276
ownpal = 1
pos = 80,-100

[State 1270]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21273
id = 21273
ownpal = 1
pos = 80-48+48*NumHelper(21273),-100


[State 1270, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255


[State 1270]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 1270]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 11*var(30),var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -9,-4
air.velocity = -9,-4
getpower = ifelse(MoveHit,60,30),ifelse(MoveHit,60,0)
fall = 1
air.fall = 1
fall.recover =0
;p2stateno = 9020
;persistent = 0
;p2stateno = 321


[State 1270]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 49 && var(21)
value = 1335

[State 620, ChangeState]
type = ChangeState
triggerall = !var(21)
trigger1 = time = 49
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Air Rocket Punch Downward
[Statedef 1281]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1271
sprpriority = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 1280]
type = Helper
trigger1 = Time = 0
stateno = 21281
id = 21281
ownpal = 1

[State 1280]
type = Helper
trigger1 = Time = 15
stateno = 21286
id = 21286
ownpal = 1
pos = 85,-87

[State 1280]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21283
id = 21283
ownpal = 1
pos = 85-48+48*NumHelper(21283),-87-24+24*NumHelper(21283)

[State 1280, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255


[State 1280]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 1280]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 11*var(30),var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -9,-4
air.velocity = -9,-4
getpower = ifelse(MoveHit,60,30),ifelse(MoveHit,60,0)
fall = 1
air.fall = 1
fall.recover =0
;p2stateno = 9020
;persistent = 0
;p2stateno = 321


[State 1280]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 49 && var(21)
value = 1335

[State 620, ChangeState]
type = ChangeState
triggerall = !var(21)
trigger1 = time = 49
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Air Rocket Punch Upward
[Statedef 1291]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1271
sprpriority = 2

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 1290]
type = Helper
trigger1 = Time = 0
stateno = 21291
id = 21291
ownpal = 1

[State 1290]
type = Helper
trigger1 = Time = 15
stateno = 21296
id = 21296
ownpal = 1
pos = 85,-145

[State 1290]
type = Helper
trigger1 = Time = [15,32]
trigger1 = Time%4 = 0
stateno = 21293
id = 21293
ownpal = 1
pos = 80-48+48*NumHelper(21293),-143+24-24*NumHelper(21293)

[State 1290, 1]
type = PlaySnd
trigger1 = Time = 15
value = 1240,0
volume = 255
volumescale = 255


[State 1290]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 1290]
type = null;HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA
animtype = Hard
damage    = 11*var(30),var(30)
guardflag = MA
pausetime = 7,7
sparkno = S7281;S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = -9,-4
air.velocity = -9,-4
getpower = ifelse(MoveHit,60,30),ifelse(MoveHit,60,0)
fall = 1
air.fall = 1
fall.recover =0
;p2stateno = 9020
;persistent = 0
;p2stateno = 321


[State 1290]
type = null;AfterImage
trigger1 = Anim = 100
time = 30
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 2
framegap = 3
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 49 && var(21)
value = 1335

[State 620, ChangeState]
type = ChangeState
triggerall = !var(21)
trigger1 = time = 49
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Sentinel Force
[Statedef 1300]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 40
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 2

[State 1300]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 1300]
type = PlaySnd
trigger1 = Time = 1
value = 1300,0
volume = 255
volumescale = 255

[State 1300]
type = Helper
trigger1 = AnimElem = 2
stateno = 21300
id = 21300
pos = -BackEdgeDist-70,-150
ownpal = 1

[State 1300]
type = Helper
trigger1 = AnimElem = 2
stateno = 21301
id = 21300
pos = -BackEdgeDist-70+38,-151
ownpal = 1

[State 1300]
type = Helper
trigger1 = AnimElem = 2
stateno = 21302
id = 21300
pos = -BackEdgeDist-70+38+38,-152
ownpal = 1


[State 1300]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Sentinel Force 2
[Statedef 1310]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 40
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 2

[State 1300]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 1300]
type = PlaySnd
trigger1 = Time = 1
value = 1300,0
volume = 255
volumescale = 255

[State 1300]
type = Helper
trigger1 = AnimElem = 2
stateno = 21300
id = 21300
pos = -BackEdgeDist-70,-150
ownpal = 1

[State 1300]
type = Helper
trigger1 = AnimElem = 2
stateno = 21301
id = 21300
pos = -BackEdgeDist-70+38,-151
ownpal = 1

[State 1300]
type = Helper
trigger1 = AnimElem = 2
stateno = 21302
id = 21300
pos = -BackEdgeDist-70+38+38,-152
ownpal = 1

[State 1310]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Sentinel Force 3
[Statedef 1320]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 40
ctrl = 0
velset = 0,0
anim = 1300
sprpriority = 2

[State 1300]
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 1300]
type = PlaySnd
trigger1 = Time = 1
value = 1300,0
volume = 255
volumescale = 255

[State 1320]
type = Helper
trigger1 = AnimElem = 2
stateno = 21320
id = 21320
pos = -BackEdgeDist-70,-144
ownpal = 1

[State 1320]
type = Helper
trigger1 = AnimElem = 2
stateno = 21323
pos = -BackEdgeDist-70+17,-144
ownpal = 1

[State 1320]
type = Helper
trigger1 = AnimElem = 2
stateno = 21324
pos = -BackEdgeDist-70+17+17,-144
ownpal = 1

[State 1320]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1330] 
type = A
movetype = I
physics = N
ctrl = 0
anim = 1330
velset = 0,-4
sprpriority = 2

[State 850, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 100,4
volume = 255
volumescale = 255

[State 850, VarSet]
type = VarSet
trigger1 = time = 0
var(21) = 460

[State 850, VelMul]
type = VelMul
trigger1 = 1
y = .92

[State 850, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1335
 
[Statedef 1331] 
type = A
movetype = I
physics = N
ctrl = 0
anim = 1330
velset = 0,-4
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 100,4
volume = 255
volumescale = 255

[State 851, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = 0

[State 851, VarSet]
type = VarSet
trigger1 = time = 0
var(21) = 460

[State 851, VelMul]
type = VelMul
trigger1 = 1
y = .92

[State 851, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1335

[Statedef 1335] 
type = A
movetype = I
physics = N
ctrl = 0
anim = 0
velset = 0,0
sprpriority = 2

[State 855, Turn]
type = Turn
trigger1 = (enemy,pos x-pos x)*facing < -4

[State 855, VarSet]
type = VarSet
trigger1 = 1
var(11) = (command="holdfwd")|(command="holdback")*2|(command="holdup")*4|(command="holddown")*8

; 
[State 855, VarSet]
type = VarSet
trigger1 = pos y > -30
var(11) = var(11)&7

[State 855, VarSet]
type = VarSet
trigger1 = pos y < -160
var(11) = var(11)&11

[State 855, PosAdd]
type = PosAdd
trigger1 = pos y < -170
y = 10

; x
[State 855, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 855, VelSet]
type = VelSet
trigger1 = var(11)&1
x = ifelse(var(11)&4||var(11)&4,4,7)

[State 855, VelSet]
type = VelSet
trigger1 = var(11)&2
x = ifelse(var(11)&4||var(11)&4,-4,-7)

[State 855, VelSet]
type = VelSet
trigger1 = var(11)&4
y = ifelse(var(11)&1||var(11)&6,-6,-6)

[State 855, VelSet]
type = VelSet
trigger1 = var(11)&8
y = ifelse(var(11)&1||var(11)&6,6,6)

[State 200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1347
value = 100,4
volume = 255
volumescale = 255
channel = 7
loop = 0
pan = 0
persistent = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1343
value = 100,4
volume = 255
volumescale = 255
channel = 7
loop = 0
pan = 0
persistent = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1345
value = 100,4
volume = 255
volumescale = 255
channel = 7
loop = 0
pan = 0
persistent = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1344
value = 100,4
volume = 255
volumescale = 255
channel = 7
loop = 0
pan = 0
persistent = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1346
value = 100,4
volume = 255
volumescale = 255
channel = 7
loop = 0
pan = 0
persistent = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1341
value = 100,4
volume = 255
volumescale = 255
channel = 7
loop = 0
pan = 0
persistent = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1340
value = 100,4
volume = 255
volumescale = 255
channel = 7
loop = 0
pan = 0
persistent = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1342
value = 100,4
volume = 255
volumescale = 255
channel = 7
loop = 0
pan = 0
persistent = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = (enemy,pos x-pos x)*facing < -5
value = 100,4
volume = 255
volumescale = 255
channel = 1
loop = 0
pan = 0
persistent = 0

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1335
trigger1 = command != "holdfwd" &&command != "holdback" && command != "holdup"  && command!="holddown"
value = 1335

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1343
trigger1 = command = "holdup"  && command!="holddown" && command!="holdfwd"  && command!="holdback"
value = 1343

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1347
trigger1 = command = "holddown"  && command!="holdup" && command!="holdfwd"  && command!="holdback"
value = 1347

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1345
trigger1 = command = "holdfwd" && command!="holdup" && command!="holddown"  && command!="holdback"
value = 1345

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1344
trigger1 = command = "holdfwd" && command="holdup" && !command="holddown"  && command!="holdback"
value = 1344

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1346
trigger1 = command = "holdfwd" && !command="holdup" && command="holddown"  && command!="holdback"
value = 1346

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1341
trigger1 = command = "holdback" && command!="holdup" && command!="holddown"  && command!="holdfwd" 
value = 1341

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1340
trigger1 = command = "holdback" && command="holdup" && command!="holddown"  && command!="holdfwd" 
value = 1340

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1342
trigger1 = command = "holdback" && command!="holdup" && command="holddown"  && command!="holdfwd" 
value = 1342

[State 855, ChangeState]
type = ChangeState
trigger1 = var(21) = 0
value = 1336

[Statedef 1335] 
type = A
movetype = I
physics = N
ctrl = 0
anim = 0
velset = 0,0
sprpriority = 2

[State 0, 2]
type = Helper
trigger1 = NumHelper(6000) = 0
stateno = 6000
id = 6000


[State 855, PosAdd]
type = PosAdd
trigger1 = pos y < -170
y = 10

[State 855, PosAdd]
type = PosAdd
trigger1 = pos y > -30
y = -10

[State 20, Turn]
type = Turn
trigger1 = (enemy,pos x-pos x)*facing < -5

[State 20, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = ifelse(command!="holdup"&&command!="holddown",1,1)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = ifelse(command!="holdup"&&command!="holddown",-1,-1)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdup"
y = ifelse(command!="holdfwd"&&command!="holdback",-1,-1)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holddown"
y = ifelse(command!="holdfwd"&&command!="holdback",1,1)

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 0
trigger1 = command != "holdfwd" &&command != "holdback" && command != "holdup"
value = 0

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1336
trigger1 = command = "holdup"
value = 1336

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1335
trigger1 = command = "holddown"
value = 1335

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1331
trigger1 = command = "holdfwd" && command!="holdup" && command!="holddown"
value = 1331

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1337
trigger1 = command = "holdfwd" && command="holdup" && !command="holddown"
value = 1337

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1334
trigger1 = command = "holdfwd" && !command="holdup" && command="holddown"
value = 1334

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1332
trigger1 = command = "holdback" && command!="holdup" && command!="holddown"
value = 1332

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1338
trigger1 = command = "holdback" && command="holdup" && command!="holddown"
value = 1338

[State 855, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1339
trigger1 = command = "holdback" && command!="holdup" && command="holddown"
value = 1339

[State 855, ChangeState]
type = ChangeState
trigger1 = var(21) = 0
value = 1336
 
[Statedef 1336] 
type = A
movetype = I
physics = A
ctrl = 0
anim = 57
velset = 0,0
sprpriority = 2

[State 856, VarSet]
type = VarSet
trigger1 = time = 0
var(21) = 0

;-------------------------------------------------------------------------
;Super Jump
[Statedef 7710]
type    = A
physics = A
ctrl = 1
anim = 54
velset = 0, -17

[State 1000, FireB]
type = Explod
trigger1 = time = 0
anim = 8250
id = 8250
pos = -120, 9
scale = 0.54,0.48
sprpriority = 4
supermove = 1
ownpal = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -110
y= - 0.28

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.28

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 3,0
volumescale = 190

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 50,0
volumescale = 210
volumescale = 210
channel = 1

;[State 999, ChangeAnim] ;Change to jumping forward anim
;type = ChangeAnim
;trigger1 = Anim != 43
;trigger1 = Anim != 42
;trigger1 = Time = 10
;value = 41

[State 180, Superjump Var]
type = VarSet
trigger1 = 1
var(3) = 1

[State 999, 1a]
type = VelAdd
triggerall = Vel X >= -4
trigger1 = Time >= 0
trigger1 = Time < 65
trigger1 = command = "holdback"
;trigger1 = Anim != 43
x = -0.075

[State 999, 1b]
type = VelAdd
triggerall = Vel X <= 4.5
trigger1 = Time >= 0
trigger1 = Time < 65
trigger1 = command = "holdfwd"
;trigger1 = Anim != 42
x = 0.15

[State 999, 2a]
type = VelSet
trigger1 = Anim = 55
trigger1 = Time = [0,2]
x = 3

[State 999, 2b]
type = VelSet
trigger1 = Anim = 56
trigger1 = Time = [0,2]
x = -3.5

[State 1310, 6]
type = Turn
;trigger1 = Time = 10
trigger1 = p2dist X < -5

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 55

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 56

;---------------------------------------------------------------------------
;Plasma Storm

[Statedef 3000]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3000
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1

[State 1300]
type = Explod
trigger1 = animelem = 5
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 4
var(14) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 4
stateno = 8500
supermovetime = 99999999
pos = ceil(128*const(size.xscale)),ceil(-115*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 4
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0
volume = 255
volumescale = 255
channel = 1

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 4,< 0
value = SCA


[State 3000]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 3000]
type = ChangeState
trigger1 = AnimElem = 5
value = 3001
ctrl = 0


;---------------------------------------------------------------------------
;Plasma Storm
[Statedef 3001]
type    = S
movetype= A
physics = N
juggle  = 2
;poweradd=
velset = 0,0
anim = 3001
ctrl = 0
sprpriority = 2
facep2 = 1


[State 3001]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3001]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3001]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1300]
type = Explod
trigger1 = Time = 0
anim = 23040
postype = p1
pos = 109,-127
scale = 1.23,1.47
removetime = 69
sprpriority = 7
ownpal = 1

[State 3001]
type = Helper
trigger1 = Time = 0
stateno = 23000
id = 23000
ownpal = 1
pos = 119,-177
size.xscale = 1.33
size.yscale = 1.57

[State 1000, VarSet]
type = VarSet
trigger1 = 1
var(10) = ifelse((enemynear,screenpos x-screenpos x-155*facing)*facing>0,1,-1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,5
channel = 5
volume = 220
volumescale = 220

[State 3001]
type = HitDef
attr = S, HA
trigger1 = time< 70
trigger1 = animelemtime(1)%9=0
trigger1 = hitcount < 8
trigger1 = moveguarded < 1
damage = 40,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,8
sparkxy = -10,-100
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 7*var(10),0
air.velocity = 7*var(10),-2
airguard.velocity = 6*var(10),-2
air.velocity = -7,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.69
id = 2+4
getpower = ifelse(MoveHit,10,3),ifelse(MoveHit,10,0)

[State 3001]
type = HitDef
attr = S, HA
trigger1 = time< 70
trigger1 = animelemtime(1)%9=0
trigger1 = hitcount < 8
trigger1 = moveguarded < 1
damage = 40,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,8
sparkxy = -10,-100
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 7*var(10),0
air.velocity = 7*var(10),-2
airguard.velocity = 6*var(10),-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.69 
id = 2+4
getpower = ifelse(MoveHit,10,3),ifelse(MoveHit,10,0)

[State 3001]
type = HitDef
attr = S, HA
trigger1 = hitcount = 8
damage = 50,9
animtype = diagup
air.animtype = diagup
priority  = 5, Hit
guardflag = MA
pausetime = 0,9
sparkxy = -10,-100
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 20
ground.velocity = -12,-35
air.velocity = -12,-35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.79
getpower = ifelse(MoveHit,10,3),ifelse(MoveHit,10,0)


[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1
volume = 255
volumescale = 255
channel = 1

[State 3001]
type = PlaySnd
trigger1 = Time = 55
value = 3000,2
volume = 255
volumescale = 255
channel = 1

[State 3001]
type = Varset
trigger1 = time = 0
var(0) = 8

[State 3001]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 3001]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded



[State 3001]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(14) = 0


;---------------------------------------------------------------------------
;Hyper Sentinel Force

[Statedef 3020]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3020
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1

[State 1300]
type = Explod
trigger1 = animelem = 3
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(14) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 8500
supermovetime = 99999999
pos = ceil(128*const(size.xscale)),ceil(-115*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3021]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1300,0
volume = 255
volumescale = 255

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 2,< 0
value = SCA


[State 3020]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 3020]
type = ChangeState
trigger1 = AnimElem = 3
value = 3021
ctrl = 0


;---------------------------------------------------------------------------
;Hyper Sentinel Force
[Statedef 3021]
type    = S
movetype= A
physics = N
juggle  = 2
;poweradd=
velset = 0,0
anim = 3021
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3000, VarSet]
type = VarSet
trigger1 = time = 40
var(14) = 0

[State 3021]
type = null;NotHitBy
trigger1 = 1
value = SCA

[State 10, Sentinel - PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 50,0
volume = 180
volumescale = 180
channel = 1

[State 10, Sentinel - PlaySnd]
type = PlaySnd
trigger1 = Time = 15
value = 50,0
volume = 180
volumescale = 180
channel = 1

[State 10, Sentinel - PlaySnd]
type = PlaySnd
trigger1 = Time = 25
value = 50,0
volume = 180
volumescale = 180
channel = 1

[State 3021]
type = Helper
trigger1 = Time < 60
trigger1 = Time%22 = 0
stateno = 23020
id = 23020
pos = -BackEdgeDist-70,-15
ownpal = 1

[State 3021]
type = Helper
trigger1 = Time < 60
trigger1 = Time%22 = 0
stateno = 23020
id = 23020
pos = -BackEdgeDist-70+32,-5-64
ownpal = 1

[State 3021]
type = Helper
trigger1 = Time < 60
trigger1 = Time%22 = 0
stateno = 23020
id = 23020
pos = -BackEdgeDist-70+32+32,0-64-64
ownpal = 1

[State 3021]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Hard Drive

[Statedef 3040]
type    = A
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3030
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 3
var(14) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 3
stateno = 8500
supermovetime = 99999999
pos = ceil(28*const(size.xscale)),ceil(-115*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 1300,0
volume = 255
volumescale = 255
channel = 1

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 3,< 0
value = SCA

[State 3040]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 3040]
type = ChangeState
trigger1 = AnimElem = 4
value = 3041
ctrl = 0

;---------------------------------------------------------------------------
;Hard Drive
[Statedef 3041]
type    = A
movetype= A
physics = N
juggle  = 2
;poweradd=
velset = 7,0
anim = 3031
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 18
var(14) = 0

[State 3041]
type = Helper
trigger1 = Time = 1
stateno = 23040
ownpal = 1
size.xscale = 1.33
size.yscale = 1.57

[State 3041]
type = null;NotHitBy
trigger1 = 1
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,2
channel = 5
volume = 220
volumescale = 220


[State 3041]
type = HitDef
attr = A, HA
trigger1 = animelem = 1,>= 0&& animelem = 18,< 0
trigger1 = animelemtime(1)%4=0
damage = 30,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 6,6
sparkxy = -10,-100
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
air.hittime = 7
ground.hittime  = 20
ground.velocity = -5,-2
air.velocity = -5,-2
airguard.velocity = -7,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.69
id = 2+4
getpower = ifelse(MoveHit,10,3),ifelse(MoveHit,10,0)

[State 3041]
type = HitDef
attr = SA, HA
trigger1 = AnimElem >= 18
damage = 100,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 12,10
sparkxy = -10,-100
hitsound = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -15,-2
air.hittime = 1
airguard.velocity = -7,-2
air.velocity = -16,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
yaccel = 0.89
getpower = ifelse(MoveHit,10,3),ifelse(MoveHit,10,0)

[State 3041]
type = PlaySnd
trigger1 = Time = 4
value = 50,0
volume = 230
volumescale = 230
channel = 1


[State 3041]
type = Varset
trigger1 = time = 0
var(0) = 15

[State 3041]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 3041]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded


[State 620, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1211
ctrl = 1


;---------------------------------------------------------------------------
;Hard Drive

[Statedef 3050]
type    = A
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3040
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 3
var(14) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 3
stateno = 8500
supermovetime = 99999999
pos = ceil(28*const(size.xscale)),ceil(-115*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 1300,0
volume = 255
volumescale = 255
channel = 1

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 3,< 0
value = SCA

[State 3040]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 3040]
type = ChangeState
trigger1 = AnimElem = 4
value = 3051
ctrl = 0

;---------------------------------------------------------------------------
;Hard Drive
[Statedef 3051]
type    = A
movetype= A
physics = N
juggle  = 2
;poweradd=
velset = 7,0
anim = 3041
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 18
var(14) = 0

[State 3041]
type = Helper
trigger1 = Time = 1
stateno = 23041
ownpal = 1
size.xscale = 1.33
size.yscale = 1.57

[State 3041]
type = null;NotHitBy
trigger1 = 1
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,2
channel = 5
volume = 220
volumescale = 220


[State 3041]
type = HitDef
attr = A, HA
trigger1 = animelem = 1,>= 0&& animelem = 18,< 0
trigger1 = animelemtime(1)%4=0
damage = 30,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 6,6
sparkxy = -10,-100
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
air.hittime = 7
ground.hittime  = 20
ground.velocity = -5,-2
air.velocity = -5,-2
airguard.velocity = -7,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = 0.69
id = 2+4
getpower = ifelse(MoveHit,10,3),ifelse(MoveHit,10,0)

[State 3041]
type = HitDef
attr = SA, HA
trigger1 = AnimElem >= 18
damage = 100,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 12,10
sparkxy = -10,-100
hitsound = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -15,-2
air.hittime = 1
airguard.velocity = -7,-2
air.velocity = -16,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
yaccel = 0.89
getpower = ifelse(MoveHit,10,3),ifelse(MoveHit,10,0)

[State 3041]
type = PlaySnd
trigger1 = Time = 4
value = 50,0
volume = 230
volumescale = 230
channel = 1


[State 3041]
type = Varset
trigger1 = time = 0
var(0) = 15

[State 3041]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 3041]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded


[State 620, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1211
ctrl = 1

;---------------------------------------------------------------------------------------
;dizzy
[Statedef 5300]
type    = S
movetype= H
physics = N
juggle  = 4
velset = 0,0
anim = 5300
ctrl = 0
sprpriority = 2

[State 5300]
type = PosSet
trigger1 = time = 0
y = 0


[State 5300,e]
type = SelfState; ChangeState
trigger1 = time = 360
value = 0
ctrl = 1


;---------------------------------------------------------------------------------------
;Short Circuit Dizzyness
[Statedef 5301]
type    = S
movetype= H
physics = N
juggle  = 4
velset = 0,0
anim = 7030+random%3
ctrl = 0
sprpriority = 3


[State 5301]
type = PlaySnd
trigger1 = Time = 0
value = 5300, 0
loop = 1
channel = 4

[State 5301]
type = StopSnd
trigger1 = time = 359
trigger2 = enemy,anim != 5300
channel = 4

[State 5301]
type = DestroySelf
trigger1 = time = 360
trigger2 = enemy,anim != 5300



;------------------------------------------------------------------------------------------------------------
;
[Statedef 5999]
type = S
movetype = I
physics = N
anim = 6000
ctrl = 0
sprpriority = 3
velset = 0,Parent,Vel Y


[State 6003]
type = Varset
trigger1 = Time = 0
var(3) = parent,id

[State 6003]
type = Turn
trigger1 = parent,facing != facing

[State 6003]
type = DestroySelf
trigger1 = !PlayerIDExist(var(3))


[State 6003]
type = BindToParent
trigger1 = PlayerIDExist(var(3))

;------------------------------------------------------------------------------------------------------------
;Win Pose 3 Tiger Helper 
[Statedef 6183]
type = A
movetype = I
physics = N
anim = 6183
ctrl = 0
sprpriority = 4
velset = 5,0


[State 6183]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 6183]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 6183
elem = 3
persistent = 0


[State 6183]
type = VelSet
trigger1 = AnimElem = 3
x = 0
y = 0


[State 6183]
type = PosSet
trigger1 = AnimElem = 3
y = 0



[State 183]
type = PlaySnd
trigger1 = AnimElem = 4, = 2
value = 183,1


[State 6183]
type = DestroySelf
trigger1 = Time = 9999

;------------------------------------------------------------------------------------------------------------
;Win Pose 4 Bird Helper 
[Statedef 6184]
type = A
movetype = I
physics = N
anim = 6184
ctrl = 0
sprpriority = 4
velset = 5,0



[State 6184]
type = ChangeAnim
trigger1 = BackEdgeDist > 130
value = 6184
elem = 2
persistent = 0


[State 6184]
type = VelSet
trigger1 = AnimElem = 2
y = -2


[State 6184]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = Time = 250


;------------------------------------------------------------------------------------------------------------
;Glider Helper
[Statedef 6192]
type = S
movetype = I
physics = N
anim = 6192
ctrl = 0
sprpriority = 2
velset = 3,0


[State 6192]
type = DestroySelf
trigger1 = FrontEdgeBodyDist <= -200
trigger2 = Time = 240


[State 6192]
type = ChangeAnim
trigger1 = Parent,Anim = 192
value = 6193
persistent = 0

[State 6192]
type = BindToParent
trigger1 = AnimElem = 5, < 0

;------------------------------------------------------------------------------------------------------------
;Intro Card Helper End
[Statedef 6193]
type = S
movetype = I
physics = N
anim = 7410
ctrl = 0
sprpriority = 1
velset = 0,0


[State 6193]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 6193]
type = PlaySnd
trigger1 = Time = 1
value = 8,2
channel = 0


[State 6193]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Intro robot Helper
[Statedef 6194]
type = S
movetype = I
physics = N
anim = 6195
ctrl = 0
sprpriority = 0
velset = 0,0


[State 6194]
type = ChangeAnim
trigger1 = Parent,AnimElem = 4, < 1
trigger1 = Parent,Anim = 194
value = 6195


[State 6194]
type = ChangeAnim
trigger1 = Parent,AnimElem = 4, = 1
trigger1 = Parent,Anim = 194
value = 6195
elem = 2



[State 6194]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 6195
value = 6196

[State 6194]
type = ChangeAnim
trigger1 = Anim = 6196 && Parent,stateno = 194
value = 6196


[State 6194]
type = VelSet
trigger1 = Parent,stateno != 194
x = -3

[State 6194]
type = DestroySelf
trigger1 = BackEdgeDist <= -100
trigger2 = Time = 270


;------------------------------------------------------------------------------------------------------------
;Dash Forward Booster Helper
[Statedef 7005]
type = S
movetype = I
physics =N
anim = 6100
ctrl = 0
sprpriority = 0
velset = 0,0


[State 7005]
type = BindToParent
trigger1 = 1


[State 7005]
type = DestroySelf
trigger1 = parent,stateno != 100



;------------------------------------------------------------------------------------------------------------
;Dash Back Booster Helper
[Statedef 7006]
type = S
movetype = I
physics =N
anim = 6105
ctrl = 0
sprpriority = 0
velset = 0,0

[State 7006]
type = BindToParent
trigger1 = 1

[State 7006]
type = DestroySelf
trigger1 = parent,stateno != 105



;------------------------------------------------------------------------------------------------------------
;Stand Dust
[Statedef 7041]
type = S
movetype = I
physics =N
anim = 7041
ctrl = 0
sprpriority = 5
velset = 0,0

[State 7041]
type = Varset
trigger1 = Time = 0
var(2) = root,stateno


[State 7041]
type = PlaySnd
trigger1 = Time = 0
value = 17,0
channel = 1

[State 7041]
type = Helper
trigger1 = Time = 0
stateno = 7042

[State 7041]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root,stateno != var(2)
;------------------------------------------------------------------------------------------------------------
;Stand Dust
[Statedef 7042]
type = S
movetype = I
physics =N
anim = 7042
ctrl = 0
sprpriority = -3
velset = 0,0

[State 7042]
type = Varset
trigger1 = Time = 0
var(2) = root,stateno


[State 7042]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root,stateno != var(2)

;------------------------------------------------------------------------------------------------------------
;Explodsion A
[Statedef 7070]
type = S
movetype = I
physics =N
anim = 7070
ctrl = 0
sprpriority = 3
velset = 0,0



[State 7070]
type = AssertSpecial
trigger1 = Time%2 = 0
flag = invisible


[State 7070]
type = DestroySelf
trigger1 = AnimTime = 0



;------------------------------------------------------------------------------------------------------------
;Dust Trail
[Statedef 7106]
type = S
movetype = I
physics =N
anim = 7106
ctrl = 0
sprpriority = 3
velset = 0,0


[State 7106]
type = Varset
trigger1 = Time = 0
var(3) = parent,id


[State 7106]
type = Varset
trigger1 = Time = 0
var(2) = parent,stateno

[State 7106]
type = BindToParent
trigger1 = parent,stateno = var(2)
trigger1 = parent,id = var(3)
pos = -67,-floor(parent,pos y)


[State 7106]
type = DestroySelf
trigger1 = !PlayerIDExist(var(3))
trigger2 = parent,stateno != var(2)





;------------------------------------------------------------------------------------------------------------
;Guard Shield
[Statedef 7510]
type = S
movetype = I
physics =N
anim = 7510
ctrl = 0
sprpriority = 4
velset = 0,0

[State 7510]
type = Varset
trigger1 = Time = 0
var(2) = parent,stateno


[State 7510]
type = BindToParent
trigger1 = Parent,Anim = 130
trigger2 = Parent,Anim = 150
pos = 0,0

[State 7510]
type = BindToParent
trigger1 = Parent,Anim = 131
trigger2 = Parent,Anim = 151
pos = 13,18


[State 7510]
type = BindToParent
trigger1 = Parent,Anim = 132
trigger2 = Parent,Anim = 152
pos = 1,-44

[State 7510]
type = DestroySelf
trigger1 = parent,anim != [130,132]
trigger1 = parent,anim != [150,152]

;--------------------------------------------------------------------------------------------
; Guard Push (stand)
[Statedef 7610]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 7610
ctrl = 0

[State 1230, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 37

[State 1230, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "Push Block F"
pos = 0,0
postype = p1
stateno = 7611
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1230, Spark]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
ontop = 1
scale = 0.5, 0.5

[State 1230, SFX]
type = PlaySnd
trigger1 = Time = 0
value = 1, 3
ignorehitpause = 1


[State 1230, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 1230, Done]
type = ChangeState
trigger1 = time = 27
value = 130
ctrl = 1


;---------------------------------------------------------------------------
; Guard Push (Helper)

[Statedef 7611]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 7611

[State 1260, Not Get Hit]
type = NotHitBy
Trigger1 = Time >= 0
value = , AA ,AP ,AT
Time = 1

[State 1260, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 1260, Shove]
type = VelSet
trigger1 = Time >= 0
x = 17

[State 1260, Done]
type = DestroySelf
trigger1 = Time = 30

;---------------------------------------------------------------------------
; Guard Push (Crouching)

[Statedef 7615]
type    = C
movetype= I
physics = C
velset = 0,0
anim = 7615
ctrl = 0

[State 1240, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 37

[State 1240, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "Push Block F"
pos = 0,0
postype = p1
stateno = 7611
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1240, Spark]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
ontop = 1
scale = 0.5, 0.5

[State 1240, SFX]
type = PlaySnd
trigger1 = Time = 0
value = 1, 3
ignorehitpause = 1

[State 1240, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 1240, Done]
type = ChangeState
trigger1 = time = 27
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; Guard Push (Air)

[Statedef 7620]
type    = A
movetype= I
physics = A
velset = 0,0
anim = 7620
ctrl = 0

[State 1250, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 37

[State 1250, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "Push Block F"
pos = 0,0
postype = p1
stateno = 7611
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1250, Spark]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
ontop = 1
scale = 0.5, 0.5

[State 1250, SFX]
type = PlaySnd
trigger1 = Time = 0
value = 1, 2
ignorehitpause = 1

[State 1250, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 1250, Done]
type = ChangeState
trigger1 = time = 27
value = 132
ctrl = 1

;---------------------------------------------------------------------------
;AI Super Jump Start
[Statedef 7720]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 7720]
type = PlaySnd
trigger1 = Time = 1
value = 710,0
channel = 1

[State 7720]
type = Explod
trigger1 = Time = 1
anim = 7055
ownpal = 1


[State 7720]
type = Explod
trigger1 = Time = 1
anim = 7055
facing = -1
ownpal = 1


[State 7720]
type = Explod
trigger1 = Time = 1
anim = 7022
sprpriority = 4
ownpal = 1


[State 7720, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 7720, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 7720, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 7720, 4]
type = null;VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y) - 3

[State 7720, 4]
type = null;VelSet
trigger1 = AnimTime = 0
x = (P2Dist X)*0.07
y = (P2Dist Y)*0.07

[State 7720, 5]
type = null;VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 7720, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 7721
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump Up
[Statedef 7721]
type    = A
physics = N


[State 7721, 4]
type = null;VelSet
trigger1 = 1;Time = 0
y = -11


[State 7721, 4]
type = VelSet
trigger1 = Time = 0
y = -15;-13


[State 7721, 4]
type = VelAdd
trigger1 = 1
y = 0.4



[State 7721]
type = veladd
triggerall = vel x <= 4
trigger1 = var(59)
trigger1 = p2bodydist x >= 0
persistent = 4
x = .9


[State 7721]
type = veladd
triggerall = vel x >= -4
trigger1 = var(59) 
trigger1 = p2bodydist x <= 0
persistent = 4
x = -.9


[State 7721,4]
type = null;VelAdd
triggerall = command = "holdfwd"
trigger1 = sysvar(1) = 1
trigger1 = vel X <=4
trigger2 = sysvar(1) = -1
trigger2 = Vel X <= -.4
x = .2

[State 7721,5]
type = null;VelAdd
triggerall = command = "holdback"
trigger1 = sysvar(1) = -1
trigger1 = Vel X >= -4
trigger2 = sysvar(1) = 1
trigger2 = Vel X >= .4
x = -.2

[State 7721, 1]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1


[State 7721]
type = Explod
trigger1 = Time%4 = 0
trigger1 = Time >= 4
trigger1 = Vel Y < 0
anim = 7056
pos = 0,0
random = 50,0
ontop = 1
ownpal = 1

[State 7721]
type = Explod
trigger1 = Time%2 = 0
trigger1 = Time >= 12
trigger1 = Vel Y < 0
anim = 7057+random%3
pos = 0,0
random = 60,0
ontop = 1
ownpal = 1


[State 7721, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 7721, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 7721]
type = turn
trigger1 = p2dist x < -5


;---------------------------------------------------------------------------
; Jump Land
[Statedef 7722]
type    = A
physics = A

[State 7722, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 7722, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 7722]
type = turn
trigger1 = p2dist x < -5

;---------------------------------------------------------------------------
; Flying to End of Screen
[Statedef 7740]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 5010

[State 7740]
type = null;ScreenBound
trigger1 = 1
value = 0

[State 7740]
type = SelfState
trigger1 = Alive = 0
value = 5000

[State 7740]
type = ChangeAnim
trigger1 = Time < 10
value = 5010

[State 7740]
type = AfterImage
trigger1 = Time = 5
length = 5
timegap = 1
framegap = 1
PalBright   = 0,0,0
PalContrast = 100,100,100
PalMul      = 1,1,1
trans = Add1
time = 0

[State 7740]
type = AfterImageTime
trigger1 = 1
time = 2

[State 7740]
type = ChangeAnim
trigger1 = Time >= 10
value = 5011

[State 7740]
type = HitVelSet
trigger1 = Time = 10
x = 1

[State 7740]
type = ChangeState
triggerall = Time >= 10
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 7741

[State 7740]
type = SelfState
trigger1 = Time = 150
value = 5000


;---------------------------------------------------------------------------
; Hit Wall or Stop Moving
[Statedef 7741]
type    = A
movetype= H
physics = N
anim = 5010

[State 7741]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 100
ampl = -10
phase = 10

[State 7741]
type = PosAdd
trigger1 = Time = 0
x = 10 - BackEdgeBodyDist

[State 7741]
type = PosFreeze
trigger1 = Time < 10
x = 1
y = 1

[State 7741]
type = ScreenBound
trigger1 = 1
value = 0

[State 7741]
type = null;Explod
trigger1 = time = 0
anim = F72
pos = -30,-50
postype = p1
facing = 1
sprpriority = 3
bindtime = 2
supermove = 1

[State 7741]
type =null; PlaySnd
trigger1 = Time = 0
value = F7,2

[State 7741]
type = LifeAdd
trigger1 = Time = 0
value = -100

[State 7741]
type = ChangeAnim
triggerall = SelfAnimExist(5030)
trigger1 = Time = 10
value = 5030

[State 7741]
type = VelSet
trigger1 = Time = 10
x = 2
y = -4

[State 7741]
type = VelAdd
trigger1 = Time > 10
y = .4

[State 7741]
type = ChangeAnim
triggerall = SelfAnimExist(5035)
trigger1 = Anim = 5030
trigger1 = AnimTime = 0
value = 5035

[State 7741]
type = ChangeAnim
triggerall = SelfAnimExist(5050)
triggerall = AnimTime = 0
trigger1 = Anim = 5030
trigger2 = Anim = 5035
value = 5050

[State 7741]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y > 20
value = 5100 ;Hit ground

;---------------------------------------------------------------------------------------
;res
[Statedef 7777]
type    = A
movetype= I
physics = A
juggle  = 4
velset = ifelse(random < 500,3,-3),-13
anim = 43
ctrl = 0
sprpriority = 2


[state 7777]
type = superpause
trigger1 = Time = 0
anim = -1
time = 30
movetime = 30
darken = 0
unhittable = 1

[State 7777]
type = ChangeAnim
trigger1 = Vel Y > 0
value = 46
persistent = 0

[State 7777]
type = LifeAdd
trigger1 = Time = 0
value = 30*var(30)



[State 7777, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 60

[State 7777,e]
type = ChangeState
triggerall = Time >= 32
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger2 = Time = 90
value = 52
ctrl = 0

;-------------------------------------------------------------------------
;Stand by
[Statedef 7827]
type = S
movetype = I
physics = N
velset = 0,0
ctrl = 0
;anim = 9800

[State 7827]
type = PosSet
trigger1 = Time = 0
y = 0

[State 7827]
type = ChangeState
trigger1 = NumEnemy = [1,2]
trigger1 = Enemy(0),statetype = L || Enemy(0),movetype != H
value = 102


[State 7827]
type = ChangeState
trigger1 = NumEnemy = 2
trigger1 = Enemy(1),statetype = L || Enemy(1),movetype != H
value = 102


;------------------------------------------------------------------------------------------------------------
;Arm For Stand State
[Statedef 10000]
type = S
movetype = I
physics =N
anim = 10000
ctrl = 0
sprpriority = 3
velset = 0,0


[State 10000]
type = BindToParent
trigger1 = 1
facing = 1
;time = -1
ignorehitpause = 1

[State 10000]
type = ChangeAnim
trigger1 = Anim != 9800
trigger1 = !SelfAnimExist(Parent,Anim+10000)
value = 9800

[State 10000]
type = ChangeAnim
trigger1 = Parent,Anim+10000 != Anim
trigger1 = SelfAnimExist(Parent,Anim+10000)
value = Parent,Anim+10000
elem = Parent,AnimElemNo(0)
ignorehitpause = 1

[State 10000]
type = ChangeAnim
trigger1 = Parent,AnimElemNo(0) != AnimElemNo(0)
trigger1 = SelfAnimExist(Parent,Anim+10000)
value = Parent,Anim+10000
elem = Parent,AnimElemNo(0)
ignorehitpause = 1


[State 10000]
type = ChangeState
trigger1 = parent,var(57) = 4
value = 10001


;------------------------------------------------------------------------------------------------------------
;Arm Detached
[Statedef 10001]
type = S
movetype = I
physics =N
anim = 10001
ctrl = 0
sprpriority = 3
velset = -2,-7


[State 10001]
type = Varset
trigger1 = time = 0
var(2) = 0

[State 10001]
type = PlaySnd
trigger1 = Time = 0
value = 10000,0

[State 10001]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 10001]
type = Velset
trigger1 = FrontEdgeBodyDist <= -5
trigger2 = BackEdgeBodyDist <= -5
x = ifelse(vel x > 0,-Vel X,abs(Vel X))

[State 10001]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 10002


[State 10001]
type = null;Varset
trigger1 = time > 10
trigger1 = RootDist X = [-25,25]
trigger1 = RootDist Y = [-25,60]
var(2) = 4

[State 10001]
type = null;PlaySnd
trigger1 = var(2) = 4
value = 10000,1


[State 10001]
type =  null;ChangeState
trigger1 = var(2) = 4
value = 10000


;------------------------------------------------------------------------------------------------------------
;Arm Detached Land
[Statedef 10002]
type = S
movetype = I
physics =N
;anim = 10001
ctrl = 0
sprpriority = 3
velset = 0,0

[State 10002]
type = PlaySnd
trigger1 = Time = 0
value = 10000,0

[State 10002]
type = Velset
trigger1 = FrontEdgeBodyDist <= -5
trigger2 = BackEdgeBodyDist <= -5
x = ifelse(vel x > 0,-Vel X,abs(Vel X))



[State 10002]
type = VelSet
trigger1 = parent,var(57) != 4
trigger1 = parent,movetype != H
x = (RootDist X)*0.1


[State 10002]
type = Varset
trigger1 = time > 10
trigger1 = parent,var(57) != 4
trigger1 = RootDist X = [-25,25]
trigger1 = RootDist Y = [-25,60]
var(2) = 4


[State 10002]
type = ParentVarset
trigger1 = var(2) = 4
var(57) = 1

[State 10002]
type = PlaySnd
trigger1 = var(2) = 4
value = 10000,1


[State 10002]
type =  ChangeState
trigger1 = var(2) = 4
value = 10000


;------------------------------------------------------------------------------------------------------------
;Mini Rocket Helper
[Statedef 20210]
type = A
movetype = A
physics = N
anim = 20210
ctrl = 0
sprpriority = 4
velset = 0,0


[State 20210]
type = VarSet
trigger1 = Time = 0
var(3) = parent,stateno


[State 20210]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20210]
type = VelSet
trigger1 = Parent,AnimElem = 10
x = 10
y = 4


[State 20210]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 20210]
type = HitOverride
trigger1 = 1
stateno = 20215
attr = SCA,AP
slot = 0
time = -1


[State 20210]
type = HitDef
attr = A, NP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 3*(Root,var(30)),floor(Root,var(30)/2)
animtype = Large
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-40
hitsound   = S1,2
guardsound = S4,0
sparkno = -1;S(8200+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -5
air.velocity = -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 3


[State 20210]
type = ChangeState
trigger1 = MoveContact
trigger2 = Pos Y >= 0
trigger2 = Vel Y > 0
trigger3 = Parent,stateno != var(3)
trigger3 = Vel X = 0
value = 20215
ignorehitpause = 1


;------------------------------------------------------------------------------------------------------------
;Mini Rocket Helper
[Statedef 20211]
type = A
movetype = A
physics = N
anim = 20211
ctrl = 0
sprpriority = 0
velset = 0,0


[State 20211]
type = VarSet
trigger1 = Time = 0
var(3) = parent,stateno

[State 20211]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20211]
type = VelSet
trigger1 = Parent,AnimElem = 10
x = 10
y = 4


[State 20211]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 20211]
type = HitOverride
trigger1 = 1
stateno = 20215
attr = SCA,AP
slot = 0
time = -1


[State 20211]
type = HitDef
attr = A, NP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 3*(Root,var(30)),floor(Root,var(30)/2)
animtype = Large
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-40
hitsound   = S1,2
guardsound = S4,0
sparkno = -1;S(8200+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -5
air.velocity = -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
;palfx.time = 1
;palfx.add = 256,256,256

[State 20211]
type = ChangeState
trigger1 = MoveContact
trigger2 = Pos Y >= 0
trigger2 = Vel Y > 0
trigger3 = Parent,stateno != var(3)
trigger3 = Vel X = 0
value = 20215
ignorehitpause = 1

;------------------------------------------------------------------------------------------------------------
;Mini Rocket Helper End
[Statedef 20215]
type = S
movetype = A
physics = N
anim = 7410
ctrl = 0
sprpriority = 3
velset = 0,0


[State 20215]
type = PlaySnd
trigger1 = Time = 0
value = 8,2

[State 20215]
type = HitDef
attr = S, NP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 2*(Root,var(30)),floor(Root,var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = L
pausetime = 0,7
sparkxy = -10,0
hitsound   = S1,2
guardsound = S4,0
sparkno = S(8200+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -7
air.velocity = -7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,20,7),ifelse(MoveHit,20,0)
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 1


[State 20215]
type = DestroySelf
trigger1 = AnimTime = 0



;------------------------------------------------------------------------------------------------------------
;Beam Helper Start
[Statedef 20220]
type = S
movetype = A
physics = N
;anim = 20220
ctrl = 0
sprpriority = 1
;velset = 7,5
hitcountpersist = 1

[State 20220]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 20220
value = 20220

[State 20220]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20220]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 20220]
type = HitOverride
trigger1 = 1
stateno = 20220
attr = SCA,AP
slot = 0
time = -1

[State 20220]
type = HitDef 
trigger1 = time = 1
damage = 82,8  
attr = A, HP            
hitflag = MAF   
priority  = 5, Hit
guardflag = MA
pausetime = 0,11
guard.pausetime = 0,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-0
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 26
air.hittime = 6
yaccel = .88
ground.velocity = -13,-4
air.velocity = -10,-4
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 226

[State 20220]
type = ChangeState
trigger1 = Root,AnimElem = 19
value = 20222


[State 20220]
type = ChangeState
trigger1 = movereversed
value = 20220

[State 20220]
type = DestroySelf
trigger1 = Root,Stateno != 220


[State 20220]
type = BindToParent
trigger1 = 1
pos = 81,-109


;---------------------------------------------------------
; Hit by SSP
[Statedef 226]
type    = A
movetype= H
physics = N
velset = 0,0

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 222

[State 225, 2]
type = ChangeState
trigger1 = Time = 10
value = 227

;---------------------------------------------------------
; Hit by SSP - Flying
[Statedef 227]
type    = A
movetype= H
physics = N

[State 226, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 226, 2]
type = VelAdd
trigger1 = 1
y = 1.07

[State 226, 3]
type = Null;Explod
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
anim = 7000
persistent = 0
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 226, 4]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 25)
trigger1 = alive
value = 228

[State 226, 5]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 0
value = 5100

;---------------------------------------------------------
; Hit by SSP - Recover
[Statedef 228]
type    = A
movetype= I
physics = N
anim = 5210

[State 227, 1]
type = VelSet
trigger1 = Time = 0
y = -3

[State 9910, PosSet]
type = PosSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -5

[State 1300, 6]
type = PalFX
triggerall = name = "Dhalsim"
trigger1 = animelem = 1
time = 18
sinadd =  255,255,255,43
ignorehitpause = 0

[State 5100, 10]
type = PlaySnd
triggerall = name = "Dhalsim"
trigger1 = Time = 1
value = S3,0

[State 9910, VelSet]
type = VelSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -2
x = 0

[State 9910, VelAdd]
type = VelAdd
triggerall = name = "Dhalsim"
trigger1 = time = 1
y = 0

[State 227, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x > 0
x = 5

[State 227, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x < 0
x = -5

[State 227, 4]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 227, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 227, 6]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 52
ctrl = 1


;------------------------------------------------------------------------------------------------------------
;Beam Helper End
[Statedef 20222]
type = S
movetype = I
physics = N
anim = 20222
ctrl = 0
sprpriority = 1
;velset = 7,5


[State 20222]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20222]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,Stateno != 220


[State 20222]
type = BindToParent
trigger1 = 1
pos = 81,-109


;------------------------------------------------------------------------------------------------------------
;Grenade Helper Start
[Statedef 20320]
type = S
movetype = A
physics = N
anim = 20320
ctrl = 0
sprpriority = 3
velset = 0,0



[State 20320]
type = ChangeState
trigger1 = Time = 8
value = 20322



;------------------------------------------------------------------------------------------------------------
;Grenade Helper End
[Statedef 20322]
type = S
movetype = A
physics = N
anim = 7410
ctrl = 0
sprpriority = 3
velset = 0,0


[State 20322]
type = PlaySnd
trigger1 = Time = 0
value = 8,2


[State 20322]
type = HitDef
attr = C, NP
trigger1 = enemynear,stateno != 321
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 2*(Root,var(30)),floor(Root,var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = L
pausetime = 0,7
sparkxy = -10,0
hitsound   = S1,2
guardsound = S4,0
sparkno = S(8200+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -7
air.velocity = -7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,20,7),ifelse(MoveHit,20,0)
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 1

[State 20322]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Grenade Helper Start
[Statedef 20330]
type = S
movetype = A
physics = N
anim = 20320
ctrl = 0
sprpriority = 3
velset = 0,0



[State 20330]
type = ChangeState
trigger1 = Time = 8
value = 20332



;------------------------------------------------------------------------------------------------------------
;Grenade Helper End
[Statedef 20332]
type = S
movetype = A
physics = N
anim = 7410
ctrl = 0
sprpriority = 3
velset = 0,0


[State 20332]
type = PlaySnd
trigger1 = Time = 0
value = 8,2


[State 20332]
type = HitDef
attr = C, NP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 2*(Root,var(30)),floor(Root,var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = L
pausetime = 0,7
sparkxy = -10,0
hitsound   = S1,2
guardsound = S4,0
sparkno = S(8200+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -7
air.velocity = -7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,20,7),ifelse(MoveHit,20,0)
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 1


[State 20332]
type = DestroySelf
trigger1 = AnimTime = 0
;------------------------------------------------------------------------------------------------------------
;Beam Helper Start
[Statedef 20420]
type = C
movetype = A
physics = N
;anim = 20220
ctrl = 0
sprpriority = 1
;velset = 7,5
hitcountpersist = 1

[State 20420]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 20220
value = 20220


[State 20420]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20420]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 20420]
type = HitOverride
trigger1 = 1
stateno = 20420
attr = SCA,AP
slot = 0
time = -1


[State 20420]
type = HitDef
attr = C, NP
trigger1 = time = 1
damage = 82,8  
hitflag = MAF  
priority  = 5, Hit
guardflag = M
pausetime = 0,11
guard.pausetime = 0,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-0
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 26
air.hittime = 6
yaccel = .88
ground.velocity = -13,-4
air.velocity = -10,-4
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 226

[State 20420]
type = ChangeState
trigger1 = Root,AnimElem = 19
value = 20422

[State 20420]
type = ChangeState
trigger1 = movereversed
value = 20420

[State 20420]
type = DestroySelf
trigger1 = Root,Stateno != 420


[State 20420]
type = BindToParent
trigger1 = 1
pos = 68,-67

;------------------------------------------------------------------------------------------------------------
;Beam Helper End
[Statedef 20422]
type = C
movetype = I
physics = N
anim = 20222
ctrl = 0
sprpriority = 1
;velset = 7,5


[State 20422]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20422]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,Stateno != 420


[State 20422]
type = BindToParent
trigger1 = 1
pos = 68,-67


;------------------------------------------------------------------------------------------------------------
;Missile Helper Start
[Statedef 20440]
type = A
movetype = A
physics = N
anim = 20440
ctrl = 0
sprpriority = 1
velset = 7,0


[State 20440]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 20440]
type = HitOverride
trigger1 = 1
stateno = 20442
attr = SCA,AP
slot = 0
time = -1


[State 20440]
type = HitDef
attr = A, NP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*(Root,var(30)),floor(Root,var(30)/2)
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-30
hitsound   = S1,2
guardsound = S4,0
sparkno = -1;S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -9
air.velocity = -9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 1

[State 20440]
type = ChangeState
trigger1 = MoveContact
value = 20442
ignorehitpause = 1

[State 20440]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = Time = 170



;------------------------------------------------------------------------------------------------------------
;Missile Helper End
[Statedef 20442]
type = A
movetype = I
physics = N
anim = 7410
ctrl = 0
sprpriority = 1
velset = 0,0


[State 20442]
type = PlaySnd
trigger1 = Time = 1
value = 8,2

[State 20442]
type = Explod
trigger1 = Time < 7
anim = 7410
pos = 0,0
random = 80,80
ontop = 1

[State 20442]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21240]
type = S
movetype = I
physics = N
anim = 21240
ctrl = 0
sprpriority = 3
velset = 0,0

[State 21240]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21240]
type = ChangeAnim
trigger1 = Parent,AnimElem = 7
value = 21241
persistent = 0

[State 21240]
type = ParentVarSet
trigger1 = Anim = 21241 && AnimElem = 4
var(1) = 2
persistent = 0

[State 21240]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21241
trigger2 = Parent,Stateno != var(2)


[State 21240]
type = BindToParent
trigger1 = 1


;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21242]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0


[State 21272]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21272]
type = null;AngleDraw
trigger1 = 1
value = -25

[State 21272]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21272]
type = DestroySelf
trigger1 = NumHelper(21245)
trigger1 = Helper(21245),Vel X < 0
trigger1 = Helper(21245),ParentDist X > ParentDist X
trigger2 = Parent,var(1) = 1
trigger3 = Parent,Anim != var(2)
trigger4 = NumHelper(21245) = 0

[State 21272]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95


;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21245]
type = S
movetype = A
physics = N
anim = 21245
ctrl = 0
sprpriority = 5
velset = 12,0
hitcountpersist = 1

[State 21245]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21245]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21245]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21245]
type = HitOverride
trigger1 = 1
stateno = 21245
attr = SCA,AP
slot = 0
time = -1


[State 21245]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255


[State 21245]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21245]
type = ChangeAnim
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
value = 21246
ignorehitpause = 1

[State 21245]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
ignorehitpause = 1

[State 21245]
type = VelSet
trigger1 = ParentDist X > -131+Vel X
trigger1 = Vel X < 0
x = 0

[State 21245]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 21245]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 170,19     
animtype = BACK
priority  = 5, Hit
guardflag = MAFD
pausetime = 0,5
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = -48 && stateno = 1240
down.velocity = -6,-7
air.cornerpush.veloff = var(34)
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3

[State 1050, EnvShake]
type = EnvShake
trigger1 = enemynear,backedgedist = 0
time = 11
freq = 65
ampl = 3

[State 21245]
type = DestroySelf
trigger1 = Parent,Stateno != var(2)
trigger2 = Parent,AnimElem = 8, = 4

;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21250]
type = S
movetype = I
physics = N
anim = 21250
ctrl = 0
sprpriority = 3
velset = 0,0


[State 21250]
type = AngleDraw
trigger1 = 1
value = -25

[State 21250]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21250]
type = ChangeAnim
trigger1 = Parent,AnimElem = 7
value = 21251
persistent = 0

[State 21250]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21251
trigger2 = Parent,Stateno != var(2)


[State 21250]
type = BindToParent
trigger1 = 1
pos = 100,-80

;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21252]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0


[State 21252]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21252]
type = AngleDraw
trigger1 = 1
value = -27

[State 21252]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21252]
type = DestroySelf
trigger1 = NumHelper(21255)
trigger1 = Helper(21255),Vel X < 0
trigger1 = Helper(21255),ParentDist X > ParentDist X
;trigger1 = abs(Helper(21255),Pos Y) > abs(Pos Y)
trigger2 = Parent,AnimElemNo(0) >= 7
trigger3 = Parent,Stateno != var(2)
trigger4 = NumHelper(21255) = 0

[State 21252]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95

;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21255]
type = S
movetype = A
physics = N
anim = 21255
ctrl = 0
sprpriority = 5
velset = 12,6
hitcountpersist = 1

[State 21255]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21255]
type = AngleDraw
trigger1 = 1
value = -25

[State 21255]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21255]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21255]
type = HitOverride
trigger1 = 1
stateno = 21255
attr = SCA,AP
slot = 0
time = -1


[State 21255]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255



[State 21255]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21255]
type = ChangeAnim
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
value = 21256
ignorehitpause = 1

[State 21255]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
y = -6
ignorehitpause = 1

[State 21255]
type = VelSet
trigger1 = ParentDist X > -120+Vel X
trigger1 = Vel X < 0
x = 0
y = 0

[State 21255]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MAFD
pausetime = 0,5
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
ground.velocity = -4,-8
down.velocity = -6,-7
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3

[State 1050, EnvShake]
type = EnvShake
trigger1 = Pos Y >= 0
time = 11
freq = 65
ampl = 3



[State 21255]
type = DestroySelf
trigger1 = Parent,Stateno != var(2)
trigger2 = Parent,AnimElem = 8, = 4



;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21260]
type = S
movetype = I
physics = N
anim = 21260
ctrl = 0
sprpriority = 3
velset = 0,0


[State 21260]
type = AngleDraw
trigger1 = 1
value = 25

[State 21260]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21260]
type = ChangeAnim
trigger1 = Parent,AnimElem = 7
value = 21261
persistent = 0

[State 21260]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21261
trigger2 = Parent,Stateno != var(2)


[State 21260]
type = BindToParent
trigger1 = 1
pos = 110,-140


;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21262]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0


[State 21262]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21262]
type = AngleDraw
trigger1 = 1
value = 27

[State 21262]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21262]
type = DestroySelf
trigger1 = NumHelper(21265)
trigger1 = Helper(21265),Vel X < 0
trigger1 = Helper(21265),ParentDist X > ParentDist X
;trigger1 = abs(Helper(21265),Pos Y) < abs(Pos Y)
trigger2 = Parent,AnimElemNo(0) >= 7
trigger3 = Parent,Stateno != var(2)
trigger4 = NumHelper(21265) = 0

[State 21262]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95

;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21265]
type = S
movetype = A
physics = N
anim = 21265
ctrl = 0
sprpriority = 5
velset = 12,-6
hitcountpersist = 1

[State 21265]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21265]
type = AngleDraw
trigger1 = 1
value = 25

[State 21265]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21265]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21265]
type = HitOverride
trigger1 = 1
stateno = 21265
attr = SCA,AP
slot = 0
time = -1


[State 21265]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255



[State 21265]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21265]
type = ChangeAnim
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
value = 21266
ignorehitpause = 1

[State 21265]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
y = 6
ignorehitpause = 1

[State 21265]
type = VelSet
trigger1 = ParentDist X > -100+Vel X
trigger1 = Vel X < 0
x = 0
y = 0

[State 21265]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
ground.velocity = -4,-8
down.velocity = -6,-7
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3

[State 1050, EnvShake]
type = EnvShake
trigger1 = enemynear,backedgedist = 0
time = 11
freq = 65
ampl = 3



[State 21265]
type = DestroySelf
trigger1 = Parent,Stateno != var(2)
trigger2 = Parent,AnimElem = 8, = 4



;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21270]
type = S
movetype = I
physics = N
anim = 21270
ctrl = 0
sprpriority = 3
velset = 0,0


[State 21270]
type = null;AngleDraw
trigger1 = 1
value = -25

[State 21270]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21270]
type = ChangeAnim
trigger1 = Parent,var(1) = 1
value = 21271
persistent = 0


[State 21270]
type = ParentVarSet
trigger1 = Anim = 21271 && AnimElem = 4
var(1) = 2
persistent = 0

[State 21270]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21271
trigger2 = Parent,Stateno != var(2)


[State 21270]
type = BindToParent
trigger1 = 1
pos = 90,-105

;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21272]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0

[State 1100, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x / 86
y = vel y / 86

[State 1100, VelAdd]
type = VelAdd
trigger1 = time = 0
y = .29

[State 1100, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = pos y > -20
y = -20


[State 21272]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21272]
type = null;AngleDraw
trigger1 = 1
value = -25

[State 21272]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21272]
type = DestroySelf
trigger1 = NumHelper(21275)
trigger1 = Helper(21275),Vel X < 0
trigger1 = Helper(21275),ParentDist X > ParentDist X
trigger2 = Parent,var(1) = 1
trigger3 = Parent,Anim != var(2)
trigger4 = NumHelper(21275) = 0

[State 21272]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95



;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21275]
type = S
movetype = A
physics = N
anim = 21275
ctrl = 0
sprpriority = 5
velset = 12,0
hitcountpersist = 1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 21275]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21275]
type = null;AngleDraw
trigger1 = 1
value = -25

[State 21275]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21275]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21275]
type = HitOverride
trigger1 = 1
stateno = 21275
attr = SCA,AP
slot = 0
time = -1


[State 21275]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255


[State 21275]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21275]
type = ChangeAnim
trigger1 = Time = 24
trigger2 = MoveContact
value = 21276
ignorehitpause = 1

[State 21275]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
ignorehitpause = 1

[State 21275]
type = VelSet
trigger1 = ParentDist X > -87+Vel X
trigger1 = Vel X < 0
x = 0


[State 21275]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 21285]
type = HitDef
attr = A, SP
triggerall = !var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 21285]
type = HitDef
attr = A, SP
triggerall = var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -13,7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3


[State 21275]
type = DestroySelf
trigger1 = Parent,anim != var(2)
trigger2 = Parent,var(1) = 2


;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21280]
type = S
movetype = I
physics = N
anim = 21280
ctrl = 0
sprpriority = 3
velset = 0,0


[State 21280]
type = AngleDraw
trigger1 = 1
value = -25

[State 21280]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21280]
type = ChangeAnim
trigger1 = Parent,var(1) = 1
value = 21281
persistent = 0


[State 21280]
type = ParentVarSet
trigger1 = Anim = 21281 && AnimElem = 4
var(1) = 2
persistent = 0

[State 21280]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21281
trigger2 = Parent,Stateno != var(2)


[State 21280]
type = BindToParent
trigger1 = 1
pos = 90,-90

;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21282]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0

[State 1100, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x / 86
y = vel y / 86

[State 1100, VelAdd]
type = VelAdd
trigger1 = time = 0
y = .29

[State 1100, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = pos y > -20
y = -20


[State 21282]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21282]
type = AngleDraw
trigger1 = 1
value = -27

[State 21282]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21282]
type = DestroySelf
trigger1 = NumHelper(21285)
trigger1 = Helper(21285),Vel X < 0
trigger1 = Helper(21285),ParentDist X > ParentDist X
trigger2 = Parent,var(1) = 1
trigger3 = Parent,Anim != var(2)
trigger4 = NumHelper(21285) = 0

[State 21282]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95



;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21285]
type = S
movetype = A
physics = N
anim = 21285
ctrl = 0
sprpriority = 5
velset = 12,6
hitcountpersist = 1

[State 21285]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21285]
type = AngleDraw
trigger1 = 1
value = -25

[State 21285]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21285]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21285]
type = HitOverride
trigger1 = 1
stateno = 21285
attr = SCA,AP
slot = 0
time = -1


[State 21285]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255


[State 21285]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21285]
type = ChangeAnim
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
value = 21286
ignorehitpause = 1

[State 21285]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
y = -6
ignorehitpause = 1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 21285]
type = VelSet
trigger1 = ParentDist X > -85+Vel X
trigger1 = Vel X < 0
x = 0
y = 0

[State 21285]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 21285]
type = HitDef
attr = A, SP
triggerall = !var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 21285]
type = HitDef
attr = A, SP
triggerall = var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -13,7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3


[State 21285]
type = DestroySelf
trigger1 = Parent,anim != var(2)
trigger2 = Parent,var(1) = 2


;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21290]
type = S
movetype = I
physics = N
anim = 21290
ctrl = 0
sprpriority = 3
velset = 0,0


[State 21290]
type = AngleDraw
trigger1 = 1
value = 25

[State 21290]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21290]
type = ChangeAnim
trigger1 = Parent,var(1) = 1
value = 21291
persistent = 0


[State 21290]
type = ParentVarSet
trigger1 = Anim = 21291 && AnimElem = 4
var(1) = 2
persistent = 0

[State 21290]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21291
trigger2 = Parent,Stateno != var(2)


[State 21290]
type = BindToParent
trigger1 = 1
pos = 90,-150

;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21292]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0

[State 1100, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x / 86
y = vel y / 86

[State 1100, VelAdd]
type = VelAdd
trigger1 = time = 0
y = .29

[State 1100, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = pos y > -20
y = -20


[State 21292]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21292]
type = AngleDraw
trigger1 = 1
value = 27

[State 21292]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21292]
type = DestroySelf
trigger1 = NumHelper(21295)
trigger1 = Helper(21295),Vel X < 0
trigger1 = Helper(21295),ParentDist X > ParentDist X
trigger2 = Parent,var(1) = 1
trigger3 = Parent,Anim != var(2)
trigger4 = NumHelper(21295) = 0

[State 21292]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95



;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21295]
type = S
movetype = A
physics = N
anim = 21295
ctrl = 0
sprpriority = 5
velset = 12,-6
hitcountpersist = 1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 21295]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21295]
type = AngleDraw
trigger1 = 1
value = 25

[State 21295]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21295]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21295]
type = HitOverride
trigger1 = 1
stateno = 21295
attr = SCA,AP
slot = 0
time = -1


[State 21295]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255


[State 21295]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21295]
type = ChangeAnim
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
value = 21296
ignorehitpause = 1

[State 21295]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
y = 6
ignorehitpause = 1

[State 21295]
type = VelSet
trigger1 = ParentDist X > -85+Vel X
trigger1 = Vel X < 0
x = 0
y = 0

[State 21295]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 21285]
type = HitDef
attr = A, SP
triggerall = !var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 21285]
type = HitDef
attr = A, SP
triggerall = var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -13,7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3



[State 21295]
type = DestroySelf
trigger1 = Parent,anim != var(2)
trigger2 = Parent,var(1) = 2



;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21271]
type = S
movetype = I
physics = N
anim = 21272
ctrl = 0
sprpriority = 3
velset = 0,0


[State 21270]
type = null;AngleDraw
trigger1 = 1
value = -25

[State 21270]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21270]
type = ChangeAnim
trigger1 = Parent,var(1) = 1
value = 21273
persistent = 0


[State 21270]
type = ParentVarSet
trigger1 = Anim = 21273 && AnimElem = 4
var(1) = 2
persistent = 0

[State 21270]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21273
trigger2 = Parent,Stateno != var(2)


[State 21270]
type = BindToParent
trigger1 = 1
pos = 90,-105

;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21273]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0

[State 21272]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21272]
type = null;AngleDraw
trigger1 = 1
value = -25

[State 21272]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21272]
type = DestroySelf
trigger1 = NumHelper(21276)
trigger1 = Helper(21276),Vel X < 0
trigger1 = Helper(21276),ParentDist X > ParentDist X
trigger2 = Parent,var(1) = 1
trigger3 = Parent,Anim != var(2)
trigger4 = NumHelper(21276) = 0

[State 21272]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95


;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21276]
type = S
movetype = A
physics = N
anim = 21277
ctrl = 0
sprpriority = 5
velset = 12,0
hitcountpersist = 1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 21275]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21275]
type = null;AngleDraw
trigger1 = 1
value = -25

[State 21275]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21275]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21275]
type = HitOverride
trigger1 = 1
stateno = 21276
attr = SCA,AP
slot = 0
time = -1


[State 21275]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255


[State 21275]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21275]
type = ChangeAnim
trigger1 = Time = 24
trigger2 = MoveContact
value = 21278
ignorehitpause = 1

[State 21275]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
ignorehitpause = 1

[State 21275]
type = VelSet
trigger1 = ParentDist X > -87+Vel X
trigger1 = Vel X < 0
x = 0


[State 21275]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 21285]
type = HitDef
attr = A, SP
triggerall = !var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 21285]
type = HitDef
attr = A, SP
triggerall = var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -13,7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3


[State 21275]
type = DestroySelf
trigger1 = Parent,anim != var(2)
trigger2 = Parent,var(1) = 2


;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21281]
type = S
movetype = I
physics = N
anim = 21282
ctrl = 0
sprpriority = 3
velset = 0,0


[State 21280]
type = AngleDraw
trigger1 = 1
value = -25

[State 21280]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21280]
type = ChangeAnim
trigger1 = Parent,var(1) = 1
value = 21283
persistent = 0


[State 21280]
type = ParentVarSet
trigger1 = Anim = 21283 && AnimElem = 4
var(1) = 2
persistent = 0

[State 21280]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21283
trigger2 = Parent,Stateno != var(2)


[State 21280]
type = BindToParent
trigger1 = 1
pos = 90,-90

;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21283]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0

[State 21282]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21282]
type = AngleDraw
trigger1 = 1
value = -27

[State 21282]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21282]
type = DestroySelf
trigger1 = NumHelper(21286)
trigger1 = Helper(21286),Vel X < 0
trigger1 = Helper(21286),ParentDist X > ParentDist X
trigger2 = Parent,var(1) = 1
trigger3 = Parent,Anim != var(2)
trigger4 = NumHelper(21286) = 0

[State 21282]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95



;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21286]
type = S
movetype = A
physics = N
anim = 21287
ctrl = 0
sprpriority = 5
velset = 12,6
hitcountpersist = 1

[State 21285]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21285]
type = AngleDraw
trigger1 = 1
value = -25

[State 21285]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21285]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21285]
type = HitOverride
trigger1 = 1
stateno = 21286
attr = SCA,AP
slot = 0
time = -1


[State 21285]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255


[State 21285]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21285]
type = ChangeAnim
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
value = 21288
ignorehitpause = 1

[State 21285]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
y = -6
ignorehitpause = 1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 21285]
type = VelSet
trigger1 = ParentDist X > -85+Vel X
trigger1 = Vel X < 0
x = 0
y = 0

[State 21285]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 21285]
type = HitDef
attr = A, SP
triggerall = !var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 21285]
type = HitDef
attr = A, SP
triggerall = var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -13,7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3

[State 21285]
type = DestroySelf
trigger1 = Parent,anim != var(2)
trigger2 = Parent,var(1) = 2


;------------------------------------------------------------------------------------------------------------
;Rocket Punch Helper Start
[Statedef 21291]
type = S
movetype = I
physics = N
anim = 21292
ctrl = 0
sprpriority = 3
velset = 0,0


[State 21290]
type = AngleDraw
trigger1 = 1
value = 25

[State 21290]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Stateno

[State 21290]
type = ChangeAnim
trigger1 = Parent,var(1) = 1
value = 21293
persistent = 0


[State 21290]
type = ParentVarSet
trigger1 = Anim = 21293 && AnimElem = 4
var(1) = 2
persistent = 0

[State 21290]
type = DestroySelf
trigger1 = AnimTime = 0 && Anim = 21293
trigger2 = Parent,Stateno != var(2)


[State 21290]
type = BindToParent
trigger1 = 1
pos = 90,-150

;------------------------------------------------------------------------------------------------------------
;Rocket Cable Helper
[Statedef 21293]
type = S
movetype = I
physics = N
anim = 21242
ctrl = 0
sprpriority = 4
velset = 0,0

[State 21292]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21292]
type = AngleDraw
trigger1 = 1
value = 27

[State 21292]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21292]
type = DestroySelf
trigger1 = NumHelper(21296)
trigger1 = Helper(21296),Vel X < 0
trigger1 = Helper(21296),ParentDist X > ParentDist X
trigger2 = Parent,var(1) = 1
trigger3 = Parent,Anim != var(2)
trigger4 = NumHelper(21296) = 0

[State 21292]
type = null;BindToParent
trigger1 = 1
pos = 122+parent,pos x-fvar(3)+9,-95



;------------------------------------------------------------------------------------------------------------
;Rocket Punch Arm Helper Start
[Statedef 21296]
type = S
movetype = A
physics = N
anim = 21297
ctrl = 0
sprpriority = 5
velset = 12,-6
hitcountpersist = 1

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(13)
trigger1 = var(28) > 1 && var(50) > 0
var(13) = 1

[State 21295]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21295]
type = AngleDraw
trigger1 = 1
value = 25

[State 21295]
type = VarSet
trigger1 = Time = 0
var(2) = Parent,Anim

[State 21295]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21295]
type = HitOverride
trigger1 = 1
stateno = 21296
attr = SCA,AP
slot = 0
time = -1

[State 21295]
type = PlaySnd
trigger1 = Time = 1
value = 100,5
volume = 255
volumescale = 255

[State 21295]
type = PosFreeze
trigger1 = Time = [20,23]
trigger1 = Vel X > 0

[State 21295]
type = ChangeAnim
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
value = 21298
ignorehitpause = 1

[State 21295]
type = VelSet
trigger1 = FrontEdgeDist < 5
trigger2 = MoveContact
trigger3 = Time = 24
x = -12
y = 6
ignorehitpause = 1

[State 21295]
type = VelSet
trigger1 = ParentDist X > -85+Vel X
trigger1 = Vel X < 0
x = 0
y = 0

[State 21295]
type = ParentVarSet
trigger1 = Vel X = 0
var(1) = 1
persistent = 0

[State 21285]
type = HitDef
attr = A, SP
triggerall = !var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -4,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 21285]
type = HitDef
attr = A, SP
triggerall = var(13)
trigger1 = time = 0
damage = 170,19 
animtype = BACK
priority  = 5, Hit
guardflag = MA
hitflag = MAD
pausetime = 0,1
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = s8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
air.hittime = 15
down.velocity = -6,-7
ground.velocity = -4,-8
yaccel = 0.63
air.velocity = -13,7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State 1050, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 11
freq = 65
ampl = 3

[State 21295]
type = DestroySelf
trigger1 = Parent,anim != var(2)
trigger2 = Parent,var(1) = 2


;------------------------------------------------------------------------------------------------------------
;Mini Sentinel Helper
[Statedef 21300]
type = S
movetype = A
physics = N
anim = 21300
ctrl = 0
sprpriority = 3
velset = 6,2

[State 21300]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 10, Sentinel - PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 50,0
volume = 180
volumescale = 180
channel = 1

[State 21300]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21300]
type = HitOverride
trigger1 = 1
stateno = 21300
attr = SCA,AP
slot = 0
time = -1

[State 21300]
type = VelSet
trigger1 = MoveContact
x = 1
y = -7
ignorehitpause = 1

[State 21300]
type = VelAdd
trigger1 = Parent,command = "holdup"
trigger2 = Root,var(59)
trigger2 = enemynear,pos y < pos y
y = -0.1


[State 21300]
type = VelAdd
trigger1 = Parent,command = "holddown"
trigger2 = Root,var(59)
trigger2 = enemynear,pos y > pos y
y = 0.1



[State 21300]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 50,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S5,2
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -15
air.hittime = 6
air.velocity = -9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
yaccel = 0.79
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
sprpriority = 3
persistent = 0
id = 2+4


[State 21300]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = ScreenPos Y < -100
trigger3 = Time = 120

;------------------------------------------------------------------------------------------------------------
;Mini Sentinel Helper
[Statedef 21301]
type = S
movetype = A
physics = N
anim = 21300
ctrl = 0
sprpriority = 4
velset = 6,2

[State 21300]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21300]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21300]
type = HitOverride
trigger1 = 1
stateno = 21300
attr = SCA,AP
slot = 0
time = -1

[State 21300]
type = VelSet
trigger1 = MoveContact
x = 1
y = -7
ignorehitpause = 1

[State 21300]
type = VelAdd
trigger1 = Parent,command = "holdup"
trigger2 = Root,var(59)
trigger2 = enemynear,pos y < pos y
y = -0.1


[State 21300]
type = VelAdd
trigger1 = Parent,command = "holddown"
trigger2 = Root,var(59)
trigger2 = enemynear,pos y > pos y
y = 0.1



[State 21300]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 50,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S5,2
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -15
air.hittime = 6
air.velocity = -9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
yaccel = 0.79
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
sprpriority = 3
persistent = 0
id = 2+4


[State 21300]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = ScreenPos Y < -100
trigger3 = Time = 120
;------------------------------------------------------------------------------------------------------------
;Mini Sentinel Helper
[Statedef 21302]
type = S
movetype = A
physics = N
anim = 21300
ctrl = 0
sprpriority = 5
velset = 6,2

[State 21300]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21300]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21300]
type = HitOverride
trigger1 = 1
stateno = 21300
attr = SCA,AP
slot = 0
time = -1

[State 21300]
type = VelSet
trigger1 = MoveContact
x = 1
y = -7
ignorehitpause = 1

[State 21300]
type = VelAdd
trigger1 = Parent,command = "holdup"
trigger2 = Root,var(59)
trigger2 = enemynear,pos y < pos y
y = -0.1


[State 21300]
type = VelAdd
trigger1 = Parent,command = "holddown"
trigger2 = Root,var(59)
trigger2 = enemynear,pos y > pos y
y = 0.1



[State 21300]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 50,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S5,2
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -15
air.hittime = 6
air.velocity = -9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
yaccel = 0.79
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
sprpriority = 3
persistent = 0
id = 2+4


[State 21300]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = ScreenPos Y < -100
trigger3 = Time = 120

;------------------------------------------------------------------------------------------------------------
;Mini Sentinel Helper 3
[Statedef 21320]
type = S
movetype = A
physics = N
anim = 21300
ctrl = 0
sprpriority = 3
velset = 3

[State 21320]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21320]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 10, Sentinel - PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 50,0
volume = 180
volumescale = 180
channel = 1

[State 21320]
type = HitOverride
trigger1 = 1
stateno = 21320
attr = SCA,AP
slot = 0
time = -1

[State 21320]
type = VelSet
trigger1 = var(1) > 33
x = 1
y = -7
ignorehitpause = 1
persistent = 0


[State 21320]
type = ChangeAnim
trigger1 = var(1) > 33
value = 21302
persistent = 0

[State 21320]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 21320]
type = VarSet
trigger1 = Time = 0
var(2) = 0


[State 21320]
type = VarSet
trigger1 = Parent,command = "holdc"
trigger1 = FrontEdgeDist < 200
trigger2 = Root,var(59)
trigger2 = enemynear,screenpos x > 230
var(2) = 100
persistent = 0

[State 21320]
type = ChangeAnim
trigger1 = FrontEdgeDist < 200-var(2)
value = 21301
persistent = 0


[State 21320]
type = PlaySnd
trigger1 = anim = 21301
value = 181,1
volume = 255
volumescale = 255
persistent = 0
channel = 1

[State 21320]
type = VarAdd
trigger1 = FrontEdgeDist < 200-var(2)
var(1) = 1

[State 21320]
type = Helper
trigger1 = var(1) < 33
trigger1 = var(1)%10 = 0
trigger1 = FrontEdgeDist < 200-var(2)
stateno = 21321
ownpal = 1


[State 21320]
type = null;HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 4*(Root,var(30)),floor(Root,var(30)/2)
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S1,2
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -9
air.velocity = -9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 3
persistent = 0


[State 21320]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = ScreenPos Y < -100
trigger3 = Time = 240

;------------------------------------------------------------------------------------------------------------
;Mini Sentinel Helper 3
[Statedef 21323]
type = S
movetype = A
physics = N
anim = 21300
ctrl = 0
sprpriority = 4
velset = 3

[State 21320]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21320]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21320]
type = HitOverride
trigger1 = 1
stateno = 21320
attr = SCA,AP
slot = 0
time = -1

[State 21320]
type = VelSet
trigger1 = var(1) > 33
x = 1
y = -7
ignorehitpause = 1
persistent = 0


[State 21320]
type = ChangeAnim
trigger1 = var(1) > 33
value = 21302
persistent = 0

[State 21320]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 21320]
type = VarSet
trigger1 = Time = 0
var(2) = 0


[State 21320]
type = VarSet
trigger1 = Parent,command = "holdc"
trigger1 = FrontEdgeDist < 200
trigger2 = Root,var(59)
trigger2 = enemynear,screenpos x > 230
var(2) = 100
persistent = 0

[State 21320]
type = ChangeAnim
trigger1 = FrontEdgeDist < 200-var(2)
value = 21301
persistent = 0


[State 21320]
type = PlaySnd
trigger1 = anim = 21301
value = 181,1
volume = 255
volumescale = 255
persistent = 0
channel = 1

[State 21320]
type = VarAdd
trigger1 = FrontEdgeDist < 200-var(2)
var(1) = 1

[State 21320]
type = Helper
trigger1 = var(1) < 33
trigger1 = var(1)%10 = 0
trigger1 = FrontEdgeDist < 200-var(2)
stateno = 21321
ownpal = 1


[State 21320]
type = null;HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 4*(Root,var(30)),floor(Root,var(30)/2)
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S1,2
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -9
air.velocity = -9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 3
persistent = 0


[State 21320]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = ScreenPos Y < -100
trigger3 = Time = 240

;------------------------------------------------------------------------------------------------------------
;Mini Sentinel Helper 3
[Statedef 21324]
type = S
movetype = A
physics = N
anim = 21300
ctrl = 0
sprpriority = 5
velset = 3

[State 21320]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 21320]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21320]
type = HitOverride
trigger1 = 1
stateno = 21320
attr = SCA,AP
slot = 0
time = -1

[State 21320]
type = VelSet
trigger1 = var(1) > 33
x = 1
y = -7
ignorehitpause = 1
persistent = 0


[State 21320]
type = ChangeAnim
trigger1 = var(1) > 33
value = 21302
persistent = 0

[State 21320]
type = VarSet
trigger1 = Time = 0
var(1) = 0


[State 21320]
type = VarSet
trigger1 = Time = 0
var(2) = 0


[State 21320]
type = VarSet
trigger1 = Parent,command = "holdc"
trigger1 = FrontEdgeDist < 200
trigger2 = Root,var(59)
trigger2 = enemynear,screenpos x > 230
var(2) = 100
persistent = 0

[State 21320]
type = ChangeAnim
trigger1 = FrontEdgeDist < 200-var(2)
value = 21301
persistent = 0


[State 21320]
type = PlaySnd
trigger1 = anim = 21301
value = 181,1
volume = 255
volumescale = 255
persistent = 0
channel = 1

[State 21320]
type = VarAdd
trigger1 = FrontEdgeDist < 200-var(2)
var(1) = 1

[State 21320]
type = Helper
trigger1 = var(1) < 33
trigger1 = var(1)%10 = 0
trigger1 = FrontEdgeDist < 200-var(2)
stateno = 21321
ownpal = 1


[State 21320]
type = null;HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 4*(Root,var(30)),floor(Root,var(30)/2)
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S1,2
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -9
air.velocity = -9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 3
persistent = 0


[State 21320]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = ScreenPos Y < -100
trigger3 = Time = 240

;------------------------------------------------------------------------------------------------------------
;Grenade Helper Start
[Statedef 21321]
type = A
movetype = A
physics = N
anim = 20320
ctrl = 0
sprpriority = 3
velset = 0,0

[State 21322]
type = HitDef
attr = C, NP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 30,9
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 1,9
sparkxy = -10,0
hitsound   = S5,6
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -15
air.velocity = -7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = ifelse(MoveHit,20,7),ifelse(MoveHit,20,0)
sprpriority = 2
id = 2+4


[State 21321]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.35

[State 21321]
type = ChangeState
trigger1 = MoveContact
trigger2 = Pos Y >= 0
trigger2 = Vel Y > 0
value = 21322



;------------------------------------------------------------------------------------------------------------
;Grenade Helper End
[Statedef 21322]
type = S
movetype = A
physics = N
anim = 8080
ctrl = 0
sprpriority = 3
velset = 0,0
hitcountpersist = 1

[State 21322]
type = PlaySnd
trigger1 = Time = 0
value = 8,2
volume = 200
volumescale = 200


[State 21322]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Bomb Helper
[Statedef 21505]
type = A
movetype = A
physics = N
anim = 21505
ctrl = 0
sprpriority = 4
velset = 0,1


[State 21505]
type = VelAdd
trigger1 = 1
y = 0.3

[State 21505]
type = null;HitBy
trigger1 = 1
value = SCA,AP

[State 21505]
type = null;HitOverride
trigger1 = 1
stateno = 21486
attr = SCA,AP
slot = 0
time = -1


[State 21505]
type = HitDef
attr = A, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 30,9
animtype = Large
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-40
hitsound   = S8,0
guardsound = S4,0
sparkno = S7419;(8220+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = -8,-4
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
palfx.time = 1
palfx.add = 256,256,256


[State 21505]
type = ChangeState
trigger1 = MoveContact
value = 21506
ignorehitpause = 1

[State 21505]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 21507


;------------------------------------------------------------------------------------------------------------
;Bomb Explod Helper in Air
[Statedef 21506]
type = A
movetype = A
physics = N
anim = 21506
ctrl = 0
sprpriority = 4
velset = 0,0

[State 21506]
type = PlaySnd
trigger1 = Time = 1
value = 32720


[State 21506]
type = null;HitBy
trigger1 = 1
value = SCA,AP

[State 21506]
type = null;HitOverride
trigger1 = 1
stateno = 21486
attr = SCA,AP
slot = 0
time = -1


[State 21506]
type = HitDef
attr = A, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 30,9
animtype = Large
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-40
hitsound   = S8,0
guardsound = S4,0
sparkno = S7419;(8220+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = -8,-4
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
palfx.time = 1
palfx.add = 256,256,256



[State 21506]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Bomb Explod Helper on Ground
[Statedef 21507]
type = A
movetype = A
physics = N
anim = 21507
ctrl = 0
sprpriority = 4
velset = 0,0

[State 21507]
type = PlaySnd
trigger1 = Time = 1
value = 32720


[State 21507]
type = null;HitBy
trigger1 = 1
value = SCA,AP

[State 21507]
type = null;HitOverride
trigger1 = 1
stateno = 21486
attr = SCA,AP
slot = 0
time = -1


[State 21507]
type = HitDef
attr = A, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 30,9
animtype = Large
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-40
hitsound   = S8,0
guardsound = S4,0
sparkno = S7419;(8220+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = -8,-4
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
palfx.time = 1
palfx.add = 256,256,256



[State 21507]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Plasma Storm
[Statedef 23000]
type = S
movetype = I
physics = N
anim = 23060
ctrl = 0
sprpriority = 4
velset = 0,0

[State 23000]
type = Changestate
trigger1 = Parent,AnimElem = 2
trigger2 = Parent,Stateno != 3001
value = 23001

[State 23000]
type = BindToParent
trigger1 = 1
pos = 119,-127


;------------------------------------------------------------------------------------------------------------
;Plasma Storm
[Statedef 23001]
type = S
movetype = I
physics = N
anim = 23062
ctrl = 0
sprpriority = 4
velset = 0,0

[State 23000]
type = DestroySelf
trigger1 = Parent,AnimElem = 3
trigger2 = Parent,Stateno != 3001


[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 3000,2
volume = 255
volumescale = 255
channel = 1

[State 23000]
type = BindToParent
trigger1 = 1
pos = 119,-127

;------------------------------------------------------------------------------------------------------------
;Hyper Mini Sentinel Helper
[Statedef 23020]
type = A
movetype = A
physics = N
anim = 21300
ctrl = 0
sprpriority = 3
velset = 16

[State 23020]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23020]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 23020]
type = HitOverride
trigger1 = 1
stateno = 23020
attr = SCA,AP
slot = 0
time = -1

[State 23020]
type = HitDef
attr = A, HP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 50,9
animtype = Hard
priority  = 5, Hit
guardflag = MA
pausetime = 0,9
sparkxy = -10,-10
hitsound   = S5,3
guardsound = S6,0
sparkno = S8002
guard.sparkno = S8050
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -3,-6
air.hittime = 5
air.velocity = -3,-6
yaccel = 0.79
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
getpower = ifelse(MoveHit,40,14),ifelse(MoveHit,40,0)
sprpriority = 3
persistent = 0


[State 23020]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = ScreenPos Y < -100
trigger3 = Time = 120


;------------------------------------------------------------------------------------------------------------
;Hard Drive Storm
[Statedef 23040]
type = S
movetype = I
physics = N
anim = 23040
ctrl = 0
sprpriority = 4
velset = 0,0

[State 23040]
type = DestroySelf
trigger1 = Parent,animelem = 18
trigger2 = Parent,Stateno != 3041


[State 23040]
type = BindToParent
trigger1 = 1
pos = -20,-117
ignorehitpause = 1

;------------------------------------------------------------------------------------------------------------
;Hard Drive Storm
[Statedef 23041]
type = S
movetype = I
physics = N
anim = 23041
ctrl = 0
sprpriority = 4
velset = 0,0

[State 23040]
type = DestroySelf
trigger1 = Parent,animelem = 18
trigger2 = Parent,Stateno != 3051


[State 23040]
type = BindToParent
trigger1 = 1
pos = -20,-117
ignorehitpause = 1


;---------------------------------------------------------------------------
;Falling

[Statedef 1211]
type    = A
movetype= I
physics = A
anim = 45
sprpriority = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y= - 0.28

[State 1211, Ctrl]
type = CtrlSet
trigger1 = prevstateno = 4100
value = 1

[State 1211, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 0
value = 1

[State 1211, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 1
value = 1

[State 112, 3]
type = VelAdd
trigger1 = command = "holdfwd"
trigger1 = Vel X < 3.5
x = .2

[State 112, 4]
type = VelAdd
trigger1 = command = "holdback"
trigger1 = Vel X > -3.5
x = -.1

[State 1211, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 1211, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 45

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 45

[State 1211, ChangeState]
type = ChangeState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 52



;----------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 2
;ctrl = 1


[State 100]
type = ChangeAnim
trigger1 = Time = 0
value = 100
elem = 6

[State 100]
type = PlaySnd
trigger1 = time = 0
value = 50,0
volume = 230
volumescale = 230
channel = 1

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3,1

[State 100, 6]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -20,ceil(const(size.head.pos.y)/2)
scale = 0.5, 0.5

[State 100, 1]
type = VelSet
trigger1 = AnimElem = 6, >= 0
x = 9


[State 100, 1]
type = null;VelMul
trigger1 = AnimElem = 8,> 0
x = 0.92

[State 100, 1]
type = null;VelSet
trigger1 = Time = 0
x = const(velocity.run.fwd.x)
y = const(velocity.run.fwd.y)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 2]
type = null;CtrlSet
trigger1 = Time = 4
value = 1

[State 100, 3]
type = null;ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

[State 100, 4]
type = ChangeState
trigger1 = Time = 16
value = 101
ctrl = 1

[State 100, 4]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

; RUN_Forward Stop
[Statedef 101]
type    = S
physics = N
ctrl = 1
anim = 101
sprpriority = 1
velset = 0,0

[State 101] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 101, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; RUN_BACK
[Statedef 105]
type    = S
physics = S
ctrl = 1
anim = 105
sprpriority = 2

[State 100]
type = ChangeAnim
trigger1 = Time = 0
value = 105
elem = 4

[State 105]
type = PlaySnd
trigger1 = time = 0
value = 50,0
volume = 230
volumescale = 230
channel = 1

[State 105, 1]
type = null;VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)


[State 105, 1]
type = VelSet
trigger1 = AnimElem = 4, >= 0
x = -10


[State 105, 1]
type = null;VelMul
trigger1 = AnimElem = 5,> 0
x = 0.92

[State 105, 1]
type = null;VelSet
trigger1 = Time = 0
x = const(velocity.run.fwd.x)
y = const(velocity.run.fwd.y)

[State 105, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 105, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 105, 2]
type = null;CtrlSet
trigger1 = Time = 4
value = 1

[State 105, 3]
type = null;ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52


[State 105, 3]
type = ChangeState
trigger1 = Time = 16
value = 106
ctrl = 1

;---------------------------------------------------------------------------
; RUN_BACK2 (land)
[Statedef 106]
type    = S
physics = S
ctrl = 1
anim = 106
velset = 0,0

[State 106] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk


[State 106, 4]
type = ChangeState
trigger1 = AnimTime = 0;Time = 7
value = 0
ctrl = 1


;---------------------------------------------------------------------------


; RUN_Back Stop
[Statedef 107]
type    = S
physics = N
ctrl = 0
anim = 106
sprpriority = 1

[State 107] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 106, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 101, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0; 106
ctrl = 1

; HIT_FALLRECOVER (on the ground) 
[Statedef 5201]
type    = C
movetype= H
physics = N
anim = ifelse(prevstateno=5200,5200,5201)
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(anim=5200,8,-4)
y = 0

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

; Like in vs Series, you always start with 1 power stock...
[State 190, PowerAdd]
type = PowerSet
triggerall = Roundno = 1
trigger1 = time = 0
value = 1000

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 191

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
triggerall  = roundsexisted
trigger1 = roundno != 1
value = 21

; nGtFNg 
[Statedef 8200]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
pos = 16,0
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,0
vel = -4,0
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0

; X[p[R{o(wp[) 
	
[Statedef 8500] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
volume = 200
volumescale = 200
value = 1,0

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(14) = 1 && !numexplod(8505)
anim = 8505
id = 8505
postype = left
bindtime = -1
removetime = -1
scale = .5,.5*fvar(1)
sprpriority = -3
ownpal = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(8505)
ID = 8505
scale = .5,.5*fvar(1)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = ifelse(screenpos y-212<0,0,screenpos y-212)

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = 1+(fvar(0)/512)

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(14) = 0 || root,var(14) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,WinKo
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(14) = 0
trigger2 = root,movetype = H


 
[Statedef 8510] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,17

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,16

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay

[State 8510, Explod]
type = Explod
trigger1 = time = 0
anim = 8510
id = 8510
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1

[State 8510, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(8510)
  
	 
; ^[QbgJo[ 
[Statedef 9900]
type = A
movetype = H
physics = N

[State 9900, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5040,5050)
 
; ^[Qbg_EA 
[Statedef 9901]
type = A
movetype = H
physics = N

[State 9901, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5201,5050)
 
; ^[QbgoEh 
[Statedef 9910]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5040

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -6

[State 9910, PosSet]
type = PosSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -5

[State 1300, 6]
type = PalFX
triggerall = name = "Dhalsim"
trigger1 = animelem = 1
time = 18
sinadd =  255,255,255,43
ignorehitpause = 0

[State 5100, 10]
type = PlaySnd
triggerall = name = "Dhalsim"
trigger1 = Time = 1
value = S3,0

[State 9910, VelSet]
type = VelSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -4
x = 0

[State 9910, VelAdd]
type = VelAdd
triggerall = name = "Dhalsim"
trigger1 = time = 1
y = 0

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52

;---------------------------------------------------------------------------
;---------------------------------------------------
; Super Armor State
[Statedef 9000]
type = U
movetype = H

[State 9000, PlaySnd]
type = PlaySnd
trigger1 = !(GetHitVar(animtype)) 
value = 12, 0
channel = 0
persistent = 0
volume = 170
volumescale = 170

[State 9000, PlaySnd]
type = PlaySnd
trigger1 = (GetHitVar(animtype)) = 1
value = 12, 1
channel = 0
persistent = 0
volume = 140
volumescale = 140

[State 9000, PlaySnd]
type = PlaySnd
trigger1 = (GetHitVar(animtype)) = 2
value = 12, 2
channel = 0
persistent = 0
volume = 140
volumescale = 140

[State 9000, PlaySnd]
type = PlaySnd
trigger1 = (GetHitVar(animtype)) >= 3
value = 12, 3
channel = 0
persistent = 0
volume = 140
volumescale = 140

[State 9000, a]
type = VarSet
trigger1 = time = 0
v = 26
value = 1

[State 9000, 1]
type = OffSet
trigger1 = time%4 = 0
x=3
y=0

[State 9000, 1]
type = OffSet
trigger1 = time%4 = 2
x=-3
y=0

[State 9000, End]
type = posadd
trigger1 = (time >= 9) && (Life > 0)
x =-(23-time)

[State 9000, b]
type = VarSet
trigger1 = time <= 0
v = 27
value = AnimElemNo(0)
ignorehitpause = 1

[State 9000, 1]
type = VarSet
trigger1 = time = 0
v = 12
value = var(37)

[State 9000, 2]
type = VarSet
trigger1 = time = 0
v = 37
value = 0

[State 9000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 9000, VarSet]
type = VarSet
trigger1 = Life <= 0
v = 34
value = 1

[State 9000, ChangeState];Dead
type = ChangeState
trigger1 = Life <= 0
value = ifelse(StateType = A, 5020,5000)

[State 9000, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Anim
elem = var(27)

[State 9000, End]
type = ChangeState
trigger1 = (time >= floor(gethitvar(hittime) * 0.8)) && (Life > 0)
value = var(5)
ctrl = var(6)



; PRE-WALKING
[Statedef 22]
type    = S
physics = S
sprpriority = 0

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, VelMul]
type = VelMul
trigger1 = var(51) = 1
x = 1.7

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x > 0 &&  anim != 22
value = 22

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x < 0 &&  anim != 23
value = 23

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]

[State Debug Display]
type = DisplayToClipboard
text = "%f %f %f %f "
params = pos x,pos y,P2BodyDist X, var(30);P2BodyDist Y;Pos X,Pos Y
trigger1 = 1

[State Append]
type = AppendToClipboard
text = "%d %d %d %f %d"
params = prevstateno,FrontEdgeDist,BackEdgeDist,enemynear,screenpos x,NumHelper
trigger1 = 1


[State 0, PlaySnd]
type = PlaySnd
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
value = 0,10
channel = 4
volume = 155
volumescale = 155

[State 0, PlaySnd]
type = PlaySnd
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
value = 0,7
channel = 4
volume = 155
volumescale = 155

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 20, 2]
type = envshake
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 228  && !NumExplod(8010)
time = 8
freq = 80
ampl = 3

[State 20, 2]
type = envshake
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
time = 8
freq = 80
ampl = 3


[State 0, PlaySnd]
type = PlaySnd
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 228  && !NumExplod(8010)
value = 0,10
channel = 4
volume = 155
volumescale = 155

[State 0, PlaySnd]
type = PlaySnd
trigger1	= NumEnemy && Enemy, StateNo = 228  && !NumExplod(8010)
value = 0,7
channel = 4
volume = 155
volumescale = 155

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 228  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1


[State -2, VarSet]
type = VarSet
trigger1 = movetype = H
trigger2 = roundstate != 2
trigger3 = statetype != A
var(21) = 0

[State -2, VarAdd]
type = VarAdd
trigger1 = var(21)
var(21) = -1

[State -2, PosFreeze]
type = PosFreeze
trigger1 = var(21)
trigger1 = stateno = [600,800)


[State -2, Pre-walking state]
type = ChangeState
;triggerall = !var(59)
trigger1 = prevstateno = 198
trigger2 = RoundNo != 1              ;Enable If Round Number is > 1
trigger2 = RoundState = 1           ;RoundState < 2 and
trigger2 = RoundState = 2
trigger2 = stateno = 0              ;Current state is 0
value = 21
ctrl = 0

[State -2, Remember the last Position (X)]
type = VarSet
triggerall = RoundState < 2
trigger1 = stateno = [0, 21] ;Enable after Intro
fvar(5) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(5) != 0
trigger1 = prevstateno != 198
x = fvar(5)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(5) = 0

[State -3]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090


[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate = 2
trigger1 = roundstate != 3
trigger1 = NumHelper(19999997) = 0
stateno = 19999997
id = 19999997

;KO Sound
[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate != 2
trigger1 = roundstate = 3
trigger1 = NumHelper(19999998) = 0
stateno = 19999998
id = 19999998

; Gethit PalFX
[State -2, PalfX]
type = PalFX
triggerall = var(26) > 0
trigger1 = (var(26) % 4) = 1
time = 2
;add = 164,11,0
add = 128,40,0
mul = 256,256,256
color = 256
ignorehitpause = 1

[State -2, Add]
type = VarAdd
trigger1 = var(26) > 0
v = 26
value = 1
ignorehitpause = 1

[State -2, Clear]
type = VarSet
trigger1 = var(26) > 14
v = 26
value = 0 
ignorehitpause = 1

[State -2]
type = VarSet
triggerall = (StateNo != 5000) && (StateNo != 5010)
trigger1 = 1
v = 22
value = ifelse(var(31) - var(33) = 0, 1, 0)

[State -2]
type = VarSet
trigger1 = 1
v = 33
value = var(31)

; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = screenpos y < 0
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = roundstate = [2,3]
triggerall = !numexplod(8596) && numenemy
triggerall = screenpos y > 240-const(size.head.pos.y)
trigger1 = var(18) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(18) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8595+teamside
ownpal = 1
ontop = 1
facing = -var(18)
postype = left
pos = floor(screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8596

[State -2, O\]
type = Explod
triggerall = roundstate = [2,3]
triggerall = !numexplod(8598) && numenemy
triggerall = screenpos y < 0
trigger1 = var(18) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(18) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8597+teamside
ownpal = 1
ontop = 1
facing = -var(18)
postype = left
pos = floor(screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8596)
trigger1 = screenpos y <= 240-const(size.head.pos.y)
id = 8596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8598)
trigger1 = screenpos y >= 0
id = 8598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8596)
id = 8596
postype = left
pos = floor(screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8598)
id = 8598
postype = left
pos = floor(screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy
var(18) = ifelse(screenpos x - enemynear,screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(8596)
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .25,.25
facing = -var(18)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(8598)
trigger1 = screenpos y < 0
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .25,.25
facing = -var(18)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

  
; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = enemy,screenpos y < 0
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = roundstate = [2,3]
triggerall = !numexplod(18596)
triggerall = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
trigger1 = var(17) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(17) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8595+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(17)
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18596

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = roundstate = [2,3]
triggerall = !numexplod(18598)
triggerall = enemy,screenpos y < 0
trigger1 = var(17) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(17) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8597+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(17)
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18596)
trigger1 = enemy,screenpos y <= 240-enemy,const(size.head.pos.y)
id = 18596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18598)
trigger1 = enemy,screenpos y >= 0
id = 18598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18596)
id = 18596
postype = left
pos = floor(enemy,screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18598)
id = 18598
postype = left
pos = floor(enemy,screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy = 1
var(17) = ifelse(enemy,screenpos x - screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(18596)
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
facing = -var(17)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(18598)
trigger1 = enemy,screenpos y < 0
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
facing = -var(17)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

  
; I 
[State -2, I]
type = AssertSpecial
trigger1 = roundstate > 2
flag = nowalk
 
; ~ 
[State -2, ~]
type = Width
trigger1 = vel x > 0 && movetype != H
edge = 5,5

;------------------------------------------------------
;signs

[State -2, VS_Combo]
type = VarSet
triggerall = (var(38)!=10) || (var(38)=10 && movehit && statetype != A)
trigger1 = var(35) >= 3
trigger2 = var(35)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = [5000,5899])
var(38) = 1+(var(35)>3)+(var(35)>5)+(var(35)>7)+(var(35)>9)+(var(35)>29)+(var(35)>59)+(var(35)>=100)-(var(35)=-1)
ignorehitpause = 1

[State -2, Air Combo]
type = VarSet
triggerall = var(35) >= 3 && statetype = A && var(38)!=10 && var(13)
trigger1 = (movehit)
var(38) = 10
ignorehitpause = 1


[State -2, Danger]
type = VarSet
trigger1 = var(40) !=1 && roundstate=2 && life <= Ceil(const(data.life)/5)
var(38) = 9
ignorehitpause = 1

; sound First attack
[State -2, First Attack]
type = PlaySnd
triggerall = var(35)=-1
triggerall = NumExplod(8050) = 0
trigger1 = var(35)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
persistent = 0
value = 2,0
channel = 20
volume=255
ignorehitpause = 1

; Telop sound
[State -2, Combo Sound]
type = PlaySnd
trigger1 = NumExplod(8050) = 0
trigger1 = var(35)=0 && var(38)!=0
persistent = 0;1
value = 2,var(38)
channel = 20
volume=255
ignorehitpause = 1

[State -2, VarAdd] ;Normal Score Addition
type = VarAdd
triggerall = var(51) < 999999
trigger1 = enemynear,time<=0 && enemynear,gethitvar(hitshaketime)
trigger1 = enemynear,movetype=H && (enemynear,stateno!=[120,159])
var(51) = enemynear,gethitvar(damage) * 10
ignorehitpause=1

[State -2, Left]
type = explod
trigger1 = var(35)=0 && var(38)!=0
trigger2 = var(35)=-1 && (movehit || p2movetype = H && (p2stateno != [120,159]));p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
trigger3 = var(35)=0 && var(38)=10 && (movehit || p2movetype = H && (p2stateno != [120,159]))
triggerall = TeamSide = 1 && NumExplod(8050) = 0
anim = (8550 + var(38))
ID = 8050
postype = left
pos = 3,80
ontop = 1
bindtime = -1
removetime = 60
ownpal = 1
supermovetime = 60
pausemovetime = 60
scale = 0.5,0.5
persistent = 0
ignorehitpause = 1

[State -2, Right]
type = explod
trigger1 = var(35)=0 && var(38)!=0
trigger2 = var(35)=-1 && (movehit || p2movetype = H && (p2stateno != [120,159]));p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
trigger3 = var(35)=0 && var(38)=10 && (movehit || p2movetype = H && (p2stateno != [120,159]))
triggerall = TeamSide = 2 && NumExplod(8050) = 0
anim = (8650+ var(38));8011;8720;
ID = 8050
postype = right
pos = -10,80;130;82
ontop = 1
bindtime = -1
removetime = 60;90
ownpal = 1
supermovetime = 60;90
pausemovetime = 60;90
scale = 0.5,0.5
persistent = 0;1
ignorehitpause = 1

[State -2, VS_Combo]
type = VarAdd
trigger1 = enemynear, time = 0
trigger1 = enemynear, Hitshakeover = 0
trigger1 = (p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H;p2stateno = [5000,5899]
trigger2 = var(35)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
var(35) = 1 + (var(35)=-1)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
trigger1 = var(35)!=-1 && (p2movetype!=H || enemynear, ctrl)
trigger2 = var(35)=-1 && movetype = H;p2stateno = [5000,5899])
var(35) = 0 - (roundstate<2)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
triggerall = numexplod(8050)!=0
trigger1 = var(35)=0
var(38) = 0
ignorehitpause = 1

[State -2, Is Danger]
type = VarSet
trigger1 = var(40) = 0 && life <= Ceil(const(data.life)/5)
;trigger1 = var(30) = 1 && roundstate!=2
var(40) = 1;(roundstate>1)
ignorehitpause = 1

[State -2, Is Danger]
type = VarSet
trigger1 = var(40) = 1 && life > Ceil(const(data.life)/5)
;trigger1 = var(30) = 1 && roundstate!=2
var(40) = 0;(roundstate>1)
ignorehitpause = 1

[State -2, Is First Attack p3]
type = VarSet
triggerall = numpartner=1
trigger1 = partner, movehit
trigger1 = partner, var(35) != -1
var(35) = 0
ignorehitpause = 1

[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = nomusic


; R{ 
[State -2, R{]
type = VarSet
trigger1 = statetype = A && prevstateno = [600,650)
trigger1 = stateno = [1000,5000)
var(50) = 1

[State -2, R{]
type = VarAdd
trigger1 = movehit = 1
trigger2 = projhit = 1
var(28) = 1

[State -2, R{]
type = VarAdd
triggerall = statetype = A && numtarget
triggerall = target,statetype = A
triggerall = movehit = 1 || projhit = 1
trigger1 = stateno = [600,650)
trigger2 = var(53) && stateno = [1000,5000)
var(50) = 1


[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(53) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(28) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(50) = 0


; VXep 
	 
; _[W 
[State -2, _[W]
type = VarSet
trigger1 = movetype = H
var(15) = 0

[State -2, _[W]
type = AfterImage
trigger1 = movetype = H
time = 0

; GA~b^[A 
[State 650, GA~b^[A]
type = PlaySnd
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
value = 0,11

[State 620, GA~b^[A]
type = VarSet
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
var(13) = 2

[State -2, GA~b^[A]
type = VarSet
trigger1 = !numtarget
var(13) = 0

[State -2, GA~b^[A]
type = VarSet
trigger1 = var(13)= 2 && ctrl && statetype != A
var(13) = 3

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = var(13) = 2
trigger1 = pos x*facing < 0
value = 1
movecamera = 0,0
ignorehitpause = 1

[State -2, GA~b^[A]
type = ChangeState
triggerall = var(13) = 2
trigger1 = backedgebodydist < -20 && stateno != 100 && stateno != [710,711]
value = 710

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = stateno = 100 && prevstateno = 710
value = 0
movecamera = 0,0

[State -2, GA~b^[A]
type = NotHitBy
trigger1 = stateno = 100 && prevstateno = 710
value = SCA

; wp[A 
[State -2, wp[A]
type = VarSet
trigger1 = !numhelper
var(15) = 0
 
; ^[Qbg 
[State -2, ^[Qbg]
type = VarSet
trigger1 = 1
var(7) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget
var(7) = target,id
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = !numtarget
var(9) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget && hitpausetime
var(9) = target,stateno = 5080
ignorehitpause = 1

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7)) && !var(9)
trigger1 = playerID(var(7)),gethitvar(chainid) & 1
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),hitover && playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9900
value = 9900

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7)) && var(9)
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 5201 && playerID(var(7)),stateno != 9910
value = 9901

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7))
trigger1 = playerID(var(7)),gethitvar(chainid) & 2
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9910
value = 9910



;Wall Hit

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemynear,stateno != [120,159]
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 8015
postype = p2
pos = 0, -50
postype = p2
bindtime = 1
facing = -1
removetime = -2
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemynear,stateno != [120,159]
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,9
channel = 4
volume = 215
volumescale = 215

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 24
value = var(23)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 23
value = var(25)+hitcount

[state -3, 2];combo hosei
type = varset
trigger1 = enemynear,movetype != H
v = 25
value = 0

;***************
[state -3, 2];combo
type = varset
trigger1 = var(23)>var(24)
v = 42
value = 1

[state 250,11]
type = helper
trigger1 = p2stateno = 328
trigger1 = !numhelper(60120)
persistent = 0
stateno = 60120
ID = 60120
bindtime = 1
postype = p2
pos = 0,500 


[State -2]
type = null;SelfState
triggerall = lose
triggerall = stateno != 30000 && stateno != 171
triggerall = HitShakeOver
trigger1 = Pos Y < -50
value = 30000



[State -2]
type = SelfState
triggerall = stateno != 7722
triggerall = StateType = A && MoveType != A
trigger1 = Win
value = 7722


[State -2]
type = null;SelfState
trigger1 = LoseTime
triggerall = stateno != 170
value = 170




[State -2]
type = null;SelfState
triggerall = stateno != 173
trigger1 = stateno = 5150
trigger1 = LoseKO
trigger1 = statetime = 60
value = 173

[State -2]
type = null;SelfState
trigger1 = matchover
triggerall = stateno != 30000 && stateno != 171
;triggerall = HitShakeOver
;trigger1 = StateType != A
value = 30000


[State -2]
type = null;Helper
helpertype = normal
trigger1 = NumHelper(10000) = 0
name = "Stand Arm"
stateno = 10000
id = 10000
ignorehitpause = 0



[State -2]
type = null;pause
trigger1 = Stateno = [100,109]
;trigger2 = Stateno = [1304,1310]
;trigger1 = animelem = 5, >=0
;trigger1 = anim = 1240
time = 30



[State -2]
type = null;ScreenBound
trigger1 = stateno = 3001
value = 1
movecamera = 0,0

[State -2]
type = null;NotHitBy
trigger1 = 1
value = SCA

;-----------------------------------

;Pos Y
[State -2]
type = PosSet
trigger1 = PrevStateno = [100,107] 
trigger1 = StateType != A && Pos Y != 0
y = 0



;---------------------------------


[State -2]
type = AttackMulSet
trigger1 = var(56) != 4
trigger1 = roundstate = 2
value = 0.8



[State -2]
type = DefenceMulSet
trigger1 = var(56) != 4
trigger1 = roundstate = 2
value = 0.5

;--------------------------------

[State -2]
type = null;Ctrlset
trigger1 = roundstate < 2
value = 0



;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------


[Statedef -3]


; Super Armor controllers
[State -3, Increment Counter]
type = VarAdd
trigger1 = Stateno = 9000
v = 37
value = 5

[State -3, Decrement Counter]
type = VarAdd
trigger1 = (StateNo != 9000) && (Var(37) > 0)&& (MoveType != H)
v = 37
value = -1
ignorehitpause = 1

[State -3, Save StateNo]
type = VarSet
trigger1 = (MoveType != H) && (StateNo != 9000)
var(5) = StateNo

[State -3, Save Ctrl]
type = VarSet
trigger1 = (MoveType != H) && (StateNo != 9000)
var(6) = Ctrl

[State -3]
type = VarAdd
trigger1 = 1
v = 31
value = 1

;walk


; _[W{CX 
[State 1120, _[W{CX]
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = stateno = 5000 && time = 1
trigger2 = stateno = 5010 && time = 1
trigger3 = stateno = 5020 && time = 1
trigger4 = stateno = 5070 && time = 1
trigger5 = stateno = 5080 && time = 1
value = s5000,random%2
channel = 2
volume = 255
volumescale = 255

[State 0, StopSnd]
type = StopSnd
trigger1 =  !alive
channel =2
;ignorehitpau



[State 0, PlaySnd]
type = PlaySnd
trigger1 = StateNo = 150 || stateno = 152 || stateno = 154
trigger1 = time = 0
value = 12,10

[State -3]
type = AfterImage
trigger1 = time = 0
time = 0
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3
;palbright = 0,0,0
;palpostbright = 0,0,0
;palcontrast =256,256,256
;paladd = 0,0,0
;palmul = 1,1,1
;palcolor = 256
;timegap = 2
;framegap = 3


[State -3]
type = PalFx
trigger1 = time = 0
time = 1
add = 0,0,0

;----------------------------------------------
;KO Delay
[State -3]
type = null;helper
trigger1 = roundstate = 2 && !numhelper(7600)
helpertype = Normal
id = 7600
pos = 0,0
postype = p1
name = "Ko Helper"
stateno = 7600
supermovetime = 9999999999
pausemovetime = 9999999999

------------------------


[State 130]
type = AssertSpecial
trigger1 = 1
trigger1 = Stateno = [120,155]
flag = NoWalk


[State -3]
type = null;AttackMulSet
trigger1 = var(56) = 4
trigger1 = roundstate = 2
value = ifelse( var(32) >= 1, var(32), 1)


[State -3]
type = null;DefenceMulSet
trigger1 = var(56) = 4
trigger1 = roundstate = 2
value = ifelse( var(32) >= 1, var(32), 1)

[State -3,r]
type = SelfState
triggerall = stateno != 7777
triggerall = var(56) = 4
trigger1 = gethitvar(damage) >= life
trigger2 = Life < 10
value = 7777




[State -3,ai]
type = varset
trigger1 = !var(58)
trigger1 = var(59)
var(58) = 1



