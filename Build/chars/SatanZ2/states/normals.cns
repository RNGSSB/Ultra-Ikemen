;==============================================================
; CNS File for SHIN SATAN by Balthazar and Jango and Cybaster
; Normal states : standing, crouching & jumping basics, etc.
;==============================================================

;---------------------------------------------------------------------------
; STAND LIGHT PUNCH (the last basic!)
[StateDef 200]
type = S
movetype = A
physics = S
anim = 200
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 1
juggle = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time && random >= 200
value = 200,20
volumescale = 255
channel = 0

[state 240, help]
type = changestate
trigger1 = prevstateno = 1405
value = 1505

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 0
channel = 1

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 200
attr = S, NA
damage = ceil(ifElse(fvar(11) * floor(13*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(13*(1+((power/1000)*0.05)))));floor(13*(1+((power/1000)*0.05))), 0
animtype = light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 11,9
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = 0,-60
hitsound = s5, 0
guardsound = S6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 7
ground.velocity = -4.5
guard.velocity = -4.5
airguard.velocity = -1.9,-.8	
air.velocity = -2,-2
air.hittime = 12
air.animtype = back
getpower= 40,35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 4
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,10 - (11 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------

; STAND MEDIUM PUNCH
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 7
;poweradd= 10
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 1
facep2 = ifelse((prevstateno=1121),0,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time && random >= 300
value = 200,21
volumescale = 255
channel = 0
freqmul = 1.0
loop = 0
pan = 0

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 200, 1]
type = HitDef
triggerall = anim=210
trigger1 = animelem = 5
attr = S, NA
damage = ceil(ifElse(fvar(11) * floor(20*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(20*(1+((power/1000)*0.05)))))
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s7020
guard.sparkno = s7000
sparkxy = -15,-73
hitsound = s5, 1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -4
guard.velocity = -6
airguard.velocity = -2,-1.1
air.type = High	
air.velocity = -3,-3
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 6
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(4) >= 0 && AnimElemTime(5) <= 0
trigger1 = hitPauseTime = [1,11 - (9 - Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 200 || prevstateno = 400 || prevstateno = 405 || prevstateno = 430
trigger2 = prevstateno = 1405
trigger3 = prevstateno = 1505
value = 210
elem = 2
ignorehitpause = 1
persistent = 0

[State 210, Idle]
type= attackdist
trigger1= animelemtime(6)>=0
value = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------
;Satan's State
[Statedef 211]
type = S
movetype = A
physics = S
anim = 213
ctrl = 0
sprpriority = 1
facep2 = 1

[State 230, 1];voice
type = PlaySnd
trigger1 = !time && var(4)>0
value = 200, random%13
channel = 0

[State 810, count attacks]
type = varadd
trigger1 = !time
var(4) = 1

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(3) = 0
[State 800, VarSet]
type = VarSet
trigger1 = NumExplod(90000200) || NumExplod(90000210)
var(3) = 1
[State 800, VarSet]
type = VarSet
trigger1 = NumExplod(90000220)
var(3) = 2
[State 800, VarSet]
type = VarSet
trigger1 = NumExplod(90000230)
var(3) = 3
[State 800, VarSet]
type = VarSet
trigger1 = NumExplod(90000240)
var(3) = 4
[State 800, VarSet]
type = VarSet
trigger1 = NumExplod(90000250)
var(3) = 5

[State Throw]
type = targetstate
trigger1 = !time
value = 202

[State 810, hurt]
type = targetlifeadd
trigger1 = !time
value = -5

[State 810, hit]
type = hitadd
trigger1 = !time && var(4)>=2
value = 1

[State 182, 1]
type = screenbound
trigger1 = 1
movecamera = 1,0
value = 1

[State 1315, Sparks]
type=explod
trigger1 = numtarget
trigger1 = !time
anim = 7010
sprpriority=7
postype=p2
pos=(target,const(size.ground.front)-20)+random%20,-60-random%20
removetime=-2
ownpal=1
facing=-1
ignorehitpause=1
persistent=0
pausemovetime=100
supermovetime=100

[State 200, hit sound]
type = PlaySnd
trigger1 = !time
value = s5, 0
volume = 150

[State 810, hurt]
type = poweradd
trigger1 = animelem = 5
value = 50

[State 1400, EndState]
type = ChangeState
triggerall = var(4) <= 4
trigger1 = time>=10 && var(3)=1
value = 201
[State 1400, EndState]
type = ChangeState
trigger1 = time>=5 && var(3)=2
value = 220
[State 1400, EndState]
type = ChangeState
trigger1 = time>=5 && var(3)=3
value = 2000
[State 1400, EndState]
type = ChangeState
trigger1 = time>=5 && var(3)=4
value = 2200
[State 1400, EndState]
type = ChangeState
trigger1 = time>=5 && var(3)=5
value = 2300

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND STRONG PUNCH
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
ctrl = 0
velset = 0,0
;poweradd = 20
sprpriority = 3
juggle = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,1
volumescale = 255
channel = 0
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan = 
ignorehitpause = 1
persistent = 0


[State 220]
type = changeanim
triggerall = prevstateno !=220
triggerall = prevstateno != 300
trigger1 = prevstateno = [200,450]
value = 220
elem = 3
persistent = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElemTime(3)=0
value = 0,2
channel = 1

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, NA
damage = ceil(ifElse(fvar(11) * floor(30*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(30*(1+((power/1000)*0.05)))));,0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 15,13 ;13,13
guard.pausetime = 15,13 ;13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -14,-75
hitsound = s5, 2
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -7
guard.velocity = -9
airguard.velocity = -2.5,-1.3
air.type = High
air.velocity = -4,-4
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
ID = 1098


[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 7
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(5) >= 0 && AnimElemTime(6) <= 0
trigger1 = hitPauseTime = [1,15 - (9 - Var(34))]
value = anim
elem = 6
ignorehitpause = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND LIGHT KICK
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 7
;poweradd= 10
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 1

[State 240,hah]
type = changeanim
trigger1 = prevstateno = 200
value =230
elem = 2
persistent =0
ignorehitpause = 1

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 4

[State 200, 1];voice
type = PlaySnd
triggerall = var(55)=1		;Voice=English
trigger1= animelem=3 && random<350
value=3,110+(random%6)
channel = 0

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4 && anim = 240
value = 0, 4

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3 && anim = 245
value = 0, 4

[State 240, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype = Medium
damage = ceil(ifElse(fvar(11) * floor(19*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(19*(1+((power/1000)*0.05)))));),0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-75
hitsound   = s5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = -3  ;-4
guard.velocity = -6
air.velocity = -3,-3
airguard.velocity = -2,-1.1
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098
persistent = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 6
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(4) >= 0 && AnimElemTime(5) <= 0
trigger1 = hitPauseTime = [1,8 - (2 - Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND MEDIUM KICK
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 7
;poweradd= 10
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time && random >= 300
value = 200,22
volumescale = 255
channel = 0
freqmul = 1.0
loop = 0
pan = 0

[state 240, help]
type = changestate
trigger1 = prevstateno = 1505
value = 1405

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4 && anim = 240
value = 0, 4

[State 240, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype = Medium
damage = ceil(ifElse(fvar(11) * floor(19*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(19*(1+((power/1000)*0.05)))));,0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 13
guard.pausetime = 11,11
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-75
hitsound = s5, 4
guardsound = S6,0
ground.type = High
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = -3  ;-4
guard.velocity = -6
air.velocity = -3,-3
airguard.velocity = -2,-1.1
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098
persistent = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 6
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(4) >= 0 && AnimElemTime(5) <= 0
trigger1 = hitPauseTime = [1,10 - (4 - Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[state varset]
type = changestate
triggerall = movecontact
trigger1 = NumExplod(90000240)
value = 1405

[State 230, 5]
type = changestate
trigger1 = animtime = 0
value = 241
;-----------------------------------------------------------------------
[Statedef 241]
type = S
movetype = I
physics = N
anim = 1402
ctrl = 0
sprpriority = 3
facep2 = 1

[State 241, bluh]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;==============================================================================
;Standing Heavy Kick
[Statedef 250]
type = A
movetype = A
physics = N
anim = 250
ctrl = 0
velset = 0,0
;poweradd = 20
sprpriority = 3
juggle = 7

[State 0]
Type=PlaySND
Trigger1=AnimElemTime(8)=0
Value=40,0
Channel=-1
VolumeScale=200

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,0
volumescale = 255
channel = 0
freqmul = 1.0
loop = 0
pan = 0
ignorehitpause = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(1) >= 1 && Animelemtime(7)<= 4
statetype = A
movetype = A
physics = N 
ignorehitpause = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 8
statetype = S
movetype = I
physics = S 
ignorehitpause = 1
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(2) = 1
x = ifelse((command="holdback"),-3,3)
y = 0
;ignorehitpause = 
;persistent = 


[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
y = 1
;x= 17*ifelse((command="holdback"),-1,1)
ignorehitpause = 1
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
y = -12
;x= 3
ignorehitpause = 1
persistent = 0 

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
y = -9
;x= 3
ignorehitpause = 1
persistent = 0 

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
y = -7
;x= 3
ignorehitpause = 1
persistent = 0 

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
y = 2
;x= 3
ignorehitpause = 1
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
y = 4
;x= 3
ignorehitpause = 1
persistent = 0

[State 0, PosAdd]
type = PosSet
trigger1 = animelem = 8
y = 0
ignorehitpause = 1
persistent = 0 

[State 0, VelAdd]
type = VelAdd
trigger1 = animelemtime(2) >= 2 && vel x >= 0.5
x = -0.125
ignorehitpause = 1
persistent = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelemtime(2) >= 2 && vel x <= -0.5
x = 0.125
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0
ignorehitpause = 1
persistent = 1



[State 220]
type = changeanim
triggerall = prevstateno !=220
triggerall = prevstateno != 300
triggerall = prevstateno !=250
trigger1 = prevstateno = [200,450]
trigger2 = prevstateno = 1405 || prevstateno = 1400
trigger3 = prevstateno = 1505 || prevstateno = 1500
value = 250
elem = 2
persistent = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElemTime(3)=0
value = 0,2
channel = 1

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, NA
damage = floor(30*(1+((power/1000)*0.05))),0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,16 ;13,13
guard.pausetime = 15,13 ;13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -14,-75
hitsound = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -7
guard.velocity = -4.5
airguard.velocity = -2.5,-1.3
air.type = High
air.velocity = -4,-4
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 7
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(5) >= 0 && AnimElemTime(6) <= 0
trigger1 = hitPauseTime = [1,20 - (15 - Var(34))]
value = anim
elem = 6
ignorehitpause = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 250, you dun goofed]
type = changestate
triggerall = moveguarded
trigger1 = animelem = 5
trigger2 = animelem = 6
value = 251

[State 250, you dun goofed]
type = changestate
triggerall = movehit && NumExplod(90000250) && command !="holdup" && command !="holddown"
trigger1 = animelem = 5
trigger2 = animelem = 6
value = 255

[State 250, you dun goofed]
type = changestate
triggerall = movehit && NumExplod(90000250) && command = "holdup"
trigger1 = animelem = 5
trigger2 = animelem = 6
value = 650

[State 250, you dun goofed]
type = changestate
triggerall = movehit && NumExplod(90000250) && command ="holddown"
trigger1 = animelem = 5
trigger2 = animelem = 6
value = 655

;==============================================================================
;Standing Heavy Kick Fail
[Statedef 251]
type = A
movetype = I
physics = N
anim = 251
ctrl = 0
velset = 0,0
;poweradd = 20
sprpriority = 3
juggle = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 251,0
volumescale = 255
channel = 0


[State 0, PosAdd]
type = velset
trigger1 = time <= 20 && pos y <= 0
x = -0.75
ignorehitpause = 1
persistent = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y <= 0
ignorehitpause = 1

[State 0, Velset]
type = velset
trigger1 = time = 11
y = -2

[State 0, PosSet]
type = PosSet
trigger1 = pos y >=0
y = 0
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time >=20 && pos y >= 0
x = 0
y = 0
ignorehitpause = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time >= 20 && pos y >= 0
statetype = S       ;S,A,C,L
movetype = I        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1
persistent = 1


[State 251, ugh]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;==============================================================================
;Standing Heavy Kick
[Statedef 255]
type = A
movetype = A
physics = N
anim = 255
ctrl = 0
velset = 0,0
;poweradd = 20
sprpriority = 3
juggle = 7

[State 0, Gravity]
type = veladd
trigger1 = animelemtime(5) >= 1
y = 0.5
persistent = 1


[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0
;ignorehitpause = 
;persistent = 


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,0
volumescale = 255
channel = 0
freqmul = 1.0
loop = 0
pan = 0
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElemTime(3)=0
value = 0,2
channel = 1

[State 200, 1]
type = HitDef
trigger1 = !movecontact && !time
attr = S, NA
damage = ceil(ifElse(fvar(11) * floor(18*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(18*(1+((power/1000)*0.05)))));floor(18*(1+((power/1000)*0.05))),0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,16 ;13,13
guard.pausetime = 15,15 ;13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -14,-75
hitsound = s5, 5
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -7
guard.velocity = -5.5
airguard.velocity = -2.5,-1.3
air.type = High
air.velocity = -4,-4
air.hittime = 12
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
hitonce = 1


[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,13 - (11- Var(34))]
value = anim
elem = 4
ignorehitpause = 1

[State 1000]
type = changestate
trigger1= Pos Y>=0 && Vel Y>0
value = 256
ctrl = 0

;------------------------------------------------------------------------
;Landing (Dynamite Kick)
[Statedef 256]
type = S
movetype = I
physics = S
juggle = 15
velset = 0,0
ctrl = 0
anim = 256
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State -3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 40, 0

[State 1000]
type = changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; DASH JAB
[Statedef 300]
type = S
movetype = A
physics = N
anim = 300
ctrl = 0
;poweradd = 20
sprpriority = 3
juggle = 7
velset = const(velocity.run.fwd.x),0
facep2 = 1

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[state 1215, Smoke FX]
type = explod
trigger1 = !time
anim = 1206+(var(2)=0)
id = 1206
pos = 0,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1
scale = .8,.8

[State 240, 1]
type = Veladd
trigger1 = animelemtime(2)>0 && vel x >= 0
X = -0.5
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = vel x <= 0
x = 0

[State 420, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2
persistent = 0
ignorehitpause = 1

[State 420, 3]
type = HitDef
triggerall = !movecontact
trigger1 = Animelem = 3
trigger2 = Animelem = 4
attr = S, NA
damage = ceil(ifElse(fvar(11) * floor(40*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(40*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 10,0
guard.pausetime = 13,7
sparkno = s7030
guard.sparkno = s7000
sparkxy = -0,-55
hitsound   = s3100,0 ;s5, 5
guardsound = S6,1
animtype = Hard
ground.type = High
ground.slidetime = 18
ground.hittime = 16
ground.velocity = -6, ifelse((var(8)=3),-4,0)
guard.velocity = -6
air.velocity =-4,-4
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
fall = ifelse((var(8)=3),1,0)
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,10 - (7 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1

;Wolverine Flip BWD
[State -1, Wolverine Flip BWD]
type = changestate
triggerall = movecontact
 trigger1=IfElse(Facing=1,NumExplod(90010203),NumExplod(90010301))
trigger1=NumExplod(90000230)||  NumExplod(90000240) || NumExplod(90000250)
value = 301

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Dash Dynamite
;--------------------------------------------------------------
[Statedef 301]
type = S
movetype = A
physics = N
juggle = 15
velset = 0,0
ctrl = 0
anim = 301
sprpriority = 1
facep2 = 1
;poweradd = 20

[State 6000, voice dyanmite kick]
type = playsnd
trigger1 = Animelemtime(2) = 1
value = 221,0
channel = 0

[State 6000, woosh]
type = playsnd
trigger1 = Animelemtime(3) = 1
value = 1000,1
channel = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(3)>=1 && Animelemtime(11) <=1
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1
persistent = 0

[State 1040, Velset]
type = Velset
trigger1 = Animelemtime(1) = 1
y = -7

[State 0, VelSet]
type = VelAdd
trigger1 = Animelemtime(1)> 1
y = 1.1

[State 0, VelSet]
type = VelSet
trigger1 = Animelemtime(3)=1
x = 21

[State 0, VelSet]
type = VelAdd
trigger1 = Animelemtime(3)>=1 && vel x > 0
x = -0.25

[State 0, PosSet]
type = PosSet
trigger1= vel y > 0
trigger1= pos y > -vel y
y = 0
;ignorehitpause = 
;persistent = 


[State 0, VelSet]
type = VelSet
trigger1 = Animelemtime(10)=1
x = 0

[State 240, 2]
type = HitDef
triggerall = !movecontact
trigger1 = Animelem = 3 || Animelem = 4 || Animelem = 5 || Animelem = 6
attr = S, NA
animtype  = Medium
damage    = ceil(ifElse(fvar(11) * ifelse((var(29)>=2),33,55) < 7, 7, fvar(11) * ifelse((var(29)>=2),33,55))),10
guardflag = H
hitflag = MAF
guardflag = H
pausetime = 12,12
sparkno = S7030
guard.sparkno = s7000
sparkxy = -10,-60
hitsound   =  S1000, 0
guardsound = S850,10
ground.type = Low
ground.slidetime = 12
ground.hittime  = 26
ground.velocity = -1,0
fall = 1
air.velocity = -2,-4
air.hittime = 16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
getpower = 167
givepower = 42
hitonce = 1
nochainid = 3000
fall.recover = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 9
value = 0 


[State 0, StateTypeSet]
type = attackdist
trigger1 = Animelemtime(9)>=1 && Animelemtime(10) <=1
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
persistent =1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[State 1000]
type = changestate
trigger1 = movehit && var(29) >= 2
value = 2000
ctrl = 0

[State 1000]
type = changestate
trigger1 = Animtime = 0
value = 1050
ctrl = 0

;-----------------------------------------------------------------------------------
; CROUCH LIGHT PUNCH HOLY CRAP NEW MOVES
[Statedef 400]
type = C
movetype = A
physics = C
anim = 405
ctrl = 0
velset = 0,0
;poweradd = 0
sprpriority = 1
juggle = 7
facep2 = 1



[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time && random >= 200
value = 200,20
volumescale = 255
channel = 0
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan = 
;ignorehitpause = 
;persistent = 

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = !movecontact
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = light
priority = 2, Hit
damage    = ceil(ifElse(fvar(11) * floor(10*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(10*(1+((power/1000)*0.05)))));,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-63
hitsound   = s5,0
guardsound = S6,0
ground.type = low
ground.slidetime = 8;7
ground.hittime = 8;7
ground.velocity = -2.5  ;-3
guard.velocity = -4.5
air.velocity = -2,-2
air.animtype = back
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,10 - (3 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(5)>=0
movetype= I
[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 400, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1
;--------------------------------------------------------------------------
; CROUCH LIGHT PUNCH but closer
[Statedef 405]
type = C
movetype = A
physics = C
anim = 400
ctrl = 0
velset = 0,0
;poweradd = 0
sprpriority = 1
juggle = 7
facep2 = 1

[State 200, snd]
type = playsnd
triggerall = var(55)=0		;Voice=Japan
trigger1 = animelem=1 && random<200
value = 3,ifelse(random<500,0,1)
channel = 0

[State 200, 1];voice
type = PlaySnd
triggerall = var(55)=1		;Voice=English
trigger1 = animelem=1 && random<200
value = 3,ifelse(random<500,100,101)
channel = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = !movecontact
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = light
priority = 2, Hit
damage    = ceil(ifElse(fvar(11) * floor(10*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(10*(1+((power/1000)*0.05)))));,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-63
hitsound   = s5,0
guardsound = S6,0
ground.type = low
ground.slidetime = 8;7
ground.hittime = 8;7
ground.velocity = -2.5  ;-3
guard.velocity = -4.5
air.velocity = -2,-2
air.animtype = back
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,10 - (3 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1


[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1
[State 300, Idle]
type= statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 400, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1
;--------------------------------------------------------------------------
;Crouching Medium Pawnch
[StateDef 410]
type = C
movetype = A
physics = C
anim = 410
ctrl = 0
velset = 0,0
;poweradd = 10
sprpriority = 1
juggle = 7
facep2 = 1

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = ceil(ifElse(fvar(11) * floor(19*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(19*(1+((power/1000)*0.05)))));,0
animtype  = Medium
priority = 3, Hit
hitflag = MAF
guardflag = MA
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-65
hitsound = s5, 1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = -3  ;-4
guard.velocity = -6
air.velocity = -2,-1.2
air.animtype = back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,12 - (5 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 410, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH STRONG PUNCH (Removed for Goku's Uppercut and put into Satan's because I'm lazy)
[StateDef 420]
type = C
movetype = A
physics = C
anim = 420
ctrl = 0
velset = 0,0
;poweradd = 20
sprpriority = 1
juggle = 7
facep2 = 1

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(8)>=0
movetype= I

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,23
volumescale = 255
channel = 0
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 420, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 2

[State 420, 3]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = ceil(ifElse(fvar(11) * floor(37*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(37*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-60
hitsound   = s5, 2
guardsound = S6,0
animtype = Hard
ground.type = Low
ground.slidetime = 16
ground.hittime = 19
ground.velocity = -8,0
air.velocity = -5,-7
airguard.cornerpush.veloff= 0
fall.recover=0
air.animtype = back
getpower= ifelse(p2movetype=H,40,210), 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 8
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(6) >= 0 && AnimElemTime(7) <= 0
trigger1 = hitPauseTime = [1,15 - (12 - Var(34))]
value = anim
elem = 7
ignorehitpause = 1

[State 420, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; CROUCH LIGHT KICK
[Statedef 430]
type = C
movetype = A
physics = C
anim = 430
ctrl = 0
velset = 0,0
;poweradd = 0
sprpriority = 2
juggle = 7
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,25
volumescale = 255
channel = 0
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 200, snd]
type = playsnd
triggerall = var(55)=0	
trigger1 = animelem=2 && random<200
value = 3,ifelse(random<500,0,1)
channel = 0

[State 430, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 3

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAF
guardflag = L
damage    = ceil(ifElse(fvar(11) * floor(11*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(11*(1+((power/1000)*0.05)))));,0
animtype = light
priority = 2, Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-10
hitsound   = s5,3
guardsound = s6,0
ground.type = low
ground.slidetime = 8;7
ground.hittime = 8;7
ground.velocity = -2.5  ;-3
guard.velocity = -4.5
air.velocity = -2,-2
air.animtype = back
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,10 - (6 - Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[State 430, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1

;--------------------------------------------------------------------------
; CROUCH MEDIUM KICK
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
;poweradd= 10
ctrl = 0
anim = 440
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,26
volumescale = 255
channel = 0
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,12 - (7 - Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[State 440, 2]
type = HitDef
trigger1 = !movecontact
attr = C, NA
damage    = ceil(ifElse(fvar(11) * floor(15*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(15*(1+((power/1000)*0.05)))));,0
animtype  = Medium
hitflag = MAF
guardflag = L
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s7020
guard.sparkno = s7000
sparkxy = -25,-55
hitsound   = s5, 4
guardsound = S6,1
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = -3  ;-4
guard.velocity = -6
air.velocity = -2,-1
down.velocity = -3,0
down.hittime = 20
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
fall.recover = 0
air.animtype = back
yaccel = 0.5
ID = 1098

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 440, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11+(command != "holddown")
ctrl = 1

;--------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 450]
type = C
movetype = A
physics = C
anim = 450
ctrl = 0
velset = 0,0
;poweradd = 20
sprpriority = 3
facep2 = ifelse((prevstateno=1122),0,1)

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(6)>=0
movetype= I

[State 100, snd]
type = playsnd
trigger1 = AnimelemTime(3) = 0
value = 5,8
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 1120
value = 450
elem = 4
ignorehitpause =1 
persistent = 0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 15
ignorehitpause = 1 
persistent = 0 

[State 0, VelAdd]
type = VelAdd
triggerall = time%1 = 1
trigger1 = vel x <= 5 && vel x >= 0
x = -0.5
;ignorehitpause = 
;persistent = 

[State 450, 3]
type = HitDef
triggerall = prevstateno != 1116
trigger1 = AnimElem = 3 & MoveContact = 0
trigger2 = AnimElem = 4 & MoveContact = 0
attr = C, NA
animtype = Back
priority = 4, Hit
damage    = ceil(ifElse(fvar(11) * floor(34*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(34*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = L
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-15
hitsound   = s5,5
guardsound = s6,1
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -2,-3
guard.velocity = -9
air.velocity = -3,-1
guard.velocity = -2
getpower= ifelse(p2movetype=H,40,210)
givepower = 35,35
yaccel = 0.5  

[State 450, 3]
type = HitDef
triggerall = !NumTarget(440)
triggerall = prevstateno = 1116
trigger1 = AnimElem = 3 & MoveContact = 0
trigger2 = AnimElem = 4 & MoveContact = 0
attr = C, NA
animtype = Back
priority = 4, Hit
damage    = floor(34*fvar(34)),0
hitflag = MAFD
guardflag = L
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-15
hitsound   = s5,5
guardsound = s6,1
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -2,-3
guard.velocity = -9
air.velocity = -3,-1
guard.velocity = -2
getpower= ifelse(p2movetype=H,40,210)
givepower = 35,35
yaccel = 0.5 
ID = Cond(P2StateType = L,440,1098)

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,13 - (9 - Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[State 450]
type = velset
trigger1 = animelem = 7
x = 0

[state 450, down boy]
type = posset
trigger1 = pos y != 0
y = 0

[State 450, Moon River]
type = changestate
trigger1 = Animtime = 0
value = 11+(command != "holddown")
ctrl = 1

;---------------------------------------------------------------------------
; JUMP LIGHT PUNCH
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
ctrl = 0
;poweradd = 0
sprpriority = 2
juggle = 2

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0

[State 600, 2]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
damage    = ceil(ifElse(fvar(11) * floor(16*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(16*(1+((power/1000)*0.05)))));,0
guardflag = HA
animtype = Light
priority = 3, Hit
priority = 3
pausetime = 9,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || NumExplod(52)=3 || PrevStateNo = [600,655])

[State 600, 2];Over head fix
type = HitDef
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
attr = A, NA
hitflag = MAF
damage    = ceil(ifElse(fvar(11) * floor(16*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(16*(1+((power/1000)*0.05)))));,0
guardflag = MA
animtype = Light
priority = 3, Hit
priority = 3
pausetime = 9,11
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || NumExplod(52)=3 || PrevStateNo = [600,655])
;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,9 - (7 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1

;---------------------------------------------------------------------------
; JUMP MEDIUM PUNCH
[Statedef 610]
type = A
movetype = A
physics = A
juggle = 2
;poweradd = 10
ctrl = 0
anim = 610
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = (prevstateno = 600) || (prevstateno = 610)
value = 610
elem = 2
ignorehitpause = 1
persistent = 0

[State 200, snd]
type = playsnd		;Voice=Eng Sabbat
trigger1 = animelem=3 && random<350
value = 3,60+random%2
channel = 0
volume = 300

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 610, 2]
type = HitDef
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(15*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(15*(1+((power/1000)*0.05)))));,0
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 3,Hit
pausetime = 11,15
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
guard.hittime = 5
ground.velocity = -4   ;-5
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || prevstateno=600 || prevstateno=630) || NumExplod(52)=3

[State 610, 2]
type = HitDef
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(15*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(15*(1+((power/1000)*0.05)))));,0
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 3,Hit
pausetime = 11,15
sparkno = s7020
guard.sparkno = s7000
sparkxy = -10,-70
hitsound   = s5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
guard.hittime = 5
ground.velocity = -4   ;-5
air.velocity = -2,-4
airguard.cornerpush.veloff= 0
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || prevstateno=600 || prevstateno=630) || NumExplod(52)=3
;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,11 - (8 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(5)>=1
statetype = A       ;S,A,C,L
movetype = I        ;I,A,H
physics = A         ;A,C,S,N
ignorehitpause = 1
;persistent = 


[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 1

;---------------------------------------------------------------------------
; JUMP STRONG PUNCH [NORMAL]
[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
ctrl = 0
;poweradd = 20
sprpriority = 2
juggle = ifelse(p2statetype=A,3,15)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = (prevstateno = 600) || (prevstateno = 610)
trigger2 = (prevstateno = 630) || (prevstateno = 640)
value = 620
elem = 2
ignorehitpause = 1
persistent = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,23
volumescale = 255
channel = 0
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 620, 3]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(34*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(34*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 16,18
sparkno = s7030
guard.sparkno = s7000
sparkxy = -25,-40
hitsound   = s5,2
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
guard.hittime = 10
ground.velocity = -5
air.velocity = -7,8.5
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
;fall = ifelse (enemynear,statetype = A, 1, 0)
air.fall = 1
fall.recover = 0
fall =0

[State 620, 3]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(34*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(34*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 16,18
sparkno = s7030
guard.sparkno = s7000
sparkxy = -25,-40
hitsound   = s5,2
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
guard.hittime = 10
ground.velocity = -5
air.velocity = -7,8.5
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
air.fall = 1
fall.recover = 0
fall =0

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 802, TargetState]
type = TargetState
trigger1 = movehit=1&&Enemy,StateType=A
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 651
ID = -1
ignorehitpause = 1
persistent = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,16 - (10 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50 ;ifelse(vel X >= 0,50,116)
ctrl = 0

;---------------------------------------------------------------------------
; JUMP LIGHT KICK
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
ctrl = 0
;poweradd = 0
sprpriority = 1
juggle = 2

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 200, snd]
type = playsnd
triggerall = var(55)=0		;Voice=Japan
trigger1 = animelem=2 && random<200
value = 3,ifelse(random<500,0,1)
channel = 0

[State 200, 1];voice
type = PlaySnd
triggerall = var(55)=1		;Voice=English
trigger1 = animelem=2 && random<200
value = 3,ifelse(random<500,100,101)
channel = 0

[State 630, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 3

[State 630, 2]
type = HitDef
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4 && !movecontact
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(12*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(12*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = HA
animtype = Light
priority = 3, Hit
pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-50
hitsound   = s5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 8  ;6
ground.hittime  = 15
ground.velocity = -3  ;-4
air.velocity = -2,-3
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || NumExplod(52)=3 || PrevStateNo = [600,655])

[State 630, 2]
type = HitDef
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4 && !movecontact
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(12*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(12*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = MA
animtype = Light
priority = 3, Hit
pausetime = 10,10
sparkno = s7010
guard.sparkno = s7000
sparkxy = -10,-50
hitsound   = s5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 8  ;6
ground.hittime  = 15
ground.velocity = -3  ;-4
air.velocity = -2,-3
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || NumExplod(52)=3 || PrevStateNo = [600,655])
;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,10 - (7 - Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; JUMP MEDIUM KICK
[Statedef 640]
type    = A
movetype = A
physics = A
juggle = 0
;poweradd= 10
ctrl = 0
anim = 640
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,25
volumescale = 255
channel = 0
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 210, snd]
type = playsnd
triggerall = anim=640
triggerall = var(55)=0		;Voice=Japan
trigger1= animelem=2 && random<350
value=3,10+random%3
channel = 0

[State 200, 1];voice
type = PlaySnd
triggerall = anim=640
triggerall = var(55)=1		;Voice=English
trigger1= animelem=2 && random<350
value=3,110+(random%6)
channel = 0

[State 640, 1]
type = PlaySnd
trigger1 = Animelem = 3
trigger2 = (prevstateno = 1095 || prevstateno = 1110 || prevstateno = 630) && animelem = 3
value = 0, 4

[State 640, 2]
type = HitDef
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = !movecontact
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(19*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(19*(1+((power/1000)*0.05)))));,0
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 3,Hit
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-50
hitsound   = s5,4
guardsound = S6,0
ground.type = High
pausetime = 11,11
ground.slidetime = 8
ground.hittime = 15
ground.velocity = -4  ;-8
air.velocity = -2,-2
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || NumExplod(52)=3 || PrevStateNo = [600,655])

[State 640, 2]
type = HitDef
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = !movecontact
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(19*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(19*(1+((power/1000)*0.05)))));,0
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 3,Hit
sparkno = s7020
guard.sparkno = s7000
sparkxy = -20,-50
hitsound   = s5,4
guardsound = S6,0
ground.type = High
pausetime = 11,11
ground.slidetime = 8
ground.hittime = 15
ground.velocity = -4  ;-8
air.velocity = -2,-2
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5
fall = (numhelper(15999) || NumExplod(52)=3 || PrevStateNo = [600,655])
;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 5
value = 0 


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 630 && !movecontact
trigger2 = prevstateno = 1110 || prevstateno = 1095
value = 640
elem = 2
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
trigger1 = hitPauseTime = [1,15 - (14 - Var(34))]
value = anim
elem = 4
ignorehitpause = 1

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; JUMP STRONG KICK
[Statedef 650]
type = A
movetype = A
physics = A
anim = 650
ctrl = 0
;poweradd = 20
sprpriority = 1
juggle = 3;ifelse(p2statetype=A,3,15)

[State 0, Explod];Superjump
type = Explod
Trigger1=!NumExplod(999650)
Trigger1=MoveHit&&Enemy,GetHitVar(YVel) <=-11
anim = 15999
ID = 999650
pos = 0,0
postype = Left  ;p2,front,back,left,right
bindtime = -1
removetime = 10
removeongethit = 0

[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 250 && !time
x = 5
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = prevstateno = 250 && vel x >= 0.25 && time > 1
x = -0.5
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 200,24
volumescale = 255
channel = 0
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
[State varset];a.HK juggle limiter
type = VarSet
trigger1 = !time && var(6)>0
var(7) = 1

[State 650, 2]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = (prevstateno = 1110 || prevstateno = 1095 || prevstateno = 630 || prevstateno = 640) && AnimElem = 4
value = 0, 5

[State 650, 3];opponent on ground
type = HitDef
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y >=0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5 && !movecontact
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(35*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(35*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 18,18  ;16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-75
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
guard.hittime = 10
ground.velocity = -2,-11
air.velocity = -12,-3
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
id = 651
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5

[State 650, 3];opponent on ground
type = HitDef
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y <0
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5 && !movecontact
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(35*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(35*(1+((power/1000)*0.05)))));,0
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 18,18  ;16,16
sparkno = s7030
guard.sparkno = s7000
sparkxy = -20,-75
hitsound   = s5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
guard.hittime = 10
ground.velocity = -2,-11
air.velocity = -12,-3
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
id =651
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= ifelse(p2movetype=H,40,140), 35
givepower = 35,35
yaccel = 0.5

    [State 200, Time Offset]
    type = VarSet
    trigger1 = moveContact = 1
    var(15) = Time
    ignorehitpause = 1
    persistent = 0

    [State 200, Play Anim]
    type = ChangeAnim
    triggerall = AnimElemTime(4) >= 0 && AnimElemTime(5) <= 0 ;(2)would be the blur frame while (3) is the nonblur
    trigger1 = hitPauseTime = [1,18 - (3 - var(15))] ;[1,10 - (5 - var(15))] means [1,10 {change the 10 to the hitpausetime} - (5 {change the 5 to how long it takes before you get to the frame you want the pause to stay on}- var(15))]
    value = anim
    elem = 5
    ignorehitpause = 1

[State 802, TargetState]
type =TargetState
trigger1 = movehit
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 651
ID = -1
ignorehitpause = 1
persistent = 0

;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 6
value = 0 

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(4) >= 0 && AnimElemTime(5) <= 0
trigger1 = hitPauseTime = [1,18 - (25 - Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[State varset]
type = VarSet
trigger1 = p2stateno = 651
var(6) = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = (prevstateno = 630 || prevstateno = 640) && !movecontact || prevstateno = 250 && !movecontact
trigger2 = prevstateno = 1110 || prevstateno = 1095
value = 650
elem = 3
ignorehitpause = 1
persistent = 0


[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 0
;------------------------------------------------------------------------------
; DAIR
[Statedef 655]
type = A
movetype = A
physics = N
anim = 655
ctrl = 0
;poweradd = 0
sprpriority = 1
juggle = 2
velset = 0,0
facep2 = 1

[State 300, Idle]
type= statetypeset
trigger1= animelemtime(6)>=0
movetype= I

;[State 0, Turn]
;type = Turn
;trigger1 = prevstateno = 1090
;ignorehitpause = 
;persistent = 0 


[State 0, VelAdd]
type = Velset
trigger1 = Animelem = 4
x = 3
y = 11

[State 0, VelAdd]
type = Velset
trigger1 = movecontact
x = 3
y = 11

[State 0, VelAdd]
type = Velset
trigger1 = Animelem >= 5 && vel y = 0
x = 3
y = 11

[State 200, snd]
type = playsnd
trigger1 = animelem=2
value = 200,5
channel = 0

[State 630, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 5

    [State 200, Time Offset]
    type = VarSet
    trigger1 = moveContact = 1
    var(15) = Time
    ignorehitpause = 1
    persistent = 0

    [State 200, Play Anim]
    type = ChangeAnim
    triggerall = AnimElemTime(4) >= 0 && AnimElemTime(5) <= 0 ;(2)would be the blur frame while (3) is the nonblur
    trigger1 = hitPauseTime = [1,12 - (3 - var(15))] ;[1,10 - (5 - var(15))] means [1,10 {change the 10 to the hitpausetime} - (5 {change the 5 to how long it takes before you get to the frame you want the pause to stay on}- var(15))]
    value = anim
    elem = 5
    ignorehitpause = 1

[State 630, 2]
type = HitDef
triggerall = Vel Y >=0
trigger1 = !movecontact
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(45*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(45*(1+((power/1000)*0.05))))),IfElse(PrevStateNo=1091,10,0)
hitflag = MAF
guardflag = HA
animtype = Light
priority = 3, Hit
pausetime = 11,11
sparkno = s7030
guard.sparkno = s7000
sparkxy = -10,-50
hitsound   = s5,5
guardsound = S6,0
ground.type = High
ground.slidetime = 8  ;6
ground.hittime  = 15
ground.velocity = -3  ;-4
air.velocity = -2,10
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = 1
air.fall=1
fall.recover=0

[State 630, 2]
type = HitDef
triggerall = Vel Y <0
trigger1 = !movecontact
triggerall = Var(1) <= 20 && Var(18) = 0 || Var(18) = 1
attr = A, NA
damage = ceil(ifElse(fvar(11) * floor(45*(1+((power/1000)*0.05))) < 7, 7, fvar(11) * floor(45*(1+((power/1000)*0.05))))),IfElse(PrevStateNo=1091,10,0)
hitflag = MAF
guardflag = MA
animtype = Light
priority = 3, Hit
pausetime = 11,11
sparkno = s7030
guard.sparkno = s7000
sparkxy = -10,-50
hitsound   = s5,5
guardsound = S6,0
ground.type = High
ground.slidetime = 8  ;6
ground.hittime  = 15
ground.velocity = -3  ;-4
air.velocity = -2,10
airguard.cornerpush.veloff= 0
getpower= 40, 35
givepower = 35,35
yaccel = 0.5
fall = 1
air.fall=1
fall.recover=0

[State 802, TargetState]
type = TargetState
trigger1 = movehit
trigger1 = numtarget
trigger1 = !(target, ishelper)
value = 651
ID = -1
ignorehitpause = 1
persistent = 0


;juggle limit LVL2
[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(1) = 2

[State 0, AttackDist]
type = AttackDist
trigger1 = animelem = 6
value = 0 


[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(34) = Time
ignorehitpause = 1
persistent = 0

[State 205, changey]
type = changeanim
trigger1 = (prevstateno = 630 || prevstateno = 640 || prevstateno = 650) && !movecontact
trigger2 = prevstateno = 1110 || prevstateno = 1095
value = 655
elem = 2
ignorehitpause = 1
persistent = 0

[State 205, changey]
type = changeanim
trigger1 = prevstateno = 1091
value = 655
elem = 2
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(4) >= 0 && AnimElemTime(5) <= 0
trigger1 = hitPauseTime = [1,11 - (3- Var(34))]
value = anim
elem = 5
ignorehitpause = 1

[State 1000]
type = changestate
trigger1= vel y > 0
trigger1= pos y > -vel y
value = 656
ctrl = 0
;------------------------------------------------------------------------
;DAIR (landing)
[Statedef 656]
type = S
movetype = I
physics = S
juggle = 15
velset = 0,0
ctrl = 0
anim = 656
sprpriority = 1

[State 0, Turn]
type = Turn
trigger1 = !Time
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State -3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 40, 0

[State 1000]
type = changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1
;===================================================================================================================
;Grab (combo)
[Statedef 800]
type = S
movetype = A
physics = S
anim = 800
ctrl = 0
;poweradd = 0

[State VarAdd for 'dmg dampening']
type = VarAdd
trigger1 = MoveHit
trigger1 = P2MoveType = H
trigger1=enemy,time<1;Change this number for scaling. Higher = more scaling
fvar(13) = 2
persistent=1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = NumTarget;updated 
trigger1 = !(target, ishelper);updated
trigger1 = MoveHit
value = 200;<---his light punch has a frame of his hand extended without the blur
elem = 4 ; change this to animelemno of grab you wish frozen
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0
channel = 1

[State 800, hit]
type = hitdef
 triggerall = p2bodydist x<35
triggerall = animelem=3 && !var(38)
trigger1 = Var(0)=0 || enemy, AuthorName != "Team Z2"
attr = S,NT
hitflag = M- 
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 821
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1
numhits = 0

[State 800, hit]
type = hitdef
 triggerall = p2bodydist x<35
triggerall = animelem=3 && !var(38)
trigger1 = Var(0)>0 
attr = S,NT
hitflag = M- 
priority = 1,Hit
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 821
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1
numhits = 0
id = Cond((enemynear, NumExplod(98000000)),800,801)

[State 0, TargetState]
type = TargetState
trigger1 = MoveHit =1
trigger1 = NumTarget(800)
trigger1 = target, StateNo != [800,899]
trigger1 = target, AuthorName = "Team Z2"
value = 899
ignorehitpause = 1
 
[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=2
trigger1 = NumTarget(800)
trigger1 = target, time<=5
trigger1 = target, StateNo = 5949
value = 5940
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=1
trigger1 = enemynear, StateNo = 950
value = 950
ignorehitpause = 1
persistent = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = NumTarget(800)
trigger1 = target, time>=6
trigger1 = target, StateNo = 899
trigger2 = !NumTarget(800)|| (NumTarget(800) && enemy, AuthorName != "Team Z2")
trigger2 = MoveHit=1
value =810
ignorehitpause = 1
persistent = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = MoveHit = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 15

[State 800]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;=====================================================================================================================
;Grab Success
[Statedef 810]
type = S
movetype = A
physics = N
anim = 810
velset=0,0
ctrl = 0

[State 0, powerAdd]
type = powerAdd
trigger1 = animelem = 6
value = 180


[State 0]
Type=HitAdd
Trigger1=AnimElem=6
Trigger2=AnimElem=10
Trigger3=AnimElem=17
Value=1

[State 0, LifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 6
value = -15
kill = 0
Id=-1
[State 0, LifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 10
value = -25
kill = 0
Id=-1
[State 0, LifeAdd]
type =TargetLifeAdd
trigger1 = animelem = 17
value = -30
kill = 1
Id=-1

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 7010
ID = 7010
pos = 70,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause =1
persistent =0

[State 0, Explod]
type = Explod
trigger1 = animelem = 10
anim = 7020
ID = 7020
pos = 80,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause =1
persistent =0

[State 0, Explod]
type = Explod
trigger1 = animelem = 17
anim = 7030
ID = 7030
pos = 90,-90
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause =1
persistent =0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 5,0
volumescale = 255
channel = 1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = 5,1
volumescale = 255
channel = 1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 17
value = 5,2
volumescale = 255
channel = 1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 20
value = 800,4
volumescale = 255
channel = 2
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(22) = 20
value = 800,5
volumescale = 255
channel = 3
freqmul = 1.0
loop = 0
pan = 0

[State 3040, White Screen forCamera Flash]
type = explod
trigger1 = animelemtime(22) = 20
anim =3045
ID =3045
postype = left
pos =floor(gamewidth/2),floor(gameheight/2)
bindtime = -1
sprpriority =9
ontop = 1
ownpal = 1
removetime=-2
supermovetime=999999
pausemovetime=999999
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(22) >= 20 && animelemtime(22) <= 21
flag = noBG
flag2 = noFG
flag3 = nobardisplay


[State 0, Explod]
type = Explod
trigger1 = animelem = 20
anim = 815
ID = 815
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans = 
;persistent =
;supermove = 0
;pausemove = 0
[State 0]
Type=RemoveExplod
Trigger1=(Target,Name="Pilaf Machine Z2" && Target,AuthorName="Team Z2")
Id=815

[State 0, TargetBind]
type = TargetBind
trigger1 = animelemtime(1) = 1
time = 55
id = -1
pos = 70,0
ignorehitpause = 1
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelemtime(18) = 1
time = 38
id = -1
pos = 85,0
ignorehitpause = 1
persistent = 0

[State 0, SprPriority]
type = SprPriority
TriggerAll=!(Target,Name="Pilaf Machine Z2" && Target,AuthorName="Team Z2")
trigger1 = animelem >= 15
value = -1
;ignorehitpause = 
;persistent = 


[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = !time
value = 850
ID = -1
;ignorehitpause = 
;persistent = 


[State 810]
type = changestate
trigger1 =AnimElem=22 && Target,Alive=0
value =814
ctrl = 0

[State 810]
type = changestate
trigger1 = animtime = 0 && Target,Alive=1
value = ifelse((BackEdgeBodyDist < 60),812,811)
ctrl = 0
;===========================================================================
;DASH BACK (rolling)
;===========================================================================

[Statedef 811]
type    = S
physics = N
ctrl = 0
anim = 105
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = stateno = 811
value = 0
ignorehitpause = 1
persistent = 1

[State 0]
Type=NotHitBy
Trigger1=1
Value=SCA

[State 100, snd];over here voice
type = playsnd
trigger1 = !time && random >= 200
value = 105,2+floor(2*random/1000)
channel = 0

[State 100, snd];over here voice
type = playsnd
trigger1 = !time
value = 105,1
channel = -1

[State 710, hb]
type = hitby
trigger1 = animelemtime(6)<0
value = SCA,AT
time = 1

[State 105, 1]
type = VelSet
trigger1 = AnimelemTime(2) = 0
x = const(velocity.run.back.x)

[State 105, 1]
type = VelSet
trigger1 = AnimelemTime(11) = 0
x = 0

[State 105, 3]; to landing
type = ChangeState
trigger1 = !Animtime
value = 0
Ctrl = 1

;===========================================================================
;DASH BACK (rolling)
;===========================================================================

[Statedef 812]
type    = S
physics = N
ctrl = 0
anim = 105
sprpriority = 1

[State 0, Turn]
type = Turn
trigger1 = !time
ignorehitpause = 1
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = stateno = 812
value = 0
ignorehitpause = 1
persistent = 1

[State 100, snd];over here voice
type = playsnd
trigger1 = !time && random >= 200
value = 105,2+floor(2*random/1000)
channel = 0

[State 100, snd];over here voice
type = playsnd
trigger1 = !time
value = 105,1
channel = -1

[State 710, hb]
type = hitby
trigger1 = animelemtime(6)<0
value = SCA,AT
time = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = !time
x = -50
;ignorehitpause = 
;persistent = 


[State 105, 1]
type = VelSet
trigger1 = AnimelemTime(2) = 0
x = const(velocity.run.back.x)-5

[State 105, 1]
type = VelSet
trigger1 = AnimelemTime(11) = 0
x = 0

[State 105, 3]; to landing
type = ChangeState
trigger1 = !Animtime
value = 0
Ctrl = 1
;=====================================================================================================================
;Grab Success (Kill)
[Statedef 813]
type = S
movetype = A
physics = N
anim = 816
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nokoslow

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 7010
ID = 7010
pos = 70,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause =1
persistent =0

[State 0, Explod]
type = Explod
trigger1 = animelem = 10
anim = 7020
ID = 7020
pos = 80,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause =1
persistent =0

[State 0, Explod]
type = Explod
trigger1 = animelem = 17
anim = 7030
ID = 7030
pos = 90,-90
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause =1
persistent =0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 5,0
volumescale = 255
channel = 1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = 5,1
volumescale = 255
channel = 1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 17
value = 5,2
volumescale = 255
channel = 1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 20
value = 800,4
volumescale = 255
channel = 2
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(22) = 20
value = 800,5
volumescale = 255
channel = 3
freqmul = 1.0
loop = 0
pan = 0

[State 3040, White Screen forCamera Flash]
type = explod
trigger1 = animelemtime(22) = 20
anim =3045
ID =3045
postype = left
pos =floor(gamewidth/2),floor(gameheight/2)
bindtime = -1
sprpriority =9
ontop = 1
ownpal = 1
removetime=-2
supermovetime=999999
pausemovetime=999999
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(22) >= 20 && animelemtime(22) <= 21
flag = noBG
flag2 = noFG
flag3 = nobardisplay

[State 0, Explod]
type = Explod
trigger1 = animelem = 19
anim = 815
ID = 815
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans = 
;persistent =
;supermove = 0
;pausemove = 0


[State 0, TargetBind]
type = TargetBind
trigger1 = animelemtime(1) = 1
time = 55
id = -1
pos = 70,0
ignorehitpause = 1
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelemtime(18) = 1
time = 38
id = -1
pos = 85,0
ignorehitpause = 1
persistent = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem >= 15
value = -1
;ignorehitpause = 
;persistent = 


[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = !time
value = 850
ID = -1
;ignorehitpause = 
;persistent = 

[State 0, Explod]
type = Explod
trigger1 = animtime = 0
anim = 817
ID = 817
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = -5
ontop = 0
shadow = -1
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = animtime = 0
anim = 818
ID = 818
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans = 
;persistent =
;supermove = 0
;pausemove = 0


[State 810]
type = changestate
trigger1 = animtime = 0
value = 814
ctrl = 0

;===========================================================================
;Fwd Throw Kill Transition
[Statedef 814]
type    = S
movetype = I
physics = N
ctrl = 0
anim = 105
sprpriority = 1
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0];Front Leg
type =Explod
Trigger1=NumExplod(818)=0
anim = 818
ID = 818
pos = 0,0
postype = P1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
SprPriority=3
IgnoreHitPause=1
[State 0]
Type=RemoveExplod
Trigger1=(Target,Name="Pilaf Machine Z2" && Target,AuthorName="Team Z2")
Id=818
[State 0];Body
type =Explod
Trigger1=NumExplod(817)=0
anim = 817
ID = 817
pos = 0,0
postype = P1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
SprPriority=-3
IgnoreHitPause=1
Shadow=20,20,20

[State 0]
Type=ModifyExplod
Trigger1=(Target,Name="Pilaf Machine Z2" && Target,AuthorName="Team Z2")
SprPriority=3
Id=817

[State 105, 3]; to landing
type = ChangeState
trigger1 = !Animtime
value = 0
Ctrl = 1
;---------------------------------------------------------------------------
; WINPOSE 1 - I'm the best
[Statedef 819]
type = S
anim = 181
velset = 0,0
movetype = I
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0]
Type=PlaySND
Trigger1=!Time
Value=2800,4
Channel=-1
Pan=0
IgnoreHitPause=1

[State 190, 1];normal winpose
type = PlaySnd
trigger1 = !time
value = 191,5

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3040, White Screen forCamera Flash]
type = explod
trigger1 = time = 30
trigger2 = time = 58
trigger3 = time = 120
trigger4 = time = 133
trigger5 = time = 160
anim =3045
ID =3045
postype = left
pos =floor(gamewidth/2),floor(gameheight/2)
bindtime = -1
sprpriority =9
ontop = 1
ownpal = 1
removetime=-2
supermovetime=999999
pausemovetime=999999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
trigger2 = time = 58
trigger3 = time = 120
trigger4 = time = 133
trigger5 = time = 160
value = 716,51
volumescale = 255
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan = 
;ignorehitpause = 
;persistent = 


[state 181, 1]
type = assertspecial
trigger1 = time < 180
flag = roundnotover


;=====================================================================================================================
;Grab Success
[Statedef 850]
type = S
movetype = H
physics = N
ctrl = 0

[State 850]
type = changeanim2
trigger1 = !time
value = 850


[State 0, powerAdd]
type = powerAdd
trigger1 = animelem = 5
value = 35

[State 850, huh]
type = selfstate
trigger1 = animtime = 0
value = IfElse(Alive=0,5150,5120)
;===================================================================================================================
;Grab (BomB)
[Statedef 820]
type = S
movetype = A
physics = S
anim = 800
ctrl = 0
poweradd = 0

[State VarAdd for 'dmg dampening']
type = VarAdd
trigger1 = MoveHit
trigger1 = P2MoveType = H
trigger1=enemy,time<1;Change this number for scaling. Higher = more scaling
fvar(13) = 2
persistent=1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = NumTarget;updated 
trigger1 = !(target, ishelper);updated
trigger1 = MoveHit
value = 200;<---his light punch has a frame of his hand extended without the blur
elem = 4 ; change this to animelemno of grab you wish frozen
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0
channel = 1

[State 800, hit]
type = hitdef
 triggerall = p2bodydist x<35
triggerall = animelem=3 && !var(38)
trigger1 = Var(0)=0 || enemy, AuthorName != "Team Z2"
attr = S,NT
hitflag = M- 
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 821
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1
numhits = 0

[State 800, hit]
type = hitdef
 triggerall = p2bodydist x<35
triggerall = animelem=3 && !var(38)
trigger1 = Var(0)>0 
attr = S,NT
hitflag = M- 
priority = 1,Hit
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 821
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1
numhits = 0
id = Cond((enemynear, NumExplod(98000000)),800,801)

[State 0, TargetState]
type = TargetState
trigger1 = MoveHit =1
trigger1 = NumTarget(800)
trigger1 = target, StateNo != [800,899]
trigger1 = target, AuthorName = "Team Z2"
value = 899
ignorehitpause = 1
 
[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=2
trigger1 = NumTarget(800)
trigger1 = target, time<=5
trigger1 = target, StateNo = 5949
value = 5940
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=1
trigger1 = enemynear, StateNo = 950
value = 950
ignorehitpause = 1
persistent = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = NumTarget(800)
trigger1 = target, time>=6
trigger1 = target, StateNo = 899
trigger2 = !NumTarget(800)
trigger2 = MoveHit=1
value = 830
ignorehitpause = 1
persistent = 0

[State 800]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;=====================================================================================================================
;Grab Success
[Statedef 830]
type = S
movetype = I
physics = N
anim = 820
velset = 0,0
ctrl = 0
sprpriority = 0
hitcountpersist = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 72
value = 2511,0
volumescale = 255
channel = -1
loop = 0
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 875
ID = 875
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1
;trans = 
;persistent =
;supermove = 0
;pausemove = 0

[State 0, powerAdd]
type = powerAdd
trigger1 = animelem = 4
value = 180

[State 0]
Type=HitAdd
Trigger1=AnimElem=4
Trigger2=NumHelper(876)
Trigger2=Helper(876),AnimElem=2
Value=1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "Face Mine'"
ID = 876
stateno = 876
pos = -5,(Target, const(size.head.pos.y))
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0 
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 860,0
volumescale = 255
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan = 
;ignorehitpause = 
;persistent = 


[State 0, SprPriority]
type = SprPriority
trigger1 = animelem >= 4
value = 2
;ignorehitpause = 
;persistent = 



[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
persistent = 1

[State 0, HitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1
persistent = 1

[State 0, Turn]
type = Turn
trigger1 = animelem = 19
;ignorehitpause = 
;persistent = 


[State 0, VelSet]
type = velset
trigger1 = animelemtime(7) = 1 && animelemtime(14) < 1
x = 7

[State 0, VelSet]
type = velset
trigger1 = animelemtime(14) = 1
x = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelemtime(1) = 1
time = 1
id = -1
pos = 70,0
ignorehitpause = 1
persistent = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = !time
value = 860
ID = -1
;ignorehitpause = 
;persistent = 


[State 810]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;=====================================================================================================================
;Grab Success
[Statedef 860]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = -1

[State 0, powerAdd]
type = powerAdd
trigger1 = !time
value = 35

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
persistent = 1

[State 0, HitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1
persistent = 1

[State 850]
type = changeanim2
trigger1 = !time
value = 860

[State 850, huh]
type = changestate
trigger1 = animtime = 0
value = 861
;=====================================================================================================================
;Grab Success
[Statedef 861]
type = S
movetype = H
physics = N
ctrl = 0
velset = 5,-3

[State 0, Turn]
type = Turn
trigger1 = !time
;ignorehitpause = 
;persistent = 

[State 0, HitAdd]
type = HitAdd
trigger1 = !time
value = 1
;ignorehitpause = 
;persistent = 

[State 0, LifeAdd]
type = LifeAdd
trigger1 = !time
value = -70
kill = 1
absolute = 0
;ignorehitpause = 
;persistent = 

[State 0, PalFX]
type = PalFX
trigger1 = !time
time = 30
add = 255,50,0
sinadd = -255,-50,0,20
color     = 255

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 15
freq = 60
ampl = -4
phase = 90
ignorehitpause = 1
persistent = 0
  

[state 861]
type = selfstate
trigger1 = !time
value = 5050

;----------------------------
;Enemy Grabbed
[Statedef 899]
type    = S
movetype= H
physics = N
 
[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 899
 
[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = ((NumExplod(90000800))|| (command = "x" && command = "a")) && command != "up"
value = Cond(enemynear,Var(0)=1,950,5940)
 
[State 0, ChangeState]
type = SelfState
trigger1 = Time >= 6
value = 0
ctrl = 1