;==============================================================
; CNS File for Piccolo by Team Z2
; Normal states : standing, crouching & jumping basics, etc.
;============================================================== 
; TAUNT
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S195,0
channel = -1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = RoundState = 2
trigger1 = !IsHelper
trigger1 = AnimElemTime(10) >= 0
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------;---------------------------------------------------------------------------
; STAND LIGHT PUNCH
[StateDef 200]
type = S
movetype = A
physics = S
anim = 200   ;ifelse(p2bodydist x<25,205,200)
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 5,10
channel = 1

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 200,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 201,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 202,0
channel = 0

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = anim = 200
trigger1 = animelem = 3 
trigger1 = !NumTarget(1676)
attr = S, NA
damage = ceil(ifElse(fvar(11) * 13/fvar(19) < 7, 7, fvar(11) * 13/fvar(19))),0
animtype = light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -15,-74
hitsound = s5, 0
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 8
ground.hittime  = 10
ground.velocity = -2.5
guard.velocity =-4.5
guard.hittime = 8
guard.slidetime = 8
airguard.velocity = -1.9,-.8	
air.velocity = -2,-2
air.hittime = 12
air.animtype = back
getpower= Cond(IsHelper, 0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper, 0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = anim = 200
trigger1 = animelem = 3 
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,9),ceil(ifElse(root,fvar(11) * 13/root,fvar(19) < 7, 7, root,fvar(11) * 13/root,fvar(19)))) ,0
animtype = light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -15,-74
hitsound = s5, 0
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4) ;-3
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
airguard.velocity = -1.9,-.8	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-2
air.hittime = 12
air.animtype = back
getpower= 0,0;getpower= Cond(IsHelper, 0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper, 0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(4)>=0
value = 0   

   ; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,Stateno = 1000&&fvar(16)=1.0
value = 1000

; s.MP
[State -1, s.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 210&&var(1)!=6
trigger2 = root,Stateno = 210&&fvar(5)=1.0
value = 210

; c.MP
[State -1, c.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 410&&var(1)!=6
trigger2 = root,Stateno = 410&&fvar(5)=1.0
value = 410

; s.MK
[State -1, s.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 240&&var(1)!=6
trigger2 = root,Stateno = 240&&fvar(5)=1.0
value = 240

; c.MK
[State -1, c.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 440&&var(1)!=6
trigger2 = root,Stateno = 440&&fvar(5)=1.0
value = 440

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 220&&var(1)!=6
trigger2 = root,Stateno = 220&&fvar(6)=1.0
value = 220

; s.BHP
[State -1, s.BHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 227&&var(1)!=6
trigger2 = root,Stateno = 227&&fvar(6)=1.0
value = 227

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 420&&var(1)!=6
trigger2 = root,Stateno = 420&&fvar(6)=1.0
value = 420

; c.3P
[State -1, c.3P]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 425&&var(1)!=6
trigger2 = root,Stateno = 425&&fvar(6)=1.0
value = 425

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 250&&var(1)!=6
trigger2 = root,Stateno = 250&&fvar(16)=1.0
value = 250

; F.HK
[State -1, F.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 260&&var(1)!=6
trigger2 = root,Stateno = 260&&fvar(16)=1.0
value = 260

; F.HK2
[State -1, F.HK2]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 261&&var(1)!=6
trigger2 = root,Stateno = 261&&fvar(16)=1.0
value = 261

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 450&&var(1)!=6
trigger2 = root,Stateno = 450&&fvar(16)=1.0
value = 450

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 470&&var(1)!=6
trigger2 = root,Stateno = 470&&fvar(16)=1.0
value = 470

[State 200, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 200, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND MEDIUM PUNCH
[Statedef 210]
type    = S
movetype= A
physics = S
;poweradd= Cond(IsHelper,0,10)
ctrl = 0
velset = 0,0
anim = 210
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5,11
channel = 1

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 210,(5+random%2)
channel = 0

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = anim = 210
trigger1 = animelem = 5
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(fvar(11) * 36/fvar(19) < 7, 7, fvar(11) * 36/fvar(19)))),0 
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s10020
guard.sparkno = s10000
sparkxy = -12,-82
hitsound = s5, 1
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 12;8
ground.hittime  = 15;8
guard.slidetime = 15
guard.hittime = 15
ground.velocity = Cond(Var(25)=1,0,-2.5)
guard.velocity =  Cond(Var(25)=1,0,-6)
airguard.velocity = Cond(Var(25)=1,0,-2),-1.1
air.type = High	
air.velocity = -3,-3
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,140))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098


[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = anim = 210
trigger1 = animelem = 5
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(root,fvar(11) * 36/root,fvar(19) < 7, 7, root,fvar(11) * 36/root,fvar(19)))),0 
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s10020
guard.sparkno = s10000
sparkxy = -12,-82
hitsound = s5, 1
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5)  ;-3
guard.velocity =  Cond((root, MoveType = A && Facing != root, Facing),0,-10)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-1.1
air.type = High	
air.velocity = -3,-3
air.hittime = 12
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 0, AttackDist]
type = AttackDist
trigger1 = AnimElemTime(6)>=0
value = 0   

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(8)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 220&&var(1)!=6
trigger2 = root,StateNo = 220&&fvar(6)=1.0
value = 220

; s.BHP
[State -1, s.BHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 227&&var(1)!=6
trigger2 = root,StateNo = 227&&fvar(6)=1.0
value = 227

; c.3P
[State -1, c.3P]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 425&&var(1)!=6
trigger2 = root,StateNo = 425&&fvar(6)=1.0
value = 425

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 420&&var(1)!=6
trigger2 = root,StateNo = 420&&fvar(6)=1.0
value = 420

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 250&&var(1)!=6
trigger2 = root,StateNo = 250&&fvar(16)=1.0
value = 250

; F.HK
[State -1, F.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 260&&var(1)!=6
trigger2 = root,StateNo = 260&&fvar(16)=1.0
value = 260

; F.HK2
[State -1, F.HK2]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 261&&var(1)!=6
trigger2 = root,StateNo = 261&&fvar(16)=1.0
value = 261

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 450&&var(1)!=6
trigger2 = root,StateNo = 450&&fvar(16)=1.0
value = 450

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 470&&var(1)!=6
trigger2 = root,StateNo = 470&&fvar(16)=1.0
value = 470

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND STRONG PUNCH
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, VarAdd]
type = VarAdd
triggerall = var(53) < 2100
trigger1 = !Time
var(53) = 50

[State 0, VarAdd]
type = VarAdd
triggerall = var(53) < 2100
trigger1 = MoveHit = 1
var(53) = 50

[State 0, VarAdd]
type = VarAdd
triggerall = var(53) < 2100
trigger1 = MoveGuarded = 1
var(53) = 25

[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2,0 ;Piccolo only

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(41) = 0
[State 800, VarSet]
type = VarSet
triggerall = !IsHelper
triggerall = !var(41)
triggerall = time > 4
;triggerall = animelemtime(6) < 0
trigger1 = !AILEVEL
trigger1 = command = "z"
trigger2 = AILEVEL>0
trigger2 = MoveContact
trigger3 = AILEVEL>0
trigger3 = random < 350*(AIlevel ** 2 / 64.0)
var(41) = 1
ignorehitpause = 1

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 9
value = 0

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = animelem = 4
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(fvar(11) * 47/fvar(19) < 7, 7, fvar(11) * 47/fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-64
hitsound = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 28
ground.velocity = Cond(Var(25)=1,0,-3.5)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5),-1.3
air.type = High	
air.velocity = Cond(Var(25)=1,0,-4),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
id = 220

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = animelem = 5
trigger1 = !NumTarget(1676)
trigger1 = !NumTarget(220)
trigger1 = !NumTarget(221)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(fvar(11) * 47/fvar(19) < 7, 7, fvar(11) * 47/fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-96
hitsound = s2,1 ;Piccolo only
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 28
ground.velocity = Cond(Var(25)=1,0,-3.5)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5), -4
air.type = High	
air.velocity = Cond(Var(25)=1,0,-2),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
id = 221
nochainid = 220
fall = Cond(NumHelper(3501) || NumHelper(3502),0,1)

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = animelem = 7
trigger1 = !NumTarget(1676)
trigger1 = !NumTarget(220)
trigger1 = !NumTarget(221)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(fvar(11) * 47/fvar(19) < 7, 7, fvar(11) * 47/fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-100
hitsound = s5, 2
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 28
ground.velocity = Cond(Var(25)=1,0,-7)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5),-1.3
air.type = High	
air.velocity = Cond(Var(25)=1,0,-1),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
id = 222
nochainid = 221,220
fall = Cond(NumHelper(3501) || NumHelper(3502),0,1)

[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = animelem = 4
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(root,fvar(11) * 47/root,fvar(19) < 7, 7, root,fvar(11) * 47/root,fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-64
hitsound = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 28
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-7)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-16)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-1.3
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
id = 220

[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = animelem = 5
trigger1 = !NumTarget(1676)
trigger1 = !NumTarget(220)
trigger1 = !NumTarget(221)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(root,fvar(11) * 47/root,fvar(19) < 7, 7, root,fvar(11) * 47/root,fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-96
hitsound = s2,1 ;Piccolo only
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 28
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-8)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-16)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-4
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-4
air.hittime = 12
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
id = 221
nochainid = 220
fall = 0

[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = animelem = 7
trigger1 = !NumTarget(1676)
trigger1 = !NumTarget(220)
trigger1 = !NumTarget(221)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(root,fvar(11) * 47/root,fvar(19) < 7, 7, root,fvar(11) * 47/root,fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-100
hitsound = s5, 2
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 28
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-14)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-16)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-1.3
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-1),-4
air.hittime = 12
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
id = 222
nochainid = 221,220
fall = 0

[State 0, Width]
type = Width
trigger1 = AnimElemTime(4) > 0
player = 40,0

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Var(41)
trigger1 = AnimElemTime(5) = 2
value = Anim
elem = 6
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Var(41)
trigger1 = AnimElemTime(7) = 2
value = Anim
elem = 8
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Var(41)
trigger1 = AnimElemTime(8) = 3
value = Anim
elem = 9
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Var(41)
trigger1 = AnimElemTime(9) = 3
value = Anim
elem = 10
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Var(41)
trigger1 = AnimElemTime(10) = 2
value = Anim
elem = 11
ignorehitpause = 1
persistent = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

[State 1000, 6]
type = null;ChangeState
triggerall = !IsHelper
triggerall = numtarget(221) || numtarget(222)
triggerall = movecontact
triggerall = p2statetype = A
trigger1 = var(41)
trigger1 = animelemno(0) = 6
value = 225
ctrl = 0
[State 1000, 6]
type = ChangeState
triggerall = !IsHelper
;triggerall = !numtarget(221) && !numtarget(222)
trigger1 = var(41)
trigger1 = AnimElemTime(10) = 1
value = 221
ctrl = 0

[State 1000, 6]
type = null;ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
trigger1 = root, StateNo = 225
trigger1 = !AnimTime
value = 225
ctrl = 0
[State 1000, 6]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
trigger1 = root, StateNo = 221
trigger1 = !AnimTime
trigger2 = root, StateNo = 221
trigger2 = movecontact&&var(1)!=6
trigger3 = var(1)=6&&root,stateno = 221
trigger3 = fvar(6)=1.0
value = 221
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; HPx2
[Statedef 221]
type = S
movetype = A
physics = S
anim = 221
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, VarAdd]
type = VarAdd
triggerall = var(53) < 2100
trigger1 = !Time
var(53) = 50


[State 0, VarAdd]
type = VarAdd
triggerall = var(53) < 2100
trigger1 = MoveHit = 1
var(53) = 50


[State 0, VarAdd]
type = VarAdd
triggerall = var(53) < 2100
trigger1 = MoveGuarded = 1
var(53) = 25


[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2,0 ;Piccolo only

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 220,2+random%2
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 220,6+random%2
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 220,10+random%2
channel = 0

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(41) = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 6
value = 0

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = !NumTarget(1676)
trigger1 = animelem = 3
trigger2 = animelem = 4
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(fvar(11) * 47/fvar(19) < 7, 7, fvar(11) * 47/fvar(19)))), 0 
animtype = Hard	
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -10,-64
hitsound = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond(Var(25)=1,0,-9)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5),-1.3
air.type = High	
air.velocity = Cond(Var(25)=1,0,-4),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
id = 221
persistent = 0

[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = !NumTarget(1676)
trigger1 = animelem = 3
trigger2 = animelem = 4
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(root,fvar(11) * 47/root,fvar(19) < 7, 7, root,fvar(11) * 47/root,fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -10,-64
hitsound = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-1.3
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),-4
air.hittime = 12
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
id = 221
persistent = 0

[State 0, ChangeState]
type = null;ChangeState
triggerall = !NumExplod(250)
triggerall = !IsHelper
triggerall = AILEVEL>0
trigger1 = MoveContact
trigger2 = AnimElemTime(10)>=0
trigger2 = P2MoveType != A
value = 100

[State 0, ChangeState]
type = null;ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = root, StateNo = 100
trigger1 = MoveContact
trigger2 = AnimElemTime(10)>=0
value = 35100

    [State 200, Time Offset]
    type = VarSet
    trigger1 = moveContact = 1
    var(50) = Time
    ignorehitpause = 1
    persistent = 0

    [State 200, Play Anim]
    type = ChangeAnim
    triggerall = AnimElemTime(3) >= 0 && AnimElemTime(4) <= 0
    trigger1 = hitPauseTime = [1,13 - (5 - var(50))]
    value = anim
    elem = 4
    ignorehitpause = 1

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(3)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Fwd + STAND STRONG PUNCH
[Statedef 227]
type = S
movetype = A
physics = S
anim = 227
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = !Time
var(18) = -1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5,12
channel = 1

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 8
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 2

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = anim = 227
trigger1 = animelem = 6
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(fvar(11) * 37/fvar(19) < 7, 7, fvar(11) * 37/fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-56
hitsound = s5, 2
guardsound = S5,20
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond(Var(25)=1,0,-5)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5),-1.3
air.type = High	
air.velocity = Cond(Var(25)=1,0,-2),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
id = 226

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = anim = 227
trigger1 = animelem = 7
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(fvar(11) * 27/fvar(19) < 7, 7, fvar(11) * 27/fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-56
hitsound = s5, 2
guardsound = S5,20
ground.type = low
ground.slidetime = 15
ground.hittime  = 20
guard.hittime = 22
guard.ctrltime = 22
ground.velocity = Cond(Var(25)=1,0,-5)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5),-1.3
air.type = High	
air.velocity = Cond(Var(25)=1,0,-2),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
id = 227

[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = anim = 227
trigger1 = animelem = 6
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(root,fvar(11) * 37/root,fvar(19) < 7, 7, root,fvar(11) * 37/root,fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-56
hitsound = s5, 2
guardsound = S5,20
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-14)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-16)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-1.3
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-4
air.hittime = 12
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
id = 226

[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = anim = 227
trigger1 = animelem = 7
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(root,fvar(11) * 27/root,fvar(19) < 7, 7, root,fvar(11) * 27/root,fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,11
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-56
hitsound = s5, 2
guardsound = S5,20
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
guard.hittime = 22
guard.ctrltime = 22
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-14)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-16)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-1.3
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-4
air.hittime = 12
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
id = 227

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 0, Projectile]
type = Projectile
trigger1 = NumTarget(227)
ProjID = 227
projanim = 1
projremovetime = 30

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; cl.HP follow up
[Statedef 225]
type = S
movetype = A
physics = S
anim = 226
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
juggle = 0
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5,12
channel = 1

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(41) = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 12
value = 0

[State 200, 1]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = animelem = 10
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(fvar(11) * 47/fvar(19) < 7, 7, fvar(11) * 47/fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-56
hitsound = s5, 2
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond(Var(25)=1,0,-3.5)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5),-1.3
air.type = High	
air.velocity = Cond(Var(25)=1,0,-1.5),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
envshake.time = 20
envshake.freq = 180
envshake.ampl = -6 

[State 200, 1]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = animelem = 10
trigger1 = !NumTarget(1676)
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,24),ceil(ifElse(root,fvar(11) * 47/root,fvar(19) < 7, 7, root,fvar(11) * 47/root,fvar(19)))), 0 
animtype = Hard	
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -17,-56
hitsound = s5, 2
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-7)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-16)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-1.3
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-1.5),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
envshake.time = 20
envshake.freq = 180
envshake.ampl = -6 

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND LIGHT KICK
[Statedef 230]
type = S
movetype = A
physics = S
anim = 235-5*(p2bodydist x<12);ifelse(p2bodydist x<25,235,230)
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 5,13

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 200,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 201,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 202,0
channel = 0

[State 230, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = anim = 230
trigger1 = animelem = 5
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Light
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,15),ceil(ifElse(fvar(11) * 15/fvar(19) < 7, 7, fvar(11) * 15/fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 10,14
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -25-5*(anim=235),-35-15*(anim=235)
hitsound   = s5,3
guardsound = S5,20
ground.type = Low
ground.slidetime = 8
ground.hittime  = 12
guard.hittime = 15
guard.slidetime = 10
guard.ctrltime = 15
ground.velocity = Cond(Var(25)=1,0,-2.5)
guard.velocity = Cond(Var(25)=1,0,-5.5)
air.velocity = Cond(Var(25)=1,0,-2),-3
air.animtype = back
getpower= Cond(IsHelper,0,40),Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 230, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = anim = 235
trigger1 = animelem = 4
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Light
damage    = ceil(ifElse(fvar(11) * 15 < 7,7, fvar(11) * 15)), 0
priority = 4, Hit
guardflag = MA
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -25-5*(anim=235),-35-15*(anim=235)
hitsound   = s5,3
guardsound = S5,20
ground.type = Low
ground.slidetime = 8
ground.hittime  = 15
guard.hittime = 19
guard.slidetime = 10
guard.ctrltime = 19
ground.velocity =Cond(Var(25)=1,0,-2.5)
guard.velocity = Cond(Var(25)=1,0,-4.5)
air.velocity = Cond(Var(25)=1,0,-2),-3
air.animtype = back
getpower= Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 230, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = anim = 230
trigger1 = animelem = 5
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Light
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,15),ceil(ifElse(root,fvar(11) * 30/root,fvar(19) < 7, 7, root,fvar(11) * 30/root,fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 10,14
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -25-5*(anim=235),-35-15*(anim=235)
hitsound   = s5,3
guardsound = S5,20
ground.type = Low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-3
air.animtype = back
getpower= 0,0;Cond(IsHelper,0,40),Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 230, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = anim = 235
trigger1 = animelem = 4
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Light
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,8),ceil(ifElse(root,fvar(11) * 15/root,fvar(19) < 7, 7, root,fvar(11) * 15/root,fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -25-5*(anim=235),-35-15*(anim=235)
hitsound   = s5,3
guardsound = S5,20
ground.type = Low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-3
air.animtype = back
getpower= 0,0;Cond(IsHelper,0,40),Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = Anim = 230
trigger1 = AnimElem = 6
trigger2 = Anim = 235
trigger2 = AnimElem = 5
value = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

; s.MP
[State -1, s.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 210&&var(1)!=6
trigger2 = root,StateNo = 210&&fvar(5)=1.0
value = 210

; c.MP
[State -1, c.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 410&&var(1)!=6
trigger2 = root,StateNo = 410&&fvar(5)=1.0
value = 410

; s.MK
[State -1, s.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 240&&var(1)!=6
trigger2 = root,StateNo = 240&&fvar(15)=1.0
value = 240

; c.MK
[State -1, c.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 440&&var(1)!=6
trigger2 = root,StateNo = 440&&fvar(15)=1.0
value = 440

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 220&&var(1)!=6
trigger2 = root,StateNo = 220&&fvar(6)=1.0
value = 220

; s.BHP
[State -1, s.BHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 227&&var(1)!=6
trigger2 = root,StateNo = 227&&fvar(6)=1.0
value = 227

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 420&&var(1)!=6
trigger2 = root,StateNo = 420&&fvar(6)=1.0
value = 420

; c.3P
[State -1, c.3P]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 425&&var(1)!=6
trigger2 = root,StateNo = 425&&fvar(6)=1.0
value = 425

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 250&&var(1)!=6
trigger2 = root,StateNo = 250&&fvar(16)=1.0
value = 250

; F.HK
[State -1, F.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 260&&var(1)!=6
trigger2 = root,StateNo = 260&&fvar(16)=1.0
value = 260

; F.HK2
[State -1, F.HK2]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 261&&var(1)!=6
trigger2 = root,StateNo = 261&&fvar(16)=1.0
value = 261

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 450&&var(1)!=6
trigger2 = root,StateNo = 450&&fvar(16)=1.0
value = 450

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || (Anim = 230 && AnimElemTime(6)>=0) || (Anim = 235 && AnimElemTime(5)>=0)
trigger1 = root,StateNo = 470&&var(1)!=6
trigger2 = root,StateNo = 470&&fvar(16)=1.0
value = 470

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; STAND MEDIUM KICK
[Statedef 240]
type    = S
movetype= A
physics = S
;poweradd= Cond(IsHelper,0,10)
ctrl = 0
velset = 0,0
anim = ifelse(abs(p2bodydist x)<15,245,240);ifelse(p2bodydist x<15,245,240)
sprpriority = 2
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5,14

[State 245, PosAdd]
type = PosAdd
triggerall = anim = 245
trigger1 = animelem = 2 
trigger2 = animelem = 3
x = 8

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 210,(5+random%2)
channel = 0

[State 240, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = anim = 240
trigger1 = animelem = 6
trigger1 = !NumTarget(1676)
attr = S, NA
animtype = Medium
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(fvar(11) * 35/fvar(19) < 7, 7, fvar(11) * 35/fvar(19)))), 0 
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 14, 14
guard.pausetime = 11,11
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-64
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 18;8
ground.hittime  = 18;8
guard.slidetime = 15
guard.hittime = 15
ground.velocity = Cond(Var(25)=1,0,-5)
guard.velocity = Cond(Var(25)=1,0,-6.5)
air.velocity = Cond(Var(25)=1,0,-3),1
airguard.velocity = Cond(Var(25)=1,0,-2),-3
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,140))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 240, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = anim = 245
trigger1 = animelem = 5
trigger1 = !NumTarget(1676)
attr = S, NA
animtype = Medium
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(fvar(11) * 35/fvar(19) < 7, 7, fvar(11) * 35/fvar(19)))), 0 
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-76
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = Cond(Var(25)=1,0,-2)
guard.velocity = Cond(Var(25)=1,0,-6)
air.velocity = Cond(Var(25)=1,0,-3),1
airguard.velocity = Cond(Var(25)=1,0,-2),-3
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,140))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 240, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = anim = 240
trigger1 = animelem = 6
trigger1 = !NumTarget(1676)
attr = S, NA
animtype = Medium
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(root,fvar(11) * 35/root,fvar(19) < 7, 7, root,fvar(11) * 35/root,fvar(19)))), 0 
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 14, 14
guard.pausetime = 11,11
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-64
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4)  ;-4
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-12)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3),-1
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-3
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 240, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = anim = 245
trigger1 = animelem = 5
trigger1 = !NumTarget(1676)
attr = S, NA
animtype = Medium
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(root,fvar(11) * 35/root,fvar(19) < 7, 7, root,fvar(11) * 35/root,fvar(19)))), 0 
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-76
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4)  ;-4
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-12)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3),1
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-3
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = Anim = 240
trigger1 = AnimElem = 7
trigger2 = Anim = 245
trigger2 = AnimElem = 6
value = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 220&&var(1)!=6
trigger2 = root,StateNo = 220&&fvar(6)=1.0
value = 220

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 420&&var(1)!=6
trigger2 = root,StateNo = 420&&fvar(6)=1.0
value = 420

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 250&&var(1)!=6
trigger2 = root,StateNo = 250&&fvar(16)=1.0
value = 250

; f.HK
[State -1, f.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 260&&var(1)!=6
trigger2 = root,StateNo = 260&&fvar(16)=1.0
value = 260

; f.HK2
[State -1, f.HK2]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 261&&var(1)!=6
trigger2 = root,Stateno = 261&&fvar(16)=1.0
value = 261

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 450&&var(1)!=6
trigger2 = root,Stateno = 450&&fvar(16)=1.0
value = 450

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 470&&var(1)!=6
trigger2 = root,Stateno = 470&&fvar(16)=1.0
value = 470

; s.BHP
[State -1, s.BHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 227&&var(1)!=6
trigger2 = root,Stateno = 227&&fvar(6)=1.0
value = 227

; c.3P
[State -1, c.3P]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 425&&var(1)!=6
trigger2 = root,StateNo = 425&&fvar(6)=1.0
value = 425

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; STAND STRONG KICK
[Statedef 250]
type = S
movetype = A
physics = S
anim = 250+5*(abs(p2bodydist x)<25);250+5*((((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000024)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000026))) && !IsHelper)||abs(p2bodydist x)<25);ifelse
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Ishelper
trigger1 = time>=1&&root,anim=255
value = 255
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = AILEVEL>0
trigger1 = !time
trigger1 = (p2bodydist x)<45
value = 255
persistent = 0

[State 1402, VelSet]
type = VelSet
trigger1 = anim = 250 && animelemtime(8) < 0
x = (2*exp((-0.157)*(time)))

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(41) = 0
[State 800, VarSet]
type = VarSet
triggerall = !var(41)
trigger1 = time > 4
trigger1 = anim = 255 && animelemtime(7) < 0
trigger1 = command = "c"
var(41) = 1
ignorehitpause = 1

[State 230, Width]
type = Width
trigger1 = anim = 255 && animelemtime(2) >= 0  && animelemtime(10) < 0
value = 24,0

[State 230, Width]
type = Width
trigger1 = anim = 250 && animelemtime(4) >= 0 && animelemtime(12) < 0
value = 44,0

[State 250, 1]
type = PlaySnd
trigger1 = anim = 250 && AnimElem = 6
trigger2 = anim = 255 && AnimElem = 3
value = 5,15

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 220,(random%2)
channel = 0
[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 250,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 220,(4+random%2)
channel = 0
[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 250,2
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 220,(8+random%2)
channel = 0
[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 250,4
channel = 0

[State 250, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = anim = 250 && AnimElem = 8
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Hard
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,22),ceil(ifElse(fvar(11) * 44/fvar(19) < 7, 7, fvar(11) * 44/fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 22,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-80
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.slidetime = 28
guard.hittime = 28
ground.velocity = Cond(Var(25)=1,0,-9)
air.velocity = Cond(Var(25)=1,0,-4),-4
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 250, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = anim = 255 && AnimElem = 4
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Hard
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,17),ceil(ifElse(fvar(11) * 34/fvar(19) < 7, 7, fvar(11) * 34/fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-74
hitsound   = s5,5
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime = 18
ground.velocity = Cond(Var(25)=1,0,-5)
air.velocity = Cond(Var(25)=1,0,-4),-4
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 250, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = anim = 250 && AnimElem = 8
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Hard
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,22),ceil(ifElse(root,fvar(11) * 44/root,fvar(19) < 7, 7, root,fvar(11) * 44/root,fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,23
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-80
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),-4
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 250, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = anim = 255 && AnimElem = 4
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Hard
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,17),ceil(ifElse(root,fvar(11) * 34/root,fvar(19) < 7, 7, root,fvar(11) * 34/root,fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-74
hitsound   = s5,5
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime = 18
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),-4
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = Anim =250
triggerall = MoveContact || AnimElemTime(9)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = Anim = 250
trigger1 = AnimElem = 9
trigger2 = Anim = 255
trigger2 = AnimElem = 6
value = 0

[State 1000, 6]
type = ChangeState
trigger1 = AILEVEL = 0
trigger1 = var(41)
trigger1 = anim = 255 && animelemno(0) = 7
trigger2 = AILEVEL > 0
trigger2 = (p2bodydist x)<65 && MoveHit
trigger2 = anim = 255 && animelemno(0) = 7
value = 260
ctrl = 0

[State 1000, 6]
type = ChangeState
trigger1 = AILEVEL = 0
trigger1 = var(41)
trigger1 = anim = 255 && animelemno(0) = 7
trigger2 = AILEVEL > 0
trigger2 = (p2bodydist x)<65 && MoveHit
trigger2 = anim = 255 && animelemno(0) = 7
value = 261
ctrl = 0

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact  || AnimElemTime(6)>=0
trigger1 = root,StateNo = 460&&var(1)!=6
trigger1 = anim = 255 && animelemno(0) = 7
trigger2 = root,StateNo = 460&&fvar(16)=1.0
trigger2 = anim = 255 && animelemno(0) = 7
value = 460

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; HK follow up
[Statedef 260]
type = S
movetype = A
physics = N
anim = 260
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(41) = 0

[State 1402, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 4.25
y = -4
[State 1402, VelSet]
type = PosAdd
trigger1 = animelem = 6
x = 16
[State -2, VelAdd]
type = VelAdd
trigger1 = animelemtime(6) > 0 
y = 0.4875

[State 260, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6 
statetype = A       ;S,A,C,L

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5,15

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=5
value = 260,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=5
value = 260,1
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=5
value = 260,2
channel = 0

[state 1215, Smoke FX]
type = explod
trigger1 = animelem = 6
anim = 10101
id = 260
pos = -10,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1
scale = .8,.8

[State 250, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = AnimElem = 7
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Hard
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,11),ceil(ifElse(fvar(11) * 22/fvar(19) < 7, 7, fvar(11) * 22/fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-80
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime = 20
guard.slidetime = 7
guard.hittime = 7
ground.velocity = Cond(Var(25)=1,0,-1),-11.5
guard.velocity = Cond(Var(25)=1,0,-9)
air.velocity =ifelse(p2movetype=H,Cond(Var(25)=1,0,-3),Cond(Var(25)=1,0,-1)),ifelse(p2movetype=H,-5,-10)
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40))
givepower = 35,35
yaccel = 0.45
ID = 261
envshake.time = 20
envshake.freq = 180
envshake.ampl = -6 
fall = 1
fall.recover = 0

[State 250, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 7
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Hard
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,11),ceil(ifElse(root,fvar(11) * 22/root,fvar(19) < 7, 7, root,fvar(11) * 22/root,fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-80
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime = 20
guard.slidetime = 7
guard.hittime = 7
ground.velocity = Cond(Var(25)=1,0,-1),-11.5
guard.velocity = Cond(Var(25)=1,0,-9)
air.velocity =ifelse(p2movetype=H,Cond(Var(25)=1,0,-3),Cond(Var(25)=1,0,-1)),-10;ifelse(p2movetype=H,-5,-10)
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.45
ID = 261
envshake.time = 20
envshake.freq = 180
envshake.ampl = -6 
fall = 1
fall.recover = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
var(18) = 8
ignorehitpause = 1
persistent = 0

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 200, StateTypeSet]
type = AttackDist
trigger1 = AnimElem = 8
value = 0

[State 250, 3]
type = ChangeState
trigger1 = statetype = A
trigger1 = Vel Y + Pos Y >= 0
value = 52
ctrl = 0

;---------------------------------------------------------------------------
; HK +F
[Statedef 261]
type = S
movetype = A
physics = N
anim = 261
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(41) = 0

[State 1402, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 4.25
y = -4
[State 1402, VelSet]
type = PosAdd
trigger1 = animelem = 3
x = 16
[State -2, VelAdd]
type = VelAdd
trigger1 = animelemtime(3) > 0 
y = 0.4875

[State 260, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A       ;S,A,C,L

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,15

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2
value = 260,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2
value = 260,1
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2
value = 260,2
channel = 0

[state 1215, Smoke FX]
type = explod
trigger1 = animelem = 3
anim = 10101
id = 260
pos = -10,0
postype = P1
sprpriority = 3
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 1
scale = .8,.8

[State 250, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Hard
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,11),ceil(ifElse(fvar(11) * 22/fvar(19) < 7, 7, fvar(11) * 22/fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 15,15
guard.pausetime = 15,12
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-80
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime = 20
guard.slidetime = 10
guard.hittime = 14
ground.velocity = Cond(Var(25)=1,0,-1),-11.5
guard.velocity = Cond(Var(25)=1,0,-9)
air.velocity =ifelse(p2movetype=H,Cond(Var(25)=1,0,-3),Cond(Var(25)=1,0,-1)),ifelse(p2movetype=H,-5,-10)
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.45
ID = 261
envshake.time = 20
envshake.freq = 180
envshake.ampl = -6 
fall = 1
fall.recover = 0

[State 250, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 4
trigger1 = !NumTarget(1676)
attr = S, NA
animtype  = Hard
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,11),ceil(ifElse(root,fvar(11) * 22/root,fvar(19) < 7, 7, root,fvar(11) * 22/root,fvar(19)))), 0 
priority = 4, Hit
guardflag = MA
pausetime = 15,15
guard.pausetime = 15,15
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-80
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime = 20
guard.slidetime = 10
guard.hittime = 14
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-1),-11.5
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
air.velocity =ifelse(p2movetype=H,Cond((root, MoveType = A && Facing != root, Facing),0,-3),Cond((root, MoveType = A && Facing != root, Facing),0,-1)),ifelse(p2movetype=H,-5,-10)
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.45
ID = 261
envshake.time = 20
envshake.freq = 180
envshake.ampl = -6 
fall = 1
fall.recover = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
var(18) = 8
ignorehitpause = 1
persistent = 0

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 5
value = 0

[State 250, 3]
type = ChangeState
trigger1 = statetype = A
trigger1 = Vel Y + Pos Y >= 0
value = 52
ctrl = 0

;---------------------------------------------------------------------------
; CROUCH LIGHT PUNCH
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,10

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 200,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 201,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 202,0
channel = 0

[State 400, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = AnimElem = 3
trigger1 = !NumTarget(1676)
attr = C, NA
hitflag = MAF
guardflag = LA
animtype = light
priority = 4, Hit
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,9),ceil(ifElse(fvar(11) * 18/fvar(19) < 7, 7, fvar(11) * 18/fvar(19)))), 0 
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-48
hitsound   = s5,0
guardsound = S5,20
ground.type = low
ground.slidetime = 8;7
ground.hittime = 13;7
guard.hittime = 11
guard.slidetime = 10
guard.ctrltime = 11
ground.velocity = Cond(Var(25)=1,0,-2.5)
guard.velocity = Cond(Var(25)=1,0,-4.5)
air.velocity = Cond(Var(25)=1,0,-2),-2
air.animtype = back
getpower= Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 400, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 3
trigger1 = !NumTarget(1676)
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = light
priority = 4, Hit
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,9),ceil(ifElse(root,fvar(11) * 18/root,fvar(19) < 7, 7, root,fvar(11) * 18/root,fvar(19)))), 0 
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-48
hitsound   = s5,0
guardsound = S5,20
ground.type = low
ground.slidetime = 8;7
ground.hittime = 8;7
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5)  ;-3
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4.5)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-2
air.animtype = back
getpower= 0,0;Cond(IsHelper,0,40), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = MoveHit = 1
trigger1 = P2statetype = A
trigger2 = P2statetype = L
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 4
value = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

; s.MP
[State -1, s.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 210&&var(1)!=6
trigger2 = root,Stateno = 210&&fvar(5)=1.0
value = 210

; c.MP
[State -1, c.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 410&&var(1)!=6
trigger2 = root,Stateno = 410&&fvar(5)=1.0
value = 410

; s.MK
[State -1, s.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 240&&var(1)!=6
trigger2 = root,StateNo = 240&&fvar(15)=1.0
value = 240

; c.MK
[State -1, c.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 440&&var(1)!=6
trigger2 = root,StateNo = 440&&fvar(15)=1.0
value = 440

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 470&&var(1)!=6
trigger2 = root,Stateno = 470&&fvar(16)=1.0
value = 470

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 220&&var(1)!=6
trigger2 = root,StateNo = 220&&fvar(6)=1.0
value = 220

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 420&&var(1)!=6
trigger2 = root,StateNo = 420&&fvar(6)=1.0
value = 420

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 250&&var(1)!=6
trigger2 = root,StateNo = 250&&fvar(16)=1.0
value = 250

; F.HK
[State -1, F.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 260&&var(1)!=6
trigger2 = root,StateNo = 260&&fvar(16)=1.0
value = 260

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 450&&var(1)!=6
trigger2 = root,Stateno = 450&&fvar(16)=1.0
value = 450

; s.BHP
[State -1, s.BHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 227&&var(1)!=6
trigger2 = root,Stateno = 227&&fvar(6)=1.0
value = 227

; c.3P
[State -1, c.3P]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 425&&var(1)!=6
trigger2 = root,StateNo = 425&&fvar(6)=1.0
value = 425

[State 400, End]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

[State 400, End]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35011+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 0

;---------------------------------------------------------------------------
; CROUCH MEDIUM PUNCH
[StateDef 410]
type = C
movetype = A
physics = C
anim = 410
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,10)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 2,5
channel = 1

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 210,(5+random%2)
channel = 0

;animate through blur anim on hitpause code (only use this if an attack can hit on a blur frame) this will be the only example given
    [State 200, Time Offset]
    type = VarSet
    trigger1 = moveContact = 1
    var(50) = Time
    ignorehitpause = 1
    persistent = 0

    [State 200, Play Anim]
    type = ChangeAnim
    triggerall = AnimElemTime(4) >= 0 && AnimElemTime(5) <= 0 ;(2)would be the blur frame while (3) is the nonblur
    trigger1 = hitPauseTime = [1,12 - (7 - var(50))] ;[1,10 - (5 - var(15))] means [1,10 {change the 10 to the hitpausetime} - (5 {change the 5 to how long it takes before you get to the frame you want the pause to stay on}- var(15))]
    value = anim
    elem = 5
    ignorehitpause = 1

    [State 200, Play Anim]
    type = ChangeAnim
    triggerall = AnimElemTime(5) >= 0 && AnimElemTime(6) <= 0 ;(2)would be the blur frame while (3) is the nonblur
    trigger1 = hitPauseTime = [1,12 - (8 - var(50))] ;[1,10 - (5 - var(15))] means [1,10 {change the 10 to the hitpausetime} - (5 {change the 5 to how long it takes before you get to the frame you want the pause to stay on}- var(15))]
    value = anim
    elem = 6
    ignorehitpause = 1
;end blur code

[State 410, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
trigger1 = !NumTarget(1676)
attr = C, NA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,15),ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0 
animtype  = Medium
priority = 4, Hit
hitflag = MAF
guardflag = L
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-10
hitsound   = s210,2
guardsound = S5,20
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 18;8
guard.slidetime = 12
guard.hittime = 16
guard.ctrltime = 16
ground.velocity = Cond(Var(25)=1,0,-3)
guard.velocity = Cond(Var(25)=1,0,-6)
air.velocity = Cond(Var(25)=1,0,-2),-1.2
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,140))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 410, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 4
trigger1 = !NumTarget(1676)
attr = C, NA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,15),ceil(ifElse(root,fvar(11) * 29/root,fvar(19) < 7, 7, root,fvar(11) * 29/root,fvar(19)))), 0 
animtype  = Medium
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-10
hitsound   = s210,2
guardsound = S5,20
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3)  ;-4
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-6)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-1.2
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = MoveHit = 1
trigger1 = P2StateType = A
trigger2 = P2Statetype = L
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 7
value = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 220&&var(1)!=6
trigger2 = root,StateNo = 220&&fvar(6)=1.0
value = 220

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 420&&var(1)!=6
trigger2 = root,StateNo = 420&&fvar(6)=1.0
value = 420

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 250&&var(1)!=6
trigger2 = root,StateNo = 250&&fvar(16)=1.0
value = 250

; F.HK
[State -1, F.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 260&&var(1)!=6
trigger2 = root,StateNo = 260&&fvar(16)=1.0
value = 260

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 450&&var(1)!=6
trigger2 = root,Stateno = 450&&fvar(16)=1.0
value = 450

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 470&&var(1)!=6
trigger2 = root,Stateno = 470&&fvar(16)=1.0
value = 470

; s.BHP
[State -1, s.BHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 227&&var(1)!=6
trigger2 = root,Stateno = 227&&fvar(6)=1.0
value = 227

; c.3P
[State -1, c.3P]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 425&&var(1)!=6
trigger2 = root,StateNo = 425&&fvar(6)=1.0
value = 425

[State 410, End]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

[State 410, End]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35011+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1
;---------------------------------------------------------------------------
; CROUCH STRONG PUNCH
[StateDef 420]
type = C
movetype = A
physics = C
anim = 425
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,10)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 2,0
channel = 1

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 210,(5+random%2)
channel = 0

[State 410, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
trigger1 = !NumTarget(1676)
trigger2 = animelem = 5
trigger2 = !NumTarget(1676)
attr = C, NA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,15),ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0  
animtype  = Hard
priority = 4, Hit
hitflag = MAF
guardflag = LA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-64
hitsound = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
guard.slidetime = 20
guard.hittime  = 20
ground.velocity = Cond(Var(25)=1,0,-6)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5),-1.3
air.type = High	
air.velocity = Cond(Var(25)=1,0,-4),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,140))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = 420
persistent = 0

[State 410, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 4
trigger1 = !NumTarget(1676)
trigger2 = animelem = 5
trigger2 = !NumTarget(1676)
attr = C, NA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,15),ceil(ifElse(root,fvar(11) * 29/root,fvar(19) < 7, 7, root,fvar(11) * 29/root,fvar(19)))), 0  
animtype  = Hard
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-64
hitsound = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-6)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-1.3
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),-4
air.hittime = 12
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 420
persistent = 0

[State 410, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = !NumTarget(1676)
trigger1 = AnimElem = 6
trigger2 = animelem = 7
attr = C, NA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,15),ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0 
animtype  = Medium
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 11,13
guard.pausetime = 13,13
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-64
hitsound = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond(Var(25)=1,0,-6)
guard.velocity = Cond(Var(25)=1,0,-9)
airguard.velocity = Cond(Var(25)=1,0,-2.5),-1.3
air.type = High	
air.velocity = Cond(Var(25)=1,0,-4),-4
air.hittime = 12
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,140))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
nochainid = 420
ID = 421
persistent = 0

[State 410, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = !NumTarget(1676)
trigger1 = AnimElem = 6 
trigger2 = animelem = 7
attr = C, NA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,15),ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0 
animtype  = Medium
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 11,13
guard.pausetime = 13,13
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-64
hitsound = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime  = 24
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-6)
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
airguard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5),-1.3
air.type = High	
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),-4
air.hittime = 12
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
nochainid = 420
ID = 421
persistent = 0

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(50) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(5) <= 0
trigger1 = hitPauseTime = [1,12 - (1 - Var(50))]
value = anim
elem = 5
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = animelemtime(5) > 0 && AnimElemTime(7) <= 0
trigger1 = hitPauseTime = [1,12 - (1 - Var(50))]
value = anim
elem = 7
ignorehitpause = 1

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = MoveHit = 1
trigger1 = P2StateType = A
trigger2 = P2Statetype = L
var(18) = 7
ignorehitpause = 1
persistent = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(8)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 8
value = 0

[State 420, End]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

[State 420, End]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35011+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1


;---------------------------------------------------------------------------
; 3HP
[StateDef 425]
type = C
movetype = A
physics = C
anim = 420
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = VarAdd
triggerall = var(53) < 2100
trigger1 = !Time
var(53) = 50

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=5 && random<350
value = 420,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=5 && random<350
value = 420,1
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=5 && random<350
value = 420,2
channel = 0

[State 1000: Helper]
type = helper
trigger1 = animelem = 7
helpertype = Normal
id = 425
pos = 0,0 ;50
postype = p1
facing = 1
stateno = 426
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
persistent = 0

[State 421, Explod]
type = Explod
trigger1 = animelemtime(8) = 3
anim = 424
ID = 424
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Width]
type = Width
trigger1 = Anim = 420
player = 0,100

[State 425, End]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

[State 425, End]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35011+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH LIGHT KICK
[Statedef 430]
type = C
movetype = A
physics = C
anim = 430
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 430, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5, 13

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 200,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 201,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 202,0
channel = 0

[State 430, 2]
type = HitDef
triggerall = !IsHelper
triggerall = !NumTarget(430)
triggerall = Var(18) <= 15
triggerall = !NumTarget(1676)
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAFD
guardflag = L
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,8),ceil(ifElse(fvar(11) * 16/fvar(19) < 7, 7, fvar(11) * 16/fvar(19)))), 0 
animtype = light
priority = 4, Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-10
hitsound   = s5,3
guardsound = S5,20
ground.type = low
ground.slidetime = 8;7
ground.hittime = 10;7
guard.hittime = 9
guard.slidetime = 9
guard.ctrltime = 9
ground.velocity = Cond(Var(25)=1,0,-2.5)
guard.velocity = Cond(Var(25)=1,0,-4.5)
air.velocity = Cond(Var(25)=1,0,-2),-2
air.animtype = back
getpower= Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
yaccel = 0.5
ID = Cond(P2StateType = L,430,1098)

[State 430, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = !NumTarget(430)
triggerall = !NumTarget(1676)
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAFD
guardflag = MA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,8),ceil(ifElse(root,fvar(11) * 16/root,fvar(19) < 7, 7, root,fvar(11) * 16/root,fvar(19)))), 0 
animtype = light
priority = 4, Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-10
hitsound   = s5,3
guardsound = S5,20
ground.type = low
ground.slidetime = 8;7
ground.hittime = 8;7
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2.5)  ;-3
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4.5)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-2
air.animtype = back
getpower= 0,0;Cond(IsHelper,0,40), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = Cond(P2StateType = L,430,1098)

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = MoveHit = 1
trigger1 = P2StateType = A
trigger2 = P2Statetype = L
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 4
value = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

; s.MP
[State -1, s.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 210&&var(1)!=6
trigger2 = root,Stateno = 210&&fvar(5)=1.0
value = 210

; c.MP
[State -1, c.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 410&&var(1)!=6
trigger2 = root,Stateno = 410&&fvar(5)=1.0
value = 410

; s.MK
[State -1, s.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 240&&var(1)!=6
trigger2 = root,StateNo = 240&&fvar(15)=1.0
value = 240

; c.MK
[State -1, c.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 440&&var(1)!=6
trigger2 = root,StateNo = 440&&fvar(15)=1.0
value = 440

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 220&&var(1)!=6
trigger2 = root,StateNo = 220&&fvar(6)=1.0
value = 220

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 420&&var(1)!=6
trigger2 = root,StateNo = 420&&fvar(6)=1.0
value = 420

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 250&&var(1)!=6
trigger2 = root,StateNo = 250&&fvar(16)=1.0
value = 250

; F.HK
[State -1, F.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 260&&var(1)!=6
trigger2 = root,StateNo = 260&&fvar(16)=1.0
value = 260

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 450&&var(1)!=6
trigger2 = root,Stateno = 450&&fvar(16)=1.0
value = 450

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 470&&var(1)!=6
trigger2 = root,Stateno = 470&&fvar(16)=1.0
value = 470

; s.BHP
[State -1, s.BHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 227&&var(1)!=6
trigger2 = root,Stateno = 227&&fvar(6)=1.0
value = 227

; c.3P
[State -1, c.3P]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=0
trigger1 = root,StateNo = 425&&var(1)!=6
trigger2 = root,StateNo = 425&&fvar(6)=1.0
value = 425

[State 430, End]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

[State 430, End]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35011+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH MEDIUM KICK
[Statedef 440]
type    = C
movetype= A
physics = C
;poweradd= Cond(IsHelper,0,10)
ctrl = 0
anim = 440
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5,14

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=4 && random<350
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=4 && random<350
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=4 && random<350
value = 210,(5+random%2)
channel = 0

[State 440, 2]
type = HitDef
triggerall = !IsHelper
triggerall = !NumTarget(440)
triggerall = Var(18) <= 15
triggerall = !NumTarget(1676)
trigger1 = AnimElem = 5
attr = C, NA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,13),ceil(ifElse(fvar(11) * 26/fvar(19) < 7, 7, fvar(11) * 26/fvar(19)))), 0 
animtype  = Medium
hitflag = MAFD
guardflag = L
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s10020
guard.sparkno = s10000
sparkxy = -25,-55
hitsound   = s5,4
guardsound = S5,20
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 17;8
guard.slidetime = 15
guard.hittime = 15
ground.velocity = Cond(Var(25)=1,0,-3)
guard.velocity = Cond(Var(25)=1,0,-6)
air.velocity = Cond(Var(25)=1,0,-2),-1
down.velocity = Cond(Var(25)=1,0,-3),-3
down.hittime = 20
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,140))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
air.animtype = back
yaccel = 0.5
ID = Cond(P2StateType = L,440,1098)

[State 440, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = !NumTarget(440)
triggerall = !NumTarget(1676)
trigger1 = AnimElem = 5
attr = C, NA
damage    = Cond(IsHelper,Cond(P2MoveType=H,7,13),ceil(ifElse(root,fvar(11) * 26/root,fvar(19) < 7, 7, root,fvar(11) * 26/root,fvar(19)))), 0 
animtype  = Medium
hitflag = MAFD
guardflag = MA
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s10020
guard.sparkno = s10000
sparkxy = -25,-55
hitsound   = s5,4
guardsound = S5,20
ground.type = Low
ground.slidetime = 12;8
ground.hittime  = 12;8
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3)  ;-4
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-6)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-1
down.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3),-3
down.hittime = 20
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
air.animtype = back
yaccel = 0.5
ID = Cond(P2StateType = L,440,1098)

[State 0, basics limiter]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(987654321)
trigger1 = movehit
trigger1 = numtarget
anim = 15999
ID = 987654321
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 24
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = MoveHit = 1
trigger1 = P2StateType = A
trigger2 = P2Statetype = L
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 7
value = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 220&&var(1)!=6
trigger2 = root,StateNo = 220&&fvar(6)=1.0
value = 220

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 420&&var(1)!=6
trigger2 = root,StateNo = 420&&fvar(6)=1.0
value = 420

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 250&&var(1)!=6
trigger2 = root,StateNo = 250&&fvar(16)=1.0
value = 250

; F.HK
[State -1, F.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 260&&var(1)!=6
trigger2 = root,StateNo = 260&&fvar(16)=1.0
value = 260

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 450&&var(1)!=6
trigger2 = root,Stateno = 450&&fvar(16)=1.0
value = 450

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 470&&var(1)!=6
trigger2 = root,Stateno = 470&&fvar(16)=1.0
value = 470

; s.BHP
[State -1, s.BHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 227&&var(1)!=6
trigger2 = root,Stateno = 227&&fvar(6)=1.0
value = 227

; c.3P
[State -1, c.3P]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 425&&var(1)!=6
trigger2 = root,StateNo = 425&&fvar(6)=1.0
value = 425

[State 440, End]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

[State 440, End]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35011+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------------------
; crouch HK SWEEP
[Statedef 450]
type = C
movetype = A
physics = C
anim = 450
ctrl = 0
velset = 0,0
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(9)=1
x = 3

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=1 
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=1
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=1 
value = 210,(5+random%2)
channel = 0

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,15
persistent = 0

[State 0, HitDef]
type = HitDef
triggerall = !IsHelper
triggerall = !NumTarget(450)
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
attr = C,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = LA         ;HLA
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = back
fall.animtype = Back
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(fvar(11) * 36/fvar(19) < 7, 7, fvar(11) * 36/fvar(19)))), 0 
pausetime = 12,12
sparkno = s10020
guard.sparkno = s10000
sparkxy = -8,0
hitsound   = s5,5
guardsound = S5,21
ground.type = Low      ;Low,Trip,None
ground.slidetime = 15
ground.hittime = 21
air.hittime = 20
yaccel = 0.5
ground.velocity = Cond(Var(25)=1,0,-2),-4
air.velocity = Cond(Var(25)=1,0,-2),-4
fall = 1
fall.recover = 0
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35
ID = Cond(P2StateType = L,450,1098)

[State 0, HitDef]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = !NumTarget(450)
trigger1 = AnimElem = 4
attr = C,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = MA         ;HLA
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = back
fall.animtype = Back
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(root,fvar(11) * 36/root,fvar(19) < 7, 7, root,fvar(11) * 36/root,fvar(19)))), 0 
pausetime = 12,12
sparkno = s10020
guard.sparkno = s10000
sparkxy = -8,0
hitsound   = s5,5
guardsound = S5,21
ground.type = Low      ;Low,Trip,None
ground.slidetime = 15
ground.hittime = 21
air.hittime = 20
yaccel = 0.5
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-4
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-4
fall = 1
fall.recover = 0
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
ID = Cond(P2StateType = L,450,1098)

[State 0, VarAdd]
type = VarAdd
triggerall = MoveHit = 1
trigger1 = P2statetype = A
trigger2 = P2statetype = L
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 210, 5]
type = ChangeState
triggerall = !Ishelper
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 210, 5]
type = ChangeState
triggerall = Ishelper
trigger1 = AnimTime = 0
value = 35011+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1
;---------------------------------------------------------------------------
; Emo cHK
[Statedef 460]
type = C
movetype = A
physics = C
anim = 460
ctrl = 0
velset = 0,0
sprpriority = 3

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(3)=3
x = 21
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(4)=1
x = 21
[State 0, PosAdd]
type = null;PosAdd
trigger1 = AnimElemTime(5)=1
x = 21

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 
value = 210,(5+random%2)
channel = 0

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,15
persistent = 0

[State 0, HitDef]
type = HitDef
triggerall = Var(18) <= 55
trigger1 = AnimElem = 4
attr = C,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = LA         ;HLA
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = back
fall.animtype = Back
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(fvar(11) * 36/fvar(19) < 7, 7, fvar(11) * 36/fvar(19)))), 0 
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = s10020
guard.sparkno = s10000
sparkxy = -8,0
hitsound   = s5,5
guardsound = S5,21
ground.type = Low      ;Low,Trip,None
ground.slidetime = 15
;guard.slidetime = 0
ground.hittime = 21
;guard.hittime = 0
air.hittime = 20
yaccel = 0.5
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),1,-1),-6
;guard.velocity = 0
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),1,-1),-6
fall = 1
fall.recover = 0
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,210))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35

[State 240, 5]
type = null;ChangeState
trigger1 = !ishelper
trigger1 = Var(9) = 1
trigger1 = AnimElemTime(9)=0
value = 461
ctrl = 1
ignorehitpause = 1

; followup
[State -1, followup]
type = null;ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
trigger1 = root,StateNo = 461
trigger1 = AnimElemTime(9)=0
value = 461

[State 210, 5]
type = ChangeState
triggerall = !Ishelper
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 210, 5]
type = ChangeState
triggerall = Ishelper
trigger1 = AnimTime = 0
value = 35011+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1
;---------------------------------------------------------------------------
; emo cHK followup
[Statedef 461]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 461
sprpriority = 2

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, VarSet]
type = VarSet
trigger1 = !Time
var(9) = 0
[State 0, VarSet]
type = VarSet
trigger1 = command = "c"
var(9) = 1
ignorehitpause = 1

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5,14

[State 245, PosAdd]
type = PosAdd
trigger1 = animelem = 2 
trigger2 = animelem = 3
x = 8

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 210,(5+random%2)
channel = 0


[State 240, 2]
type = HitDef
triggerall = !IsHelper
trigger1 = animelem = 3
;trigger1 = !NumTarget(1676)
attr = S, NA
animtype = Medium
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(fvar(11) * 35/fvar(19) < 7, 7, fvar(11) * 35/fvar(19)))), 0 
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s10020
guard.sparkno = s10000
sparkxy = -8,-60
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low      ;Low,Trip,None
ground.slidetime = 15
;guard.slidetime = 0
ground.hittime = 21
;guard.hittime = 0
air.hittime = 20
yaccel = 0.5
ground.velocity = Cond(Var(25)=1,0,-2),-6
;guard.velocity = 0
air.velocity = Cond(Var(25)=1,0,-2),-6
fall = 1
fall.recover = 1
fall.recovertime = 40
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,140))), Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,35))
givepower = 35,35

[State 240, 2]
type = HitDef
triggerall = IsHelper
trigger1 = animelem = 3
attr = S, NA
animtype = Medium
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(root,fvar(11) * 35/root,fvar(19) < 7, 7, root,fvar(11) * 35/root,fvar(19)))), 0 
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11, 11
guard.pausetime = 11,11
sparkno = s10020
guard.sparkno = s10000
sparkxy = -8,-60
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low      ;Low,Trip,None
ground.slidetime = 15
;guard.slidetime = 0
ground.hittime = 21
;guard.hittime = 0
air.hittime = 20
yaccel = 0.5
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-6
;guard.velocity = 0
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-6
fall = 1
fall.recover = 1
fall.recovertime = 40
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 7
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 6
value = 0

[State 240, 5]
type = ChangeState
trigger1 = !IsHelper
trigger1 = Var(9) = 1
trigger1 = AnimElemTime(7)=0
value = 462
ctrl = 1
ignorehitpause = 1

; followup
[State -1, followup]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
trigger1 = root,StateNo = 462
trigger1 = AnimElemTime(7)=0
value = 462

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 0, 5]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; JUMP STRONG KICK cHK followup
[Statedef 462]
type = A
movetype = A
physics = N
anim = 650
ctrl = 0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 2

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,15

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 220,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 220,(4+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 220,(8+random%2)
channel = 0

[State 250, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = anim = 650
trigger1 = AnimElem = 4
trigger2 = animelem = 6 
attr = A, NA
animtype  = Hard
damage    = Cond(IsHelper,32,ceil(ifElse(fvar(11) * 64/fvar(19) < 7, 7, fvar(11) * 64/fvar(19))))
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-74
hitsound   = s5,5
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime = 20
ground.velocity = Cond(Var(25)=1,0,-9)
air.velocity = Cond(Var(25)=1,0,-4),-4
air.animtype = back
getpower= Cond(p2movetype=H,Cond(IsHelper,0,Cond(var(28)>=1||var(29)>=1,0,40)),Cond(var(28)>=1||var(29)>=1,0,210)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098
persistent = 0

[State 250, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = anim = 650
trigger1 = AnimElem = 4
trigger2 = animelem = 6 
attr = A, NA
animtype  = Hard
damage    = Cond(IsHelper,32,ceil(ifElse(fvar(11) * 64/fvar(19) < 7, 7, fvar(11) * 64/fvar(19))))
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-74
hitsound   = s5,5
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime = 20
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),-4
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098
persistent = 0

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(50) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = AnimElemTime(5) <= 0
trigger1 = hitPauseTime = [1,12 - (1 - Var(50))]
value = anim
elem = 5
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = animelemtime(6) >= 0 && AnimElemTime(7) <= 0
trigger1 = hitPauseTime = [1,12 - (1 - Var(50))]
value = anim
elem = 7
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 11
physics = A         ;A,C,S,N


[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = ifelse(p2statetype=A,3,16)
ignorehitpause = 1
persistent = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 0

;---------------------------------------------------------------------------
; CROUCH STRONG KICK (Launcher)
[Statedef 470]
type = C
movetype = A
physics = C
anim = 470
ctrl = 0
velset = 0,0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 3
facep2 = IsHelper 

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 7
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing = root,Facing
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = [5,6]
triggerall = StateNo != [35100,35106]
triggerall = !Time
trigger1 = Facing != root,Facing
value = 35100
ctrl = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,15

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 220,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 220,(4+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 220,(8+random%2)
channel = 0

[State 245, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = 4
[State 245, PosAdd]
type = PosAdd
trigger1 = animelem = 2 
x = 16
[State 245, PosAdd]
type = PosAdd
trigger1 = animelem = 8 
trigger2 = animelem = 9
trigger3 = animelem = 10
x = 8
[State 245, PosAdd]
type = PosAdd
trigger1 = animelem = 11 
x = 9

[State 420, 3]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = !NumTarget(1676)
trigger1 = AnimElem = 5
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(fvar(11) * 36/fvar(19) < 7, 7, fvar(11) * 36/fvar(19)))), 0 
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12,15
guard.pausetime = 15,15
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-78
hitsound   = s5,5
guardsound = S5,21
animtype = Up
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = Cond(Var(25)=1,0,-1),-9.5
guard.velocity = Cond(Var(25)=1,0,-9)
air.velocity = ifelse(p2movetype=H,Cond(Var(25)=1,0,-3),Cond(Var(25)=1,0,-1)),ifelse(p2movetype=H,-5,-10)
fall = 1
air.animtype = back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,210)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.45
p2facing = 1

[State 420, 3]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = !NumTarget(1676)
trigger1 = AnimElem = 5
attr = S, NA
damage = Cond(IsHelper,Cond(P2MoveType=H,7,18),ceil(ifElse(root,fvar(11) * 36/root,fvar(19) < 7, 7, root,fvar(11) * 36/root,fvar(19)))), 0 
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12,15
guard.pausetime = 15,15
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-78
hitsound   = s5,5
guardsound = S5,21
animtype = Up
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-1),-9.5
guard.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
air.velocity = ifelse(p2movetype=H,Cond((root, MoveType = A && Facing != root, Facing),0,-3),Cond((root, MoveType = A && Facing != root, Facing),0,-1)),ifelse(p2movetype=H,-5,-10)
fall = 1
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.45
p2facing = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
triggerall = !IsHelper
trigger1 = MoveHit = 1
value = 651
persistent = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
triggerall = IsHelper
triggerall = Var(1)<=6
trigger1 = MoveHit = 1
value = 651
persistent = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
triggerall = IsHelper
triggerall = Var(1)=7
trigger1 = MoveHit = 1
value = 653
persistent = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 8
ignorehitpause = 1
persistent = 0

[State 200, AttackDist]
type = AttackDist
trigger1 = AnimElem = 6
value = 0

; sonic
[State -1, sonic]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 1000&&var(1)!=6
trigger2 = root,StateNo = 1000&&fvar(16)=1.0
value = 1000

; sjump
[State -1, sjump]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = [10230,10233]
trigger2 = Var(30) = 1.0
trigger3 = root, StateType = A
value = 10230

[State 0, 5]
type = ChangeState
trigger1 = Ishelper
trigger1 = AnimTime = 0
value = 35000
ctrl = 0

[State 400, End]
type = ChangeState
trigger1 = !Ishelper
trigger1 = AnimTime = 0
value = 11+(!NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(90000003))
ctrl = 1

;---------------------------------------------------------------
;Hit by cSK
[Statedef 651]
type    = A
movetype= H
physics = N

[State 1226, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5937)
value = 5061

[State 1226, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5937)
value = 5937

[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = -1
y = -12.5

[State 1226, Gravity]
type = VelAdd
trigger1 = 1
y = .51

[State 0, SelfState]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= -56)
trigger1 = command = "recovery"
value = 5200

[State 0, SelfState]
type = SelfState
trigger1 = Time >= 36 || (Time >= 16 && enemy, numexplod(250))
trigger1 = command = "recovery"
value = 5210

[State 1224, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------
;Hit by cSK
[Statedef 653]
type    = A
movetype= H
physics = N

[State 1226, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5937)
value = 5061

[State 1226, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5937)
value = 5937

[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -12.5

[State 1226, Gravity]
type = VelAdd
trigger1 = 1
y = .51

[State 0, SelfState]
type = SelfState
trigger1 = Time >= 36 || (Time >= 16 && enemy, numexplod(250))
trigger1 = command = "recovery"
value = 5210

[State 0, SelfState]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= -3)
trigger1 = command = "recovery"
value = 5200

[State 1224, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; JUMP LIGHT PUNCH
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
ctrl = 0
poweradd = 0
sprpriority = 2

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,10

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 200,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 201,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 202,0
channel = 0

[State 600, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y >=0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
damage    = Cond(IsHelper,8,ceil(ifElse(fvar(11) * 16/fvar(19) < 7, 7, fvar(11) * 16/fvar(19)))), 0 
guardflag = HA
animtype = Light
priority = 4, Hit
pausetime = 9,13
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-70
hitsound   = s5,0
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 8  ;7
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-3)
air.velocity = Cond(Var(25)=1,0,-2),-4
airguard.cornerpush.veloff= 0
getpower= Cond(var(28)>=1||var(29)>=1,0,40), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,NumExplod(987654321)) || NumExplod(52)=3 

[State 600, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y <0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
damage    = Cond(IsHelper,8,ceil(ifElse(fvar(11) * 16/fvar(19) < 7, 7, fvar(11) * 16/fvar(19)))), 0 
guardflag = MA
animtype = Light
priority = 4, Hit
pausetime = 9,13
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-70
hitsound   = s5,0
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 8  ;7
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-3)
air.velocity = Cond(Var(25)=1,0,-2),-4
airguard.cornerpush.veloff= 0
getpower= Cond(var(28)>=1||var(29)>=1,0,40), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,NumExplod(987654321)) || NumExplod(52)=3 

[State 600, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
damage    = Cond(IsHelper,8,ceil(ifElse(root,fvar(11) * 16/root,fvar(19) < 7, 7, root,fvar(11) * 16/root,fvar(19)))), 0 
guardflag = MA
animtype = Light
priority = 4, Hit
pausetime = 9,13
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-70
hitsound   = s5,0
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 8  ;7
ground.hittime  = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3)  ;-4
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-4
airguard.cornerpush.veloff= 0
getpower= 0,0;Cond(IsHelper,0,40), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,NumExplod(987654321)) || NumExplod(52)=3 

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 2
ignorehitpause = 1
persistent = 0

; a.MP
[State -1, a.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=0
trigger1 = root,StateNo = 610&&var(1)!=6
trigger2 = root,StateNo = 610&&fvar(5)=1.0
value = 610

; a.MK
[State -1, a.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=0
trigger1 = root,StateNo = 640&&var(1)!=6
trigger2 = root,StateNo = 640&&fvar(15)=1.0
value = 640

; a.DHP
[State -1, a.DHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=0
trigger1 = root,StateNo = 625&&var(1)!=6
trigger2 = root,StateNo = 625&&fvar(6)=1.0
value = 625

[State -1, Hyakuretsu Kyaku]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1100&&var(1)!=6
trigger2 = root,StateNo = 1100&&var(19)=1.0
value = 1100

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 1


;---------------------------------------------------------------------------
; JUMP MEDIUM PUNCH
[Statedef 610]
type    = A
movetype = A
physics = A
;poweradd = Cond(IsHelper,0,10)
ctrl = 0
anim = 611
sprpriority = 3

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(41) = 0
[State 800, VarSet]
type = VarSet
triggerall = !var(41)
trigger1 = time > 4
trigger1 = anim = 611 && animelemtime(7) < 0
triggerall = NumExplod(90000021)||NumExplod(90000022)||NumExplod(90000023)
triggerall = NumExplod(90000240)
var(41) = 1
ignorehitpause = 1

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5, 11

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 210,(5+random%2)
channel = 0

[State 610, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y >=0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(fvar(11) * 30/fvar(19) < 7, 7, fvar(11) * 30/fvar(19)))), 0  
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
pausetime = 11,15
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-60
hitsound   = s5,1
guardsound = S5,20
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-4)
air.velocity = Cond(Var(25)=1,0,-2),-4
airguard.cornerpush.veloff= 0
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 

[State 610, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y <0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(fvar(11) * 30/fvar(19) < 7, 7, fvar(11) * 30/fvar(19)))), 0  
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
pausetime = 11,15
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-60
hitsound   = s5,1
guardsound = S5,20
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-4)
air.velocity = Cond(Var(25)=1,0,-2),-4
airguard.cornerpush.veloff= 0
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 

[State 610, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(root,fvar(11) * 30/root,fvar(19) < 7, 7, root,fvar(11) * 30/root,fvar(19)))), 0  
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
pausetime = 11,15
sparkno = s10020
guard.sparkno = s10000
sparkxy = -10,-60
hitsound   = s5,1
guardsound = S5,20
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4)   ;-5
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-4
airguard.cornerpush.veloff= 0
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 2
ignorehitpause = 1
persistent = 0

; a.HK
[State -1, a.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = Anim = 610
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 650&&var(1)!=6
trigger2 = root,StateNo = 650&&fvar(16)=1.0
value = 650

; a.HP
[State -1, a.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = Anim = 610
triggerall = MoveContact || AnimElemTime(7)>=0
trigger1 = root,StateNo = 620&&var(1)!=6
trigger2 = root,StateNo = 620&&fvar(6)=1.0
value = 620

; a.DMK
[State -1, a.DMK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = animelemno(0) = 8
trigger1 = root,StateNo = 646&&var(1)!=6
trigger2 = root,Stateno = 646&&fvar(15)=1.0
value = 646

; a.DHP
[State -1, a.DHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=0
trigger1 = root,StateNo = 625&&var(1)!=6
trigger2 = root,StateNo = 625&&fvar(6)=1.0
value = 625

[State -1, Hyakuretsu Kyaku]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(6)>=2
trigger1 = root,StateNo = 1100&&var(1)!=6
trigger2 = root,StateNo = 1100&&var(19)=1.0
value = 1100

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 1


;---------------------------------------------------------------------------
; JUMP STRONG PUNCH
[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
ctrl = 0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 2

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State varset];a.SP juggle limiter
type = VarSet
trigger1 = !time && var(6)>0
var(7) = 1

[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2,0 ;Piccolo only

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 220,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 220,(4+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 220,(8+random%2)
channel = 0

[State -2, anti-fuzzy check]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(stateno+9999)
trigger1 = movecontact
trigger1 = numtarget
anim = 15999
ID = stateno+9999
pos = 0,0
postype = p1
removetime = abs(animtime)
removeongethit = 0
ignorehitpause = 1

[State 650, 3];opponent on ground
type = HitDef
triggerall = !IsHelper
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y >=0
triggerall = Var(18) <= 15
triggerall = p2statetype != A
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6 && !movecontact
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(fvar(11) * 52/fvar(19) < 7, 7, fvar(11) * 52/fvar(19)))), 0 
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-1)
air.velocity = Cond(Var(25)=1,0,-4),10
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
ID = 620

[State 650, 3];opponent on ground
type = HitDef
triggerall = !IsHelper
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y <0
triggerall = Var(18) <= 15
triggerall = p2statetype != A
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6 && !movecontact
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(fvar(11) * 52/fvar(19) < 7, 7, fvar(11) * 52/fvar(19)))), 0 
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-1)
air.velocity = Cond(Var(25)=1,0,-4),10
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
ID = 620

[State 650, 3];Opponent in air sent to custom bounce state
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = p2statetype = A && var(7)=0
trigger1 = AnimElem = 4
trigger1 = !NumExplod(300600)
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(fvar(11) * 52/fvar(19) < 7, 7, fvar(11) * 52/fvar(19)))), 0 
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 12,12
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-5)
air.velocity = Cond(Var(25)=1,0,-12*cos(pi/4)),12*sin(pi/4) ;45 degree fall. Speed of 12
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall.envshake.time = 12
fall.envshake.freq = 60
fall.envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.35
id = 621
;p2stateno = 621

[State 0, TargetState]
type = TargetState
triggerall = numtarget
;triggerall = numtarget(621)
triggerall = !(target, ishelper)
triggerall = p2statetype = A && var(7)=0
trigger1 = movehit = 1
value = 621
ignorehitpause = 1
persistent = 0

[State 650, 3];Opponent in air with bounce juggling limiter
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = p2statetype=A && var(7)=1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6 && !movecontact
trigger3 = NumExplod(300600)
trigger3 = AnimElem = 6 && !movecontact
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(fvar(11) * 52/fvar(19) < 7, 7, fvar(11) * 52/fvar(19)))), 0 
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-5)
air.velocity = Cond(Var(25)=1,0,-4),10
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
id = 620

[State 650, 3];opponent on ground
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = p2statetype != A
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6 && !movecontact
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(root,fvar(11) * 52/root,fvar(19) < 7, 7, root,fvar(11) * 52/root,fvar(19)))), 0 
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-1)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),10
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 620

[State 650, 3];Opponent in air sent to custom bounce state
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = p2statetype = A && var(7)=0
trigger1 = AnimElem = 4
trigger1 = !NumExplod(300600)
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(root,fvar(11) * 52/root,fvar(19) < 7, 7, root,fvar(11) * 52/root,fvar(19)))), 0 
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 12,12
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-12*cos(pi/4)),12*sin(pi/4) ;45 degree fall. Speed of 12
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall.envshake.time = 12
fall.envshake.freq = 60
fall.envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.35
id = 621

[State 650, 3];Opponent in air with bounce juggling limiter
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = p2statetype=A && var(7)=1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6 && !movecontact
trigger3 = NumExplod(300600)
trigger3 = AnimElem = 6 && !movecontact
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(root,fvar(11) * 52/root,fvar(19) < 7, 7, root,fvar(11) * 52/root,fvar(19)))), 0 
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 12,12
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s2,1 ;Piccolo only
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),10
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
id = 620

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 2
ignorehitpause = 1
persistent = 0

[State varset]
type = VarSet
trigger1 = p2stateno = 621
trigger1 = P2MoveType = H
var(6) = 1

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 0

;------------------------------------------------------------------------------;
;j.HP custom states
;------------------------------------------------------------------------------;
;Velocity preserving bounce.
[Statedef 621]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=651
value = 651

[State 4005, vel Y]
type = velset
trigger1 = Time = 15;animelemtime(2)=0
y = 8
x = -4
ignorehitpause = 1

[State 3052, Land]
type = changestate
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 652
ctrl = 0


;---------------------------------------------------------------------------
; j. d+HP
[Statedef 625]
type    = A
movetype = A
physics = N
;poweradd = Cond(IsHelper,0,10)
ctrl = 0
anim = 625
sprpriority = 3
velset =0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = !MoveHit
value = 0

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 610, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5, 12

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 220,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 220,(4+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 220,(8+random%2)
channel = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(5)>=0
y = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(5)>=0
physics = A         ;A,C,S,N

[State 650, 3];opponent on ground
type = HitDef
triggerall = p2statetype = A
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(fvar(11) * 48/fvar(19) < 7, 7, fvar(11) * 48))), 0 
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s5,2 
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = Cond(Var(25)=1,0,-3)
air.velocity = Cond(Var(25)=1,0,-4),10;-2,-4
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
air.fall = 1
fall.recover = 0

[State 650, 3];opponent on ground
type = HitDef
triggerall = p2statetype != A
triggerall = !IsHelper
triggerall = Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(fvar(11) * 48/fvar(19) < 7, 7, fvar(11) * 48))), 0 
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
guard.pausetime = 21,7
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s5,2 
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = Cond(Var(25)=1,0,-3)
air.velocity = Cond(Var(25)=1,0,-4),10;-2,-4
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
air.fall = 1
fall.recover = 0

[State 650, 3];opponent on ground
type = HitDef
triggerall = p2statetype = A
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(root,fvar(11) * 48/root,fvar(19) < 7, 7, root,fvar(11) * 48))), 0 
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s5,2 
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),10;-2,-4
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
air.fall = 1
fall.recover = 0

[State 650, 3];opponent on ground
type = HitDef
triggerall = p2statetype != A
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(root,fvar(11) * 48/root,fvar(19) < 7, 7, root,fvar(11) * 48))), 0 
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 16,16
guard.pausetime = 21,7
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s5,2 
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),10;-2,-4
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
air.fall = 1
fall.recover = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 2
ignorehitpause = 1
persistent = 0


[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 1


;---------------------------------------------------------------------------
; JUMP LIGHT KICK
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
ctrl = 0
poweradd = 0
sprpriority = 2

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5,13

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 200,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 201,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 202,0
channel = 0

[State 630, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y >=0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(fvar(11) * 20/fvar(19) < 7, 7, fvar(11) * 20/fvar(19)))), 0 
hitflag = MAF
guardflag = HA
animtype = Light
priority = 4, Hit
pausetime = 9,11
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-50
hitsound   = s5,3
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-3)
air.velocity = Cond(Var(25)=1,0,-2),-3
airguard.cornerpush.veloff= 0
getpower= Cond(var(28)>=1||var(29)>=1,0,40), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,NumExplod(987654321))|| NumExplod(52)=3  

[State 630, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y <0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
damage = Cond(IsHelper,19,ceil(ifElse(fvar(11) * 20/fvar(19) < 7, 7, fvar(11) * 20/fvar(19)))), 0 
hitflag = MAF
guardflag = MA
animtype = Light
priority = 4, Hit
pausetime = 9,11
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-50
hitsound   = s5,3
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-3)
air.velocity = Cond(Var(25)=1,0,-2),-3
airguard.cornerpush.veloff= 0
getpower= Cond(var(28)>=1||var(29)>=1,0,40), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,NumExplod(987654321))|| NumExplod(52)=3  

[State 630, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
damage = Cond(IsHelper,10,ceil(ifElse(root,fvar(11) * 20/root,fvar(19) < 7, 7, root,fvar(11) * 20/root,fvar(19)))), 0 
hitflag = MAF
guardflag = MA
animtype = Light
priority = 4, Hit
pausetime = 9,11
sparkno = s10010
guard.sparkno = s10000
sparkxy = -10,-50
hitsound   = s5,3
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 8
ground.hittime  = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-3)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),-3
airguard.cornerpush.veloff= 0
getpower= 0,0;Cond(IsHelper,0,40), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,NumExplod(987654321))|| NumExplod(52)=3 
fall.recover = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 2
ignorehitpause = 1
persistent = 0

; a.MP
[State -1, a.MP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=0
trigger1 = root,StateNo = 610&&var(1)!=6
trigger2 = root,StateNo = 610&&fvar(5)=1.0
value = 610

; a.MK
[State -1, a.MK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=0
trigger1 = root,StateNo = 640&&var(1)!=6
trigger2 = root,StateNo = 640&&fvar(15)=1.0
value = 640

; a.DHP
[State -1, a.DHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=0
trigger1 = root,StateNo = 625&&var(1)!=6
trigger2 = root,StateNo = 625&&fvar(6)=1.0
value = 625

[State -1, Hyakuretsu Kyaku]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1100&&var(1)!=6
trigger2 = root,StateNo = 1100&&var(19)=1.0
value = 1100

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 1


;---------------------------------------------------------------------------
;JUMP MEDIUM KICK
[Statedef 640]
type    = A
movetype = A
physics = A
;poweradd= Cond(IsHelper,0,10)
ctrl = 0
anim = 640
sprpriority = 2

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 800, VarSet]
type = VarSet
trigger1 = !time
var(41) = 0
[State 800, VarSet]
type = VarSet
triggerall = !var(41)
triggerall = !IsHelper
trigger1 = time > 4
trigger1 = anim = 640 && animelemtime(6) < 0
triggerall = NumExplod(90000021)||NumExplod(90000022)||NumExplod(90000023)
triggerall = NumExplod(90000240)
var(41) = 1
ignorehitpause = 1

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 5,14

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 210,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 210,(3+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 210,(5+random%2)
channel = 0

[State 640, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y >=0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0 
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-50
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
pausetime = 11,13
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 15
ground.velocity = Cond(Var(25)=1,0,-4)
air.velocity = Cond(Var(25)=1,0,-2),2
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 

[State 640, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y <0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0 
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-50
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
pausetime = 11,13
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 15
ground.velocity = Cond(Var(25)=1,0,-4)
air.velocity = Cond(Var(25)=1,0,-2),2
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 

[State 640, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 5
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(root,fvar(11) * 29/root,fvar(19) < 7, 7, root,fvar(11) * 29/root,fvar(19)))), 0 
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-50
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
pausetime = 11,13
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4)  ;-8
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-2),2
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 2
ignorehitpause = 1
persistent = 0

; a.HK
[State -1, a.HK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = Anim = 640
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 650&&var(1)!=6
trigger2 = root,StateNo = 650&&fvar(16)=1.0
value = 650

; a.HP
[State -1, a.HP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = Anim = 640
triggerall = MoveContact || AnimElemTime(6)>=0
trigger1 = root,StateNo = 620&&var(1)!=6
trigger2 = root,StateNo = 620&&fvar(6)=1.0
value = 620

; a.DHP
[State -1, a.DHP]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=0
trigger1 = root,StateNo = 625&&var(1)!=6
trigger2 = root,StateNo = 625&&fvar(6)=1.0
value = 625

; a.DMK
[State -1, a.DMK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = animelemno(0) = 8
trigger1 = root,StateNo = 646&&var(1)!=6
trigger2 = root,Stateno = 646&&fvar(15)=1.0
value = 646

; a.JHK
[State -1, a.JHK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = root,StateNo = 650
trigger1 = animelemtime(4) >=0&&var(1)!=6
trigger2 = MoveContact&&var(1)!=6
trigger3 = animelemtime(4) >=0&&fvar(16)=1.0
trigger4 = root,stateno&&fvar(16)=1.0
value = 650

[State -1, Hyakuretsu Kyaku]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(5)>=2
trigger1 = root,StateNo = 1100&&var(1)!=6
trigger2 = root,StateNo = 1100&&var(19)=1.0
value = 1100

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 1


;---------------------------------------------------------------------------
;j. d+MK
[Statedef 645]
type    = A
movetype = A
physics = A
juggle = 0;2
;poweradd= Cond(IsHelper,0,10)
ctrl = 0
anim = 645
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = !Time
anim = 1
ID = 645
removetime = -1
removeongethit = 1

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 5,14

[State 0, VarSet]
type = VarSet
trigger1 = !Time
trigger1 = PrevStateNo != 645
var(9) = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
trigger1 = PrevStateNo = 645
var(9) = 1

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 
value = 210,1
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 
value = 210,4
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 
value = 210,6
channel = 0

[State 640, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y >=0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0 
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-24
hitsound   = s5,4
guardsound = S5,20
ground.type = Low
pausetime = 11,13
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 15
ground.velocity = Cond(Var(25)=1,0,-4)
air.velocity = Cond(Var(25)=1,0,-3),-7
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,NumExplod(987654321))
fall.recover = 0

[State 640, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y <0
triggerall = Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0 
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-24
hitsound   = s5,4
guardsound = S5,20
ground.type = Low
pausetime = 11,13
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 15
ground.velocity = Cond(Var(25)=1,0,-4)
air.velocity = Cond(Var(25)=1,0,-3),-7
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 
fall.recover = 0


[State 640, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = AnimElem = 4
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(root,fvar(11) * 29/root,fvar(19) < 7, 7, root,fvar(11) * 29/root,fvar(19)))), 0 
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
sparkno = s10020
guard.sparkno = s10000
sparkxy = -20,-24
hitsound   = s5,4
guardsound = S5,20
ground.type = Low
pausetime = 11,13
guard.pausetime = 11,12
ground.slidetime = 8
ground.hittime = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4)  ;-8
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),2,-2),-7
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
fall = Cond(IsHelper && Var(1)=3, 0,NumExplod(987654321))
fall.recover = 0

[State -2, anti-fuzzy check]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(stateno+9999)
trigger1 = movecontact
trigger1 = numtarget
anim = 15999
ID = stateno+9999
pos = 0,0
postype = p1
removetime = abs(animtime)
removeongethit = 0
ignorehitpause = 1

[State 822, VelSet]
type = VelSet
trigger1 = movecontact = 1 
;x = 4*cos(2*pi/3)
y = const(velocity.jump.y)*sin(2*pi/3)
;y = -6*sin(2*pi/3)
persistent = 0

[State 645, Gravity]
type = VelAdd
trigger1 = movecontact
trigger1 = Vel Y >= 0
y = const(movement.yaccel)/1.5

; a.DMK
[State -1, a.DMK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = root,StateNo = 646
trigger1 = animelemtime(5) >=0&&var(1)!=6
trigger2 = MoveContact&&var(1)!=6
trigger3 = animelemtime(5) >=0&&fvar(15)=1.0
trigger4 = root,Stateno=646&&fvar(15)=1.0
value = 646

; a.JHK
[State -1, a.JHK]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = root,StateNo = 650
trigger1 = animelemtime(5) >=0&&var(1)!=6
trigger2 = MoveContact&&var(1)!=6
trigger3 = animelemtime(5) >=0&&fvar(16)=1.0
trigger4 = MoveContact&&fvar(16)=1.0
value = 650

[State -1, Hyakuretsu Kyaku]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1100&&var(1)!=6
trigger2 = root,StateNo = 1100&&var(19)=1.0
value = 1100

[State -1, Halo Stomp]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1200&&var(1)!=6
trigger2 = root,StateNo = 1200&&fvar(25)=1.0
value = 1200

[State -1, Halo Stomp EX]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1210&&var(1)!=6
trigger2 = root,StateNo = 1210&&fvar(25)=1.0
value = 1210

[State -1, Air Destructive Wave]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1370&&var(1)!=6
trigger2 = root,StateNo = 1370&&fvar(22)=1.0
value = 1370

[State -1, Air Destructive Wave EX]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1372&&var(1)!=6
trigger2 = root,StateNo = 1372&&fvar(22)=1.0
value = 1372

[State 0, CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 6
value = 1

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 1


;---------------------------------------------------------------------------
;j. d+MK (follow up)
[Statedef 646]
type    = A
movetype = A
physics = A
;poweradd= Cond(IsHelper,0,10)
ctrl = 0
anim = 646
sprpriority = 2

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 5,14

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 
value = 220,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 
value = 220,(4+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 
value = 220,(8+random%2)
channel = 0

[State 640, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = p2statetype != A
trigger1 = AnimElem = 3
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29/fvar(19)))), 0
guardflag = HA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
sparkno = s10020
guard.sparkno = s10000
pausetime = 12,12
sparkxy = -20,-24
hitsound   = s5,4
guardsound = S5,20
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-1)
air.velocity = Cond(Var(25)=1,0,-4),10
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5

[State 650, 3];Opponent in air sent to custom bounce state
type = HitDef
triggerall = !IsHelper
triggerall = Var(18) <= 15
triggerall = p2statetype = A 
trigger1 = AnimElem = 3
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(fvar(11) * 29/fvar(19) < 7, 7, fvar(11) * 29))), 0 
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 4, Hit
pausetime = 12,12
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond(Var(25)=1,0,-5)
air.velocity = Cond(Var(25)=1,0,-12*cos(pi/4)),12*sin(pi/4) ;45 degree fall. Speed of 3
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall.envshake.time = 12
fall.envshake.freq = 60
fall.envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.35
;p2stateno = 647
id = 647

[State 640, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = p2statetype != A
trigger1 = AnimElem = 3
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(root,fvar(11) * 29/root,fvar(19) < 7, 7, root,fvar(11) * 29/root,fvar(19)))), 0
guardflag = MA
hitflag = MAF
animtype  = Medium
priority = 4,Hit
sparkno = s10020
guard.sparkno = s10000
pausetime = 12,12
sparkxy = -20,-24
hitsound   = s5,4
guardsound = S5,20
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-1)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),10
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall = 1
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5

[State 650, 3];Opponent in air sent to custom bounce state
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = p2statetype = A 
trigger1 = AnimElem = 3
attr = A, NA
damage = Cond(IsHelper,15,ceil(ifElse(root,fvar(11) * 29/root,fvar(19) < 7, 7, root,fvar(11) * 29))), 0 
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 4, Hit
pausetime = 12,12
sparkno = s10030
guard.sparkno = s10000
sparkxy = -30,-55
hitsound   = s5,4
guardsound = S5,20
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-12*cos(pi/4)),12*sin(pi/4) ;45 degree fall. Speed of 3
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
fall.envshake.time = 12
fall.envshake.freq = 60
fall.envshake.ampl = 3
fall = 1
fall.recover = 0
p2facing = 1
airguard.cornerpush.veloff= 0
air.animtype = Back
fall.animtype = Back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.35
;p2stateno = 647
id = 647

[State -2, anti-fuzzy check]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(stateno+9999)
trigger1 = movecontact
trigger1 = numtarget
anim = 15999
ID = stateno+9999
pos = 0,0
postype = p1
removetime = abs(animtime)
removeongethit = 0
ignorehitpause = 1

[State 0, TargetState]  ;New state
type = TargetState
trigger1 = Numtarget(647)
trigger1 = movehit = 1
value = 647
ID = 647
ignorehitpause = 1
persistent = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = 2
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = IsHelper
trigger1 = Var(1)=7
trigger1 = Time >9
trigger1 = Pos Y = 0 || StateType = S
value = 35052

[State -1, Hyakuretsu Kyaku]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1100&&var(1)!=6
trigger2 = root,StateNo = 1100&&var(19)=1.0
value = 1100

[State -1, Halo Stomp]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1200&&var(1)!=6
trigger2 = root,StateNo = 1200&&fvar(25)=1.0
value = 1200

[State -1, Halo Stomp EX]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1210&&var(1)!=6
trigger2 = root,StateNo = 1210&&fvar(25)=1.0
value = 1210

[State -1, Air Destructive Wave]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1370&&var(1)!=6
trigger2 = root,StateNo = 1370&&fvar(22)=1.0
value = 1370

[State -1, Air Destructive Wave EX]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = MoveContact || AnimElemTime(4)>=2
trigger1 = root,StateNo = 1372&&var(1)!=6
trigger2 = root,StateNo = 1372&&fvar(22)=1.0
value = 1372


[State 1400, EndState]
type = Null;ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 1

;------------------------------------------------------------------------------;
;j. d+MK custom states
;------------------------------------------------------------------------------;
;Velocity preserving bounce.
[Statedef 647]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 3020, 2]
type = changeanim2
trigger1 = !time && anim !=651
value = 651

[State 5030, 2]
type = HitVelSet
trigger1 = animelemtime(2)=0
x = 1
y = 1
persistent = 0

[State 3052, Land]
type = changestate
trigger1 = Vel Y + Pos Y >= 0
value = stateno+1

;---------------------------------------------------------------------------
;Subtle bounce
[Statedef 648]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.5

[State 5100, 5]
type = VelSet
trigger1 = AnimTime = 0
y = -3
x = -2

[State 648, NotHitBy]
type = NotHitBy
trigger1 = enemy,numhelper(3501)=0||enemy,numhelper(3502)=0&&enemy,authorname="Piccolo Z2"
trigger1 = time >=0
value = SCA
time = 1

[State 111, 1]
type = StateTypeSet
trigger1 = AnimTime = 0
physics = A

[State 5100, 12]
type = SelfState
trigger1 = AnimTime = 0
value = 5101

;---------------------------------------------------------------------------
; JUMP STRONG KICK
[Statedef 650]
type = A
movetype = A
physics = A
anim = 650+5*(ifElse(Facing = 1, (NumExplod(90000023)||NumExplod(90000026)||NumExplod(90000029)),(NumExplod(90000021)||NumExplod(90000024)||NumExplod(90000027))))
ctrl = 0
;poweradd = Cond(IsHelper,0,20)
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root,anim=655;trigger1 = Var(1) = 3
trigger1 = !Time     
value = 655

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = IsHelper
trigger1 = MoveHit = 1
fvar(13) = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = AILEVEL>0
triggerall = !IsHelper
triggerall = (p2bodydist x = [35,80]) && (p2bodydist y = [40,90]) && P2StateType =A
trigger1 = !Time     
value = 655

[State 650, VelAdd]
type = VelAdd
trigger1 = Ishelper
trigger1 = root,statetype = A
y = -0.25

;[State 650, VelAdd]
;type = VelAdd
;triggerall = animelemtime(10) < 0
;trigger1 = command != "holdup"
;trigger1 = command = "holdfwd"
;x = 0.125*ln(time+1)

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,15

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = animelem=2 && random<350
value = 220,(random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = animelem=2 && random<350
value = 220,(4+random%2)
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = animelem=2 && random<350
value = 220,(8+random%2)
channel = 0

[State 640, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y >=0
triggerall = Var(18) <= 15
trigger1 = anim = 655
trigger1 = AnimElem = 6
attr = A, NA
damage = Cond(IsHelper,30,ceil(ifElse(fvar(11) * 40/fvar(19) < 7, 7, fvar(11) * 40/fvar(19)))), 0 
guardflag = HA
hitflag = MAF
animtype  = Hard
priority = 4,Hit
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-86
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 23
ground.velocity = Cond(Var(25)=1,0,-5),-4
air.velocity = Cond(Var(25)=1,0,-5),-4
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
pausetime = 11,13
guard.pausetime = 11,12
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = 1
fall.recover = 0
;numhelper(15999)
[State 640, 2]
type = HitDef
triggerall = !IsHelper
triggerall = Vel Y <0
triggerall = Var(18) <= 15
trigger1 = anim = 655
trigger1 = AnimElem = 6
attr = A, NA
damage = Cond(IsHelper,30,ceil(ifElse(fvar(11) * 40/fvar(19) < 7, 7, fvar(11) * 40/fvar(19)))), 0 
guardflag = MA
hitflag = MAF
animtype  = Hard
priority = 4,Hit
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-86
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 23
ground.velocity = Cond(Var(25)=1,0,-5),-4
air.velocity = Cond(Var(25)=1,0,-5),-4
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
pausetime = 11,13
guard.pausetime = 11,12
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,140)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
fall = 1
fall.recover = 0
;numhelper(15999)

[State -2, anti-fuzzy check]
type = Explod
triggerall = !IsHelper
trigger1 = !NumExplod(stateno+9999)
trigger1 = movecontact
trigger1 = numtarget
anim = 15999
ID = stateno+9999
pos = 0,0
postype = p1
removetime = abs(animtime)
removeongethit = 0
ignorehitpause = 1

[State 250, 2]
type = HitDef
triggerall = !IsHelper
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y >=0
triggerall = Var(18) <= 15
triggerall = anim = 650
trigger1 = AnimElem = 4
trigger2 = animelem = 6 
attr = A, NA
animtype  = Hard
damage    = Cond(IsHelper,32,ceil(ifElse(fvar(11) * 64/fvar(19) < 7, 7, fvar(11) * 64/fvar(19))))
priority = 4, Hit
guardflag = HA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-74
hitsound   = s5,5
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime = 25
ground.velocity = Cond(Var(25)=1,0,-9)
air.velocity = Cond(Var(25)=1,0,-4),-4
air.animtype = back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,210)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098
persistent = 0
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 

[State 250, 2]
type = HitDef
triggerall = !IsHelper
triggerall = !NumExplod(stateno+9999)
triggerall = Vel Y <0
triggerall = Var(18) <= 15
triggerall = anim = 650
;trigger1 = AnimElem = 4
trigger1 = animelem = 6 
attr = A, NA
animtype  = Hard
damage    = Cond(IsHelper,32,ceil(ifElse(fvar(11) * 64/fvar(19) < 7, 7, fvar(11) * 64/fvar(19))))
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-74
hitsound   = s5,5
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime = 25
ground.velocity = Cond(Var(25)=1,0,-9)
air.velocity = Cond(Var(25)=1,0,-4),-4
air.animtype = back
getpower= Cond(p2movetype=H,Cond(var(28)>=1||var(29)>=1,0,40),Cond(var(28)>=1||var(29)>=1,0,210)), Cond(var(28)>=1||var(29)>=1,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098
persistent = 0
fall = Cond(IsHelper && Var(1)=3, 0,(NumExplod(987654321)|| NumExplod(52)=3 ||prevstateno=600 || prevstateno=610|| prevstateno=630|| prevstateno=640)) 

[State 640, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
trigger1 = anim = 655
trigger1 = AnimElem = 6
attr = A, NA
damage = Cond(IsHelper,30,ceil(ifElse(root,fvar(11) * 40/root,fvar(19) < 7, 7, root,fvar(11) * 40/root,fvar(19)))), 0 
guardflag = MA
hitflag = MAF
animtype  = Hard
priority = 4,Hit
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-86
hitsound   = s5,5
guardsound = S5,21
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime = 20
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5),-4
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-5),-4
envshake.time = 12
envshake.freq = 60
envshake.ampl = 3
pausetime = 11,13
guard.pausetime = 11,12
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,140)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
fall = 1
fall.recover = 0
;numhelper(15999)

[State 250, 2]
type = HitDef
triggerall = IsHelper
triggerall = root,Var(18) <= 15
triggerall = anim = 650
;trigger1 = AnimElem = 4
trigger1 = animelem = 6 
attr = A, NA
animtype  = Hard
damage    = Cond(IsHelper,32,ceil(ifElse(root,fvar(11) * 64/root,fvar(19) < 7, 7, root,fvar(11) * 64/root,fvar(19))))
priority = 4, Hit
guardflag = MA
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s10030
guard.sparkno = s10000
sparkxy = -20,-74
hitsound   = s5,5
guardsound = S5,21
ground.type = low
ground.slidetime = 15
ground.hittime = 20
ground.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-9)
air.velocity = Cond((root, MoveType = A && Facing != root, Facing),0,-4),-4
air.animtype = back
getpower= 0,0;Cond(p2movetype=H,Cond(IsHelper,0,40),Cond(IsHelper,0,210)), Cond(IsHelper,0,35)
givepower = 35,35
yaccel = 0.5
ID = 1098
persistent = 0

[State 205, Time Offset]
type = VarSet
trigger1 = moveContact = 1
var(50) = Time
ignorehitpause = 1
persistent = 0

[State 205, Play Anim]
type = ChangeAnim
triggerall = anim = 650
triggerall = AnimElemTime(5) <= 0
trigger1 = hitPauseTime = [1,12 - (1 - Var(50))]
value = anim
elem = 5
ignorehitpause = 1

[State 205, Play Anim]
type = ChangeAnim
triggerall = anim = 650
triggerall = animelemtime(6) >= 0 && AnimElemTime(7) <= 0
trigger1 = hitPauseTime = [1,12 - (1 - Var(50))]
value = anim
elem = 7
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = MoveHit = 1
trigger1 = P2StateType = A
var(18) = ifelse(p2statetype=A,3,16)
ignorehitpause = 1
persistent = 0

[State 1400, EndState]
type = ChangeState
trigger1 = !animtime
value = ifelse(vel X >= 0,50,116)
ctrl = 0

;---------------------------------------------------------------------------
;P2 bouncing on the ground from a.SP

[Statedef 652]
type    = L
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 0

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,NP,SP,NT,ST
time = 1

[State 5100, 5]
type = VelSet
triggerall = prevstateno =1482
triggerall = AnimTime = 0
trigger1 = name != "Krillin Z2"
trigger2 = name != "Freeza Z2"
trigger3 = name != "Gotenkz Z2"
trigger4 = name != "Vegetto Z2"
trigger5 = name != "Babidi Z2"
trigger6 = name != "Saibamen Z2"
trigger7 = name != "TenShinHan Z2"
y = -8
x = 0

[State 5100, 5]
type = VelSet
triggerall = prevstateno =1482
triggerall = AnimTime = 0
trigger1 = name = "Krillin Z2"
trigger2 = name = "Freeza Z2"
trigger3 = name = "Gotenkz Z2"
trigger4 = name = "Babidi Z2"
trigger5 = name = "Saibamen Z2"
trigger6 = name = "TenShinHan Z2"
y = -10.5
x = 0

[State 5100, 5]
type = VelSet
triggerall = prevstateno =1482
triggerall = AnimTime = 0
trigger1 = name ="Vegetto Z2"
y = -11.5
x = 0

[State 5100, 5]
type = VelSet
triggerall = prevstateno !=1482
trigger1 = AnimTime = 0
y = -7.5
x = Cond(PrevStateNo = 1411, 2,-2)

[State 111, 1]
type = StateTypeSet
trigger1 = AnimTime = 0
physics = A

[State 5100, 12]
type = SelfState
trigger1 = AnimTime = 0
value = 5050

;===========================================================================
; <<<<< FORWARD THROW >>>>>
; Grab state : 800
; Piccolo throws : 801
; P2 thrown state : 805
;===========================================================================
;-------------------------------------------------------------------------------

;Forward Throw (Grab)
[Statedef 800]
type = S
movetype = A
physics = S
juggle = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1
facep2 = 1
;poweradd = 20

[State 810, Don't Guard]
type = attackdist
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = MoveHit = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 15

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = NumTarget
trigger1 = !(target, ishelper)
trigger1 = MoveHit
value = 801
elem = 1 ; change this to animelemno of grab you wish frozen
ignorehitpause = 1

[State 810, hit]
type = HitDef
triggerall = P2BodyDist X <35
triggerall = Var(18) <= 15
trigger1 = animelem=4 && !var(38)
trigger1 = Var(0)=0 || enemy, AuthorName != "Team Z2";NEW
attr = S,NT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 801
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1

[State 810, hit]
type = HitDef
triggerall = P2BodyDist X <35
triggerall = Var(18) <= 15
trigger1 = animelem=4 && !var(38)
trigger1 = Var(0)>0 ;NEW
attr = S,NT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 801
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1
id = Cond((enemynear, NumExplod(98000000)),800,801);NEW

[State 0, TargetState]
type = TargetState
trigger1 = MoveHit =1
trigger1 = NumTarget(800)
trigger1 = target, StateNo != [800,899]
trigger1 = target, AuthorName = "Team Z2"
value = 899
ignorehitpause = 1
 
[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=2
trigger1 = NumTarget(800)
trigger1 = target, time<=5
trigger1 = target, StateNo = 5949
value = 5940
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=1
trigger1 = enemynear, StateNo = 950
value = 950
ignorehitpause = 1
persistent = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = NumTarget(800)
trigger1 = target, time>=6
trigger1 = target, StateNo = 899
trigger2 = !NumTarget(800) || (NumTarget(800) && enemy, AuthorName != "Team Z2");new2
trigger2 = MoveHit=1
value = 801
ignorehitpause = 1
persistent = 0

[State 810, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 5,10

[State 810, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;----------------------------
;Got you motha sucka!
[Statedef 801]
type = S
movetype = A
physics = S
anim = 801
ctrl = 0
sprpriority = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time
fvar(13) = 2

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(18) = 16

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=0,Var(55)=0)
trigger1 = Time = 5
value = 420,0
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=1,Var(55)=1)
trigger1 = Time = 5
value = 420,1
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = Cond(IsHelper,root,var(55)=2,Var(55)=2)
trigger1 = Time = 5
value = 420,2
channel = 0

[State Throw]
type = targetstate
trigger1 = !time
value = 805

[State 0, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(5) >= 0
value = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = AnimElemTime(1)>0 && AnimElemTime(5)<0
value = 0
movecamera = 0,0

[State 0, VarAdd]
type = VarAdd
triggerall = var(53) < 2100
trigger1 = AnimElemTime(4)=3
var(53) = 75

[state 1215, Power Up]
type = explod
trigger1 = AnimElemTime(4)=0
anim = 802
id = 802
pos = 0,0
postype = P1
sprpriority = -2
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 0

[state 1215, Explosion FX]
type = explod
trigger1 = AnimElemTime(4)=3
anim = 803
id = 803
pos = 33,-173
postype = P1
sprpriority = 6
ownpal = 1
removetime = -2
persistent = 0
ignorehitpause = 0
;bindtime = -1

[State 13100, explosion sound]
type = playsnd
trigger1 = AnimElemTime(4)=3
value = 803,1

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElemTime(4)=5
time = 14
freq = 120
ampl = -4
phase = 90

[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = ceil(50 * const(size.xScale)),ceil(-10 * const(size.yScale))
[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = ceil(45.333 * const(size.xScale)),ceil(-155.333 * const(size.yScale))
[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = ceil(24.667 * const(size.xScale)),ceil(-170 * const(size.yScale))
[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(4) < 9
pos = ceil(24.667 * const(size.xScale)),ceil(-170 * const(size.yScale))
[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(4) = 10
pos = ceil(59.333 * const(size.xScale)),ceil(-64.667 * const(size.yScale))

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 5,12
channel = 1

[State 810, power]
type = poweradd
trigger1 = animelemtime(5)=0
value = 180

[State 811, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----------------------------
;P2 Hit by Throw
[Statedef 805]
type = S
movetype = H
physics = S
ctrl = 0
sprpriority = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 805

[State 6050, Explod]
type = Explod
trigger1 = AnimElemTime(5)=0
anim = 8601
ID = 8600
pos = 15,-50   
postype = p1
sprpriority = 2
bindtime = -1
ownpal = 1
facing = -1

[State 6050, Explod]
type = Explod
trigger1 = AnimElemTime(5)=0
anim = 8601
ID = 8600
pos = -15,-70   
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = enemy, command = "holdfwd"
trigger1 = AnimElemTime(6)>=0 && AnimElemTime(7)<=0
x = -24

[State 0, VelSet]
type = VelSet
trigger1 = enemy, command = "holdback"
trigger1 = AnimElemTime(6)>=0 && AnimElemTime(7)<=0
x = -4
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = enemy, command != "holdfwd"
trigger1 = enemy, command != "holdback"
trigger1 = AnimElemTime(6)>=0 && AnimElemTime(7)<=0
x = -13
y = -4

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(8)>1
y = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = AnimElemTime(1)>0 && AnimElemTime(5)<0
value = 0
movecamera = 0,0

[State 810, Normal throw]
type = LifeAdd
trigger1 = AnimElemTime(4)=1
value = -65
kill = 1
[State 810, hurt]
type = poweradd
trigger1 = animelemtime(5)=0
value = 35

[State 1224, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100




;===========================================================================
; <<<<< REVERSE THROW >>>>>
; Grab state : 810
; Piccolo throws : 811
; P2 thrown state : 815
;===========================================================================
;-------------------------------------------------------------------------------

;Reverse Throw (Grab)
[Statedef 810]
type = S
movetype = A
physics = S
juggle = 15
velset = 0,0
ctrl = 0
anim = 810
sprpriority = 1
facep2 = 1
;poweradd = 20

[State 810, Don't Guard]
type = attackdist
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = MoveHit = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 15

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = NumTarget
trigger1 = !(target, ishelper)
trigger1 = MoveHit
value = Anim
elem = 3 ; change this to animelemno of grab you wish frozen
ignorehitpause = 1

[State 810, hit]
type = HitDef
triggerall = P2BodyDist X <35
triggerall = Var(18) <= 15
trigger1 = animelem=3 && !var(38)
trigger1 = Var(0)=0 || enemy, AuthorName != "Team Z2";NEW
attr = S,NT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 811
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1

[State 810, hit]
type = HitDef
triggerall = P2BodyDist X <35
triggerall = Var(18) <= 15
trigger1 = animelem=3 && !var(38)
trigger1 = Var(0)>0 ;NEW
attr = S,NT
hitflag = M-
priority = 1,Miss
sparkno = -1
p1facing = 1
p2facing = 1
;p1stateno = 811
guard.dist = 0
fall = 1
fall.recover = 0
hitsound = s800,1
id = Cond((enemynear, NumExplod(98000000)),800,801);NEW

[State 810, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 5,10

[State 0, TargetState]
type = TargetState
trigger1 = MoveHit =1
trigger1 = NumTarget(800)
trigger1 = target, StateNo != [800,899]
trigger1 = target, AuthorName = "Team Z2"
value = 899
ignorehitpause = 1
 
[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=2
trigger1 = NumTarget(800)
trigger1 = target, time<=5
trigger1 = target, StateNo = 5949
value = 5940
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Var(0)=1
trigger1 = enemynear, StateNo = 950
value = 950
ignorehitpause = 1
persistent = 0
 
[State 0, ChangeState]
type = ChangeState
trigger1 = NumTarget(800)
trigger1 = target, time>=6
trigger1 = target, StateNo = 899
trigger2 = !NumTarget(800) || (NumTarget(800) && enemy, AuthorName != "Team Z2");new2
trigger2 = MoveHit=1
value = 811
ignorehitpause = 1
persistent = 0

[State 810, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;----------------------------
;Got you motha sucka!
[Statedef 811]
type = S
movetype = A
physics = S
anim = 811
ctrl = 0
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = !time
fvar(13) = 2

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(18) = 16

[State 220, snd]
type = playsnd
triggerall = Cond(IsHelper,root,var(55)=0,Var(55)=0)
		;Voice=English
trigger1 = !time
value = 811,0
channel = 0
volumescale = 100

[State 220, snd]
type = playsnd
triggerall = Cond(IsHelper,root,var(55)=1,Var(55)=1)
		
trigger1 = !time
value = 811,1
channel = 0
volumescale = 100

[State 220, snd]
type = playsnd
triggerall = Cond(IsHelper,root,var(55)=2,Var(55)=2)		
trigger1 = !time
value = 811,2
channel = 0
volumescale = 100

[State Throw]
type = targetstate
trigger1 = !time
value = 815

[State 0, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(5) >= 0
value = -1

[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
pos = ceil(77 * const(size.xScale)),Cond((P2Name = "Babidi Z2" || P4Name = "Babidi Z2"),-40,0)
[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = ceil(77 * const(size.xScale)),Cond((P2Name = "Babidi Z2" || P4Name = "Babidi Z2"),-40,0)
[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = ceil(41 * const(size.xScale)),Cond((P2Name = "Babidi Z2" || P4Name = "Babidi Z2"),-90,ceil(-10 * const(size.yScale)))
[State 820, 1]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = ceil(7 * const(size.xScale)),Cond((P2Name = "Babidi Z2" || P4Name = "Babidi Z2"),-115,ceil(-35 * const(size.yScale)))


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 5,10
channel = -1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 5,12
channel = 1

[State 810, power]
type = poweradd
trigger1 = animelemtime(3)=0
value = 180

[State 0, Turn]
type = Turn
trigger1 = AnimElem = 9

[State 811, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----------------------------
;P2 Hit by Back Throw
[Statedef 815]
type = S
movetype = H
physics = S
anim = 5000
ctrl = 0
sprpriority = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 815

[State 815, StayOnTarget]
type = ScreenBound
trigger1 = Anim = 815
value = 1
movecamera = 1,0

[State 0, PosSet]
type = PosSet
trigger1 = P1Name = "Babidi Z2" || P3Name = "Babidi Z2"
trigger1 = Time = 22
y = -100
[State 0, PosSet]
type = PosSet
trigger1 = P1Name = "Babidi Z2" || P3Name = "Babidi Z2"
trigger1 = Time = 23
y = -40

[State 0, VelSet]
type = VelSet
trigger1 = Time = 20
x = 25
y = -1.5

[State 0, VelAdd]
type = VelAdd
trigger1 = Time > 22
y = 1.25

[State 0, Width]
type = NULL;Width
trigger1 = 1
value = 20,0

[State 810, Normal throw]
type = LifeAdd
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = -60
kill = 1
[State 810, hurt]
type = poweradd
trigger1 = animelemtime(5)=0
value = 35

[State 1224, Hit ground]
type = Turn
trigger1 = (Vel y > 0) && (Pos y >= 0)

[State 1224, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;----------------------------
;Enemy Grabbed
[Statedef 899]
type    = S
movetype= H
physics = N
 
[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 899
 
[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
 
[State 0, SelfState]
type = SelfState
trigger1 = ((NumExplod(90000800))|| (command = "x" && command = "a")) && command != "up"
value = Cond(enemynear,Var(0)=1,950,5940)
 
[State 0, SelfState]
type = SelfState
trigger1 = Time >= 6
value = 0
ctrl = 1