[Remap]
x = x
y = y
z = z
a = a
b = b
c = c
s = s

;-| Default Values |-------------------------------------------------------
[Defaults]
; Default value for the "time" parameter of a Command. Minimum 1.
command.time = 15

; Default value for the "buffer.time" parameter of a Command. Minimum 1,
; maximum 30.
command.buffer.time = 1

;====================<SINGLE BUTTON>====================

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1



;==================<HOLD DIRECTION>==================

[Command]
name = "holdfwd"
command=/$F
time=1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup"
command = /$U
time=1

[Command]
name = "holddown"
command = /$D
time = 1


;====================<HOLD BUTTON>====================

[Command]
name = "holda"
command = /a
time = 1

[Command]
name = "holdb"
command = /b
time = 1

[Command]
name = "holdc"
command = /c
time = 1

[Command]
name = "holdx"
command = /x
time = 1


[Command]
name = "holdy"
command = /y
time = 1

[Command]
name = "holdz"
command = /z
time = 1

[Command]
name = "holdstart"
command = /s
time = 1



;====================<DIRECTION>====================

[Command]
name = "fwd"
command = F
time = 1

[Command]
name = "back"
command = B
time = 1

[Command]
name = "up"
command = U
time = 1

[Command]
name = "down"
command = D
time = 1

[Command]
name = "dfwd"
command = DF
time = 1

[Command]
name = "dback"
command = DB
time = 1

[Command]
name = "ufwd"
command = UF
time = 1

[Command]
name = "uback"
command = UB
time = 1



;====================<RELEASE DIR>====================

[Command]
name = "rlsfwd"
command = ~$F
time = 1

[Command]
name = "rlsback"
command = ~$B
time = 1

[Command]
name = "rlsup"
command = ~$U
time = 1

[Command]
name = "rlsdown"
command = ~$D
time = 1



;====================<RELEASE BUTTON>====================

[Command]
name = "rlsx"
command = ~x
time = 1

[Command]
name = "rlsy"
command = ~y
time = 1

[Command]
name = "rlsz"
command = ~z
time = 1

[Command]
name = "rlsa"
command = ~a
time = 1

[Command]
name = "rlsb"
command = ~b
time = 1

[Command]
name = "rlsc"
command = ~c
time = 1



;====================<OTHER>====================

[Command]
name = "highjump"
command = $D, $U
time = 15



;====================<DOUBLE TAP>====================

[Command]
name = "FF"
command = F, F
time = 10

[Command]
name = "BB"
command = B, B
time = 10



;====================<2/3 BUTTON COMBINATION>====================

[Command]
name = "recovery"
command = /x
time = 1

[Command]
name = "recovery"
command = /y
time = 1

[Command]
name = "recovery"
command = /z
time = 1

[Command]
name = "recovery"
command = /a
time = 1

[Command]
name = "recovery"
command = /b
time = 1

[Command]
name = "recovery"
command = /c
time = 1


[Command]
name = "pp"
command = x+y
time = 1

[Command]
name = "pp"
command = x+z
time = 1

[Command]
name = "pp"
command = y+z
time = 1


[Command]
name = "kk"
command = a+b
time = 1

[Command]
name = "kk"
command = a+c
time = 1

[Command]
name = "kk"
command = b+c
time = 1


[Command]
name = "a+x"
command = a+x
time=1

[Command]
name = "b+y"
command = b+y
time = 1

[Command]
name = "c+z"
command = c+z
time = 1


[Command]
name = "a+b"
command = a+b
time = 1

[Command]
name = "a+c"
command = a+c
time = 1

[Command]
name = "b+c"
command = b+c
time = 1

;==============================================================================================
;========================================<-1 STATES>===========================================
;==============================================================================================
[StateDef -1]

;==============================================================================================
;==============================================================================================
;================================<EXPLODsive Buffering System>=================================
;====================================<by JustMorphPointman>====================================
;==============================================================================================
;==============================================================================================

;This is an explod-based buffering system, designed to overcome several different errors and bugs
;related to MUGEN's default method of processing commands, as well as offering creators more control
;over how the commands of their character should work. It is designed to be easy to use, understand,
;and install. For more information, including instructions on how to add this to a character, as
;well as how to customize it and add new commands, please visit http://mugenguild.com/forum/msg.2366951

;==============================================================================================
;========================<QUICK REFERENCE GUIDE TO THE EXPLOD ID #'s>==========================
;==============================================================================================

;BASIC DIRECTIONAL INPUTS (these are primarily used to detect directional releases, but also can
;be used outside of the Buffering system code block to detect when a specific direction is currently
;being input or held down)

;Down:										90000002
;Down-right:									90000003
;Right:										90000006
;Up-right:									90000009
;Up:										90000008
;Up-left:									90000007
;Left:										90000004
;Down-left:									90000001


;BUTTON PRESS
;x:										90000200
;y:										90000210
;z:										90000220
;a:										90000230
;b:										90000240
;c:										90000250
;start:										90000195


;BUTTON RELEASE
;x:										90000205
;y:										90000215
;z:										90000225
;a:										90000235
;b:										90000245
;c:										90000255
;start:										90000196


;SYSTEM MOTIONS
;Down (3 ticks):				(D with a 3 tick buffer)	90000012
;Down-right (3 ticks):				(DR with a 3 tick buffer)	90000013
;Right (3 ticks):				(R with a 3 tick buffer)	90000016
;Up-right (3 ticks):				(UR with a 3 tick buffer)	90000019
;Up (3 ticks):					(U with a 3 tick buffer)	90000018
;Up-left (3 ticks):				(UL with a 3 tick buffer)	90000017
;Left (3 ticks):				(L with a 3 tick buffer)	90000014
;Down-left (3 ticks):				(DL with a 3 tick buffer)	90000011

;Down (3 ticks + HitPause):			(D w/ 3 tick buffer + HitPause)	90000022
;Down-right (3 ticks + HitPause):		(DR w/ 3 tick buffer + HitPause)90000023
;Right (3 ticks + HitPause):			(R w/ 3 tick buffer + HitPause)	90000026
;Up-right (3 ticks + HitPause):			(UR w/ 3 tick buffer + HitPause)90000029
;Up (3 ticks + HitPause):			(U w/ 3 tick buffer + HitPause)	90000028
;Up-left (3 ticks + HitPause):			(UL w/ 3 tick buffer + HitPause)90000027
;Left (3 ticks + HitPause):			(L w/ 3 tick buffer + HitPause)	90000024
;Down-left (3 ticks + HitPause):		(DL w/ 3 tick buffer + HitPause)90000021

;R, R:						(F, F)				90001016
;L, L:						(B, B)				90001064
;D, U:						(D, U)				90000408
;U, U:						(U, U)				90000518
;D, D:						(D, D)				90000562
;R, DR, D					(F, DF, D)			90007502
;L, DL, D					(B, DB, D)			90007552


;SPECIAL MOTIONS
;D, DR, R:					(QCF)				90010006
;D, DL, L:					(QCB)				90010104
;R, D, DR:					(F, D, DF)			90010203
;L, D, DL:					(B, D, DB)			90010301
;L, DL, D, DR, R:				(HCF)				90010406
;R, DR, D, DL, L:				(HCB)				90010504
;(charge) L, R:					([charge] B, F)			90010606
;(charge) R, L:					([charge] F, B)			90010704
;(charge) D, U:					([charge] D, U)			90010808
;L, D, R, U:					(360)				90011008
;L, U, R, D:					(360)				90011102
;D, R, U, L:					(360)				90011204
;D, L, U, R:					(360)				90011306
;R, D, L, U:					(360)				90011408
;R, U, L, D:					(360)				90011502
;U, R, D, L:					(360)				90011604
;U, L, D, R:					(360)				90011706
;R, D, L, R:					(HCB, F)			90012016
;L, D, R, L:					(HCF, B)			90012114
;R, L, R:					(F, B, F)			90012216
;L, R, L:					(B, F, B)			90012314
;D, DR, R, UR:					(QCF, UF)			90012409
;D, DL, L, UL:					(QCB, UB)			90012507
;D, D:						([special] D, D)		90012602
;123P CHARGE:					(123 pucnh charge)		90012702
;123K CHARGE:					(123 kick charge)		90012803


;SUPER MOTIONS
;D, DR, R, D, DR, R:				(QCFx2)				90030016
;D, DL, L, D, DL, L:				(QCBx2)				90030114
;L, DL, D, DR, R, L, DL, D, DR, R:		(HCFx2)				90030416
;R, DR, D, DL, L, R, DR, D, DL, L:		(HCBx2)				90030514
;(charge) L, R, L, R:				([charge] B, F, B, F)		90030616
;(charge) R, L, R, L:				([charge] F, B, F, B)		90030714
;(charge) DL, DR, DL, UR:			([charge] DB, DF, DB, UF)	90030809
;(charge) DR, DL, DR, UL:			([charge] DF, DB, DF, UB)	90030907
;L, D, R, U, L, D, R, U:			(720)				90031018
;L, U, R, D, L, U, R, D:			(720)				90031112
;D, R, U, L, D, R, U, L:			(720)				90031214
;D, L, U, R, D, L, U, R:			(720)				90031316
;R, D, L, U, R, D, L, U:			(720)				90031418
;R, U, L, D, R, U, L, D:			(720)				90031512
;U, R, D, L, U, R, D, L:			(720)				90031614
;U, L, D, R, U, L, D, R:			(720)				90031716
;R, L, D, R:					(F, HCF)			90032016
;L, R, D, L:					(B, HCB)			90032114
;D, DR, R, D, L:				(QCF, HCB)			90032204
;D, DL, L, D, R:				(QCB, HCF)			90032306
;D, DR, R, DR, L:				(QCF, DF, B)			90032404
;D, DL, L, DL, R:				(QCB, DB, F)			90032506
;D, D, D:					(D, D, D)			90032602


;SUPER MOTIONS (button inputs)
;x, x, F, a, z:					(Shun Goku Satsu)		94000220



;==============================================================================================
;===================================<DIRECTIONAL COMMANDS>=====================================
;==============================================================================================

;==============================================================================================
;These are required for the system to function; they are active whenever the specified direction
;is currently being input, and disappear as soon as they are released (via a series of RemoveExplods
;at the bottom of the Buffering system code block). They are used by the system to detect directional
;releases, but can also be used outside of the Buffering system code block to detect when a specific
;direction is being input or held down.
;==============================================================================================

[State -1, Release Down Detector]
type = Explod
;make sure explod doesn't already exist
triggerAll = !NumExplod(90000002)
;check to make sure Helper exists, and that the entity running this code isn't the helper, and that
;the AI isn't active. Only a human player should be making explods!
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
;If either of these explods exist, then down/up inputs have been reversed (this is usually caused
;by an attack of some sort, such as Thanos's Mind Gem super). We can easily flip left/right commands,
;but for down/up inputs, we must have two sets of triggers. This is the first set, which only activate
;if the explods don't exist, so we can just check the inputs normally.
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
;explod will be created if down is input
trigger1 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
;no other directions may be input, otherwise it wouldn't be a down input!
trigger1 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
;These sets of triggers, however, only are used if one of the direction input reversal explods exist.
;We treat "down" inputs as "up", and vice-versa; "down-right" is treated as "up-right", and so on.
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger2 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
anim = 1
ID = 90000002
;these explods are only removed via a RemoveExplod, so their RemoveTime is set to -1 (aka infinite)
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release Down-Right Detector]
type = Explod
triggerAll = !NumExplod(90000003)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger1 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger1 = Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger2 = Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
anim = 1
ID = 90000003
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release Right Detector]
type = Explod
triggerAll = !NumExplod(90000006)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown" && Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
anim = 1
ID = 90000006
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release Up-Right Detector]
type = Explod
triggerAll = !NumExplod(90000009)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger1 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger1 = Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger2 = Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
anim = 1
ID = 90000009
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release Up Detector]
type = Explod
triggerAll = !NumExplod(90000008)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger1 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger2 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
anim = 1
ID = 90000008
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release Up-Left Detector]
type = Explod
triggerAll = !NumExplod(90000007)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger1 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger1 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger2 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger2 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
anim = 1
ID = 90000007
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release Left Detector]
type = Explod
triggerAll = !NumExplod(90000004)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown" && Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
anim = 1
ID = 90000004
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release Down-Left Detector]
type = Explod
triggerAll = !NumExplod(90000001)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger1 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger1 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger2 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger2 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
anim = 1
ID = 90000001
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1



;==============================================================================================
;==========================================<BUTTONS>===========================================
;==============================================================================================

[State -1, Press x]
type = Explod
;if there already exists a "press x" explod, and the player is in HitPauseTime, then we don't need another!
trigger1 = !HitPauseTime || !NumExplod(90000200)
trigger1 = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "x"
anim = 1
ID = 90000200
;the removeTime, pauseMoveTime, and superMoveTime all must be the same value. This represents the
;amount of time (in ticks) that this individual input is "active"; in other words, it's the window
;of time the player has to input the next input in sequence (or if it's the final input of a command,
;the amount of time that command will last, if the character cannot currently perform the move in
;question). We use "10" as the default value for most directional inputs, because it's generally the
;standard amount of time for most games
;We use "3" for button inputs, which is what many modern games use, but there's a lot of variance
;there.

;We also include " + ifElse(HitPauseTime, HitPauseTime - 1, 0)" to the RemoveTime/PauseMoveTime/SuperMoveTime
;in order to keep the command alive during hit pause. This goes on all button press commands, as well as
;the final directional input of any system, special, or super command.
;For more information on what the removeTime (and pauseMoveTime, et. al.) represents, see the comments for
;the "Right, Right" command
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

[State -1, Press y]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000210)
trigger1 = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "y"
anim = 1
ID = 90000210
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

[State -1, Press z]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000220)
trigger1 = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "z"
anim = 1
ID = 90000220
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

[State -1, Press a]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000230)
trigger1 = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "a"
anim = 1
ID = 90000230
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

[State -1, Press b]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000240)
trigger1 = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "b"
anim = 1
ID = 90000240
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

[State -1, Press c]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000250)
trigger1 = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "c"
anim = 1
ID = 90000250
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

[State -1, Press start]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000195)
trigger1 = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "start"
anim = 1
ID = 90000195
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;==============================================================================================
;These explods are used to detect button releases, much in the same way that the directional
;detectors work. These are required for the system, but it's easier to use MUGEN's standard
;"holda" / "holdx" / etc. for situations where you need to detect a held button input, rather than
;making use of these like you would the release direction detectors.
;==============================================================================================
[State -1, Release x Detector]
type = Explod
triggerAll = !NumExplod(90000201)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "x" || Helper(90000005), command = "holdx"
anim = 1
ID = 90000201
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release y Detector]
type = Explod
triggerAll = !NumExplod(90000211)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "y" || Helper(90000005), command = "holdy"
anim = 1
ID = 90000211
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release z Detector]
type = Explod
triggerAll = !NumExplod(90000221)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "z" || Helper(90000005), command = "holdz"
anim = 1
ID = 90000221
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release a Detector]
type = Explod
triggerAll = !NumExplod(90000231)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "a" || Helper(90000005), command = "holda"
anim = 1
ID = 90000231
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release b Detector]
type = Explod
triggerAll = !NumExplod(90000241)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "b" || Helper(90000005), command = "holdb"
anim = 1
ID = 90000241
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release c Detector]
type = Explod
triggerAll = !NumExplod(90000251)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "c" || Helper(90000005), command = "holdc"
anim = 1
ID = 90000251
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1

[State -1, Release start Detector]
type = Explod
triggerAll = !NumExplod(90000194)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "start"
anim = 1
ID = 90000194
removeTime = -1
pauseMoveTime = -1
superMoveTime = -1
ignoreHitPause = 1



;==============================================================================================
;Take note of the RemoveTimes on these: release button inputs don't persist through hitpause!
;==============================================================================================

[State -1, Release x]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000205)
triggerAll = NumExplod(90000201)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "x" && Helper(90000005), command != "holdx"
anim = 1
ID = 90000205
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1

[State -1, Release y]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000215)
triggerAll = NumExplod(90000211)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "y" && Helper(90000005), command != "holdy"
anim = 1
ID = 90000215
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1

[State -1, Release z]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000225)
triggerAll = NumExplod(90000221)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "z" && Helper(90000005), command != "holdz"
anim = 1
ID = 90000225
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1

[State -1, Release a]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000235)
triggerAll = NumExplod(90000231)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "a" && Helper(90000005), command != "holda"
anim = 1
ID = 90000235
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1

[State -1, Release b]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000245)
triggerAll = NumExplod(90000241)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "b" && Helper(90000005), command != "holdb"
anim = 1
ID = 90000245
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1

[State -1, Release c]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000255)
triggerAll = NumExplod(90000251)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "c" && Helper(90000005), command != "holdc"
anim = 1
ID = 90000255
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1

[State -1, Release start]
type = Explod
trigger1 = !HitPauseTime || !NumExplod(90000196)
triggerAll = NumExplod(90000194)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "start" && Helper(90000005), command != "holdstart"
anim = 1
ID = 90000196
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1

[State -1, Throw Tech]
type = Explod
trigger1 = NumHelper(90000005) && !IsHelper
trigger1 = !AILevel
trigger1 = Helper(90000005), command = "x" && Helper(90000005), command = "a"
anim = 1
ID = 90000800
removeTime = 3 
pauseMoveTime = 3 
superMoveTime = 3 
ignoreHitPause = 1

;==============================================================================================
;=============================<DIRECTIONAL INPUTS (3 TICK BUFFER)>=============================
;==============================================================================================

;==============================================================================================
;These activate whenever the direction in question is input, and persist for three ticks. Useful
;if you need to use only a single directional input, but also want it to last longer than one tick.
;==============================================================================================

;======================================<DOWN (3 TICKS)>========================================
[State -1, Down (3 ticks)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90000012
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1



;===================================<DOWN-RIGHT (3 TICKS)>=====================================
[State -1, Down-Right (3 ticks)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "ufwd" && Helper(90000005), command != "back" && Helper(90000005), command != "down"
anim = 1
ID = 90000013
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1



;======================================<RIGHT (3 TICKS)>=======================================
[State -1, Right (3 ticks)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90000016
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1



;=====================================<UP-RIGHT (3 TICKS)>=====================================
[State -1, Up-Right (3 ticks)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "ufwd" && Helper(90000005), command != "back" && Helper(90000005), command != "down"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "dfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up"
anim = 1
ID = 90000019
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1



;========================================<UP (3 TICKS)>========================================
[State -1, Up (3 ticks)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "up" && Helper(90000005), command != "fwd" && Helper(90000005), command != "down" && Helper(90000005), command != "back"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "back"
anim = 1
ID = 90000018
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1



;=====================================<UP-LEFT (3 TICKS)>======================================
[State -1, Up-Left (3 ticks)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "uback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "down"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "dback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up"
anim = 1
ID = 90000017
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1



;=======================================<LEFT 3 TICKS>=========================================
[State -1, Left (3 ticks)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90000014
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1



;====================================<DOWN-LEFT 3 TICKS>=======================================
[State -1, Down-Left (3 ticks)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "uback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "down"
anim = 1
ID = 90000011
removeTime = 3
pauseMoveTime = 3
superMoveTime = 3
ignoreHitPause = 1



;==============================================================================================
;=====================<DIRECTIONAL INPUTS (3 TICK BUFFER + HITPAUSE TIME)>=====================
;==============================================================================================

;==============================================================================================
;These are almost identical to the explods directly above this, except these will persist through
;a HitPause, and will only activate if the direction in question is being either held or input on
;the same tick that any button is input. These can be used to replicate the command behavior of Capcom
;games for crouching and command normal moves. For more information, please see [INSERT LINK].
;==============================================================================================

;==============================<DOWN (3 TICKS + HITPAUSE TIME)>================================
[State -1, Down (3 ticks + HitPauseTime)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
triggerAll = Helper(90000005), command = "x" || Helper(90000005), command = "y" || Helper(90000005), command = "z" || Helper(90000005), command = "a"  || Helper(90000005), command = "b" || Helper(90000005), command = "c" || Helper(90000005), command = "start"
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command = "down" || Helper(90000005), command = "holddown") && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd" && Helper(90000005), command != "holdback" && Helper(90000005), command != "holdup" && Helper(90000005), command != "holdfwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (Helper(90000005), command = "up" || Helper(90000005), command = "holdup") && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd" && Helper(90000005), command != "holdback" && Helper(90000005), command != "holddown" && Helper(90000005), command != "holdfwd"
anim = 1
ID = 90000022
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1




;===========================<DOWN-RIGHT (3 TICKS + HITPAUSE TIME)>=============================
[State -1, Down-Right (3 ticks + HitPauseTime)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
triggerAll = Helper(90000005), command = "x" || Helper(90000005), command = "y" || Helper(90000005), command = "z" || Helper(90000005), command = "a"  || Helper(90000005), command = "b" || Helper(90000005), command = "c" || Helper(90000005), command = "start"
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command = "dfwd" || (Helper(90000005), command = "holddown" && Helper(90000005), command = "holdfwd")) && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "holdback" && Helper(90000005), command != "holdup"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (Helper(90000005), command = "ufwd" || (Helper(90000005), command = "holdup" && Helper(90000005), command = "holdfwd")) && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "holdback" && Helper(90000005), command != "holddown"
anim = 1
ID = 90000023
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;==============================<RIGHT (3 TICKS + HITPAUSE TIME)>===============================
[State -1, Right (3 ticks + HitPauseTime)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
triggerAll = Helper(90000005), command = "x" || Helper(90000005), command = "y" || Helper(90000005), command = "z" || Helper(90000005), command = "a"  || Helper(90000005), command = "b" || Helper(90000005), command = "c" || Helper(90000005), command = "start"
trigger1 = (Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd") && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down" && Helper(90000005), command != "holdback" && Helper(90000005), command != "holdup" && Helper(90000005), command != "holddown"
anim = 1
ID = 90000026
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;=============================<UP-RIGHT (3 TICKS + HITPAUSE TIME)>=============================
[State -1, Up-Right (3 ticks + HitPauseTime)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
triggerAll = Helper(90000005), command = "x" || Helper(90000005), command = "y" || Helper(90000005), command = "z" || Helper(90000005), command = "a"  || Helper(90000005), command = "b" || Helper(90000005), command = "c" || Helper(90000005), command = "start"
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command = "ufwd" || (Helper(90000005), command = "holdup" && Helper(90000005), command = "holdfwd")) && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "holdback" && Helper(90000005), command != "holddown"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (Helper(90000005), command = "dfwd" || (Helper(90000005), command = "holddown" && Helper(90000005), command = "holdfwd")) && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "holdback" && Helper(90000005), command != "holdup"
anim = 1
ID = 90000029
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;================================<UP (3 TICKS + HITPAUSE TIME)>================================
[State -1, Up (3 ticks + HitPauseTime)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
triggerAll = Helper(90000005), command = "x" || Helper(90000005), command = "y" || Helper(90000005), command = "z" || Helper(90000005), command = "a"  || Helper(90000005), command = "b" || Helper(90000005), command = "c" || Helper(90000005), command = "start"
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command = "up" || Helper(90000005), command = "holdup") && Helper(90000005), command != "fwd" && Helper(90000005), command != "down" && Helper(90000005), command != "back" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "holddown" && Helper(90000005), command != "holdback"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (Helper(90000005), command = "down" || Helper(90000005), command = "holddown") && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "back" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "holdup" && Helper(90000005), command != "holdback"
anim = 1
ID = 90000028
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;=============================<UP-LEFT (3 TICKS + HITPAUSE TIME)>==============================
[State -1, Up-Left (3 ticks + HitPauseTime)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
triggerAll = Helper(90000005), command = "x" || Helper(90000005), command = "y" || Helper(90000005), command = "z" || Helper(90000005), command = "a"  || Helper(90000005), command = "b" || Helper(90000005), command = "c" || Helper(90000005), command = "start"
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command = "uback" || (Helper(90000005), command = "holdup" && Helper(90000005), command = "holdback")) && Helper(90000005), command != "fwd" && Helper(90000005), command != "down" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "holddown"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (Helper(90000005), command = "dback" || (Helper(90000005), command = "holddown" && Helper(90000005), command = "holdback")) && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "holdup"
anim = 1
ID = 90000027
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;===============================<LEFT 3 TICKS + HITPAUSE TIME>=================================
[State -1, Left (3 ticks + HitPauseTime)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
triggerAll = Helper(90000005), command = "x" || Helper(90000005), command = "y" || Helper(90000005), command = "z" || Helper(90000005), command = "a"  || Helper(90000005), command = "b" || Helper(90000005), command = "c" || Helper(90000005), command = "start"
trigger1 = (Helper(90000005), command = "back" || Helper(90000005), command = "holdback") && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "holdup" && Helper(90000005), command != "holddown"
anim = 1
ID = 90000024
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;============================<DOWN-LEFT 3 TICKS + HITPAUSE TIME>===============================
[State -1, Down-Left (3 ticks + HitPauseTime)]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
triggerAll = Helper(90000005), command = "x" || Helper(90000005), command = "y" || Helper(90000005), command = "z" || Helper(90000005), command = "a"  || Helper(90000005), command = "b" || Helper(90000005), command = "c" || Helper(90000005), command = "start"
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command = "dback" || (Helper(90000005), command = "holddown" && Helper(90000005), command = "holdback")) && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "holdup"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (Helper(90000005), command = "uback" || (Helper(90000005), command = "holdup" && Helper(90000005), command = "holdback")) && Helper(90000005), command != "fwd" && Helper(90000005), command != "down" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "holddown"
anim = 1
ID = 90000021
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;==============================================================================================
;Reminder: because this system is based on absolute directions (left/right) instead of relative
;directions (forward/backward), all commands must have a mirrored command as well (unless they are
;performed solely with up and/or down!) In other words, two different versions of each individual
;command must be defined in this system: one assuming the character is facing the right, and one
;for the left.
;==============================================================================================

;==============================================================================================
;================================<FORWARD, FORWARD/BACK, BACK>=================================
;==============================================================================================

;==============================================================================================
;Dash/run commands in SNK typically have release directions as their first inputs. In other words,
;in most SNK games, you can dash/run by holding forward or back for however long you like, and then
;quickly releasing the stick and returning to neutral, then quickly inputting forward/back again.
;In most Capcom games, this will not work. We have the dash/run commands in this system set up to
;follow Capcom's example.

;Different games have different input windows for dash commands. KOF gives you a 7 tick window between
;each the first and second forward/back commands, and the final input has a buffer time of 3 ticks.
;CPS2 Capcom games (under the normal speed setting) have an input window of 7 ticks for the consecutive
;forward/back commands, and the final input has a buffer time of 2 ticks. In SFIII, both the input
;window and the buffer time is 7 ticks. The default values in this system are 10 for the input window
;and 3 for the buffer time, to match up with the other commands (but feel free to change those values
;to suit your personal preference!)
;==============================================================================================

;=======================================<RIGHT, RIGHT>=========================================
[State -1, R, R: 1st Right]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90001006
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, R, R: Neutral]
type = Explod
triggerAll = NumExplod(90000006) && NumExplod(90001006)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
;make sure no directional input is being performed
trigger1 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd"
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown" && Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
anim = 1
ID = 90001005
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

;We remove the neutral explod if any non-right input is detected, or if the 1st right explod does not exist
;in most Capcom games, a dash command will be cancelled mid-input if any direction other than forward/back
;and neutral are input. But SNK games give you more leeway: as long as you have inputting forward/back, and
;have returned the stick to neutral, you can input any other directional command and still get a dash as long
;as you input another forward/back command. If you want to replicate this behavior, simply delete the first trigger
;of this RemoveExplod sctrl (you will still need the second trigger, though).
[State -1, Remove R, R: Neutral]
type = RemoveExplod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = NumExplod(90000002) || NumExplod(90000003) || NumExplod(90000009) || NumExplod(90000008) || NumExplod(90000007) || NumExplod(90000004) || NumExplod(90000001)
trigger2 = !NumExplod(90001006)
ID = 90001005
ignoreHitPause = 1

[State -1, R, R: 2nd Right]
type = Explod
;we check to see if the user has input right recently, and has returned the stick to neutral
triggerAll = NumExplod(90001005) && NumExplod(90001006)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90001016
;see the button explods above for an explanation of this ifElse statement. This statement only goes on the final
;input of any command, and should not go anywhere else in the command!
;We also are using a non-standard removeTime for this input, as dash commands in most games are only active
;for a short period of time (around 1-3 ticks).
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

[State -1, R, R: 2nd Right (10 ticks)]
type = Explod
;this one is used for Kung Fu Knee
triggerAll = NumExplod(90001005) && NumExplod(90001006)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90001026
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;==============================================================================================
;Now for the reversed command:
;==============================================================================================

;=======================================<LEFT, LEFT>=========================================
[State -1, L, L: 1st Left]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90001054
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, L, L: Neutral]
type = Explod
triggerAll = NumExplod(90000004) && NumExplod(90001054)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "back" && Helper(90000005), command != "holdback"
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown" && Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
anim = 1
ID = 90001055
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, Remove L, L: Neutral]
type = RemoveExplod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = NumExplod(90000002) || NumExplod(90000003) || NumExplod(90000006) || NumExplod(90000009) || NumExplod(90000008) || NumExplod(90000007) || NumExplod(90000001)
trigger2 = !NumExplod(90001054)
ID = 90001055
ignoreHitPause = 1

[State -1, L, L: 2nd Left]
type = Explod
triggerAll = NumExplod(90001055) && NumExplod(90001054)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90001064
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

[State -1, L, L: 2nd Left (10 ticks)]
type = Explod
triggerAll = NumExplod(90001055) && NumExplod(90001054)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90001074
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;==============================================================================================
;===================================<DOWN, UP (SUPER JUMP)>====================================
;==============================================================================================

;==============================================================================================
;Super jump commands can be done with any down directional input, followed by any up directional
;==============================================================================================

;=======================================<DOWN, UP>=========================================
[State -1, D, U: Down]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" || Helper(90000005), command = "dfwd" || Helper(90000005), command = "dback"
trigger1 = Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "ufwd" || Helper(90000005), command = "uback"
trigger2 = Helper(90000005), command != "down"
anim = 1
ID = 90000402
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, U: Up]
type = Explod
triggerAll = NumExplod(90000402)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "up" || Helper(90000005), command = "ufwd" || Helper(90000005), command = "uback"
trigger1 = Helper(90000005), command != "down"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "dfwd" || Helper(90000005), command = "dback"
trigger2 = Helper(90000005), command != "up"
anim = 1
ID = 90000408
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;==============================================================================================
;=====================================<UP, UP/DOWN, DOWN>======================================
;==============================================================================================

;==============================================================================================
;Pretty similar to the Forward, Forward/Back, Back commands, only we don't need to worry about
;the player's facing or anything, since all the inputs are either down or up!

;Also of note is that any up/down direction may be used to activate this command (i.e., a UF, UF
;will still be considered a U, U command).
;==============================================================================================

;=======================================<UP, UP>=========================================
[State -1, U, U: 1st Up]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "up" || Helper(90000005), command = "ufwd" || Helper(90000005), command = "uback"
trigger1 = Helper(90000005), command != "down"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "dfwd" || Helper(90000005), command = "dback"
trigger2 = Helper(90000005), command != "up"
anim = 1
ID = 90000508
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, U, U: Neutral]
type = Explod
triggerAll = (NumExplod(90000007) || NumExplod(90000008) || NumExplod(90000009)) && NumExplod(90000508)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown" && Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd"
anim = 1
ID = 90000505
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, Remove U, U: Neutral]
type = RemoveExplod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = NumExplod(90000004) || NumExplod(90000001) || NumExplod(90000002) || NumExplod(90000003) || NumExplod(90000006)
trigger2 = !NumExplod(90000508)
ID = 90000505
ignoreHitPause = 1

[State -1, U, U: 2nd Up]
type = Explod
triggerAll = NumExplod(90000505) && NumExplod(90000508)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "up" || Helper(90000005), command = "ufwd" || Helper(90000005), command = "uback"
trigger1 = Helper(90000005), command != "down"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "dfwd" || Helper(90000005), command = "dback"
trigger2 = Helper(90000005), command != "up"
anim = 1
ID = 90000518
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;=========================================<DOWN,DOWN>==========================================
[State -1, D, D: 1st Down]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" || Helper(90000005), command = "dfwd" || Helper(90000005), command = "dback"
trigger1 = Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "ufwd" || Helper(90000005), command = "uback"
trigger2 = Helper(90000005), command != "down"
anim = 1
ID = 90000552
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, D: Neutral]
type = Explod
triggerAll = (NumExplod(90000001) || NumExplod(90000002) || NumExplod(90000003)) && NumExplod(90000552)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
trigger1 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "holdback" && Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
anim = 1
ID = 90000555
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, Remove D, D: Neutral]
type = RemoveExplod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = NumExplod(90000004) || NumExplod(90000007) || NumExplod(90000008) || NumExplod(90000009) || NumExplod(90000006)
trigger2 = !NumExplod(90000552)
ID = 90000555
ignoreHitPause = 1

[State -1, D, D: 2nd Down]
type = Explod
triggerAll = NumExplod(90000555) && NumExplod(90000552)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" || Helper(90000005), command = "dfwd" || Helper(90000005), command = "dback"
trigger1 = Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "ufwd" || Helper(90000005), command = "uback"
trigger2 = Helper(90000005), command != "down"
anim = 1
ID = 90000562
removeTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 3 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1


;==============================================================================================
;===============================<QUARTER CIRCLE FORWARD/BACK>==================================
;==============================================================================================

;==============================================================================================
;The vast majority of all commands in fighting games allow the first input of any command to be
;a release input, so that you're allowed to hold the direction that the command starts with for
;however long you want, then input the rest of the command, and still get the move. This is why
;in MUGEN, people typically write all their character's commands as starting with a release input;
;however, things are a bit more complicated outside of MUGEN (and thus, more complicated in this
;buffer too). In most games, the window of time a player has to input the next command in sequence
;after performing a release input is shorter than the window of time they have to input the next
;command after a press input. For example, in Street Fighter III, if you want to perform a quarter-
;circle forward motion, and you press (or hold) the "down" direction, you will have 10 ticks to
;input "down-forward" and continue the command. But if instead you were to hold the "down" direction
;down for a few seconds before releasing it, you will have only 5 ticks to input "down-forward" to
;continue entering the command.

;The way this is translated to the EXPLODsive Buffering system is this: we have two separate explods
;for the first input of every command that uses a release directional input. One explod is created
;whenever the first input is entered, and has a RemoveTime of 10 (which is the same amount of time
;that most other directional explods use in this system); one other explod is also created whenever
;the direction of the first input is released: this has a RemoveTime of 5, which is generally what
;commercial fighting games use.

;Do note that not every game gives players the same input windows for every single command: for
;example, in Street Fighter Alpha 3 (on normal speed), press directional inputs all have a 10 tick
;input window, but the input window for the release directional input in a quarter-circle motion is
;6, while the input window for the release directional input in a forward, down, down-forward motion
;is only 4! There's a whole bunch of variance here, sometimes in the same game, and so it's best to check
;the source game of the character you're making (if applicable) to try and get an idea of what RemoveTime
;will be best for each of your commands.
;==============================================================================================

;================================<DOWN, DOWN-RIGHT, RIGHT>=====================================

;Since this is the press directional input for the first input, it has a RemoveTime of 10
[State -1, D, DR, R: Press Down]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90010002
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

;And since this is the release directional input for the first input, it has a RemoveTime of only 5!
[State -1, D, DR, R: Release Down]
type = Explod
triggerAll = NumExplod(90000002)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
trigger2 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger3 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger3 = Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
trigger4 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger4 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger4 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
anim = 1
ID = 90010052
removeTime = 5
pauseMoveTime = 5
superMoveTime = 5
ignoreHitPause = 1

[State -1, D, DR, R: Down-Right]
type = Explod
;Remember, we have to check to see if either the "press down" or "release down" explods exist!
triggerAll = NumExplod(90010002) || NumExplod(90010052)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "ufwd" && Helper(90000005), command != "back" && Helper(90000005), command != "down"
anim = 1
ID = 90010003
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DR, R: Right]
type = Explod
triggerAll = NumExplod(90010003)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90010006
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;=================================<DOWN, DOWN-LEFT, LEFT>======================================
[State -1, D, DL, L: Press Down]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90010102
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L: Release Down]
type = Explod
triggerAll = NumExplod(90000002)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
trigger2 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger3 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger3 = Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
trigger4 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger4 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger4 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
anim = 1
ID = 90010152
removeTime = 5
pauseMoveTime = 5
superMoveTime = 5
ignoreHitPause = 1

[State -1, D, DL, L: Down-Left]
type = Explod
triggerAll = NumExplod(90010102) || NumExplod(90010152)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "uback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "down"
anim = 1
ID = 90010101
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L: Left]
type = Explod
triggerAll = NumExplod(90010101)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90010104
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;==============================================================================================
;===========================<DOUBLE QUARTER CIRCLE FORWARD/BACK>===============================
;==============================================================================================

;==============================================================================================
;This command is mostly identical to the QCF/QCB commands, but with different ID's; there are some
;important differences, however. Instead of repeating the entire first QCF/QCB command, we just
;(mostly) use the ones we already defined above!

;We do repeat the forward/backward input from the first QCF/QCB, though. This is because the final
;explod of the QCF/QCB command will persist through hitpause, which is not true for the QCFx2
;command: otherwise, you'd be able to input a QCF during a long hitpause, wait for the hitpause to
;end, and then input another QCF and still get a QCFx2 motion, and that's not how things are supposed
;to work!

;Also, do note that Capcom games use a command shortcut for QCFx2/QCBx2 motions; a D, DF, F, D, DF
;will work just as well as a D, DF, F, D, DF, F motion; if you want to replicate this behavior, all
;you have to do is check to see if either the repsective "DF/DB" or the "F/B" explods exist in the
;triggers for that move's ChangeState.
;==============================================================================================

;===========================<DOUBLE DOWN, DOWN-RIGHT, RIGHT>===============================
;this is almost identical to the D, DR, R: Right explod; the only difference is that it has a
;RemoveTime of 10 (with no additional ifElse statements), because it shouldn't persist through hitpause!
[State -1, D, DR, R, D, DR, R: 1st Right]
type = Explod
triggerAll = NumExplod(90010003)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90030006
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DR, R, D, DR, R: 2nd Down]
type = Explod
triggerAll = NumExplod(90030006)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90030002
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DR, R, D, DR, R: 2nd Down-Right]
type = Explod
triggerAll = NumExplod(90030002)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "ufwd" && Helper(90000005), command != "back" && Helper(90000005), command != "down"
anim = 1
ID = 90030003
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DR, R, D, DR, R: 2nd Right]
type = Explod
triggerAll = NumExplod(90030003)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90030016
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1


;===========================<DOUBLE DOWN, DOWN-LEFT, LEFT>===============================
[State -1, D, DL, L, D, DL, L: 1st Left]
type = Explod
triggerAll = NumExplod(90010101)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90030104
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L, D, DL, L: 2nd Down]
type = Explod
triggerAll = NumExplod(90030104)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90030102
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L, D, DL, L: 2nd Down-Left]
type = Explod
triggerAll = NumExplod(90030102)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "uback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "down"
anim = 1
ID = 90030101
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L, D, DL, L: 2nd Left]
type = Explod
triggerAll = NumExplod(90030101)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90030114
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1


;==============================================================================================
;=====<QUARTER CIRCLE FORWARD, DOWN-FORWARD, BACK/QUARTER CIRCLE BACK, DOWN-BACK, FORWARD>=====
;==============================================================================================

;==============================================================================================
;This is very, very similar to the preceding command, but it is a distinct command with its own
;quirks! This is typically used for Terry's Power Geyser super, among a few other moves. What
;makes this different from the QCF, HCB/QCB, HCF command is that although this command is officially
;referred to in move lists as "QCF, DF, B/QCB, DB, F", in KOF games, this command can (usually) skip
;straight from the starting QCF/QCB and proceed directly to the final input of the command (the
;command would here be rendered as "QCF, B"/"QCB, F"). But this can sometimes be weird: in KOF 2002
;this can only be done if  that final input in the QCF/QCB part of the command is held for at least
;two ticks (KOF 2002 is the first game in the series where the player only needs to enter an individual
;input for only one frame and still complete a command; previous games required the inputs to be held
;for at least two). In the Fatal Fury series, however, generally this either uses a motion that is
;actually "QCF, DF, B / QCB, DB, F" motion, or sometimes even a QCF, HCB/QCB, HCF motion. Point is,
;there's a ton of variance here!

;As with the previous command, we have opted to modify this for the default EXPLODsive Buffering system,
;in order to keep it relatively simple and tried to change the manner in which the command worked into
;something that made more sense (to us, at least). We have it set up so that this command can skip straight
;from the starting QCF/QCB and proceed directly to the final input of the command (the command would here
;be rendered as "QCF, B"/"QCB, F"). It also can be performed using a QCF, HCB/QCB, HCF motion, with
;the additional quirk that the user can proceed immediately to the final input of the command no matter
;where they are in the half circle motion. So, for example, the user could perform QCB, DB, D, F, and
;still get the move. What this ends up looking like translated to MUGEN code is that, for instance, the
;explod representing QCF, DF, B: DB is allowed to be created if an explod exists representing "D", or "DF",
;or even "F".

;As with the the QCF, HCB / QCB, HCF command, this can be made to accurate to the source game(s)
;by removing some or all of the non-diagonal (and also the "down") explods.
;==============================================================================================

;========================<DOWN, DOWN-RIGHT, RIGHT, DOWN-RIGHT, LEFT>===========================
[State -1, D, DR, R, DR, L: Right]
type = Explod
triggerAll = NumExplod(90010003)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90032406
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DR, R, DR, L: Down-Right]
type = Explod
triggerAll = NumExplod(90032406)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "ufwd" && Helper(90000005), command != "back" && Helper(90000005), command != "down"
anim = 1
ID = 90032403
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DR, R, DR, L: Down]
type = Explod
;the Down explod will be created if either (or both) the Right or Down-Right explods exist
triggerAll = NumExplod(90032406) || NumExplod(90032403)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90032402
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DR, R, DR, L: Down-Left]
type = Explod
;the Down-Left explod will be created if the Right, Down-Right, or Down explods exist
triggerAll = NumExplod(90032406) || NumExplod(90032403) || NumExplod(90032402)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "uback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "down"
anim = 1
ID = 90032401
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DR, R, DR, L: Left]
type = Explod
;the Left explod will be created if the Right, Down-Right, Down, or Down-Left explods exist
triggerAll = NumExplod(90032406) || NumExplod(90032403) || NumExplod(90032402) || NumExplod(90032401)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90032404
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;=========================<DOWN, DOWN-LEFT, LEFT, DOWN-LEFT, RIGHT>============================
[State -1, D, DL, L, DL, R: Left]
type = Explod
triggerAll = NumExplod(90010101)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90032504
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L, DL, R: Down-Left]
type = Explod
triggerAll = NumExplod(90032504)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "uback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "down"
anim = 1
ID = 90032501
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L, DL, R: Down]
type = Explod
triggerAll = NumExplod(90032504) || NumExplod(90032501)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90032502
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L, DL, R: Down-Right]
type = Explod
triggerAll = NumExplod(90032504) || NumExplod(90032501) || NumExplod(90032502)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "ufwd" && Helper(90000005), command != "back" && Helper(90000005), command != "down"
anim = 1
ID = 90032503
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, D, DL, L, DL, R: Right]
type = Explod
triggerAll = NumExplod(90032504) || NumExplod(90032501) || NumExplod(90032502) || NumExplod(90032503)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90032506
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;==============================================================================================
;====================<FORWARD, DOWN, DOWN-FORWARD/BACK, DOWN, DOWN-BACK>=======================
;==============================================================================================

;==============================================================================================
;Nothing special here, just the standard dragon punch motion!
;==============================================================================================

;================================<RIGHT, DOWN, DOWN-RIGHT>=====================================
[State -1, R, D, DR: Press Right]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90010206
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, R, D, DR: Release Right]
type = Explod
triggerAll = NumExplod(90000006)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
anim = 1
ID = 90010256
removeTime = 5
pauseMoveTime = 5
superMoveTime = 5
ignoreHitPause = 1

[State -1, R, D, DR: Down]
type = Explod
triggerAll = NumExplod(90010206) || NumExplod(90010256)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90010202
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, R, D, DR: Down-Right]
type = Explod
triggerAll = NumExplod(90010202)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dfwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "ufwd" && Helper(90000005), command != "back" && Helper(90000005), command != "down"
anim = 1
ID = 90010203
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;=================================<LEFT, DOWN, DOWN-LEFT>======================================
[State -1, L, D, DL: Press Left]
type = Explod
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90010304
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, L, D, DL: Release Left]
type = Explod
triggerAll = NumExplod(90000004)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "back" && Helper(90000005), command != "holdback"
trigger2 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown" || Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
anim = 1
ID = 90010354
removeTime = 5
pauseMoveTime = 5
superMoveTime = 5
ignoreHitPause = 1

[State -1, L, D, DL: Down]
type = Explod
triggerAll = NumExplod(90010304) || NumExplod(90010354)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "fwd"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" && Helper(90000005), command != "back" && Helper(90000005), command != "down" && Helper(90000005), command != "fwd"
anim = 1
ID = 90010302
removeTime = 10
pauseMoveTime = 10
superMoveTime = 10
ignoreHitPause = 1

[State -1, L, D, DL: Down-Left]
type = Explod
triggerAll = NumExplod(90010302)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "dback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "uback" && Helper(90000005), command != "fwd" && Helper(90000005), command != "down"
anim = 1
ID = 90010301
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

;===============================<(SNK) CHARGE BACK, FORWARD>================================

;==============================================================================================
;This is somewhat similar to the Capcom style of charge moves, but we won't be keeping track of
;the "back" charge, instead, we're gonna be keeping track of how long the player has held left or
;right: when a character facing either direction holds left, fvar(31) will increase by one every tick.
;And when a character (again, facing any direction) holds right, fvar(31) will *decrease* by one every
;tick. If at any point the character stops holding the direction they were holding, fvar(31) will be reset
;to 0.

;So, if fvar(31) is greater than or equal to 45, then that means the player has sufficiently charged left
;enough to perform a charge back, forward move (provided they are facing to the right). And if fvar(31) is
;less than or equal to -45, the player has sufficiently charged right long enough to perform a charge back,
;forward move (if they're facing to the left).

;As with the Capcom method of charge moves, fvar(32) is set to 10 (Capcom has a 16 tick charge buffer SNK
;uses a 10 tick one) once fvar(31) has incremented (or decremented) enough. This is our charge buffer, and
;as long as it's non-zero, we are able to perform a charge move. fvar(32) will slowly start counting down to
;0, however, if the player stops hold left or right!
;==============================================================================================
;==============================================================================================
[State -1, Left Charge Increment]
type = VarAdd
triggerAll = NumHelper(90000005) && !IsHelper
trigger1 = !AILevel
trigger1 = Helper(90000005), command = "holdback"
trigger2 = AILEVEL
fvar(31) = 1
ignoreHitPause = 1

;this will only activate if fvar(31) is greater than zero; this is to avoid this VarSet from activating
;when the player is charging right
[State -1, Left Charge Reset]
type = VarSet
triggerAll = fvar(31) > 0
triggerAll = NumHelper(90000005) && !IsHelper
trigger1 = !AILevel
trigger1 = Helper(90000005), command != "holdback" || Helper(90000005), command = "holdfwd"
trigger2 = AILEVEL
trigger2 = StateNo = 0 || Sysvar(1)=0 && StateNo = 40 && Time = 2 
trigger3 = AILEVEL
Trigger3 = (StateNo = [100,105]) || (StateNo = [110,115]) || (StateNo = [10231,10232])|| (StateNo = [221,223]) || (StateNo = [22221,22223]) ||  StateNo = 1000 || (StateNo = [1031,1100]) || (StateNo = [1900,1931]) || (StateNo = [3000,3599]) || StateNo = 3657 || StateNo = 3667 || (StateNo = [3682,3685])
trigger3 = Time = 1
trigger4 = Anim = 20 || StateNo = 3600 && Vel X >0
trigger5 = StateNo = (StateNo = [3621,3623])
fvar(31) = 0
ignoreHitPause = 1

[State -1, Right Charge Increment]
type = VarAdd
triggerall = NumHelper(90000005) && !IsHelper && NumEnemy
trigger1 = !AILevel
trigger1 = Helper(90000005), command = "holdfwd"
fvar(31) = -1
ignoreHitPause = 1

[State -1, Right Charge Reset]
type = VarSet
triggerAll = fvar(31) < 0
triggerAll = NumHelper(90000005) && !IsHelper && NumEnemy
trigger1 = !AILevel
trigger1 = Helper(90000005), command != "holdfwd" || Helper(90000005), command = "holdback"
fvar(31) = 0
ignoreHitPause = 1

[State -1, Left/Right Charge Buffer Activation]
type = VarSet
;we need to remember to check the absolute value of fvar(31), since in the SNK method, it can be
;either positive or negative!
trigger1 = abs(fvar(31)) >= 45
;fvar(32) is only set to 10 (as opposed to 16 like the Capcom method) here because of the different
;way the charge buffer works in SNK games; see below for a more detailed discussion of this.
fvar(32) = ifElse(fvar(31) < 0, -16, 16)
ignoreHitPause = 1

[State -1, Left Charge Buffer Decrement]
type = VarAdd
trigger1 = abs(fvar(31)) < 45 && fvar(32) > 0
fvar(32) = -1

[State -1, Right Charge Buffer Decrement]
type = VarAdd
trigger1 = abs(fvar(31)) < 45 && fvar(32) < 0
fvar(32) = 1

;==============================================================================================
;Much like with Capcom-style charge moves, the length of time the command is active behaves very
;differently than with standard commands: instead of having the RemoveTime be a constant value,
;we use the current value of the charge buffer, fvar(32).
;==============================================================================================

;=================================<(SNK) CHARGE LEFT, RIGHT>===================================
;we only need one command explod for this move, since we already know that the player has been
;inputting the opposite direction!
[State -1, Charge Left, Right: Right]
type = Explod
triggerAll = fvar(32) > 0
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "fwd" && Helper(90000005), command != "back" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90010606
removeTime = floor(fvar(32)) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = floor(fvar(32)) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = floor(fvar(32)) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1



;=================================<(SNK) CHARGE RIGHT, LEFT>===================================
[State -1, Charge Right, Left: Left]
type = Explod
triggerAll = fvar(32) < 0
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command = "back" && Helper(90000005), command != "fwd" && Helper(90000005), command != "up" && Helper(90000005), command != "down"
anim = 1
ID = 90010704
removeTime = abs(floor(fvar(32))) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = abs(floor(fvar(32))) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = abs(floor(fvar(32))) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

;==============================================================================================
;===================================<(SNK) CHARGE DOWN, UP>====================================
;==============================================================================================

;==============================================================================================
;This uses the exact same concept as the Back, Forward charge move, only things are much easier
;since we don't have to deal with switching sides and having to have mirrored commands!

;Do note that we use different variables [fvar(33) and fvar(34)] here.

;The only differences between this and the Capcom method are that fvar(34) is set to 10, not 16.
;==============================================================================================

[State -1, Down Charge Increment]
type = VarAdd
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AIlevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "holddown"
trigger2 = !AIlevel
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "holdup"
trigger3 = AIlevel>0
fvar(33) = 1
ignoreHitPause = 1

[State -1, Down Charge Reset]
type = VarSet
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "holddown" || Helper(90000005), command = "holdup"
trigger2 = !AILevel
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command != "holdup" || Helper(90000005), command = "holddown"
trigger3 = AIlevel
trigger3 = StateNo = 40 || (StateNo = [10230,10233]) || StateNo = 100 ||  StateNo = 105 ||  StateNo = 110 ||  StateNo = 115 ||  StateNo = 195
trigger3 = Time = 1
trigger4 = AIlevel
trigger4 = (StateNo = [22221,22223]) || StateNo = 1000 || (StateNo = [1031,1150]) || StateNo = 1057 || (StateNo = [1900,1931])  
trigger4 = Time = 1
trigger5 = AILevel
trigger5 = Var(12)>1
trigger6 = AILevel
trigger6 = StateType = S && CTRL
fvar(33) = 0
ignoreHitPause = 1

[State -1, Down Charge Buffer Activation]
type = VarSet
trigger1 = fvar(33) >= 45
fvar(34) = 16
ignoreHitPause = 1

[State -1, Down Charge Buffer Decrement]
type = VarAdd
trigger1 = fvar(33) < 45 && fvar(34) > 0
fvar(34) = -1

[State -1, Charge Down, Up: Up]
type = Explod
triggerAll = fvar(34) > 0
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command = "uback" || Helper(90000005), command = "up" || Helper(90000005), command = "ufwd") && Helper(90000005), command != "down"
trigger2 = NumExplod(92828282) || NumExplod(92468246)
trigger2 = (Helper(90000005), command = "dback" || Helper(90000005), command = "down" || Helper(90000005), command = "dfwd") && Helper(90000005), command != "up"
anim = 1
ID = 90010808
removeTime = floor(fvar(34)) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = floor(fvar(34)) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = floor(fvar(34)) + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1


;==============================================================================================
;===================================<CHARGE 123PUNCH>============================================
;==============================================================================================

;==============================================================================================
;This uses the exact same concept as the Back, Forward charge move, only things are much easier
;since we don't have to deal with switching sides and having to have mirrored commands!

;This changes increments of 1/2/3 punches held/charged

;Do note that we use different variables [fvar(35) and fvar(36)] here.
;==============================================================================================


[State -1, 1P Charge Increment]
type = VarAdd
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AIlevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (GameTime % 8) = 0&&Helper(90000005), command = "holdx"||(GameTime % 8) = 0&&command="holdy"||(GameTime % 8) = 0&&command = "holdz";||(GameTime % 8) = 0&&numexplod(90000200)||(GameTime % 8) = 0&&numexplod(90000210)||(GameTime % 8) = 0&&numexplod(90000220)
trigger2 = !AIlevel
;trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (GameTime % 8) = 0&&Helper(90000005), command = "holdx"||(GameTime % 8) = 0&&command="holdy"||(GameTime % 8) = 0&&command = "holdz";||(GameTime % 8) = 0&&numexplod(90000200)||(GameTime % 8) = 0&&numexplod(90000210)||(GameTime % 8) = 0&&numexplod(90000220)
trigger3 = AIlevel>0
trigger4 = (GameTime % 8) = 0&&numexplod(90000201)||(GameTime % 8) = 0&&numexplod(90000211)||(GameTime % 8) = 0&&numexplod(90000221)
fvar(35) = 1
ignoreHitPause = 1

[State -1, 2P Charge Increment]
type = VarAdd
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AIlevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (GameTime % 4) = 0&&Helper(90000005), command = "holdx"&&(GameTime % 4) = 0&&command="holdy"||(GameTime % 4) = 0&&command = "holdx"&&command="holdz"||(GameTime % 4) = 0&&command = "holdy"&&command="holdz";||(GameTime % 4) = 0&&numexplod(90000200)&&numexplod(90000210)||(GameTime % 4) = 0&&numexplod(90000200)&&numexplod(90000220)||(GameTime % 4) = 0&&numexplod(90000210)&&numexplod(90000220)
trigger2 = !AIlevel
;trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (GameTime % 4) = 0&&Helper(90000005), command = "holdx"&&(GameTime % 4) = 0&&command="holdy"||(GameTime % 4) = 0&&command = "holdx"&&command="holdz"||(GameTime % 4) = 0&&command = "holdy"&&command="holdz";||(GameTime % 4) = 0&&numexplod(90000200)&&numexplod(90000210)||(GameTime % 4) = 0&&numexplod(90000200)&&numexplod(90000220)||(GameTime % 4) = 0&&numexplod(90000210)&&numexplod(90000220)
trigger3 = AIlevel>0
trigger4 = (GameTime % 4) = 0&&numexplod(90000201)&&numexplod(90000211)||(GameTime % 4) = 0&&numexplod(90000201)&&numexplod(90000221)||(GameTime % 4) = 0&&numexplod(90000211)&&numexplod(90000221)
fvar(35) = 1
ignoreHitPause = 1

[State -1, 3P Charge Increment]
type = VarAdd
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AIlevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (GameTime % 2) = 0&&Helper(90000005), command = "holdx"&&(GameTime % 2) = 0&&command="holdy"&&(GameTime % 2) = 0&&command="holdz";||(GameTime % 2) = 0&&numexplod(90000200)&&numexplod(90000210)&&numexplod(90000220)
trigger2 = !AIlevel
;trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (GameTime % 2) = 0&&Helper(90000005), command = "holdx"&&(GameTime % 2) = 0&&command="holdy"&&(GameTime % 2) = 0&&command="holdz";||(GameTime % 2) = 0&&numexplod(90000200)&&numexplod(90000210)&&numexplod(90000220)
trigger3 = AIlevel>0
trigger4 = (GameTime % 2) = 0&&numexplod(90000201)&&numexplod(90000211)&&numexplod(90000221)
fvar(35) = 1
ignoreHitPause = 1

[State -1, 123p Charge Reset]
type = VarSet
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AILevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000205)||command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000215)||command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000225)
trigger2 = !AILevel
;trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000205)||command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000215)||command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000225)
;trigger3 = AIlevel
;trigger3 = StateNo = 40 || (StateNo = [10230,10233]) || StateNo = 100 ||  StateNo = 105 ||  StateNo = 110 ||  StateNo = 115 ||  StateNo = 195
;trigger3 = Time = 1
;trigger4 = AIlevel
;trigger4 = (StateNo = [22221,22223]) || StateNo = 1000 || (StateNo = [1031,1150]) || StateNo = 1057 || (StateNo = [1900,1931])  
;trigger4 = Time = 1
;trigger5 = AILevel
;trigger5 = Var(12)>1
;trigger6 = AILevel
;trigger6 = StateType = S && CTRL
fvar(35) = 0
ignoreHitPause = 1

[State -1, Down Charge Buffer Activation]
type = VarSet
trigger1 = fvar(35) >= 45
fvar(36) = 16
ignoreHitPause = 1

[State -1, Down Charge Buffer Decrement]
type = VarAdd
triggerall = !numexplod(90000200)&&!numexplod(90000210)&&!numexplod(90000220)
trigger1 = fvar(35) < 45 && fvar(36) > 0
fvar(36) = -1

[State -1, Charge 123p]
type = Explod
triggerAll = fvar(36) > 0
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000205)||command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000215)||command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000225)
;trigger2 = NumExplod(92828282) || NumExplod(92468246)
trigger2 = Helper(90000005), command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000205)||command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000215)||command != "holdx"&&command != "holdy"&&command != "holdz"&&numexplod(90000225)
anim = 1
ID = 90012702
removeTime = floor(fvar(36))  + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = floor(fvar(36))  + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = floor(fvar(36))  + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1
;==============================================================================================
;===================================<CHARGE 123KICK>============================================
;==============================================================================================

;==============================================================================================
;This uses the exact same concept as the Back, Forward charge move, only things are much easier
;since we don't have to deal with switching sides and having to have mirrored commands!

;This changes increments of 1/2/3 punches held/charged

;Do note that we use different variables [fvar(37) and fvar(38)] here.
;==============================================================================================



[State -1, 1K Charge Increment]
type = VarAdd
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AIlevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (GameTime % 8) = 0&&Helper(90000005), command = "holda"||(GameTime % 8) = 0&&command="holdb"||(GameTime % 8) = 0&&command = "holdc";||(GameTime % 8) = 0&&numexplod(90000230)||numexplod(90000240)||numexplod(90000250)
trigger2 = !AIlevel
;trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (GameTime % 8) = 0&&Helper(90000005), command = "holda"||(GameTime % 8) = 0&&command="holdb"||(GameTime % 8) = 0&&command = "holdc";||(GameTime % 8) = 0&&numexplod(90000230)||numexplod(90000240)||numexplod(90000250)
trigger3 = AIlevel>0
trigger4 = (GameTime % 8) = 0&&numexplod(90000231)||(GameTime % 8) = 0&&numexplod(90000241)||(GameTime % 8) = 0&&numexplod(90000251)
fvar(37) = 1
ignoreHitPause = 1

[State -1, 2K Charge Increment]
type = VarAdd
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AIlevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (GameTime % 4) = 0&&Helper(90000005), command = "holda"&&(GameTime % 4) = 0&&command="holdb"||(GameTime % 4) = 0&&command = "holda"&&command="holdc";||(GameTime % 4) = 0&&command = "holdb"&&command="holdc"||(GameTime % 4) = 0&&numexplod(90000230)&&numexplod(90000240)||(GameTime % 4) = 0&&numexplod(90000230)&&numexplod(90000250)||(GameTime % 4) = 0&&numexplod(90000240)&&numexplod(90000250)
trigger2 = !AIlevel
;trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (GameTime % 4) = 0&&Helper(90000005), command = "holda"&&(GameTime % 4) = 0&&command="holdb"||(GameTime % 4) = 0&&command = "holda"&&command="holdc";||(GameTime % 4) = 0&&command = "holdb"&&command="holdc"||(GameTime % 4) = 0&&numexplod(90000230)&&numexplod(90000240)||(GameTime % 4) = 0&&numexplod(90000230)&&numexplod(90000250)||(GameTime % 4) = 0&&numexplod(90000240)&&numexplod(90000250)
trigger3 = AIlevel>0
trigger4 = (GameTime % 4) = 0&&numexplod(90000231)&&numexplod(90000241)||(GameTime % 4) = 0&&numexplod(90000231)&&numexplod(90000251)||(GameTime % 4) = 0&&numexplod(90000241)&&numexplod(90000251)
fvar(37) = 1
ignoreHitPause = 1

[State -1, 3K Charge Increment]
type = VarAdd
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AIlevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (GameTime % 2) = 0&&Helper(90000005), command = "holda"&&(GameTime % 2) = 0&&command="holdb"&&(GameTime % 2) = 0&&command="holdc";||(GameTime % 2) = 0&&numexplod(90000230)&&numexplod(90000240)&&numexplod(90000250)
trigger2 = !AIlevel
;trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = (GameTime % 2) = 0&&Helper(90000005), command = "holda"&&(GameTime % 2) = 0&&command="holdb"&&(GameTime % 2) = 0&&command="holdc";||(GameTime % 2) = 0&&numexplod(90000230)&&numexplod(90000240)&&numexplod(90000250)
trigger3 = AIlevel>0
trigger4 = (GameTime % 2) = 0&&numexplod(90000231)&&numexplod(90000241)&&numexplod(90000251)
fvar(37) = 1
ignoreHitPause = 1

[State -1, 123k Charge Reset]
type = VarSet
triggerAll = NumHelper(90000005) && !IsHelper 
trigger1 = !AILevel
;trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000235)||command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000245)||command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000255)
trigger2 = !AILevel
;trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000235)||command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000245)||command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000255)
;trigger3 = AIlevel
;trigger3 = StateNo = 40 || (StateNo = [10230,10233]) || StateNo = 100 ||  StateNo = 105 ||  StateNo = 110 ||  StateNo = 115 ||  StateNo = 195
;trigger3 = Time = 1
;trigger4 = AIlevel
;trigger4 = (StateNo = [22221,22223]) || StateNo = 1000 || (StateNo = [1031,1150]) || StateNo = 1057 || (StateNo = [1900,1931])  
;trigger4 = Time = 1
;trigger5 = AILevel
;trigger5 = Var(12)>1
;trigger6 = AILevel
;trigger6 = StateType = S && CTRL
fvar(37) = 0
ignoreHitPause = 1

[State -1, Down Charge Buffer Activation]
type = VarSet
trigger1 = fvar(37) >= 45
fvar(38) = 16
ignoreHitPause = 1

[State -1, Down Charge Buffer Decrement]
type = VarAdd
triggerall = !numexplod(90000230)&&!numexplod(90000240)&&!numexplod(90000250)
trigger1 = fvar(37) < 45 && fvar(38) > 0
fvar(38) = -1

[State -1, Charge 123k]
type = Explod
triggerAll = fvar(38) > 0
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000235)||command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000245)||command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000255)
trigger2 = NumExplod(92828282) || NumExplod(92468246)
trigger2 = Helper(90000005), command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000235)||command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000245)||command != "holda"&&command != "holdb"&&command != "holdc"&&numexplod(90000255)
anim = 1
ID = 90012802
removeTime = floor(fvar(38))  + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = floor(fvar(38))  + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = floor(fvar(38))  + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1

;==============================================================================================
;==================================<(SPECIAL) DOWN, DOWN >=====================================
;==============================================================================================

;==============================================================================================
;This explod is for the special move variant of the D, D motion; the only difference between this
;and the one above is that this has a RemoveTime of 10, like every other special move, since it's
;designed to be used for special moves (as opposed to the earlier D, D command, which was for air
;dashing).
;==============================================================================================

[State -1, (special) D, D: 2nd Down]
type = Explod
triggerAll = NumExplod(90000555) && NumExplod(90000552)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command = "down" || Helper(90000005), command = "dfwd" || Helper(90000005), command = "dback"
trigger1 = Helper(90000005), command != "up"
trigger2 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "ufwd" || Helper(90000005), command = "uback"
trigger2 = Helper(90000005), command != "down"
anim = 1
ID = 90012602
removeTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
pauseMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
superMoveTime = 10 + ifElse(HitPauseTime, HitPauseTime - 1, 0)
ignoreHitPause = 1


;==============================================================================================
;===============================<REMOVE DIRECTIONAL DETECTORS>=================================
;==============================================================================================

;==============================================================================================
;This block of RemoveExplods gets rid of any active release detector explods; if the direction in
;question isn't currently being input, or if the direction is being input but other directions are
;also being input, then the detector explod is removed, having served its purpose as a detector.
;This must go at the very bottom of the entire EXPLODsive Buffering system code!
;==============================================================================================

[State -1, Remove Down Detector]
type = RemoveExplod
triggerAll = NumExplod(90000002)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
trigger2 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger3 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger3 = Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
trigger4 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger4 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger4 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
id = 90000002
ignoreHitPause = 1

[State -1, Remove Down-Right Detector]
type = RemoveExplod
triggerAll = NumExplod(90000003)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command != "down" && Helper(90000005), command != "holddown") || (Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd")
trigger2 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger2 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger3 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger3 = (Helper(90000005), command != "up" && Helper(90000005), command != "holdup") || (Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd")
trigger4 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger4 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger4 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger4 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
id = 90000003
ignoreHitPause = 1

[State -1, Remove Right Detector]
type = RemoveExplod
triggerAll = NumExplod(90000006)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
id = 90000006
ignoreHitPause = 1

[State -1, Remove Up-Right Detector]
type = RemoveExplod
triggerAll = NumExplod(90000009)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command != "up" && Helper(90000005), command != "holdup") || (Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd")
trigger2 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger2 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger3 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger3 = (Helper(90000005), command != "down" && Helper(90000005), command != "holddown") || (Helper(90000005), command != "fwd" && Helper(90000005), command != "holdfwd")
trigger4 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger4 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger4 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd"
trigger4 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
id = 90000009
ignoreHitPause = 1

[State -1, Remove Up Detector]
type = RemoveExplod
triggerAll = NumExplod(90000008)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = Helper(90000005), command != "up" && Helper(90000005), command != "holdup"
trigger2 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger3 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger3 = Helper(90000005), command != "down" && Helper(90000005), command != "holddown"
trigger4 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger4 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger4 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "back" || Helper(90000005), command = "holdback" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
id = 90000008
ignoreHitPause = 1

[State -1, Remove Up-Left Detector]
type = RemoveExplod
triggerAll = NumExplod(90000007)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command != "up" && Helper(90000005), command != "holdup") || (Helper(90000005), command != "back" && Helper(90000005), command != "holdback")
trigger2 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger2 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger3 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger3 = (Helper(90000005), command != "down" && Helper(90000005), command != "holddown") || (Helper(90000005), command != "back" && Helper(90000005), command != "holdback")
trigger4 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger4 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger4 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger4 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
id = 90000007
ignoreHitPause = 1

[State -1, Remove Left Detector]
type = RemoveExplod
triggerAll = NumExplod(90000004)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "back" && Helper(90000005), command != "holdback"
trigger2 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown" || Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
id = 90000004
ignoreHitPause = 1

[State -1, Remove Down-Left Detector]
type = RemoveExplod
triggerAll = NumExplod(90000001)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger1 = (Helper(90000005), command != "down" && Helper(90000005), command != "holddown") || (Helper(90000005), command != "back" && Helper(90000005), command != "holdback")
trigger2 = !enemy, NumExplod(92828282) && !enemy, NumExplod(92468246)
trigger2 = Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
trigger2 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger2 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger3 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger3 = (Helper(90000005), command != "up" && Helper(90000005), command != "holdup") || (Helper(90000005), command != "back" && Helper(90000005), command != "holdback")
trigger4 = enemy, NumExplod(92828282) || enemy, NumExplod(92468246)
trigger4 = Helper(90000005), command = "up" || Helper(90000005), command = "holdup"
trigger4 = Helper(90000005), command = "back" || Helper(90000005), command = "holdback"
trigger4 = Helper(90000005), command = "fwd" || Helper(90000005), command = "holdfwd" || Helper(90000005), command = "down" || Helper(90000005), command = "holddown"
id = 90000001
ignoreHitPause = 1



;==============================================================================================
;==============================<REMOVE RELEASE BUTTON DETECTORS>===============================
;==============================================================================================

;==============================================================================================
;Same principle here as with the directional release detector explods.
;==============================================================================================

[State -1, Remove x Detector]
type = RemoveExplod
triggerAll = NumExplod(90000201)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "x" && Helper(90000005), command != "holdx"
ID = 90000201
ignoreHitPause = 1

[State -1, Remove y Detector]
type = RemoveExplod
triggerAll = NumExplod(90000211)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "y" && Helper(90000005), command != "holdy"
ID = 90000211
ignoreHitPause = 1

[State -1, Remove z Detector]
type = RemoveExplod
triggerAll = NumExplod(90000221)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "z" && Helper(90000005), command != "holdz"
ID = 90000221
ignoreHitPause = 1

[State -1, Remove a Detector]
type = RemoveExplod
triggerAll = NumExplod(90000231)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "a" && Helper(90000005), command != "holda"
ID = 90000231
ignoreHitPause = 1

[State -1, Remove b Detector]
type = RemoveExplod
triggerAll = NumExplod(90000241)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "b" && Helper(90000005), command != "holdb"
ID = 90000241
ignoreHitPause = 1

[State -1, Remove c Detector]
type = RemoveExplod
triggerAll = NumExplod(90000251)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "c" && Helper(90000005), command != "holdc"
ID = 90000251
ignoreHitPause = 1

[State -1, Remove start Detector]
type = RemoveExplod
triggerAll = NumExplod(90000194)
triggerAll = NumHelper(90000005) && !IsHelper && !AILevel
trigger1 = Helper(90000005), command != "start" && Helper(90000005), command != "holdstart"
ID = 90000194
ignoreHitPause = 1


;==============================================================================================
;==============================================================================================
;=============================<End of EXPLODsive Buffering System>=============================
;==============================================================================================
;==============================================================================================




;===========================================================================
; SOUP
;===========================================================================

;Seeking Bullet
[State -1, Seeking Bullet]
type = Changestate
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
triggerall =  power >= 2000 && Var(52) <=0  || Var(52) >= 1 && Var(42) = 0&&power>=2000 || power >= 2000 && Var(52) >0 && Var(42) = 1
triggerall = !NumHelper(3310) 
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 3300

;Hellzone Grenade
[State -1, Hellzone Grenade]
type = Changestate
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = TeamMode != Simul
triggerall = enemyNear,TeamMode != Simul
triggerall = var(42)<=0 ; No Hellzone Grenades active
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
triggerall = NumExplod(90000200) || NumExplod(90000205) || NumExplod(90000210) || NumExplod(90000215) || NumExplod(90000220) || NumExplod(90000225)
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
triggerall =  Cond(Var(52)<=0,power >= 3000, power >= 2000)
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 3400

;Hellzone Grenade Launch
[State -1, Hellzone Grenade Launch]
type = Changestate
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = var(42)>0 ; Hellzone Grenades active
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
triggerall = NumExplod(90000200) || NumExplod(90000205) || NumExplod(90000210) || NumExplod(90000215) || NumExplod(90000220) || NumExplod(90000225)
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 3410

;Hellzone Grenade Launch2
[State -1, Hellzone Grenade Launch2]
type = Changestate
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = var(42)>0 ; Hellzone Grenades active
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000220) && NumExplod(90000250) || NumExplod(90000225) && NumExplod(90000255)
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 3410

[State 0, Hellzone Grenade AutoLaunch]
type = null;ChangeState
triggerall = RoundState = 2
triggerall = Var(9) < 9997
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
trigger1 = Var(42) = 1
trigger1 = Var(36) >= 900
trigger1 = ctrl
value = 3415

; Demon Mode
[State -1]
type = ChangeState
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = TeamMode != Simul
triggerall = enemyNear,TeamMode != Simul
triggerall = roundstate = 2
triggerall = enemy, name != "Saibamen Z2" && authorname = "Team Z2"
triggerall = var(52)<=0 ;No rage mode
triggerall = var(42)<=0 ; No Hellzone Grenades active
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000210) && NumExplod(90000240) || NumExplod(90000215) && NumExplod(90000245)
triggerall = statetype != A  && !WinKo
triggerall = power >= 2000 && stateno != 2700
;triggerall = !NumHelper(3501)
;triggerall = !NumHelper(3502)
trigger1 = Ctrl
trigger2 = stateno=900
value = 2700

;Deddo Endo
[State -1, Deddo Endo]
type = null;Changestate
triggerall = Var(9) < 9997
triggerall= !AILEVEL
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030101) || NumExplod(90030114))) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
triggerall = NumExplod(90000230) || NumExplod(90000235) || NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255)
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
;triggerall = power >= 1000 && Var(52) <=0 || Var(52) >= 1 && Var(42) = 0 || power >= 1000 && Var(52) >0 && Var(42) = 1
;triggerall = var(53)>=700
triggerall = !NumExplod(3006)
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = NumHelper(425)
trigger5 = helper(425), MoveContact
trigger6 = StateNo = [1500,1554]
trigger6 = MoveContact
trigger7 = StateNo = [1900,1931]
trigger7 = MoveContact
trigger8 = StateNo = 1410
trigger8 = AnimElemTime(7)>9
trigger8 = MoveHit
value = 3000

;Deddo Endo Emo Exit
[State -1, Deddo Endo]
type = ChangeState
triggerAll = !AILevel
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = var(52)>0 ;demon mode mode
;triggerall = var(53)>=700
triggerall = var(42)<=0 ; No Hellzone Grenades active
triggerall = !NumExplod(3006)
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000210) && NumExplod(90000240) || NumExplod(90000215) && NumExplod(90000245)
triggerall = statetype != A  && !WinKo
trigger1 = Ctrl||stateno=900
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 3000

;Multi-Kick
[State -1, Multi-Kick]
type = Changestate
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) &&(NumExplod(90030101) || NumExplod(90030114)  )) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030016) || NumExplod(90030003))))
triggerall = NumExplod(90000230) || NumExplod(90000235) || NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255)
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
triggerall = power >= 1000 
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 2200

;SBC
[State -1, Special Beam Clones]
type = null;Changestate
triggerall = !AILEVEL
triggerall = IsHelper(3501)
triggerall = Var(1)<=4
triggerall = RoundState = 2
triggerall = ((ifElse(root,P2DisT x < -12, root,Facing = -1, root,Facing = 1) && ((root,NumExplod(90030016) || NumExplod(90030003)))) || (ifElse(root,P2DisT x < -12, root,Facing = 1, root,Facing = -1) && ((root,NumExplod(90030101) || NumExplod(90030114)))))
triggerall = root,NumExplod(90000230) || root,NumExplod(90000235) || root,NumExplod(90000250) || root,NumExplod(90000255) 
triggerall = statetype != A && !WinKo 
triggerall = root,power >= 1000 
trigger1 = StateNo = [35000,35020]
value = 3200

;SBC
[State -1, Special Beam Clones]
type = null;Changestate
triggerall = !AILEVEL
triggerall = IsHelper(3502)
triggerall = Var(1)<=4
triggerall = RoundState = 2
triggerall = ((ifElse(root,P2DisT x < -12, root,Facing = -1, root,Facing = 1) && ((root,NumExplod(90030016) || NumExplod(90030003)))) || (ifElse(root,P2DisT x < -12, root,Facing = 1, root,Facing = -1) && ((root,NumExplod(90030101) || NumExplod(90030114)))))
triggerall = root,NumExplod(90000240) || root,NumExplod(90000245) || root,NumExplod(90000250) || root,NumExplod(90000255)
triggerall = statetype != A && !WinKo 
triggerall = root,power >= 1000 
trigger1 = StateNo = [35000,35020]
value = 3200

;SBC
[State -1, Special Beam Cannon]
type = Changestate
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
triggerall = NumExplod(90000200) || NumExplod(90000205) || NumExplod(90000210) || NumExplod(90000215) || NumExplod(90000220) || NumExplod(90000225)
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
triggerall = power >= 1000 
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 3200

;SBC Demon
[State -1, Special Beam Cannon]
type = null;Changestate
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90030016) || NumExplod(90030003))) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90030101) || NumExplod(90030114))))
triggerall = NumExplod(90000200) || NumExplod(90000205) || NumExplod(90000210) || NumExplod(90000215) || NumExplod(90000220) || NumExplod(90000225)
triggerall = statetype != A && !WinKo 
triggerall = !IsHelper
triggerall = Var(52) >=1 && Var(53) >= 700 && Var(42) = 0
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
trigger3 = stateno = 210 || stateno = 220 || stateno = 227 || stateno = 221 ||stateno = 225 || stateno = 240 || stateno = 250 || stateno = 410 || stateno = 420 || stateno = 440 || stateno = 470
trigger3 = movecontact
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
value = 3250

;Clones
[State -1, Send out the Clones!]
type = Changestate
triggerall = !AILEVEL
triggerall = !IsHelper
triggerall = Var(9) < 9997
triggerall = !numprojid(35012)
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90032506))) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90032404))))
triggerall = NumExplod(90000230) || NumExplod(90000235) || NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255)
triggerall = statetype != A && !WinKo 
triggerall = Cond((NumHelper(3501) || NumHelper(3502)), power >= 2000, power >= 1000) 
triggerall = (NumHelper(3502) = 0 && NumHelper(3501) = 1) || (NumHelper(3502) = 1 && NumHelper(3501) = 0) || (NumHelper(3502) = 0 && NumHelper(3501) = 0)
triggerall = !IsHelper
;triggerall = Life >= 160
triggerall = Var(54) != 2
;triggerall = !NumHelper(2750)
;triggerall = !NumHelper(2760)
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 3500

;test Clones
[State -1, Send out the Clones!]
type = Changestate
triggerall = !AILEVEL
triggerall = Var(39) > 0
triggerall = Var(9) < 9997
triggerall = !IsHelper
triggerall = command = "holddown" && command = "start"
triggerall = NumExplod(90000195) || NumExplod(90000196) 
triggerall = statetype != A && !WinKo 
triggerall = Cond((NumHelper(3501) || NumHelper(3502)), power >= 2000, power >= 1000) 
triggerall = (NumHelper(3502) = 0 && NumHelper(3501) = 1) || (NumHelper(3502) = 1 && NumHelper(3501) = 0) || (NumHelper(3502) = 0 && NumHelper(3501) = 0)
triggerall = !IsHelper
;triggerall = Life >= 160
triggerall = Var(54) != 2
;triggerall = !NumHelper(2750)
;triggerall = !NumHelper(2760)
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = (Anim = [1350,1352]) && NumProjID(1350)
trigger5 = StateNo = [1500,1554]
trigger5 = MoveContact
trigger6 = StateNo = [1900,1931]
trigger6 = MoveContact
trigger7 = StateNo = 1410
trigger7 = AnimElemTime(7)>9
trigger7 = MoveHit
trigger8 = AnimElemTime(16)>=1
trigger8 = stateno = 1675;Mystic harpoon EX ender
trigger9 = StateNo = (1603 || 1673) && MoveContact
value = 3500

;===========================================================================
; SPEC
;===========================================================================

;--JNP red shoulder

[State 0, VarAdd]
type = VarAdd
triggerall = !IsHelper
triggerall = RoundState = 2
triggerall = stateno != [1900,1931]
trigger1 = !Ailevel
trigger1 = command = "holdx"
trigger2 = Ailevel>0 
trigger2 = (GameTime % 4) = 0
fvar(21) = 1
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = !IsHelper
triggerall = RoundState = 2
triggerall = stateno != [1900,1931]
trigger1 = !Ailevel
trigger1 = command = "holdy"
trigger2 = Ailevel>0 
trigger2 = (GameTime % 4) = 0
fvar(22) = 1
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = !IsHelper
triggerall = RoundState = 2
triggerall = stateno != [1900,1931]
trigger1 = !Ailevel
trigger1 = command = "holdz"
trigger2 = Ailevel>0 
trigger2 = (GameTime % 4) = 0
fvar(23) = 1
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = !IsHelper
triggerall = RoundState = 2
triggerall = stateno != [1900,1931]
trigger1 = command = "holda"
trigger1 = !Ailevel
trigger2 = Ailevel>0 
trigger2 = (GameTime % 4) = 0
fvar(24) = 1
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = !IsHelper
triggerall = RoundState = 2
triggerall = stateno != [1900,1931]
trigger1 = command = "holdb"
trigger1 = !Ailevel
trigger2 = Ailevel>0 
trigger2 = (GameTime % 4) = 0
fvar(25) = 1
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = !IsHelper
triggerall = RoundState = 2
triggerall = stateno != [1900,1931]
trigger1 = command = "holdc"
trigger1 = !Ailevel
trigger2 = Ailevel>0 
trigger2 = (GameTime % 4) = 0
fvar(26) = 1
ignorehitpause = 1

; Red Shoulder
;This state executes only after performing the poke
[State -1, Red Shoulder]
type = ChangeState
value = 1930
triggerall = !IsHelper
triggerall= !AILEVEL&&stateno!=1930
triggerall = Var(9) < 9997
triggerall = statetype != A
triggerall = ctrl
trigger1 = ((fvar(21)>=240&&fvar(22)>=240&&fvar(23)>=240) && (NumExplod(90000205) && NumExplod(90000215) && NumExplod(90000225) ))
trigger2 = ((fvar(21)>=480&&fvar(22)>=480) && (NumExplod(90000205) && NumExplod(90000215)))  || ((fvar(21)>=480&&fvar(23)>=480)  && (NumExplod(90000205) && NumExplod(90000225)))|| ((fvar(22)>=480&&fvar(23)>=480) && (NumExplod(90000215) && NumExplod(90000225)))
trigger3 = (fvar(21)>=720 && NumExplod(90000205)) || (fvar(22)>=720 && NumExplod(90000215)) || (fvar(23)>=720 && NumExplod(90000225))
trigger4 = ((fvar(24)>=240&&fvar(25)>=240&&fvar(26)>=240) && (NumExplod(90000235) && NumExplod(90000245) && NumExplod(90000255) ))
trigger5 = ((fvar(24)>=480&&fvar(25)>=480) && (NumExplod(90000235) && NumExplod(90000245)))  || ((fvar(24)>=480&&fvar(26)>=480)  && (NumExplod(90000235) && NumExplod(90000255)))|| ((fvar(25)>=480&&fvar(26)>=480) && (NumExplod(90000245) && NumExplod(90000255)))
trigger6 = (fvar(24)>=720 && NumExplod(90000235)) || (fvar(25)>=720 && NumExplod(90000245)) || (fvar(26)>=720 && NumExplod(90000255))


; Red Shoulder
;This state executes only after performing the poke
[State -1, Red Shoulder]
type = ChangeState
value = 1920
triggerall = !IsHelper
triggerall= !AILEVEL&&stateno!=1920
triggerall = Var(9) < 9997
triggerall = statetype != A
triggerall = ctrl
trigger1 = ((fvar(21)>=120&&fvar(22)>=120&&fvar(23)>=120) && (NumExplod(90000205) && NumExplod(90000215) && NumExplod(90000225) ))
trigger2 = ((fvar(21)>=240&&fvar(22)>=240) && (NumExplod(90000205) && NumExplod(90000215)))  || ((fvar(21)>=240&&fvar(23)>=240)  && (NumExplod(90000205) && NumExplod(90000225)))|| ((fvar(22)>=240&&fvar(23)>=240) && (NumExplod(90000215) && NumExplod(90000225)))
trigger3 = (fvar(21)>=360 && NumExplod(90000205)) || (fvar(22)>=360 && NumExplod(90000215)) || (fvar(23)>=360 && NumExplod(90000225))
trigger4 = ((fvar(24)>=120&&fvar(25)>=120&&fvar(26)>=120) && (NumExplod(90000235) && NumExplod(90000245) && NumExplod(90000255) ))
trigger5 = ((fvar(24)>=240&&fvar(25)>=240) && (NumExplod(90000235) && NumExplod(90000245)))  || ((fvar(24)>=240&&fvar(26)>=240)  && (NumExplod(90000235) && NumExplod(90000255)))|| ((fvar(25)>=240&&fvar(26)>=240) && (NumExplod(90000245) && NumExplod(90000255)))
trigger6 = (fvar(24)>=360 && NumExplod(90000235)) || (fvar(25)>=360 && NumExplod(90000245)) || (fvar(26)>=360 && NumExplod(90000255))


; Red Shoulder
;This state executes only after performing the poke
[State -1, Red Shoulder]
type = ChangeState
value = 1910
triggerall = !IsHelper
triggerall= !AILEVEL&&stateno!=1910
triggerall = Var(9) < 9997
triggerall = statetype != A
triggerall = ctrl
trigger1 = ((fvar(21)>=60&&fvar(22)>=60&&fvar(23)>=60) && (NumExplod(90000205) && NumExplod(90000215) && NumExplod(90000225) ))
trigger2 = ((fvar(21)>=120&&fvar(22)>=120) && (NumExplod(90000205) && NumExplod(90000215)))  || ((fvar(21)>=120&&fvar(23)>=120)  && (NumExplod(90000205) && NumExplod(90000225)))|| ((fvar(22)>=120&&fvar(23)>=120) && (NumExplod(90000215) && NumExplod(90000225)))
trigger3 = (fvar(21)>=180 && NumExplod(90000205)) || (fvar(22)>=180 && NumExplod(90000215)) || (fvar(23)>=180 && NumExplod(90000225))
trigger4 = ((fvar(24)>=60&&fvar(25)>=60&&fvar(26)>=60) && (NumExplod(90000235) && NumExplod(90000245) && NumExplod(90000255) ))
trigger5 = ((fvar(24)>=120&&fvar(25)>=120) && (NumExplod(90000235) && NumExplod(90000245)))  || ((fvar(24)>=120&&fvar(26)>=120)  && (NumExplod(90000235) && NumExplod(90000255)))|| ((fvar(25)>=120&&fvar(26)>=120) && (NumExplod(90000245) && NumExplod(90000255)))
trigger6 = (fvar(24)>=180 && NumExplod(90000235)) || (fvar(25)>=180 && NumExplod(90000245)) || (fvar(26)>=180 && NumExplod(90000255))

; Red Shoulder
;This state executes only after performing the poke
[State -1, Red Shoulder]
type = ChangeState
value = 1900
triggerall = !IsHelper
triggerall= !AILEVEL&&stateno!=1900
triggerall = Var(9) < 9997
triggerall = statetype != A
triggerall = ctrl
trigger1 = ((fvar(21)>=30&&fvar(22)>=30&&fvar(23)>=30) && (NumExplod(90000205) && NumExplod(90000215) && NumExplod(90000225) ))
trigger2 = ((fvar(21)>=60&&fvar(22)>=60) && (NumExplod(90000205) && NumExplod(90000215)))  || ((fvar(21)>=60&&fvar(23)>=60)  && (NumExplod(90000205) && NumExplod(90000225)))|| ((fvar(22)>=60&&fvar(23)>=60) && (NumExplod(90000215) && NumExplod(90000225)))
trigger3 = (fvar(21)>=90 && NumExplod(90000205)) || (fvar(22)>=90 && NumExplod(90000215)) || (fvar(23)>=90 && NumExplod(90000225))
trigger4 = ((fvar(24)>=30&&fvar(25)>=30&&fvar(26)>=30) && (NumExplod(90000235) && NumExplod(90000245) && NumExplod(90000255) ))
trigger5 = ((fvar(24)>=60&&fvar(25)>=60) && (NumExplod(90000235) && NumExplod(90000245)))  || ((fvar(24)>=60&&fvar(26)>=60)  && (NumExplod(90000235) && NumExplod(90000255)))|| ((fvar(25)>=60&&fvar(26)>=60) && (NumExplod(90000245) && NumExplod(90000255)))
trigger6 = (fvar(24)>=90 && NumExplod(90000235)) || (fvar(25)>=90 && NumExplod(90000245)) || (fvar(26)>=90 && NumExplod(90000255))
;
;
;
[State 0, VarSet]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState = 2
trigger1 = command != "holdx"||stateno = 3211&&command = "holdx"||stateno = 3212&&command = "holdx"||stateno = 3213&&command = "holdx"||stateno=5300
trigger1 = !Ailevel
trigger2 = Ailevel>0&&(stateno = 1900||stateno=1910||stateno=1920||stateno=1930); red shoulder
trigger3 = Ailevel>0&&(stateno = 200);SPunches
trigger4 = Ailevel>0&&(stateno = 400);CPunches
trigger5 = Ailevel>0&&(stateno = 600);APunches
trigger6 = Ailevel>0&&(stateno = 1350||stateno=1351||stateno=1352||stateno=1353);DW
trigger7 = Ailevel>0&&(stateno = 1370||stateno=1371||stateno=1372);DWAir
trigger8 = Ailevel>0&&(stateno = 1600||stateno=1601||stateno=1602||stateno=1603);MHAir
trigger9 = Ailevel>0&&(stateno = 1410||stateno=1480);AA slam
fvar(21) = 0
[State 0, VarSet]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState = 2
trigger1 = command != "holdy"||stateno = 900||stateno=901||stateno = 3211&&command = "holdy"||stateno = 3212&&command = "holdy"||stateno = 3213&&command = "holdy"||stateno=5300||(stateno = [3000,3004]);Deddo Endo
trigger1 = !Ailevel
trigger2 = Ailevel>0&&(stateno = 1900||stateno=1910||stateno=1920||stateno=1930); red shoulder
trigger3 = Ailevel>0&&(stateno=210);SPunches
trigger4 = Ailevel>0&&(stateno=410);CPunches
trigger5 = Ailevel>0&&(stateno=610);APunches
trigger6 = Ailevel>0&&(stateno = 1350||stateno=1351||stateno=1352||stateno=1353);DW
trigger7 = Ailevel>0&&(stateno = 1370||stateno=1371||stateno=1372);DWAir
trigger8 = Ailevel>0&&(stateno = 1600||stateno=1601||stateno=1602||stateno=1603);MHAir
trigger9 = Ailevel>0&&(stateno = 1410||stateno=1480);AA slam
trigger10 = Ailevel>0&&(stateno = [3000,3004]);Deddo Endo
fvar(22) = 0
[State 0, VarSet]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState = 2
trigger1 = command != "holdz"||stateno = 3211&&command = "holdz"||stateno = 3212&&command = "holdz"||stateno = 3213&&command = "holdz"||((stateno = [1300,1302]))&&command = "holdz"||stateno=5300
trigger2 = Ailevel>0&&(stateno = 1900||stateno=1910||stateno=1920||stateno=1930); red shoulder
trigger3 = Ailevel>0&&(stateno=220||stateno=221||stateno=225||stateno=226||stateno=227);SPunches
trigger4 = Ailevel>0&&(stateno=420||stateno=425);CPunches
trigger5 = Ailevel>0&&(stateno=620||stateno=625);APunches
trigger6 = Ailevel>0&&(stateno = 1350||stateno=1351||stateno=1352||stateno=1353);DW
trigger7 = Ailevel>0&&(stateno = 1370||stateno=1371||stateno=1372);DWAir
trigger8 = Ailevel>0&&(stateno = 1600||stateno=1601||stateno=1602||stateno=1603);MHAir
trigger9 = Ailevel>0&&(stateno = 1410||stateno=1480);AA slam
trigger1 = !Ailevel
fvar(23) = 0
[State 0, VarSet]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState = 2
trigger1 = command != "holda"||stateno=5300
trigger1 = !Ailevel
trigger2 = Ailevel>0&&(stateno = 1900||stateno=1910||stateno=1920||stateno=1930); red shoulder
trigger3 = Ailevel>0&&(stateno = 230||stateno = 235);SKicks
trigger4 = Ailevel>0&&(stateno = 430);CKicks
trigger5 = Ailevel>0&&(stateno = 630);AKicks
trigger6 = Ailevel>0&&(stateno = 1500||stateno = 1510||stateno =1520||stateno =1550);CB
trigger7 = Ailevel>0&&(stateno = 1200||stateno = 1210);HSAir
fvar(24) = 0
[State 0, VarSet]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState = 2
trigger1 = command != "holdb"||stateno = 900||stateno=901||stateno=5300||(stateno = [3000,3004]);Deddo Endo
trigger1 = !Ailevel
trigger2 = Ailevel>0&&(stateno = 1900||stateno=1910||stateno=1920||stateno=1930); red shoulder
trigger3 = Ailevel>0&&(stateno = 240||stateno = 245||stateno = 246);SKicks
trigger4 = Ailevel>0&&(stateno = 440);CKicks
trigger5 = Ailevel>0&&(stateno = 640||stateno = 645||stateno = 646);AKicks
trigger6 = Ailevel>0&&(stateno = 1500||stateno = 1510||stateno =1520||stateno =1550);CB
trigger7 = Ailevel>0&&(stateno = 1200||stateno = 1210);HSAir
trigger8 = Ailevel>0&&(stateno = [3000,3004]);Deddo Endo
fvar(25) = 0
[State 0, VarSet]
type = VarSet
triggerall = !IsHelper
triggerall = RoundState = 2
trigger1 = command != "holdc"||((stateno = [1300,1302]))&&command = "holdc"||stateno=5300
trigger1 = !Ailevel
trigger2 = Ailevel>0&&(stateno = 1900||stateno=1910||stateno=1920||stateno=1930); red shoulder
trigger3 = Ailevel>0&&(stateno = 250||stateno = 255||stateno = 260||stateno = 261);SKicks
trigger4 = Ailevel>0&&(stateno = 450||stateno = 460||stateno = 461||stateno = 462||stateno = 470);CKicks
trigger5 = Ailevel>0&&(stateno = 650||stateno = 655);AKicks
trigger6 = Ailevel>0&&(stateno = 1500||stateno = 1510||stateno =1520||stateno =1550);CB
trigger7 = Ailevel>0&&(stateno = 1200||stateno = 1210);HSAir
fvar(26) = 0
;JNP red shoulder

;---------------------------------------------------------------------------
;Carnage Blitz (EX)
[State -1, Carnage Blitz EX]
type = ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = power >= 500
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010606)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010704)))
triggerall = (ifElse(NumExplod(90000230), 1, 0) + ifElse(NumExplod(90000240), 1, 0) + ifElse(NumExplod(90000250), 1, 0) >= 2) || (ifElse(NumExplod(90000235), 1, 0) + ifElse(NumExplod(90000245), 1, 0) + ifElse(NumExplod(90000255), 1, 0) >= 2)
triggerall = !IsHelper
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1550

;---------------------------------------------------------------------------
;ex Arm Slam - Mental Shock
[State -1, ex Arm Slam Mental Shock]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = power >= 500
triggerall = !numexplod(1678)
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010808)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010808)))
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = statetype != A 
trigger1 = ctrl || StateNo = 40 || StateNo = 52||stateno=100||stateno=101
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1480

;---------------------------------------------------------------------------
;ex Arm Slam - Mental Shock with limiter
[State -1, ex Arm Slam Mental Shock]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
;triggerall = power >= 500
triggerall = numexplod(1678)
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010808)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010808)))
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = statetype != A 
trigger1 = ctrl || StateNo = 40 || StateNo = 52||stateno=100||stateno=101
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1480

;---------------------------------------------------------------------------
;Harpoon Slam
[State -1, Harpoon Slam]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010808)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010808)))
triggerall = NumExplod(90000200) || NumExplod(90000205) || NumExplod(90000210) || NumExplod(90000215) || NumExplod(90000220) || NumExplod(90000225)
triggerall = statetype != A 
triggerall = !IsHelper
trigger1 = ctrl || StateNo = 40 || StateNo = 52||stateno=100||stateno=101
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
trigger4 = stateno = 200 || stateno = 210  || stateno = 210
trigger4 = Time <= 3
value = 1410

;---------------------------------------------------------------------------
; EX Mystic Harpoon
[State -1, EX Mystic Harpoon]
type = ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = roundstate = 2
triggerall = power >= Cond(!Numexplod(1679),500,0)
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010606)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010704)))
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = !IsHelper
triggerall = !NumExplod(300603)
triggerall = statetype != A
trigger1 = ctrl && fvar(19) != 2.5
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = ifelse((numexplod(1679)=0),1603, 1697)

;---------------------------------------------------------------------------
;Carnage Blitz (Heavy)
[State -1, Carnage Blitz Heavy]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010606)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010704)))
triggerall = NumExplod(90000250) || NumExplod(90000255)
triggerall = !IsHelper
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1520

;---------------------------------------------------------------------------
;Carnage Blitz (Medium)
[State -1, Carnage Blitz Medium]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010606)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010704)))
triggerall = NumExplod(90000240) || NumExplod(90000245)
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1510

;---------------------------------------------------------------------------
;Carnage Blitz (Light)
[State -1, Carnage Blitz Light]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010606)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010704)))
triggerall = NumExplod(90000230) || NumExplod(90000235)
triggerall = !IsHelper
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1500

;---------------------------------------------------------------------------
; savage Sweep EX
[State -1, EX savage sweep]
type = null;ChangeState
triggerall= AILevel<=0
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010301)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010203)))
triggerall = (ifElse(NumExplod(90000230), 1, 0) + ifElse(NumExplod(90000240), 1, 0) + ifElse(NumExplod(90000250), 1, 0) >= 2) || (ifElse(NumExplod(90000235), 1, 0) + ifElse(NumExplod(90000245), 1, 0) + ifElse(NumExplod(90000255), 1, 0) >= 2)
triggerall = Power >= 500
triggerall = !IsHelper
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Medium Attacks
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 240
trigger4 = movecontact
trigger5 = stateno = 410
trigger5 = movecontact
trigger6 = stateno = 440
trigger6 = movecontact
;Heavy Attacks
trigger7 = stateno = 220
trigger7 = movecontact
trigger8 = stateno = 250
trigger8 = movecontact
trigger9 = stateno = 420
trigger9 = movecontact
trigger10 = stateno = 470
trigger10 = movecontact
trigger11 = stateno = 225
trigger11 = movecontact
trigger12 = stateno = 221
trigger12 = movecontact
trigger13 = stateno = 227
trigger13 = movecontact
trigger14 = stateno = 1510 && !NumExplod(1500)
trigger14 = movecontact
trigger15 = stateno = 1520 && !NumExplod(1500)
trigger15 = movecontact
value = 1852


;---------------------------------------------------------------------------
; savage Kick LK
[State -1, savage Kick]
type = null;ChangeState
triggerall= AILevel<=0
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010301)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010203)))
triggerall = NumExplod(90000230) || NumExplod(90000235)
triggerall = !IsHelper
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Medium Attacks
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 240
trigger4 = movecontact
trigger5 = stateno = 410
trigger5 = movecontact
trigger6 = stateno = 440
trigger6 = movecontact
;Heavy Attacks
trigger7 = stateno = 220
trigger7 = movecontact
trigger8 = stateno = 250
trigger8 = movecontact
trigger9 = stateno = 420
trigger9 = movecontact
trigger10 = stateno = 470
trigger10 = movecontact
trigger11 = stateno = 225
trigger11 = movecontact
trigger12 = stateno = 221
trigger12 = movecontact
trigger13 = stateno = 227
trigger13 = movecontact
trigger14 = stateno = 1510 && !NumExplod(1500)
trigger14 = movecontact
trigger15 = stateno = 1520 && !NumExplod(1500)
trigger15 = movecontact
value = 1870

;---------------------------------------------------------------------------
; savage Kick MK/SK
[State -1, savage Kick]
type = null;ChangeState
triggerall= AILevel<=0
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010301)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010203)))
triggerall = NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255)
triggerall = !IsHelper
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Medium Attacks
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 240
trigger4 = movecontact
trigger5 = stateno = 410
trigger5 = movecontact
trigger6 = stateno = 440
trigger6 = movecontact
;Heavy Attacks
trigger7 = stateno = 220
trigger7 = movecontact
trigger8 = stateno = 250
trigger8 = movecontact
trigger9 = stateno = 420
trigger9 = movecontact
trigger10 = stateno = 470
trigger10 = movecontact
trigger11 = stateno = 225
trigger11 = movecontact
trigger12 = stateno = 221
trigger12 = movecontact
trigger13 = stateno = 227
trigger13 = movecontact
trigger14 = stateno = 1510 && !NumExplod(1500)
trigger14 = movecontact
trigger15 = stateno = 1520 && !NumExplod(1500)
trigger15 = movecontact
value = 1871

;---------------------------------------------------------------------------
; Call Clones
[State -1, CallClones]
type = ChangeState
triggerall= AILevel<=0 && !IsHelper
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && (NumExplod(90032404))) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && (NumExplod(90032506))))
triggerall = NumExplod(90000200) || NumExplod(90000205) || NumExplod(90000210) || NumExplod(90000215) || NumExplod(90000220) || NumExplod(90000225)
triggerall = !IsHelper
triggerall = statetype != A
triggerall = !NumExplod(3507)
triggerall = ctrl
trigger1 = NumHelper(3501)  
trigger1 = helper(3501), Alive 
trigger1 = helper(3501), Var(1)<=4
trigger2 = NumHelper(3502)
trigger2 = helper(3502), Alive
trigger2 = helper(3502), Var(1)<=4
value = 3510

;---------------------------------------------------------------------------
; Trap Shot DP Destroyed!
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = var(52)>0 ;demon mode mode
triggerall = NumExplod(90012602)
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1751)
trigger1 = helper(1751), StateNo = 1760
trigger2 = NumHelper(1752)
trigger2 = helper(1752), StateNo = 1760
trigger3 = NumHelper(1753)
trigger3 = helper(1753), StateNo = 1760
value = 1803

;---------------------------------------------------------------------------
; Trap Shot DP Destroyed!
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = var(52)>0 ;demon mode mode
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000200)
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1751)
trigger1 = helper(1751), Var(0) = 1 
trigger1 = helper(1751), StateNo = 1760
trigger2 = NumHelper(1752)
trigger2 = helper(1752), Var(0) = 1
trigger2 = helper(1752), StateNo = 1760
trigger3 = NumHelper(1753)
trigger3 = helper(1753), Var(0) = 1
trigger3 = helper(1753), StateNo = 1760
value = 1800

;---------------------------------------------------------------------------
; Trap Shot DP Destroyed!
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000210)
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1751)
trigger1 = helper(1751), Var(1) = 1 
trigger1 = helper(1751), StateNo = 1760
trigger2 = NumHelper(1752)
trigger2 = helper(1752), Var(1) = 1
trigger2 = helper(1752), StateNo = 1760
trigger3 = NumHelper(1753)
trigger3 = helper(1753), Var(1) = 1
trigger3 = helper(1753), StateNo = 1760
value = 1801

;---------------------------------------------------------------------------
; Trap Shot DP Destroyed!
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000220)
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1751)
trigger1 = helper(1751), Var(2) = 1 
trigger1 = helper(1751), StateNo = 1760
trigger2 = NumHelper(1752)
trigger2 = helper(1752), Var(2) = 1
trigger2 = helper(1752), StateNo = 1760
trigger3 = NumHelper(1753)
trigger3 = helper(1753), Var(2) = 1
trigger3 = helper(1753), StateNo = 1760
value = 1802

;---------------------------------------------------------------------------
; Trap Shot DP Destroyed!
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = NumExplod(90012602)
triggerall = (ifElse(NumExplod(90000230), 1, 0) + ifElse(NumExplod(90000240), 1, 0) + ifElse(NumExplod(90000250), 1, 0) >= 2) || (ifElse(NumExplod(90000235), 1, 0) + ifElse(NumExplod(90000245), 1, 0) + ifElse(NumExplod(90000255), 1, 0) >= 2)
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1754)
trigger1 = helper(1754), StateNo = 1760
trigger2 = NumHelper(1755)
trigger2 = helper(1755), StateNo = 1760
trigger3 = NumHelper(1756)
trigger3 = helper(1756), StateNo = 1760
value = 1807

;---------------------------------------------------------------------------
; Trap Shot DP Destroyed!
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000230)
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1754)
trigger1 = helper(1754), Var(0) = 1
trigger1 = helper(1754), StateNo = 1760
trigger2 = NumHelper(1755)
trigger2 = helper(1755), Var(0) = 1
trigger2 = helper(1755), StateNo = 1760
trigger3 = NumHelper(1756)
trigger3 = helper(1756), Var(0) = 1
trigger3 = helper(1756), StateNo = 1760
value = 1804

;---------------------------------------------------------------------------
; Trap Shot DP Destroyed!
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000240)
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1754)
trigger1 = helper(1754), Var(1) = 1
trigger1 = helper(1754), StateNo = 1760
trigger2 = NumHelper(1755)
trigger2 = helper(1755), Var(1) = 1
trigger2 = helper(1755), StateNo = 1760
trigger3 = NumHelper(1756)
trigger3 = helper(1756), Var(1) = 1
trigger3 = helper(1756), StateNo = 1760
value = 1805

;---------------------------------------------------------------------------
; Trap Shot DP Destroyed!
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = NumExplod(90012602)
triggerall = NumExplod(90000250)
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1754)
trigger1 = helper(1754), Var(2) = 1
trigger1 = helper(1754), StateNo = 1760
trigger2 = NumHelper(1755)
trigger2 = helper(1755), Var(2) = 1
trigger2 = helper(1755), StateNo = 1760
trigger3 = NumHelper(1756)
trigger3 = helper(1756), Var(2) = 1
trigger3 = helper(1756), StateNo = 1760
value = 1806

;---------------------------------------------------------------------------
; Trap Shot QCF Cancel
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
triggerall = NumExplod(90000230) || NumExplod(90000235) || NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255) 
triggerall = statetype != A  && !WinKo
triggerall = movecontact 
trigger1 = NumHelper(1751)=0
trigger1 = stateno = [200,299]
trigger2 = NumHelper(1752)=0
trigger2 = stateno = [200,299]
trigger3 = NumHelper(1753)=0
trigger3 = stateno = [200,299]
trigger4 = NumHelper(1751)=0
trigger4 = stateno = [400,499]
trigger4 = stateno!=450
trigger5 = NumHelper(1752)=0
trigger5 = stateno = [400,499]
trigger5 = stateno!=450
trigger6 = NumHelper(1753)=0
trigger6 = stateno = [400,499]
trigger6 = stateno!=450
value = 1700

;---------------------------------------------------------------------------
; Trap Shot QCB Cancel
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
triggerall = NumExplod(90000230) || NumExplod(90000235) || NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255) 
triggerall = statetype != A  && !WinKo
triggerall = Var(26) = 2 || Var(26) = 0
triggerall = Movecontact
trigger1 = NumHelper(1754)=0
trigger1 = stateno = [200,299]
trigger2 = NumHelper(1755)=0
trigger2 = stateno = [200,299]
trigger3 = NumHelper(1756)=0
trigger3 = stateno = [200,299]
trigger4 = NumHelper(1754)=0
trigger4 = stateno = [400,499]
trigger4 = stateno!=450
trigger5 = NumHelper(1755)=0
trigger5 = stateno = [400,499]
trigger5 = stateno!=450
trigger6 = NumHelper(1756)=0
trigger6 = stateno = [400,499]
trigger6 = stateno!=450
value = 1701

;---------------------------------------------------------------------------
; Trap Shot QCF
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
triggerall = NumExplod(90000230) || NumExplod(90000235) || NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255) 
triggerall = statetype != A  && !WinKo
triggerall = ctrl
trigger1 = NumHelper(1751)=0
;trigger2 = Var(53) >= 700
trigger2 = NumHelper(1752)=0
;trigger3 = Var(53) >= 1480
trigger3 = NumHelper(1753)=0
value = 1700

;---------------------------------------------------------------------------
; Trap Shot QCB
[State -1]
type = ChangeState
triggerall = !AILEVEL && !IsHelper
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010104)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010006)))
triggerall = NumExplod(90000230) || NumExplod(90000235) || NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255) 
triggerall = statetype != A  && !WinKo
triggerall = Var(26) = 2 || Var(26) = 0
triggerall = ctrl
trigger1 = NumHelper(1754)=0
;trigger2 = Var(53) >= 700
trigger2 = NumHelper(1755)=0
;trigger3 = Var(53) >= 1480
trigger3 = NumHelper(1756)=0
value = 1701
;---------------------------------------------------------------------------
; EX Mystic Harpoon
[State -1, EX Mystic Harpoon]
type = Null;ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = roundstate = 2
triggerall = power >= 500
triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001064)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001016))
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = !IsHelper
triggerall = !NumExplod(300603)
triggerall = statetype != A
trigger1 = ctrl && fvar(19) != 2.5
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1603;ifelse((numexplod(1675)=0),1603, 1697)

;---------------------------------------------------------------------------
; EX Mystic Harpoon
[State -1, EX Mystic Harpoon]
type = null;ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = roundstate = 2
triggerall = power >= 500
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = !IsHelper
triggerall = !NumExplod(300603)
trigger1 = statetype != A
trigger1 = (StateNo = [105,106]) && fvar(19) != 2.5
value = 1603;ifelse((numexplod(1675)=0),1603, 1697)

;---------------------------------------------------------------------------
; Strong Mystic Harpoon
[State -1, Mystic Harpoon]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010606)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010704)))
triggerall = NumExplod(90000220) || NumExplod(90000225) 
triggerall = statetype != A
trigger1 = ctrl && fvar(19) = 1
trigger1 = P2StateNo != 1662
;Heavy Attacks
trigger2 = stateno = [200,299]
trigger2 = movecontact
trigger3 = stateno = [400, 499]
trigger3 = movecontact&&stateno != 450
value = ifelse((numexplod(1675)=0),1602, 1697)

;---------------------------------------------------------------------------
; Medium Mystic Harpoon
[State -1, Mystic Harpoon]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010606)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010704)))
triggerall = NumExplod(90000210) || NumExplod(90000215) 
triggerall = statetype != A
trigger1 = ctrl && fvar(19) = 1
;Heavy Attacks
trigger2 = stateno = [200,299]
trigger2 = movecontact
trigger3 = stateno = [400, 499]
trigger3 = movecontact&&stateno != 450
value = ifelse((numexplod(1675)=0),1601, 1696)

;---------------------------------------------------------------------------
; Light Mystic Harpoon
[State -1, Mystic Harpoon]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010606)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010704)))
triggerall = NumExplod(90000200) || NumExplod(90000205) 
triggerall = statetype != A
trigger1 = ctrl && fvar(19) = 1
;Heavy Attacks
trigger2 = stateno = [200,299]
trigger2 = movecontact
trigger3 = stateno = [400, 499]
trigger3 = movecontact&&stateno != 450
value = ifelse((numexplod(1675)=0),1600, 1690)

;---------------------------------------------------------------------------
; Strong Mystic Harpoon
[State -1, Mystic Harpoon]
type = Null;ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001064)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001016))
triggerall = NumExplod(90000220) || NumExplod(90000225) 
triggerall = statetype != A
trigger1 = ctrl && fvar(19) = 1
trigger1 = P2StateNo != 1662
;Heavy Attacks
trigger2 = stateno = [200,299]
trigger2 = movecontact
trigger3 = stateno = [400, 499]
trigger3 = movecontact&&stateno != 450
value = ifelse((numexplod(1675)=0),1602, 1697)

;---------------------------------------------------------------------------
; Strong Mystic Harpoon
[State -1, Mystic Harpoon]
type = null;ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = NumExplod(90000220) || NumExplod(90000225) 
trigger1 = statetype != A
trigger1 = (StateNo = [105,106]) && fvar(19) = 1
value = ifelse((numexplod(1675)=0),1602, 1697)

;---------------------------------------------------------------------------
; Medium Mystic Harpoon
[State -1, Mystic Harpoon]
type = Null;ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001064)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001016))
triggerall = NumExplod(90000210) || NumExplod(90000215) 
triggerall = statetype != A
trigger1 = ctrl && fvar(19) = 1
;Heavy Attacks
trigger2 = stateno = [200,299]
trigger2 = movecontact
trigger3 = stateno = [400, 499]
trigger3 = movecontact&&stateno != 450
value = ifelse((numexplod(1675)=0),1601, 1696)

;---------------------------------------------------------------------------
; Medium Mystic Harpoon
[State -1, Mystic Harpoon]
type = null;ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
;triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001064)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001016))
triggerall = NumExplod(90000210) || NumExplod(90000215) 
trigger1 = statetype != A
trigger1 = (StateNo = [105,106]) && fvar(19) = 1
value = ifelse((numexplod(1675)=0),1601, 1696)

;---------------------------------------------------------------------------
; Light Mystic Harpoon
[State -1, Mystic Harpoon]
type = Null;ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001064)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001016))
triggerall = NumExplod(90000200) || NumExplod(90000205) 
triggerall = statetype != A
trigger1 = ctrl && fvar(19) = 1
;Heavy Attacks
trigger2 = stateno = [200,299]
trigger2 = movecontact&&stateno != 450
trigger3 = stateno = [400, 499]
trigger3 = movecontact
value = ifelse((numexplod(1675)=0),1600, 1690)

; Light Mystic Harpoon
[State -1, Mystic Harpoon]
type = null;ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
;triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001064)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001016))
triggerall = NumExplod(90000200) || NumExplod(90000205) 
trigger1 = statetype != A
trigger1 = (StateNo = [105,106]) && fvar(19) = 1
value = ifelse((numexplod(1675)=0),1600, 1690)
;---------------------------------------------------------------------------
; Micro Wave (EX) (AIR)
[State -1, Micro Wave (EX)  (AIR)]
type = ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = roundstate = 2
triggerall = power >= 500
triggerall = ifElse(Facing = 1, NumExplod(90010006),NumExplod(90010104))
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = !IsHelper
triggerall = Pos Y >-160
triggerall = statetype = A
trigger1 = ctrl
trigger2 =  StateNo = [600,699]
trigger2 = MoveContact
value = 1372

;---------------------------------------------------------------------------
; Micro Wave (EX)
[State -1, Micro Wave (EX)]
type = ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = roundstate = 2
triggerall = power >= 500
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
triggerall = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2)
triggerall = !IsHelper
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1351
;---------------------------------------------------------------------------
; Micro Wave (AIR)
[State -1, Micro Wave (AIR)]
type = ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = roundstate = 2
triggerall = ifElse(Facing = 1, NumExplod(90010006),NumExplod(90010104))
triggerall = NumExplod(90000200) || NumExplod(90000205) || NumExplod(90000210) || NumExplod(90000215) || NumExplod(90000220) || NumExplod(90000225)
triggerall = statetype = A
trigger1 = ctrl
trigger2 =  StateNo = [600,699]
trigger2 = MoveContact
value = 1370
;---------------------------------------------------------------------------
; Micro Wave
[State -1, Micro Wave]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90010006)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90010104)))
triggerall = NumExplod(90000200) || NumExplod(90000205) || NumExplod(90000210) || NumExplod(90000215) || NumExplod(90000220) || NumExplod(90000225)
triggerall = statetype != A
trigger1 = ctrl
trigger2 =  StateNo = [200,299]
trigger2 = MoveContact
trigger3 =  StateNo = [400,499]
trigger3 = MoveContact&&stateno != 450
value = 1350

;---------------------------------------------------------------------------
; Halo Stomp (EX)
[State -1, Halo Stomp (EX)]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = power >= 500
triggerall = ifElse(Facing = 1, NumExplod(90010006),NumExplod(90010104))
triggerall = (ifElse(NumExplod(90000230), 1, 0) + ifElse(NumExplod(90000240), 1, 0) + ifElse(NumExplod(90000250), 1, 0) >= 2) || (ifElse(NumExplod(90000235), 1, 0) + ifElse(NumExplod(90000245), 1, 0) + ifElse(NumExplod(90000255), 1, 0) >= 2)
triggerall = !IsHelper
triggerall = stateno != 1215
triggerall = statetype = A
trigger1 = ctrl
trigger2 =  StateNo = [600,699]
trigger2 = MoveContact
value = 1210

;---------------------------------------------------------------------------
; Halo Stomp
[State -1, Halo Stomp]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = ifElse(Facing = 1, NumExplod(90010006),NumExplod(90010104))
triggerall = NumExplod(90000230) || NumExplod(90000235) || NumExplod(90000240) || NumExplod(90000245) || NumExplod(90000250) || NumExplod(90000255)
triggerall = statetype = A
triggerall = pos Y < -50
trigger1 = ctrl
trigger2 =  StateNo = [600,699]
trigger2 = MoveContact
value = 1200

;---------------------------------------------------------------------------
; Hyakuretsu Kyaku
[State -1, Hyakuretsu Kyaku]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = !NumExplod(1100)
triggerall = Var(9) < 9997
triggerAll = var(34) >= 2
triggerAll = NumExplod(90000240)
triggerall = statetype = A
trigger1 = ctrl
trigger1 = ifelse(stateno=50,time>=12,1)
;trigger2 =  StateNo = [600,699]
;trigger2 = MoveContact
trigger2 = stateno = 645 && animelemtime(4)>=0
trigger3 = stateno = 646 && animelemtime(4)>=0
trigger4 = stateno = 640 && animelemtime(5)>=0
value = 1100
;---------------------------------------------------------------------------
; Sonic the Hedgehog
[State -1, Sonic the Hedgehog]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = !NumExplod(90000001) || !NumExplod(90000002) || !NumExplod(9000003)
triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064))
triggerall = NumExplod(90000250)|| NumExplod(90000255)
triggerall = statetype != A
trigger1 = ctrl 
;Medium Attacks
trigger2 = stateno = [200,299]
trigger2 = movecontact
trigger3 = stateno = [400, 499]
trigger3 = movecontact
value = 1000

;---------------------------------------------------------------------------
; Sonic the Hedgehog
[State -1, Sonic the Hedgehog]
type = ChangeState
triggerall= !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = !NumExplod(90000001) && !NumExplod(90000002) && !NumExplod(9000003)&&command!="down"&&command!="holddown"
triggerall = command = "c"
trigger1 = StateNo = 100 || Stateno = 101
trigger1 = StateType != A
value = 1000


;===========================================================================
; COMMAND & SYSTEM MOVES
;===========================================================================

; Reverse Throw
[State -1, throw2]
type = changestate
triggerall = !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000004)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000006))) && NumExplod(90000800)
trigger1 = roundstate=2 && ctrl && statetype=S && stateno!=100
value = 810

; Explode Throw
[State -1, throw1]
type = changestate
triggerall = !AILEVEL && !IsHelper
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000006)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000004))) && NumExplod(90000800) || NumExplod(90000800)
trigger1 = roundstate=2 && ctrl && statetype=S && stateno!=100
value = 800

;Power Charge
[State -1]
type = ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = Power < 3000
triggerall = stateno != 900
triggerall = Ctrl
triggerall = NumExplod(90000210) && NumExplod(90000240) || command = "holdb" && command = "holdy"
trigger1 = !NumHelper(3310) 
value = 900

;Saving Attack
[State -1]
type = ChangeState
triggerall = Var(9) < 9997
triggerall= !AILEVEL && !IsHelper
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = Ctrl
triggerall = NumExplod(90000220) && NumExplod(90000250)|| command = "z" && command = "c"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
value = 1300

; Short Jump
;This state executes only after performing the poke
[State -1, Short Jump]
type = ChangeState
value = 49
triggerall = numexplod(4900) <= 0 
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = (ifElse(NumExplod(90000230), 1, 0) + ifElse(NumExplod(90000240), 1, 0) + ifElse(NumExplod(90000250), 1, 0) >= 2) || (ifElse(NumExplod(90000235), 1, 0) + ifElse(NumExplod(90000245), 1, 0) + ifElse(NumExplod(90000255), 1, 0) >= 2)
triggerall = NumExplod(90000021) || NumExplod(90000022) || NumExplod(90000023)
triggerall = statetype = C
trigger1 = ctrl

;Zero Counter
[State -1, zero counter]
type = changestate
triggerall = Var(9) < 9997
trigger1 = AILevel <=0 && !IsHelper
trigger1 = stateno=[150, 155];JNP4.x
trigger1 = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000006)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000004)))
trigger1 = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2) || (ifElse(NumExplod(90000230), 1, 0) + ifElse(NumExplod(90000240), 1, 0) + ifElse(NumExplod(90000250), 1, 0) >= 2) || (ifElse(NumExplod(90000235), 1, 0) + ifElse(NumExplod(90000245), 1, 0) + ifElse(NumExplod(90000255), 1, 0) >= 2)
trigger1 = roundstate=2 && power>=1000 && statetype!=A
trigger1 = ctrl = 0
value = 750

;Air Zero Counter
[State -1, air zero counter]
type = changestate
triggerall = Var(9) < 9997
trigger1 = AILevel<=0 && !IsHelper
trigger1 = stateno=[150, 155];JNP4.x  ; && animelemtime(1)<6
trigger1 = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000006)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000004)))
trigger1 = (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2) || (ifElse(NumExplod(90000205), 1, 0) + ifElse(NumExplod(90000215), 1, 0) + ifElse(NumExplod(90000225), 1, 0) >= 2) || (ifElse(NumExplod(90000230), 1, 0) + ifElse(NumExplod(90000240), 1, 0) + ifElse(NumExplod(90000250), 1, 0) >= 2) || (ifElse(NumExplod(90000235), 1, 0) + ifElse(NumExplod(90000245), 1, 0) + ifElse(NumExplod(90000255), 1, 0) >= 2)
trigger1 = roundstate=2 && power>=1000 && statetype=A
trigger1 = ctrl = 0
value = 760

;Air Dash Back
[State -1, Back]
type = ChangeState
value = 115
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = var(10) = 0 ;limiter
triggerall = vel x <= 0
triggerall = ifElse(Facing = 1, NumExplod(90001064),NumExplod(90001016)) || (ifElse(Facing = 1, NumExplod(90000024),NumExplod(90000026)) && (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2))
trigger1 = pos Y < -20
triggerall = stateno != 105
trigger1 = (statetype = A) && (ctrl)

;Air Dash Forward
[State -1, Fwd]
type = ChangeState
value = 110
triggerall = !AILEVEL
triggerall = Var(9) < 9997
triggerall = var(10) = 0 ;limiter
triggerall = (ifElse(Facing = 1, NumExplod(90001016),NumExplod(90001064))) || (((ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2)) && !NumExplod(90000021) && !NumExplod(90000022) && !NumExplod(90000023) && !NumExplod(90000027) && !NumExplod(90000028) && !NumExplod(90000029) && (ifElse(Facing = 1, !NumExplod(90000024),!NumExplod(90000026))))
trigger1 = pos Y < -20
triggerall = stateno != 105
trigger1 = (statetype = A) && (ctrl)


; Run Fwd
[State -1, Run Fwd]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001016)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001064))) || (((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000026)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000024))) && (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2))
trigger1 = statetype = S && ctrl
trigger1 = roundstate=2 && (stateno!=[100,106])
value = 100

; Run Back
[State -1, Run Back]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = ((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90001064)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90001016))) || (((ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000024)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000026))) && (ifElse(NumExplod(90000200), 1, 0) + ifElse(NumExplod(90000210), 1, 0) + ifElse(NumExplod(90000220), 1, 0) >= 2))
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno=195 && animelemtime(3)>=0
value = 105

;===========================================================================
; NORMALS
;===========================================================================
; j. d+MK (cancel ver.)
[State -1, j. d+MK (cancel ver.)]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000021)||NumExplod(90000022)||NumExplod(90000023)
triggerall = NumExplod(90000240)
triggerall = statetype = A
triggerall = stateno !=646
trigger1 = stateno = 645 && movecontact && !IsHelper
value = 646

; j. d+MK
[State -1, j. d+MK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000021)||NumExplod(90000022)||NumExplod(90000023)
triggerall = NumExplod(90000240)  && !IsHelper
triggerall = stateno != [645,646]
triggerall = statetype = A
triggerall = NumExplod(645) <= 2
trigger1 = ctrl
value = 645

; j. d+HP
[State -1, j. d+HP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000021)||NumExplod(90000022)||NumExplod(90000023)
triggerall = NumExplod(90000220)  && !IsHelper
triggerall = stateno != 625
triggerall = statetype = A
triggerall = Pos Y <-60 || Vel Y >=0
trigger1 = ctrl
trigger2 = stateno = 600  && !IsHelper
trigger2 = movecontact
trigger3 = stateno = 630 && !IsHelper
trigger3 = movecontact
;Medium Attacks
trigger4 = stateno = 610  && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 640  && !IsHelper
trigger5 = movecontact
trigger6 = (stateno = 645) && movecontact && !IsHelper
value = 625

; j.HK
[State -1, j.HK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000250)||command = "c"
triggerall = stateno != 650
triggerall = statetype = A
trigger1 = ctrl
;Light Attacks
trigger2 = stateno = 600  && !IsHelper
trigger2 = movecontact
trigger3 = stateno = 630 && !IsHelper
trigger3 = movecontact
;Medium Attacks
trigger4 = stateno = 610  && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 640  && !IsHelper
trigger5 = movecontact
trigger6 = (stateno = 645) && movecontact && !IsHelper
value = 650

; j.HP
[State -1, j.HP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000220)||command = "z"
triggerall = stateno != 620 
triggerall = statetype = A
trigger1 = ctrl
;Light Attacks
trigger2 = stateno = 600  && !IsHelper
trigger2 = movecontact
trigger3 = stateno = 630 && !IsHelper
trigger3 = movecontact
;Medium Attacks
trigger4 = stateno = 610  && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 640  && !IsHelper
trigger5 = movecontact
trigger6 = (stateno = 645) && movecontact && !IsHelper
value = 620

; j.MK
[State -1, j.MK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000240)||command = "b"
triggerall = stateno != 640 
triggerall = statetype = A
trigger1 = ctrl
;Light Attacks
trigger2 = stateno = 600  && !IsHelper
trigger2 = movecontact
trigger3 = stateno = 630 && !IsHelper
trigger3 = movecontact
value = 640

; j.MP
[State -1, j.MP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000210)||command = "y"
triggerall = stateno != 610 
triggerall = statetype = A
trigger1 = ctrl
;Light Attacks
trigger2 = stateno = 600  && !IsHelper
trigger2 = movecontact
trigger3 = stateno = 630 && !IsHelper
trigger3 = movecontact
value = 610

; j.LK
[State -1, j.LK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000230)||command = "a"
triggerall = stateno != 640
triggerall = statetype = A
trigger1 = ctrl
value = 630

; j.LP
[State -1, j.LP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000200)||command = "x"
triggerall = stateno != 600
triggerall = statetype = A
trigger1 = ctrl
value = 600

; Forward + s.HK
[State -1, s.HK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = ifElse(Facing = 1, NumExplod(90000026),NumExplod(90000024))
triggerall = NumExplod(90000250)
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
;Medium Attacks
trigger7 = stateno = 210 && !IsHelper
trigger7 = movecontact
trigger8 = stateno = 410 && !IsHelper
trigger8 = movecontact
trigger9 = stateno = 240 && !IsHelper
trigger9 = movecontact
trigger10 = stateno = 440 && !IsHelper
trigger10 = movecontact
value = 261

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000250) ||  command = "c"
triggerall = (!NumExplod(90000021) && !NumExplod(90000022) && !NumExplod(90000023))
triggerall = StateType != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
;Medium Attacks
trigger7 = stateno = 210 && !IsHelper
trigger7 = movecontact
trigger8 = stateno = 410 && !IsHelper
trigger8 = movecontact
trigger9 = stateno = 240 && !IsHelper
trigger9 = movecontact
trigger10 = stateno = 440 && !IsHelper
trigger10 = movecontact
value = 250

; Back + s.HP
[State -1, s.HP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = NumExplod(90000220) ||  command = "z"
triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000026)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000024))
triggerall = !IsHelper
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
;Medium Attacks
trigger7 = stateno = 210 && !IsHelper
trigger7 = movecontact
trigger8 = stateno = 410 && !IsHelper
trigger8 = movecontact
trigger9 = stateno = 240 && !IsHelper
trigger9 = movecontact
trigger10 = stateno = 440 && !IsHelper
trigger10 = movecontact
value = 227

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000220) ||  command = "z"
triggerall = (!NumExplod(90000021) && !NumExplod(90000022) && !NumExplod(90000023))
triggerall = StateType != A
triggerall = stateno != 100 || stateno != 101
trigger1 = ctrl
;Light Attacks
trigger2 = stateno = 200 && !IsHelper
trigger2 = movecontact
trigger3 = stateno = 400 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 230 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 430 && !IsHelper
trigger5 = movecontact
;Medium Attacks
trigger6 = stateno = 210 && !IsHelper
trigger6 = movecontact
trigger7 = stateno = 410 && !IsHelper
trigger7 = movecontact
trigger8 = stateno = 240 && !IsHelper
trigger8 = movecontact
trigger9 = stateno = 440 && !IsHelper
trigger9 = movecontact
value = 220

; s.MK
[State -1, s.MK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000240) ||  command = "b"
triggerall = (!NumExplod(90000021) && !NumExplod(90000022) && !NumExplod(90000023))
triggerall = StateType != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
value = 240

; s.MP
[State -1, s.MP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000210) ||  command = "y"
triggerall = (!NumExplod(90000021) && !NumExplod(90000022) && !NumExplod(90000023))
triggerall = StateType != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
;----------------------------
value = 210

; s.LK
[State -1, s.LK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000230) ||  command = "a"
triggerall = (!NumExplod(90000021) && !NumExplod(90000022) && !NumExplod(90000023))
triggerall = StateType != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
value = 230

; s.LP
[State -1, s.LP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000200) ||  command = "x"
triggerall = (!NumExplod(90000021) && !NumExplod(90000022) && !NumExplod(90000023))
triggerall = StateType != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
value = 200

; Launcher
[State -1, Launcher]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000023)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000021))
triggerall = NumExplod(90000250) ||  command = "c"
triggerall = !IsHelper
triggerall = statetype != A  
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 
trigger3 = movecontact
trigger4 = stateno = 400 
trigger4 = movecontact
trigger5 = stateno = 230 
trigger5 = movecontact
trigger6 = stateno = 430 
trigger6 = movecontact
;Medium Attacks
trigger7 = stateno = 210 
trigger7 = movecontact
trigger8 = stateno = 410 
trigger8 = movecontact
trigger9 = stateno = 240 
trigger9 = movecontact
trigger10 = stateno = 440 
trigger10 = movecontact
trigger11 = stateno = 1870 
trigger11 = movecontact
value = 470

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000250) ||  command = "c"
triggerall = NumExplod(90000021) || NumExplod(90000022) || NumExplod(90000023)
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
;Medium Attacks
trigger7 = stateno = 210 && !IsHelper
trigger7 = movecontact
trigger8 = stateno = 410 && !IsHelper
trigger8 = movecontact
trigger9 = stateno = 240 && !IsHelper
trigger9 = movecontact
trigger10 = stateno = 440 && !IsHelper
trigger10 = movecontact
value = 450

; 3HP
[State -1, 3HP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000023)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000021))
triggerall = NumExplod(90000220) ||  command = "z"
triggerall = !IsHelper
triggerall = statetype != A  && NumProjID(426) = 0
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
;Medium Attacks
trigger7 = stateno = 210 && !IsHelper
trigger7 = movecontact
trigger8 = stateno = 410 && !IsHelper
trigger8 = movecontact
trigger9 = stateno = 240 && !IsHelper
trigger9 = movecontact
trigger10 = stateno = 440 && !IsHelper
trigger10 = movecontact
trigger11 = stateno = 1870 && !IsHelper
trigger11 = movecontact
value = 425

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000220) ||  command = "z"
triggerall = NumExplod(90000021) || NumExplod(90000022) || NumExplod(90000023)
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
;Medium Attacks
trigger7 = stateno = 210 && !IsHelper
trigger7 = movecontact
trigger8 = stateno = 410 && !IsHelper
trigger8 = movecontact
trigger9 = stateno = 240 && !IsHelper
trigger9 = movecontact
trigger10 = stateno = 440 && !IsHelper
trigger10 = movecontact
value = 420

; c.MK
[State -1, c.MK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000240) ||  command = "b"
triggerall = NumExplod(90000021) || NumExplod(90000022) || NumExplod(90000023)
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper
trigger6 = movecontact
value = 440

; c.MP
[State -1, c.MP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000210) ||  command = "y"
triggerall = NumExplod(90000021) || NumExplod(90000022) || NumExplod(90000023)
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = movecontact
trigger4 = stateno = 400 && !IsHelper
trigger4 = movecontact
trigger5 = stateno = 230 && !IsHelper
trigger5 = movecontact
trigger6 = stateno = 430 && !IsHelper 
trigger6 = movecontact
;----------------------------
value = 410

; c.LK
[State -1, c.LK]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000230) ||  command = "a"
triggerall = NumExplod(90000021) || NumExplod(90000022) || NumExplod(90000023)
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
value = 430

; c.LP
[State -1, c.LP]
type = ChangeState
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000200) ||  command = "x"
triggerall = NumExplod(90000021) || NumExplod(90000022) || NumExplod(90000023)
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
value = 400


;===========================================================================
; SYSTEM
;===========================================================================

; Taunt
[State -1, Taunt]
type = ChangeState
triggerall = !AILEVEL
triggerall = !IsHelper
triggerall = numhelper(198)<=0
triggerall = Var(9) < 9997
triggerall = NumExplod(90000195) || command="start"
triggerall = (!NumExplod(90000021) && !NumExplod(90000022) && !NumExplod(90000023))
trigger1 = statetype != A
trigger1 = ctrl
value = 195

; Super Jump
;This state executes only after performing the air launcher
[State -1, Jump Launcher]
type = ChangeState
value = 10230
triggerall= !AILEVEL
triggerall = Var(9) < 9997
triggerall = NumExplod(90000008) || NumExplod(90000009) || NumExplod(90000007)
trigger1 = (stateno = 470 || stateno = 470) && animelemtime(6)>0 && MoveHit  && !IsHelper

[State -1, Super Jump Forward]
type = ChangeState
value = 10232
triggerall= !AILEVEL
triggerall = Var(9) < 9997
trigger1 = !fVar(34)
trigger1 = statetype = S
trigger1 = ctrl
trigger1 = NumExplod(90000408) 
trigger1 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000009)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000007))

[State -1, Super Jump Backward]
type = ChangeState
value = 10233
triggerall= !AILEVEL
triggerall = Var(9) < 9997
trigger1 = !fVar(34)
trigger1 = statetype = S
trigger1 = ctrl
trigger1 = NumExplod(90000408)
trigger1 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000007)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000009))

[State -1, Super Jump Straight Up]
type = ChangeState
value = 10231
triggerall= !AILEVEL
triggerall = Var(9) < 9997
trigger1 = !fVar(34)
trigger1 = statetype = S
trigger1 = ctrl
trigger1 = NumExplod(90000408)

;Disable Clone
[State 0, VarSet]
type = VarSet
triggerall = !AILEVEL
triggerall = !Var(31)
triggerall = !IsHelper
triggerall = Var(9) < 9997
triggerall = command = "start" || command = "holdstart"
trigger1 = P2MoveType = H
var(31) = 1

;Enable Clone
[State 0, VarSet]
type = VarSet
triggerall = Var(31)=1
triggerall = !IsHelper
triggerall = Var(9) < 9997
trigger1 = P2MoveType != H
var(31) = 0

;==============================================================================================
;==========================================<GUARDING>==========================================
;==============================================================================================
 
;==============================================================================================
;Here, we override the MUGEN's default guard system, and add our own triggers. This will ensure
;that the player can always block as long as they are holding a direction away from the opponent.
;This block of code also adds "chicken guarding", which is allowing the player to air guard by holding
;not only back, but down-back and up-back.
 
;It is also recommended that you also override the guard states (120, 130, 131, 132, 140, 150, 151, 152, 154, 155)
;with an updated version that uses the EXPLODsive buffering system. A copy of those fixed states
;can be found in this character, and also in the release thread (here:PUT LINK HERE).
;==============================================================================================
 
[State -1, AssertSpecial: NoAirGuard]
type = AssertSpecial
triggerAll = !AILevel
trigger1 = P2DisT x < -12 && StateType = A
;trigger2 = var(10) =1
;trigger3 = vel x >= 0.1
trigger2 =  !NumExplod(90000004) && !NumExplod(90000006) && !NumExplod(90000001) && !NumExplod(90000003) && !NumExplod(90000007) && !NumExplod(90000009)
flag = NoAirGuard
ignoreHitPause = 0
 
;These three state controllers are only used in three siuations: when the character has landed from a jump
;after switching sides (to get around a MUGEN bug where a character's directions don't switch until a
;tick has passed, after they've landed from a jump and switched sides); if one of the control reversing
;explods is active, or if (on a keyboard) two opposite directions are held simultaneously. For the first
;two cases, guarding should still be possible, but in the third, guarding should be disabled. In all other
;situations, MUGEN's default guard behavior works well enough!

;The first state controller disables MUGEN's normal guard system if any of of these scenarios occur.
[State -1, AssertSpecial: No StandGuard and NoCrouchGuard]
type = AssertSpecial
triggerAll = !AILevel
trigger1 = P2dist x < -12 && StateType != A
trigger2 = NumExplod(94646464) || NumExplod(92468246)
trigger3 = command = "holdback" && command = "holdfwd" || command = "holdup" && command = "holddown"
flag = NoStandGuard
flag2 = NoCrouchGuard
ignoreHitPause = 0
 
[State -1, Stand Blocking]
type = ChangeState
triggerAll = !AILevel
triggerAll = InGuardDist
triggerAll = StateType = S
triggerAll = ctrl
trigger1 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000004)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000006))
value = 120
 
[State -1, Crouch Blocking]
type = ChangeState
triggerAll = !AILevel
triggerAll = InGuardDist
triggerAll = StateType = C
triggerAll = ctrl
trigger1 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000001)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000003))
value = 120
 
[State -1, Air Blocking]
type = ChangeState
triggerAll = !AILevel
triggerAll = InGuardDist
triggerAll = StateType = A
triggerAll = ctrl
;triggerAll = Var(10)=0
;triggerAll = (vel x <= 0)
trigger1 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000004)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000006))
trigger2 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000001)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000003))
trigger3 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000007)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000009))
value = 120
 
[State -1, Air Blocking]
type = ChangeState
triggerAll = !AILevel
triggerAll = InGuardDist
triggerAll = StateType = A
triggerAll = StateNo = 5210 && Time = 14
trigger1 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000004)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000006))
trigger2 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000001)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000003))
trigger3 = (ifElse(P2DisT x < -12, Facing = -1, Facing = 1) && NumExplod(90000007)) || (ifElse(P2DisT x < -12, Facing = 1, Facing = -1) && NumExplod(90000009))
value = 120
 
;===========================================================================
;===========================================================================
;===========================================================================
;===========================================================================
;===========================================================================


;========================================
;Clone stuff

[State 0, HitOverride]
type = HitOverride
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = StateNo != [120,155]
attr = SCA,HA,HP,HT       ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 3524;3520
time = 1
forceair = 0
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = null;Explod
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1)=7
triggerall = !NumExplod(25)
triggerall = MoveType != A
trigger1 = root, MoveType = H
trigger2 = MoveType = H
id = 25
anim = 1
removetime = 2

;clonetimer1
[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = IsHelper(3501)
trigger1 = Var(1) >= 5
trigger1 = root,Var(28) = 0
trigger1 = !root,NumExplod(500)
var(28) = Cond(Var(1) = 7,350,Cond(Var(1) = 6, 400,700))

;clonetimer2
[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = IsHelper(3502)
trigger1 = Var(1) >= 5
trigger1 = root,Var(29) = 0
trigger1 = !root,NumExplod(501)
var(29) = Cond(Var(1) = 7,350,Cond(Var(1) = 6, 400,700))

[State 0, Explod]
type = Explod
trigger1 = !IsHelper
trigger1 = Var(28)=1
anim =1
ID = 500
removetime = -1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !NumHelper(3501)
id = 500
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !IsHelper
trigger1 = Var(29)=1
anim = 1
ID = 501
removetime = -1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !NumHelper(3502)
;trigger2 = StateNo = 35102
;trigger3 = PrevStateNo != 35102
id = 501
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = var(39)=0;test clones
triggerall = roundstate = 2
trigger1 = Var(28)>0
trigger2 = MoveType != H
trigger2 = enemy, AnimExist(5939)=0
trigger2 = enemy, NumExplod(991901)=0
var(28) = -1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = !NumHelper(3501) 
trigger2 = Var(28)<0
var(28) = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = var(39)=0;test clones
triggerall = roundstate = 2
trigger1 = Var(29)>0
trigger2 = MoveType != H
trigger2 = enemy, AnimExist(5939)=0
trigger2 = enemy, NumExplod(991901)=0
var(29) = -1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = !NumHelper(3502) 
trigger2 = Var(29)<0
var(29) = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = IsHelper(3502) 
triggerall = roundstate = 2
triggerall = Var(1)>=5
triggerall = StateNo != 35210
triggerall = StateNo != 35201
triggerall = StateNo != 3516
triggerall = StateNo != 3517
triggerall = StateNo != [35102,35103]
triggerall = StateNo != [3200,3213]
triggerall = StateNo != [181,189]
trigger1 = root,Var(29) = 0
value = 35102
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = IsHelper(3501) 
triggerall = roundstate = 2
triggerall = Var(1)>=5
triggerall = StateNo != 35210
triggerall = StateNo != 35201
triggerall = StateNo != 3516
triggerall = StateNo != 3517
triggerall = StateNo != [35102,35103]
triggerall = StateNo != [3200,3213]
trigger1 = root,Var(28) = 0
value = 35102
ignorehitpause = 1
;Clone Death



[State 0, BindToRoot]
type = null;BindToRoot
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1)=7
triggerall = root, StateNo != [36510,36511]
triggerall = StateNo != 35102
triggerall = !NumExplod(25)
trigger1 = StateNo != [3501,3502]
pos = Cond(IsHelper(3501),2 * (root, p2dist x),2 * (root, p2dist x)+30), 0
Facing = -1
ignorehitpause = 1

[State 0, PosSet]
type = null;PosSet
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1)=7
trigger1 = root, MoveType = H
x = Cond(IsHelper(3501),Cond(root,facing = 1,((root,Pos X + root,P2Dist X*2.5-50)),((root,Pos X - root,P2Dist X*2.5+50))),Cond(root,facing = 1,((root,Pos X + root,P2Dist X*2.5)),((root,Pos X - root,P2Dist X*2.5))))

[State 0, ChangeState]
type = null;ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1)=7
triggerall = StateNo != 35102
trigger1 = root, StateNo = [800,899]
trigger2 = root,Var(48) > root,Var(49)+1
value = 35102
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root,StateNo = 950
value = SCA,NT,ST,HT
time = 15
ignorehitpause = 1

[State 0, StateTypeSet]
type = null;StateTypeSet
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1)=7
trigger1 = Pos Y <0
statetype = A     
physics = A  

[State 0, StateTypeSet]
type = null;StateTypeSet
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1)=7
triggerall = Pos Y =0
trigger1 = root, StateType = S
triggerall = MoveType != H
statetype = S
physics = S

[State 0, StateTypeSet]
type = null;StateTypeSet
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1)=7
trigger1 = Pos Y =0
trigger1 = root, StateType = C
statetype = C

[State 0, ChangeState]
type = ChangeState
trigger1 = IsHelper(3501) 
trigger1 = root, NumHelper(3502)
trigger1 = root, Var(41) = 2
trigger1 = helper(3502),StateNo = 3514
trigger2 = IsHelper(3502) 
trigger2 = root, Var(41) = 2
trigger2 = root, NumHelper(3501)
trigger2 = helper(3501),StateNo = 3514
value = 3517

[State 0, SprPriority]
type = SprPriority
trigger1 = IsHelper(3501) || IsHelper(3502)
trigger1 = StateNo != 3514
trigger1 = 1
value = -3 

[State 0, PlayerPush]
type = PlayerPush
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = Cond(!Alive,0,1)
trigger2 = root, StateNo != [800,899]
value = 1

[State 0, ScreenBound]
type = ScreenBound
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1)<=4
trigger1 = root, StateNo = 3510
value = 0
[State 0, ScreenBound]
type = ScreenBound
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo != 3510
trigger1 = Var(1) != 7
value = 1

[State 0, CtrlSet]
type = CTRLSet
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = 1
trigger2 = command = "up"
trigger3 = command = "down"
trigger4 = command = "back"
trigger5 = command = "fwd"
trigger6 = command = "holdup"
trigger7 = command = "holddown"
trigger8 = command = "holdback"
trigger9 = command = "holdfwd"
trigger10 = PrevStateNo = [0,36000]
value = 0
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = StateNo != 3520
trigger1 = Life <= 30
trigger1 = Alive
trigger1 = GameTime%20 = 0
trigger1 = RoundState != 4
time = 4            ;time = 1
add = 128,0,0   ;add = 256,256,256
mul = 128,0,0   ;mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, Turn]
type = Turn
triggerall = IsHelper(3501) 
triggerall = root, StateNo = 3510 && Var(1)<=4
triggerall = facing = root,facing
triggerall = RootDist X <= 14 
triggerall = !(RootDist X >= -14)
trigger1 = StateNo = 35000 && root, Var(41)= 0
trigger2 = StateNo = 35011 && root, Var(41)= 0
trigger3 = StateNo = 35012 && root, Var(41)= 0
trigger4 = StateNo = 35020 && root, Var(41)= 0
trigger5 = StateNo = 35100 && root, Var(41)= 0
trigger6 = StateNo = 35106 && root, Var(41)= 0
trigger7 = StateNo = 35000 && root, Var(41)= 1  &&  !NumHelper(3502)
trigger8 = StateNo = 35011 && root, Var(41)= 1  &&  !NumHelper(3502)
trigger9 = StateNo = 35012 && root, Var(41)= 1  &&  !NumHelper(3502)
trigger10 = StateNo = 35020 && root, Var(41)= 1  &&  !NumHelper(3502)
trigger11 = StateNo = 35100 && root, Var(41)= 1  &&  !NumHelper(3502)
trigger12 = StateNo = 35106 && root, Var(41)= 1  &&  !NumHelper(3502)
trigger13 = StateNo = 35000 && root, Var(41)= 2
trigger14 = StateNo = 35011 && root, Var(41)= 2
trigger15 = StateNo = 35012 && root, Var(41)= 2
trigger16 = StateNo = 35020 && root, Var(41)= 2
trigger17 = StateNo = 35100 && root, Var(41)= 2
trigger18 = StateNo = 35106 && root, Var(41)= 2


[State 0, Turn]
type = Turn
triggerall = IsHelper(3502) 
triggerall = root, StateNo = 3510 && Var(1)<=4
triggerall = facing = root,facing
triggerall = RootDist X <= 14 
triggerall = !(RootDist X >= -14)
trigger1 = StateNo = 35000 && root, Var(41)= 0  &&  !NumHelper(3501)
trigger2 = StateNo = 35011 && root, Var(41)= 0  &&  !NumHelper(3501)
trigger3 = StateNo = 35012 && root, Var(41)= 0  &&  !NumHelper(3501)
trigger4 = StateNo = 35020 && root, Var(41)= 0  &&  !NumHelper(3501)
trigger5 = StateNo = 35100 && root, Var(41)= 0  &&  !NumHelper(3501)
trigger6 = StateNo = 35106 && root, Var(41)= 0  &&  !NumHelper(3501)
trigger7 = StateNo = 35000 && root, Var(41)= 1  
trigger8 = StateNo = 35011 && root, Var(41)= 1 
trigger9 = StateNo = 35012 && root, Var(41)= 1 
trigger10 = StateNo = 35020 && root, Var(41)= 1  
trigger11 = StateNo = 35100 && root, Var(41)= 1  
trigger12 = StateNo = 35106 && root, Var(41)= 1  
trigger13 = StateNo = 35000 && root, Var(41)= 2
trigger14 = StateNo = 35011 && root, Var(41)= 2
trigger15 = StateNo = 35012 && root, Var(41)= 2
trigger16 = StateNo = 35020 && root, Var(41)= 2
trigger17 = StateNo = 35100 && root, Var(41)= 2
trigger18 = StateNo = 35106 && root, Var(41)= 2

[State 0, 4] 
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper
trigger1 = Var(1) = 1
triggerall = StateNo != 35040||stateno!=35100||stateno!= 305052
trigger1 = StateNo = 35020
trigger1 = RootDist X > 60
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501)
triggerall = root, StateNo = 3510
triggerall = StateNo != 35040||stateno!=35100||stateno!= 305052 
triggerall = StateNo = 35000
trigger1 = root, Var(41)= 0
trigger2 = root, Var(41)= 1  && !NumHelper(3502)
trigger3 = root, Var(41)= 2
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3502)
triggerall = root, StateNo = 3510
triggerall = StateNo != 35040||stateno!=35100||stateno!= 305052 
triggerall = StateNo = 35000
trigger1 = root, Var(41)= 0  &&  !NumHelper(3501)
trigger2 = root, Var(41)= 1
trigger3 = root, Var(41)= 2
value = 35100
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 1
trigger1 = StateNo = 35020
trigger1 = RootDist X < -80
value = 35105
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = Var(1) = 3
triggerall = StateNo = 5050
trigger1 = MoveType = H
trigger1 = StateType = A
trigger1 = Pos Y < -10
trigger1 = StateNo != 35210
trigger1 = StateNo != 35201
trigger1 = random < 20
trigger1 = Alive
value = 35210
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = Var(1) = 3
triggerall = root, StateNo != [3510,3511]
trigger1 = random > 700
trigger1 = P2BodyDist X <= 40
trigger1 = P2BodyDist Y >= -5
trigger1 = MoveType != H
trigger1 = StateType = A
trigger1 = MoveType != A
value = 630
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = Var(1) = 3
triggerall = root, StateNo != [3510,3511]
trigger1 = random < 500
trigger1 = P2BodyDist X <= 80
trigger1 = P2BodyDist Y >= -25
trigger1 = Vel Y >= 1
trigger1 = MoveType != H
trigger1 = StateType = A
trigger1 = MoveType != A
value = 620
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = Var(1) = 3
triggerall = root, StateNo != [3510,3511]
trigger1 = random > 700
trigger1 = P2BodyDist Y < -5
trigger1 = MoveType != H
trigger1 = StateType = A
trigger1 = MoveType != A
value = 650
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = Var(1) = 3
triggerall = root, StateNo != [3510,3511]
trigger1 = random > 970
trigger1 = P2BodyDist X <= 70
trigger1 = P2BodyDist Y >= -10
trigger1 = MoveType != H
trigger1 = StateType = A 
trigger1 = MoveType != A
value = 1395
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = Var(1) = 3
triggerall = StateNo = 5050
trigger1 = MoveType = H
trigger1 = StateType = A
trigger1 = Pos Y >= 0
trigger1 = StateNo != 35210
trigger1 = StateNo != 35201
trigger1 = Alive
trigger1 = random < 30
value = 35201
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = StateNo != 35040||stateno!=35100||stateno!= 305052 
triggerall = !root,Var(31)
triggerall = Var(1) = 1
triggerall = root, StateNo != [3510,3511]
trigger1 = StateNo = 35100  
trigger1 = facing = enemy,facing
trigger1 = random < 100
trigger1 = P2StateType != A
value = 35040
ctrl = 0

[State 0, 4] 
type = null;ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 2
triggerall = root, StateNo != [3510,3511]
trigger1 = StateNo = 35000  
trigger1 = facing = enemy,facing
trigger1 = random < 10
trigger1 = P2StateType != A
value = 35040
ctrl = 0

[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = Var(1) = 1
triggerall = Random < 20
triggerall = root, StateNo != [3510,3511]
trigger1 = StateType = A
trigger1 = StateNo != [1200,1250]
trigger1 = MoveType != H
trigger1 = Pos Y <= -40
value = 1200
ctrl = 0

;clone DWave
[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = facing != enemy,facing
triggerall = Var(1) = 1
triggerall = StateNo = 35000 || StateNo = 35020
triggerall = Random < 30
triggerall = root, StateNo != [3510,3511]
trigger1 = P2BodyDist X < 100
trigger2 = P2BodyDist X >= 30 && P2BodyDist X <= 120
trigger2 = enemy, Vel Y > 0
trigger2 = P2BodyDist Y >= -40
value = 1350
ctrl = 0

;Clone telesweep MK/HK
[State 0, 4] 
type = null;ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = facing != enemy,facing
triggerall = Var(1) = 1
triggerall = StateNo = 35000 || StateNo = 35020
triggerall = root, StateNo != [3510,3511]
trigger1 = Random > 990
trigger1 = P2StateType !=A
trigger2 = !NumExplod(1802)
trigger2 = P2StateType = L
trigger3 = StateNo = 35020 
trigger3 = Time>60
value = 1871
ctrl = 0

;clone mental shock
[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = facing != enemy,facing
triggerall = Var(1) = 1
triggerall = StateNo = 35000 || StateNo = 35020
triggerall = Random >= 900 && Random < 990
triggerall = P2MoveType !=H
triggerall = root, StateNo != [3510,3511]
trigger1 = P2BodyDist X < 40
trigger1 = P2BodyDist Y < -10
value = 1400
ctrl = 0

;clone carnage blitz
[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = Var(1) = 1
triggerall = root, StateNo != [3510,3511]
trigger1 = StateNo = 35100  
trigger1 = facing = enemy,facing
trigger1 = P2MoveType != H
trigger1 = Random >= 900
value = 1510
ctrl = 0

;clone Harpoon
[State 0, 4] 
type = ChangeState
triggerall = NumEnemy && RoundState = 2
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = !root,Var(31)
triggerall = facing != enemy,facing
triggerall = Var(1) = 1
triggerall = StateNo = 35000 || StateNo = 35020
triggerall = root, StateNo != [3510,3511]
triggerall = Random <= 4
trigger1 = P2BodyDist X > 121
trigger1 = P2BodyDist Y = 0
value = ifelse((root,numexplod(1675)=0),1602, 1697)
ctrl = 0

[state -1, remove Flip KO FX]
type = removeexplod
trigger1 = IsHelper
trigger1 = NumExplod(5938)
id = 5938
[state -1, remove Twist KO FX]
type = removeexplod
trigger1 = IsHelper
trigger1 = NumExplod(20152)
id = 20152
[state 17100, Shocked FX]
type = removeexplod
trigger1 = IsHelper(3501) || IsHelper(3502)
trigger1 = NumExplod(9011)
ID = 9011


; Stop SBC Charge SND1
[State -2, StopSnd]
type = StopSnd
triggerall = IsHelper
trigger1 = stateno = [3211,3213]
trigger2 = MoveType = H
trigger3 = stateno = [3516,3523]
trigger4 = MoveType = I
channel = 2

; Stop SBC Charge SND2
[State -2, StopSnd]
type = StopSnd
triggerall = IsHelper
trigger1 = stateno = [3211,3213]
trigger2 = MoveType = H
trigger3 = stateno = [3516,3523]
trigger4 = MoveType = I
channel = 8

;Stop Beam Snd
[State 0, StopSnd]
type = StopSnd
triggerall = IsHelper
trigger1 = MoveType = H
trigger2 = stateno = [3516,3523]
trigger3 = MoveType = I
channel = 7

[State 0, DisplayToClipboard]
type = DisplayToClipboard
triggerall = Var(1) <= 7
trigger1 = IsHelper(3501) || IsHelper(3502)
text = "vel X = %d, fvar(14) = %d, var(19) = %d"
params = vel X, fvar(14), var(19)

[State sjVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = [10230,10231]
triggerall = root, Time = 1
trigger1 = fvar(30)=0
fvar(30) = 16.0
ignorehitpause = 1
[State sjVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 10232
triggerall = root, Time = 1
trigger1 = fvar(30)=0
fvar(30) = 46.0
ignorehitpause = 1
[State sjVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 10233
triggerall = root, Time = 1
trigger1 = fvar(30)=0
fvar(30) = 66.0
ignorehitpause = 1
[State sjVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = [10230,10231]
triggerall = root, Time = 1
trigger1 = (fvar(30)=[30.0,17.0]) || (fvar(30)=[50.0,47.0])
fvar(30) = 0
ignorehitpause = 1

[State sjVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(30)>0
fvar(30) = -1.0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = StateNo != [10230,10233]
trigger1 = StateType != A
id = 10230
ignorehitpause = 1

; sj up
[State -1, sj]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = stateno != 10231
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 10231 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(30) = 1.0 
value = 10231
; sj F
[State -1, sj]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = stateno != 10232
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 10232 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(30) = 31.0 
value = 10232
; sj B
[State -1, sj]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = root,Var(9) < 9997
triggerall = stateno != 10233
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 10233 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(30) = 51.0 
value = 10233

[State CrouchTimeVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1100
var(19) = 1
ignorehitpause = 1
[State CrouchTimeVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo != 1100
trigger1 = var(19)>0
var(19) = -1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1100
trigger1 = root, Time = 1
trigger1 = Var(19) = 0
var(19) = 1

;-----Clone Specials-----START

;DIRT HACK FOR TESTING PURPOSES--------USING ROOT CANCEL
;Taunt Stand
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=195||stateno!=195;noloop
triggerall = Statetype!=A; || AnimElemTime(6)>=0
trigger1 = root,StateNo = 195
value = 195
;Bingo Clone
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=1119007||stateno!=1119007;noloop
triggerall = Statetype!=A 
triggerall = root,movetype = H
trigger1 = root,Anim = [9000,9007]
value = 1119007
;=================
;Specials Stand EX cancel
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=[1000,1999];noloop
triggerall = MoveContact&&Statetype!=A; || AnimElemTime(6)>=0
trigger1 =  Root,stateno = 1351;DestructiveWave
value = 1350
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=[1000,1999];noloop
triggerall = MoveContact&&Statetype!=A; || AnimElemTime(6)>=0
trigger1 =  Root,StateNo = 1550;CarnageBlitz
value = 1520
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=[1000,1999];noloop
triggerall = MoveContact&&Statetype!=A; || AnimElemTime(6)>=0
trigger1 =  Root,StateNo = 1603;mysticharpoon
value = 1602
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=[1000,1999];noloop
triggerall = MoveContact&&Statetype!=A; || AnimElemTime(6)>=0
trigger1 =  Root,Stateno = 1480;AA grab
value = 1410
;Specials Stand EX cancel
;===================
;Specials Air EX cancel
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=[1000,1999];noloop
triggerall = MoveContact&&Statetype=A; || AnimElemTime(6)>=0
trigger1 = root, StateNo = 1210;AA
value = 1200
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=[1000,1999];noloop
triggerall = MoveContact&&Statetype=A; || AnimElemTime(6)>=0
trigger1 = root, StateNo = 1372;Air Destructive Wave
value = 1370
;Specials Air Ex cancel
;===================
;Specials Stand
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=[1000,1999];noloop
triggerall = MoveContact&&Statetype!=A; || AnimElemTime(6)>=0
trigger1 = root, StateNo = 1600||root, StateNo = 1601||root, StateNo = 1602;||root, StateNo = 1603;MysticHarpoon
trigger2 = root,stateno = 1350; ||root,stateno = 1351;DestructiveWave
trigger3 = root, StateNo = 1500||root, StateNo = 1510||root, StateNo = 1520;||root, StateNo = 1550;CarnageBlitz
trigger4 = root, StateNo = 1410;||root, StateNo = 1400;AA
trigger5 = root, StateNo = 1700||root, StateNo = 1701;TrapShot
value = root,stateno

;Specials Air
[State 1000, 6]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = Var(1)=5 || Var(1) = 6 || Var(1) = 7
triggerall = prevstateno !=[1000,1999];noloop
triggerall = MoveContact&&Statetype=A; || AnimElemTime(6)>=0
trigger1 = root, StateNo = 1200||root, StateNo = 1210;AA
trigger2 = root, StateNo = 1370;||root, StateNo = 1372;Air Destructive Wave
value = root,stateno

;DIRT HACK FOR TESTING PURPOSES------USING ROOT CANCEL

[State SBCVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 3200||root, StateNo = 3209||root, StateNo = 3201||root, StateNo = 3202
triggerall = root, Time = 1
trigger1 = fvar(26)=0
fvar(26) = 16.0
ignorehitpause = 1
[State SBCVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(26)>0
fvar(26) = -1.0
ignorehitpause = 1
; 3200
[State -1, 3200]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 3200
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root, StateNo = 3200||root, StateNo = 3209||root, StateNo = 3201||root, StateNo = 3202 && root, Time <= 3
;trigger2 = root,stateno =3200
;trigger2 = var(41)=3
trigger2 = Var(1) = 6
trigger2 = fvar(26) = 1.0 
value = 3200

[State TrapShotVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
trigger1 = root, StateNo = 1700||root, StateNo = 1701
triggerall = root, Time = 1
trigger1 = fvar(29)=0
fvar(29) = 21.0
ignorehitpause = 1
[State TrapShotVar, VarAdd]
type = VarAdd
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = Var(1) = 6
trigger1 = fvar(29)>0
fvar(29) = -1.0
ignorehitpause = 1

; TrapShot QCF
[State -1, TrapShot QCF]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,var(52)>0
;triggerall = root,Var(9) < 9997
triggerall = stateno != 1700
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1700
;trigger2 = root,var(41)!=3
trigger2 = Var(1) = 6
trigger2 = fvar(29) = 1.0 
value = 1700

; TrapShot QCB
[State -1, TrapShot LMH]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,var(52)>0
;triggerall = root,Var(9) < 9997
triggerall = stateno != 1701
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1701
;trigger2 = root,var(41)!=3
trigger2 = Var(1) = 6
trigger2 = fvar(29) = 1.0
value = 1701
;
;
;
[State DiveKickVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1200||root, StateNo = 1210
trigger2 = root,StateNo = 1500||root,stateno=1510||root,stateno=1520||root,stateno=1550
;trigger3 = root, StateNo = 1480||root, StateNo = 1410;AA
triggerall = root, Time = 1
triggerall = fvar(25)=0
fvar(25) = 21.0
ignorehitpause = 1
[State DiveKickVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(25)>0
fvar(25) = -1.0
ignorehitpause = 1
; 1210
[State -1, 1210]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1200
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1210 && root, Time <= 3
trigger2 = root,var(41)=3
trigger2 = Var(1) = 6
trigger2 = fvar(25) = 1.0 
value = 1200
; 1200
[State -1, 1200]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1200
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1200 && root, Time <= 3
trigger2 = root,var(41)>=0&&root,var(41)!=3
trigger2 = Var(1) = 6
trigger2 = fvar(25) = 1.0 
trigger3 = root,StateNo = 1500||root,stateno=1510||root,stateno=1520||root,stateno=1550
value = 1200
;
;
;
[State AAVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1410||root, StateNo = 1480;||stateno=1400
triggerall = root, Time = 1
trigger1 = fvar(24)=0
fvar(24) = 16.0
ignorehitpause = 1
[State AAar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(24)>0
fvar(24) = -1.0
ignorehitpause = 1
; 1410
[State -1, 1410]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1410
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1410 && root, Time <= 3
trigger2 = root,stateno =1410
trigger2 = Var(1) = 6
trigger2 = fvar(24) = 1.0 
;trigger2 = var(41)=3
value = 1410
; 1480
[State -1, 1480]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1410
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1480 && root, Time <= 3
trigger2 = root,stateno =1480
trigger2 = Var(1) = 6
trigger2 = fvar(24) = 1.0 
;trigger2 = var(41)=3
value = 1410

[State CarnageBlitzVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1500||root, StateNo = 1510||root, StateNo = 1520||root, StateNo = 1550
trigger2 = root, StateNo = 1900||root, StateNo = 1910||root, StateNo = 1920||root, StateNo = 1930
triggerall = root, Time = 1
trigger1 = fvar(23)=0
fvar(23) = 21.0
ignorehitpause = 1
[State CarnageBlitzVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(23)>0
fvar(23) = -1.0
ignorehitpause = 1
; Carnage Blitz EX
[State -1, Carnage Blitz EX]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1520
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1550 && root, Time <= 3
trigger2 = root,var(41)=3
trigger2 = Var(1) = 6
trigger2 = fvar(23) = 1.0 
value = 1520
; Carnage Blitz H
[State -1, Carnage Blitz H]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1520
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1520 && root, Time <= 3||root,StateNo = 1920 && root, Time <= 3||root,StateNo = 1930 && root, Time <= 3
trigger2 = root,var(41)=2
trigger2 = Var(1) = 6
trigger2 = fvar(23) = 1.0 
value = 1520
; Carnage Blitz M
[State -1, Carnage Blitz M]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1351
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1510 && root, Time <= 3||root,StateNo = 1910 && root, Time <= 3
trigger2 = root,var(41)=1
trigger2 = Var(1) = 6
trigger2 = fvar(23) = 1.0 
value = 1510
; Carnage Blitz L
[State -1, Carnage Blitz L]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1500
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1500 && root, Time <= 3||root,StateNo = 1900 && root, Time <= 3
trigger2 = root,var(41)=0
trigger2 = Var(1) = 6
trigger2 = fvar(23) = 1.0 
value = 1500
;
;
;
[State mysticVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1600||root, StateNo = 1601||root, StateNo = 1602||root, StateNo = 1603
triggerall = root, Time = 1
trigger1 = fvar(21)=0
fvar(21) = 16.0
ignorehitpause = 1
[State mysticVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(21)>0
fvar(21) = -1.0
ignorehitpause = 1
; Mystic Harpoon EX
[State -1, Mystic Harpoon EX]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1602
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1603
trigger2 = root,var(41)=3
trigger2 = Var(1) = 6
trigger2 = fvar(21) = 1.0 
value = 1697;ifelse((root,numexplod(1675)=0),1602, 1697)
; Mystic Harpoon H
[State -1, Mystic Harpoon H]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1602
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1602 && root, Time <= 3
trigger2 = root,var(41)=2
trigger2 = Var(1) = 6
trigger2 = fvar(21) = 1.0 
value = ifelse((root,numexplod(1675)=0),1602, 1697);1697;
; Mystic Harpoon M
[State -1, Mystic Harpoon M]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1601
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1601 && root, Time <= 3
trigger2 = root,var(41)=1
trigger2 = Var(1) = 6
trigger2 = fvar(21) = 1.0 
value = ifelse((root,numexplod(1675)=0),1601, 1696);1696;
; Mystic Harpoon L
[State -1, Mystic Harpoon L]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1600
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1600 && root, Time <= 3
trigger2 = root,var(41)=0
trigger2 = Var(1) = 6
trigger2 = fvar(21) = 1.0 
value = ifelse((root,numexplod(1675)=0),1600, 1690);1690;
;
;
;
[State DestructiveWaveVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1350||root, StateNo = 1351||root, StateNo = 1352||root, StateNo = 1353
trigger2 = root, StateNo = 1370||root, StateNo = 1372
trigger3 = root,StateNo = 1600||root,stateno=1601||root,stateno=1602
triggerall = root, Time = 1
triggerall = fvar(22)=0
fvar(22) = 16.0
ignorehitpause = 1
[State DestructiveWaveVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(22)>0
fvar(22) = -1.0
ignorehitpause = 1
; Destructive Wave Air LMH
[State -1, Destructive Wave Air LMH]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
;triggerall = root,Var(9) < 9997
triggerall = stateno != 1370
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1370
trigger2 = root,var(41)!=3
trigger2 = Var(1) = 6
trigger2 = fvar(22) = 1.0 
value = 1370
; Destructive Wave Air EX
[State -1, Destructive Wave Air EX]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
;triggerall = root,Var(9) < 9997
triggerall = stateno != 1372
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1372
trigger2 = root,var(41)=3
trigger2 = Var(1) = 6
trigger2 = fvar(22) = 1.0 
value = 1370
; Destructive Wave EX
[State -1, Destructive Wave EX]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
;triggerall = root,Var(9) < 9997
triggerall = stateno != 1350
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1351
trigger2 = root,var(41)=3
trigger2 = Var(1) = 6
trigger2 = fvar(22) = 1.0 
value = 1350
; Destructive Wave LMH
[State -1, Destructive Wave LMH]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
;triggerall = root,Var(9) < 9997
triggerall = stateno != 1350
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1350
trigger2 = root,var(41)!=3
trigger2 = Var(1) = 6
trigger2 = fvar(22) = 1.0 
value = 1350
;
;
;
;-----Clone Specials-----END

[State rapidVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1100
;trigger2 = root, StateNo = 1480||root, StateNo = 1410;AA
triggerall = root, Time = 1
trigger1 = fvar(20)=0
fvar(20) = 16.0
ignorehitpause = 1
[State rapidVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(20)>0
fvar(20) = -1.0
ignorehitpause = 1

; rapid kick
[State -1, rapid kick]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1000
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1100 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(20) = 1.0 
value = 1100

[State SonicVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 1000
triggerall = root, Time = 1
trigger1 = fvar(12)=0
fvar(12) = 16.0
ignorehitpause = 1
[State SonicVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(12)>0
fvar(12) = -1.0
ignorehitpause = 1

; Sonic Kick clone
[State -1, Sonic Kick clone]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 1000
triggerall = statetype != A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 1000 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(12) = 1.0 
value = 1000

;Sonic Kick hit Variable
[State -2, Reset var when the opponent recovers]
type = varset
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = numenemy
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
var(12) = 0

[State jDMK&launcherVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 645 || root, StateNo = 470
triggerall = root, Time = 1
trigger1 = fvar(18)=0
fvar(18) = 16.0
ignorehitpause = 1
[State jDMK&launcherVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(18)>0
fvar(18) = -1.0
ignorehitpause = 1

; j. d+MK
[State -1, j. d+MK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 645
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 645 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(18) = 1.0 
value = 645

; c.HKL
[State -1, c.HKL]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = C
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 470 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(18) = 1.0 
value = 470

[State CBHPVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 227 || root, StateNo = 425 || root, StateNo = 625 
triggerall = root, Time = 1
trigger1 = fvar(17)=0
fvar(17) = 16.0
ignorehitpause = 1
[State CBHPVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(17)>0
fvar(17) = -1.0
ignorehitpause = 1

; j.CBHP
[State -1, j.CBHP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 640
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 625 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(17) = 1.0 
value = 625

; c.HK
[State -1, c.CBHP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = C
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 425 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(17) = 1.0 
value = 425

[State HKVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 250 || root, StateNo = 450 || root, StateNo = 650|| root, StateNo = 261 || root, StateNo = 261||root,stateno=1000
triggerall = root, Time = 1
trigger1 = fvar(16)=0
fvar(16) = 16.0
ignorehitpause = 1
[State HKVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(16)>0
fvar(16) = -1.0
ignorehitpause = 1

; j.HK
[State -1, j.HK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 640
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 650 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(16) = 1.0 
value = 650

; c.HK
[State -1, c.HK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = C
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 450 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(16) = 1.0 
value = 450

; F+s.HK
[State -1, F+s.HK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = S
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 261 && root, Time <= 3
trigger2 = Var(1) = 6 && root,StateNo = 261
trigger2 = fvar(16) = 1.0 
value = 261

; s.HK
[State -1, s.HK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = S
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 250 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(16) = 1.0 
value = 250

[State MKVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 240 || root, StateNo = 440 || root, StateNo = 640||root,Stateno = 646 
triggerall = root, Time = 1
trigger1 = fvar(15)=0
fvar(15) = 16.0
ignorehitpause = 1
[State MKVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(15)>0
fvar(15) = -1.0
ignorehitpause = 1

; j.MK
[State -1, j.MK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 640
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 640 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(15) = 1.0 
value = 640

; c.MK
[State -1, c.MK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = C
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 440 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(15) = 1.0 
value = 440

; s.MK
[State -1, s.MK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = S
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 240 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(15) = 1.0 
value = 240

[State LKVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 230 || root, StateNo = 430 || root, StateNo = 630 
triggerall = root, Time = 1
trigger1 = fvar(14)=0
fvar(14) = 16.0
ignorehitpause = 1
[State LKVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(14)>0
fvar(14) = -1.0
ignorehitpause = 1

; j.LK
[State -1, j.LK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 630
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 630 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(14) = 1.0 
value = 630

[State -1, c.LK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = C
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 430 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(14) = 1.0 
value = 430

; s.LK
[State -1, s.LK]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = S
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 230 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(14) = 1.0 
value = 230

[State HPVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 220 || root, StateNo = 420 || root, StateNo = 620 || root, StateNo = 221 || root, StateNo = 225|| root, StateNo = 625
triggerall = root, Time = 1
trigger1 = fvar(6)=0
fvar(6) = 16.0
ignorehitpause = 1
[State HPVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(6)>0
fvar(6) = -1.0
ignorehitpause = 1

; j.HP
[State -1, j.HP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 620
triggerall = statetype = A
triggerall = StateNo != [3514,3523]
triggerall = ((root,StateNo = 620 && root, Time <= 3 && (Var(1) = 5 || Var(1) = 7) || (Var(1) = 6) && fvar(6) = 1.0) )
trigger1 = MoveType = I
value = 620

; c.HP
[State -1, c.HP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 420
triggerall = statetype = C
triggerall = StateNo != [3514,3523]
triggerall = ((root,StateNo = 420 && root, Time <= 3 && (Var(1) = 5 || Var(1) = 7) || (Var(1) = 6) && fvar(6) = 1.0) )
trigger1 = MoveType = I
trigger2 = stateno = 35100 || stateno = 35101
value = 420

; s.HP
[State -1, s.HP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 210
triggerall = statetype = S
triggerall = StateNo != [3514,3523]
triggerall = ((root,StateNo = 220 && root, Time <= 3 && (Var(1) = 5 || Var(1) = 7) || (Var(1) = 6) && fvar(6) = 1.0) )
trigger1 = MoveType = I
trigger2 = stateno = 35100 || stateno = 35101
value = 220

; s.HP
[State -1, s.CBHP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = S
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 227 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(17) = 1.0 
value = 227

[State MPVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 210 || root, StateNo = 410 || root, StateNo = 610
triggerall = root, Time = 1
trigger1 = fvar(5)=0
fvar(5) = 16.0
ignorehitpause = 1
[State MPVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(5)>0
fvar(5) = -1.0
ignorehitpause = 1

; j.MP
[State -1, j.MP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 610
triggerall = statetype = A
triggerall = StateNo != [3514,3523]
triggerall = ((root,StateNo = 610 && root, Time <= 3 && (Var(1) = 5 || Var(1) = 7) || (Var(1) = 6) && fvar(5) = 1.0) )
trigger1 = MoveType = I
value = 610

; c.MP
[State -1, c.MP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 410
triggerall = statetype = C
triggerall = StateNo != [3514,3523]
triggerall = ((root,StateNo = 410 && root, Time <= 3 && (Var(1) = 5 || Var(1) = 7) || (Var(1) = 6) && fvar(5) = 1.0) )
trigger1 = MoveType = I
trigger2 = stateno = 35100 || stateno = 35101
;----------------------------
value = 410

[State -1, s.MP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 210
triggerall = statetype = S
triggerall = StateNo != [3514,3523]
triggerall = ((root,StateNo = 210 && root, Time <= 3 && (Var(1) = 5 || Var(1) = 7) || (Var(1) = 6) && fvar(5) = 1.0) )
trigger1 = MoveType = I
trigger2 = stateno = 35100 || stateno = 35101
;----------------------------
value = 210

[State LPVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 200 || root, StateNo = 400 || root, StateNo = 600
triggerall = root, Time = 1
trigger1 = fvar(4)=0
fvar(4) = 16.0
ignorehitpause = 1
[State LPVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(4)>0
fvar(4) = -1.0
ignorehitpause = 1

; j.LP
[State -1, j.LP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = stateno != 600
triggerall = statetype = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 600 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(4) = 1.0 
value = 600

; c.LP
[State -1, s.LP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = C
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 400 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(4) = 1.0 
value = 400

; s.LP
[State -1, s.LP]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = root,Var(9) < 9997
triggerall = StateType = S
triggerall = StateNo = [35000,35101]
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = Var(1) = 5 || Var(1) = 7 
trigger1 = root,StateNo = 200 && root, Time <= 3
trigger2 = Var(1) = 6
trigger2 = fvar(4) = 1.0 
value = 200

[State 0, 4] ;Guard
type = ChangeState
triggerall = Var(1) = 5 || Var(1) = 7 || Var(1) = 6
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
trigger1 = StateNo = [35000,35040]
trigger1 = root, StateNo = [120,155]
trigger1 = MoveType = I
value = root,StateNo
ctrl = 0

[State CrouchTimeVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateType = C 
var(2) = 1
ignorehitpause = 1
[State CrouchTimeVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateType != C 
trigger1 = var(2)>0
;trigger1 = !NumExplod(11)
var(2) = -1
ignorehitpause = 1


[State 0, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateType = C 
trigger1 = root, Time = 1
trigger1 = Var(2) = 0
var(2) = 1
[State CrouchVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateType = C 
trigger1 = root, Time = 1
var(3) = 16
ignorehitpause = 1
[State CrouchVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = var(2)>0
var(3) = -1
ignorehitpause = 1

[State 0, 4] ;Crouch
type = null
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = StateType = S
triggerall = StateNo != [35010,35012]
triggerall = StateNo != [3514,3523]
triggerall = MoveType = I
trigger1 = var(3)=1
value = 35010
ctrl = 0

[State 0, 4] ;Crouch
type = ChangeState
triggerall = Var(1) = 5 || Var(1) = 7 
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = MoveType = I
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
trigger1 = StateNo = [35000,35020]
trigger1 = root, StateNo = 10&&root,pos y <= 0
trigger1 = StateType = S
value = 35010
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = Var(1) = 5 
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = StateNo = [35000,35100]
triggerall = StateType != A
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
triggerall = MoveType = I
trigger1 = root, StateNo = 20&&RootDist X > 65
;trigger2 = root, StateNo = 20&&stateno=[35010,35012]
value = 35020

[State 0, 4] ;Short Jump
type = ChangeState
triggerall = Var(1) = 5 || Var(1) = 7 
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35100]
triggerall = StateType != A
triggerall = StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=40
triggerall = MoveType = I
trigger1 = root, StateNo = 49 
value = 35049
ctrl = 0

[State 0, 4] ;Jump
type = ChangeState
triggerall = Var(1) = 5 || Var(1) = 7 
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35100]
triggerall = StateType != A
triggerall = StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
triggerall = MoveType = I
trigger1 = root, StateNo = 40
trigger2 = root,NumExplod(43) 
value = 35040
ctrl = 0

[State 0, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 40;||root,stateno =49
trigger2 = root,NumExplod(43) 
fvar(0) = 21.0
[State 0, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(0)>0
fvar(0) = -1.0

[State 40, 1]
type = VarSet
triggerall =  Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(0) = 0
sysvar(1) = 0

[State 40, 1]
type = VarSet
triggerall =  Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, NumExplod(41)
sysvar(1) = 1

[State 40, 1]
type = VarSet
triggerall =  Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, NumExplod(42)
sysvar(1) = -1

[State 40, 1]
type = VarSet
triggerall =  Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, NumExplod(43)
sysvar(1) = 2

[State LPVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root, StateNo = 49
triggerall = root, Time = 1
trigger1 = fvar(31)=0
fvar(31) = 16.0
ignorehitpause = 1
[State LPVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(31)>0
fvar(31) = -1.0
ignorehitpause = 1

[State cjump2, 4] ;ShortJump 2
type = ChangeState
triggerall = Var(1) = 6
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35100]
triggerall = StateType != A
triggerall = MoveType = I
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=40
trigger1 = fvar(31)=1.0
value = 35049
ctrl = 0

[State cjump2, 4] ;Jump 2
type = ChangeState
triggerall = Var(1) = 6
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35100]
triggerall = StateType != A
triggerall = MoveType = I
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
trigger1 = fvar(0)=5.0
value = 35040
ctrl = 0

[State RunVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root,stateno=100||root,stateno=110
triggerall = root, Time = 1
trigger1 = fvar(32)=0
fvar(32) = 24.0
ignorehitpause = 1
[State RunVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(32)>0
fvar(32) = -1.0
ignorehitpause = 1

[State RunVar, VarSet]
type = VarSet
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = root,stateno=105||root,stateno=115
triggerall = root, Time = 1
trigger1 = fvar(35)=0
fvar(35) = 24.0
ignorehitpause = 1
[State RunVar, VarAdd]
type = VarAdd
triggerall = Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = fvar(35)>0
fvar(35) = -1.0
ignorehitpause = 1

[State 0, run] ;Run
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall =  Var(1) = 6 
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35020]
triggerall = StateType != A
triggerall = MoveType = I
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
trigger1 = fvar(32)=1.0;root, StateNo = 100 ;&& Var(1) = 5 
trigger2 = RootDist X > 65&&root,stateno!=20
value = 35100
ctrl = 0

[State 0, run] ;Run
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = Var(1) = 7
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
triggerall = StateNo = [35000,35020]
triggerall = StateType != A
triggerall = MoveType = I
triggerall = !NumExplod(35100)
trigger1 = root, StateNo = 100 
value = 35100
ctrl = 0

[State 0, run] ;Run
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = Var(1) = 5; || Var(1) = 6 
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35020]
triggerall = StateType != A
triggerall = MoveType = I
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
trigger1 = root, StateNo = 100 ;&& Var(1) = 5 
trigger2 = RootDist X > 65&&root,stateno!=20
value = 35100
ctrl = 0

[State 0, 4] ;Back Dash
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = Var(1) = 7
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35020]
triggerall = StateType != A
triggerall = MoveType = I
trigger1 = root, StateNo = 105 
value = 35105
ctrl = 0

[State 0, 4] ;Back Dash
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = Var(1) = 6 
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35020]
triggerall = StateType != A
triggerall = MoveType = I
trigger1 = fvar(35)=1.0;root, StateNo = 105 && Var(1) = 5 
trigger2 = RootDist X < -65 
value = 35105
ctrl = 0

[State 0, 4] ;Back Dash
type = ChangeState
triggerall = Ishelper
triggerall = root,var(39)=0;test clones
triggerall = Var(1) = 5; || Var(1) = 6 
triggerall = StateNo != 35010||StateNo != 35020||StateNo != 35040||stateno!=35100||stateno!= 305052||root,stateno!=49 
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = [35000,35020]
triggerall = StateType != A
triggerall = MoveType = I
trigger1 = root, StateNo = 105 && Var(1) = 5 
trigger2 = RootDist X < -65 
value = 35105
ctrl = 0

[State 0, 4] ;AirDash
type = ChangeState
triggerall = Var(1) = 7
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = 35050
triggerall = var(10) = 0
triggerall = pos Y < -20
triggerall = StateType = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = (root, StateNo = [110,111]) 
value = 110
ctrl = 0

[State 0, 4] ;AirDash
type = ChangeState
triggerall = Var(1) = 5; || Var(1) = 6
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo = 35050
triggerall = var(10) = 0
triggerall = pos Y < -20
triggerall = StateType = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = (root, StateNo = [110,111]) && Var(1) = 5 
trigger2 = RootDist X > 65
trigger2 = root,StateNo = 110
trigger3 = RootDist X > 160
value = 110
ctrl = 0

[State 0, 4] ;Air Dash
type = ChangeState
triggerall = Var(1) = 6
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = pos Y < -20
triggerall = StateType = A
triggerall = StateNo != [3514,3523]
trigger1 = fvar(32)=1.0;root, StateNo = 110
value = 110
ctrl = 0

[State -2, Air dash reset var when Piccolo lands]
type=varset
triggerall = Var(1) = 5 || Var(1) = 7 || Var(1) = 6
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = StateNo != [3514,3523]
trigger1= statetype!=A
var(10) = 0

[State 0, 4] ;AirBack Dash
type = ChangeState
triggerall = Var(1) = 7
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = pos Y < -20
triggerall = StateType = A
triggerall = StateNo != [3514,3523]
trigger1 = root, StateNo = 115 
value = 115
ctrl = 0

[State 0, 4] ;AirBack Dash
type = ChangeState
triggerall = Var(1) = 6
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = pos Y < -20
triggerall = StateType = A
triggerall = StateNo != [3514,3523]
trigger1 =  fvar(35)=1.0;root, StateNo = 115 
value = 115
ctrl = 0

[State 0, 4] ;AirBack Dash
type = ChangeState
triggerall = Var(1) = 5; || Var(1) = 6
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = var(10) = 0
triggerall = vel x <= 0
triggerall = pos Y < -20
triggerall = StateNo = 35050
triggerall = StateType = A
triggerall = MoveType = I
triggerall = StateNo != [3514,3523]
trigger1 = root, StateNo = 115 && Var(1) = 5 || Var(1) = 7
trigger2 = RootDist X < -65
value = 115
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = MoveType = I
id = 3203
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = MoveType = I
id = 3204
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = MoveType = I
id = 3205
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = MoveType = I
id = 3206
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = MoveType = I
id = 3207
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = MoveType = I
id = 3208

;--------------------------------------

[State -3, GetHitSnd Light]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=0		;Voice=English	
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)=0 && random<250
value = 5000,0+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200

[State -3, GetHitSnd Medium]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=0		;Voice=English
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)=1 && random<375
value = 5000,1+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200

[State -3, GetHitSnd Hard]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=0		;Voice=English
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)>=2 && random<500
value = 5000,2+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200
;--------------------------------------
[State -3, GetHitSnd Light]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=1		;Voice=Japan
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)=0 && random<250
value = 5000,10+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200

[State -3, GetHitSnd Medium]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=1		;Voice=Japan
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)=1 && random<375
value = 5000,11+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200

[State -3, GetHitSnd Hard]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=1		;Voice=Japan
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)>=2 && random<500
value = 5000,12+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200
;--------------------------------------
[State -3, GetHitSnd Light]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=2		;Voice=Eng Sabbat
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)=0 && random<250
value = 5000,20+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200

[State -3, GetHitSnd Medium]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=2		;Voice=Eng Sabbat
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)=1 && random<375
value = 5000,21+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200

[State -3, GetHitSnd Hard]
type = playsnd
triggerall = IsHelper
triggerall = root,var(55)=2		;Voice=Eng Sabbat
triggerall = alive && (time = 1)
triggerall = stateno=5000||stateno=5010||stateno=5020||stateno=5070||stateno=5080
trigger1 = numenemy > 0
trigger1 = enemynear,hitdefattr = SCA,SA,HA
trigger2 = gethitvar(animtype)>=2 && random<500
value = 5000,22+random%2
channel = 0
ignorehitpause = 1
persistent = 0
volumescale = 200


;----------------------------------------
;Cinematic Super! Leave!
[State 0, ChangeState]
type = ChangeState
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo != [3514,3523]
triggerall = StateNo != 5150
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = root, MoveType = H
triggerall = root,anim !=[9000,9007]
trigger1 = enemy, AnimExist(5939)
trigger1 = enemy, NumExplod(991901)
trigger2 = !enemy, AnimExist(5939)
trigger2 = root, Var(43)=1
trigger2 = root, NumExplod(3502)
trigger2 = root,var(48)-root,var(49)>=30
trigger3 = !enemy, AnimExist(5939)
trigger3 = root, Var(43)=2
trigger3 = root, NumExplod(3502)
trigger3 = root,var(48)-root,var(49)>=60
trigger4 = !enemy, AnimExist(5939)
trigger4 = root, Var(43)=3
trigger4 = root, NumExplod(3502)
trigger4 = root,var(48)-root,var(49)>=90
trigger5 = !enemy, AnimExist(5939)
trigger5 = root, Var(43)=4
trigger5 = root, NumExplod(3502)
trigger5 = root,var(48)-root,var(49)>=120
trigger6 = !enemy, AnimExist(5939)
trigger6 = root, Var(43)=5
trigger6 = root, NumExplod(3502)
trigger6 = root,var(48)-root,var(49)>=150
trigger7 = !enemy, AnimExist(5939)
trigger7 = root, NumExplod(3502)
trigger7 = root, Var(43)=6
trigger7 = root,var(48)-root,var(49)>=180
;trigger8 = root,gethitvar(isbound)
value = 3521
ctrl = 0

;----------------------------------------
;Cinematic Super! Leave!
[State 0, ChangeState]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo != [3514,3523]
triggerall = StateNo != 5150
trigger1 = root, NumExplod(991901)
;trigger2 = root, StateNo = 3419
;trigger3 = root, StateNo = 3414
value = 3521
ctrl = 0

[State 0, Trans]
type = Trans
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = StateNo = 5150
trigger1 = Time >= 10 
trans = addalpha
alpha = 256-time, 0+time

[State 0, ChangeState]
type = ChangeState
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = StateType = L
trigger1 = Life <= 1
trigger1 = StateNo != 5150
value = 5150

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = IsHelper(3501) 
triggerall = Var(1)>=5
triggerall = StateNo = 5150 || StateType = L
trigger1 = Time = 267
trigger2 = !enemy, AnimExist(5939)
trigger2 = root, Var(43)=1
trigger2 = root,var(48)-root,var(49)>=30
trigger3 = !enemy, AnimExist(5939)
trigger3 = root, Var(43)=2
trigger3 = root,var(48)-root,var(49)>=60
trigger4 = !enemy, AnimExist(5939)
trigger4 = root, Var(43)=3
trigger4 = root,var(48)-root,var(49)>=90
trigger5 = !enemy, AnimExist(5939)
trigger5 = root, Var(43)=4
trigger5 = root,var(48)-root,var(49)>=120
trigger6 = !enemy, AnimExist(5939)
trigger6 = root, Var(43)=5
trigger6 = root,var(48)-root,var(49)>=150
trigger7 = !enemy, AnimExist(5939)
trigger7 = root, Var(43)=6
trigger7 = root,var(48)-root,var(49)>=180
trigger8 = enemy, AnimExist(5939)
trigger8 = enemy, NumExplod(991901)
trigger9 = root, StateNo = 3411
id = 2961
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = IsHelper(3501) || IsHelper(3502)
triggerall = StateNo = 5150 || StateType = L
trigger1 = Time = 267
trigger2 = !enemy, AnimExist(5939)
trigger2 = root, Var(43)=1
trigger2 = root,var(48)-root,var(49)>=30
trigger3 = !enemy, AnimExist(5939)
trigger3 = root, Var(43)=2
trigger3 = root,var(48)-root,var(49)>=60
trigger4 = !enemy, AnimExist(5939)
trigger4 = root, Var(43)=3
trigger4 = root,var(48)-root,var(49)>=90
trigger5 = !enemy, AnimExist(5939)
trigger5 = root, Var(43)=4
trigger5 = root,var(48)-root,var(49)>=120
trigger6 = !enemy, AnimExist(5939)
trigger6 = root, Var(43)=5
trigger6 = root,var(48)-root,var(49)>=150
trigger7 = !enemy, AnimExist(5939)
trigger7 = root, Var(43)=6
trigger7 = root,var(48)-root,var(49)>=180
trigger8 = enemy, AnimExist(5939)
trigger8 = enemy, NumExplod(991901)
trigger9 = root, StateNo = 3411

;---------------------------------------------------------------------------
; LOSE

[State 0, 1]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo != [3590,3593]
triggerall = Alive
triggerall = RoundState = 4
triggerall = StateType = S
trigger1 =  root, StateNo = 170
trigger2 =  !root, Alive
value = 3590+random%4

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = IsHelper(3501) || IsHelper(3502)
trigger1 = enemy,name = "Shin Satan Z2"
trigger1 = enemy, StateNo = 189
flag = invisible

;---------------------------------------------------------------------------
; WIN STATE DECIDER

[State 0, 1]
type = ChangeState
triggerall = stateno != [35102,35013]
triggerall = stateno !=[3516,3517]
triggerall = Ishelper
triggerall = IsHelper(3501) && root,var(28)>0|| IsHelper(3502) && root,var(29) >0
triggerall = StateNo != [3550,3556]
triggerall = Alive
triggerall = StateType = S
trigger1 =  root, StateNo = 181
trigger2 =  root, StateNo = 3418
trigger3 =  root, StateNo = 182
trigger4 =  root, StateNo = 183
trigger5 =  root, StateNo = 184
trigger6 =  root, StateNo = 185
trigger7 =  root, StateNo = 186
trigger8 =  root, StateNo = 187
trigger9 =  root, StateNo = 188
trigger10 =  root, StateNo = 189
value = 3550+random%7


;=============================================================================================
;---------------------------AI------------------------------
;=============================================================================================

; AI Guard
[State -1, AI Guard]
type = Changestate
triggerall = !ishelper
triggerall= AILevel=8 && !IsHelper && numenemy
triggerall= roundstate=2 && inguarddist
triggerall= ctrl && (stateno!=[120,155])&& !(enemynear,ctrl)
triggerall = (var(10) != 1) && vel x < 0.1
trigger1= !(enemynear,hitdefattr=SCA,AT) && (enemynear,time<120)
trigger2= random < 104*(AIlevel ** 2 / 64.0) && (enemynear,hitdefattr=SCA,NA)
trigger3= random < 428*(AIlevel ** 2 / 64.0) && (enemynear,hitdefattr=SCA,SA)
trigger4= random < 292*(AIlevel ** 2 / 64.0) && (enemynear,hitdefattr=SCA,HA)
value=120
; AI Guard
[State -1, AI Guard]
type = Changestate
triggerall = !ishelper
triggerall= (AILevel>0 && AILevel<8) && !IsHelper && numenemy
triggerall= roundstate=2 && inguarddist
triggerall= ctrl && (stateno!=[120,155])&& !(enemynear,ctrl)
triggerall = (var(10) != 1) && vel x < 0.1
trigger1= !(enemynear,hitdefattr=SCA,AT) && (enemynear,time<120)
trigger2= random < 64*(AIlevel ** 2 / 64.0) && (enemynear,hitdefattr=SCA,NA)
trigger3= random < 328*(AIlevel ** 2 / 64.0) && (enemynear,hitdefattr=SCA,SA)
trigger4= random < 192*(AIlevel ** 2 / 64.0) && (enemynear,hitdefattr=SCA,HA)
value=120

[State -1, AirGuard];Don't airguard if you've dashed or moving forward
type = AssertSpecial
triggerall= AILevel>0 && !IsHelper && numenemy
triggerall = var(10) = 1 || vel x >= 0.1
trigger1 = 1
flag = NoAirGuard
IgnoreHitPause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = NumProjID(756)
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State -1, Fall Recovery AI]
type = Changestate
triggerall = !ishelper
value= ifelse((pos y>=-20), 5200, 5210)
trigger1= AILevel && numenemy
trigger1= RoundState=2 && alive
trigger1= StateNo=5050 && canrecover
trigger1= vel y>=-1 && ceil(random<=50*(AILevel**2/64.0))

;AI Hellzone Grenade
[State -1, AI Hellzone Grenade]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997 && ((P2Life !=[9999,400]) && (Life != [0,200]))
triggerall = TeamMode != Simul
triggerall = enemyNear,TeamMode != Simul
triggerall = var(42)<=0 ; No Hellzone Grenades active
triggerall = (P2MoveType = H && P2StateType = A && (P2StateNo!=[120,155]))|| P2StateType = L
triggerall = !WinKo && Cond(Var(53)<700,random < 50*(AIlevel ** 2 / 64.0),Cond(Var(53)>=700&&Var(53)<1400,random < 150*(AIlevel ** 2 / 64.0),Cond(Var(53)>=1400&&Var(53)<2100,random < 250*(AIlevel ** 2 / 64.0),random < 550*(AIlevel ** 2 / 64.0))))
triggerall = ctrl && P2StateNo != 5120
trigger1 =  power >= 3000 && var(52)<=0
trigger2 =  power >= 2000 && var(52)>0
value = 3400

;AI Hellzone Grenade Launch
[State -1, AI Hellzone Grenade Launch]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = var(42)>0 ; Hellzone Grenades active
triggerall = (P2StateType = A && enemy, AnimTime>15) || ((P2BodyDist Y <-120 || enemy,Vel Y <0) && P2MoveType = H && (P2StateNo != [120,155]))
triggerall = !WinKo && random < 450*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
value = 3410

;---------------------------------------------------------------------------
; AI Trap Shot QCF
[State -1]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = (Random<100*((AIlevel**2)/64.0))
triggerall = (P2MoveType = H && P2StateType = A && (P2StateNo!=[120,155]))|| P2StateType = L
triggerall = statetype != A  && !WinKo
triggerall = ctrl && P2StateNo != 5120
trigger1 = NumHelper(1751)=0
;trigger2 = Var(53) >= 700
trigger2 = NumHelper(1752)=0
;trigger3 = Var(53) >= 1400
trigger3 = NumHelper(1753)=0
value = 1700

;---------------------------------------------------------------------------
; AI Trap Shot QCF Cancel
[State -1]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = (Random<100*((AIlevel**2)/64.0))
triggerall = (P2MoveType = H && P2StateType = A && (P2StateNo!=[120,155]))|| P2StateType = L
triggerall = statetype != A  && !WinKo
triggerall = Movecontact && P2StateNo != 5120
trigger1 = NumHelper(1751)=0
trigger1 = stateno = [200,299]
trigger2 = NumHelper(1752)=0
trigger2 = stateno = [200,299]
trigger3 = NumHelper(1753)=0
trigger3 = stateno = [200,299]
trigger4 = NumHelper(1751)=0
trigger4 = stateno = [400,499]
trigger4 = stateno!=450
trigger5 = NumHelper(1752)=0
trigger5 = stateno = [400,499]
trigger5 = stateno!=450
trigger6 = NumHelper(1753)=0
trigger6 = stateno = [400,499]
trigger6 = stateno!=450
value = 1700

;---------------------------------------------------------------------------
; AI Trap Shot QCB
[State -1]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = (Random<250*((AIlevel**2)/64.0))
triggerall = (P2MoveType = H && P2StateType = A)|| P2StateType = L
triggerall = statetype != A  && !WinKo
triggerall = Var(26) = 2 || Var(26) = 0
triggerall = ctrl && P2StateNo != 5120
trigger1 = NumHelper(1754)=0
;trigger2 = Var(53) >= 700
trigger2 = NumHelper(1755)=0
;trigger3 = Var(53) >= 1480
trigger3 = NumHelper(1756)=0
value = 1701

;AI AA SPCIAL EX
[State -1, AI AA SPECIAL]
type = ChangeState
value = 1480
triggerall = !ishelper
triggerall =  alive
triggerall = AILevel>=1 && numenemy && roundstate = 2 && Statetype =C && (p2bodydist x =[5,120])
triggerall=(p2stateno != [120, 155])
triggerall = p2statetype =A&&stateno!=[1000,1999] 
triggerall = power >=500
triggerall = stateno != 0||stateno != 20||stateno != 100
triggerall =(p2bodydist x = [-10, 182])&&(p2bodydist y = [-280,-120])&&P2statetype != L
trigger1 = (ctrl||stateno = 40||stateno=52) && ceil(random<100*(AILevel**2/64.0))
;AI AA SPCIAL
[State -1, AI AA SPECIAL]
type = ChangeState
value = 1410
triggerall = !ishelper
triggerall =  alive
triggerall = AILevel>=1 && numenemy && roundstate = 2 && Statetype =C && (p2bodydist x =[5,120])
;triggerall=(p2stateno != [120, 155])
triggerall = stateno != 0||stateno != 20||stateno != 100
triggerall =(p2bodydist x = [-10, 182])&&(p2bodydist y = [-280,-120])&&P2statetype != L
triggerall = p2statetype =A&&stateno!=[1000,1999] 
trigger1 = (ctrl||stateno = 40||stateno=52) && ceil(random<100*(AILevel**2/64.0))

;---------------------------------------------------------------------------
; AI Trap Shot QCB Cancel
[State -1]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = var(52)>0 ;demon mode mode
triggerall = Var(9) < 9997
triggerall = (Random<250*((AIlevel**2)/64.0))
triggerall = (P2MoveType = H && P2StateType = A)|| P2StateType = L
triggerall = statetype != A  && !WinKo
triggerall = Var(26) = 2 || Var(26) = 0
triggerall = Movecontact && P2StateNo != 5120
trigger1 = NumHelper(1754)=0
trigger1 = stateno = [200,299]
trigger2 = NumHelper(1755)=0
trigger2 = stateno = [200,299]
trigger3 = NumHelper(1756)=0
trigger3 = stateno = [200,299]
trigger4 = NumHelper(1754)=0
trigger4 = stateno = [400,499]
trigger4 = stateno!=450
trigger5 = NumHelper(1755)=0
trigger5 = stateno = [400,499]
trigger5 = stateno!=450
trigger6 = NumHelper(1756)=0
trigger6 = stateno = [400,499]
trigger6 = stateno!=450
value = 1701

;---------------------------------------------------------------------------
; EX Mystic Harpoon
[State -1, EX Mystic Harpoon]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = roundstate = 2
triggerall = power >= 500
triggerall =  P2StateType !=L && P2StateNo != 5120 && (P2StateNo != [120,155])
triggerall = !NumExplod(300603)
triggerall = (!NumHelper(3310) && P2MoveType !=A)
triggerall = ((P2StateNo != [1660,1662]) && P2MoveType = H)
triggerall =  fvar(19) != 2.5
;Heavy Attacks
trigger1 = stateno = 220
trigger1 = moveHit && fvar(19) != 1
trigger2 = stateno = 250
trigger2 = moveHit && fvar(19) != 1
trigger3 = stateno = 420
trigger3 = moveHit && fvar(19) != 1
trigger4 = P2MoveType = H && (P2StateNo !=[120,155]) && (P2StateType != A || P2StateType = A && enemy, Vel Y >0)
trigger4 = random < 200*(AIlevel ** 2 / 64.0) && CTRL
trigger4 = (p2bodydist x = [-10,190]) && (p2bodydist y =[-160,50])
value = ifelse((numexplod(1675)=0),1603, 1697)

;---------------------------------------------------------------------------
; Strong Mystic Harpoon
[State -1, Mystic Harpoon]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall =  P2StateType !=L && P2StateNo != 5120 && (P2StateNo != [120,155])
triggerall = ctrl && fvar(19) = 1
triggerall = P2StateNo != 1662
trigger1 = P2MoveType = H && (P2StateNo !=[120,155]) && (P2StateType != A || P2StateType = A && enemy, Vel Y >0)
trigger1 = random < 550*(AIlevel ** 2 / 64.0)
trigger1 = (p2bodydist x = [120,190]) && (p2bodydist y =[-100,50]) && (P2StateType = A && enemy, Vel Y >0)
trigger2 = NumTarget(1050)
trigger2 = (p2bodydist x = [120,190]) && (p2bodydist y =[-100,50]) && (P2StateType = A)
value = ifelse((numexplod(1675)=0),1602, 1697)

;---------------------------------------------------------------------------
; Medium Mystic Harpoon
[State -1, Mystic Harpoon]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall =  P2StateType !=L && P2StateNo != 5120 && (P2StateNo != [120,155])
triggerall = ctrl && fvar(19) = 1
trigger1 = P2MoveType = H && (P2StateNo !=[120,155]) && (P2StateType != A || P2StateType = A && enemy, Vel Y >0)
trigger1 = random < 550*(AIlevel ** 2 / 64.0)
trigger1 = (p2bodydist x = [61,119]) && (p2bodydist y =[-70,50]) && (P2StateType = A && enemy, Vel Y >0)
trigger2 = NumTarget(1050)
trigger2 = (p2bodydist x = [61,119]) && (p2bodydist y =[-70,50]) && (P2StateType = A)
value = ifelse((numexplod(1675)=0),1601, 1697)

;---------------------------------------------------------------------------
; Light Mystic Harpoon
[State -1, Mystic Harpoon]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall =  P2StateType !=L && P2StateNo != 5120 && (P2StateNo != [120,155])
triggerall = (p2bodydist x = [-10,60]) && (p2bodydist y =[-60,50]) && P2StateType !=L
triggerall = ctrl && fvar(19) = 1
trigger1 = P2MoveType = H && (P2StateNo !=[120,155])
trigger1 = random < 550*(AIlevel ** 2 / 64.0) && (P2StateType = A)
trigger2 = NumTarget(1050)
value = ifelse((numexplod(1675)=0),1600, 1690)


;AI Jump
[State 0, ChangeState AI Jump]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && numenemy && roundstate=2 && StateType = S  
triggerall = Ctrl = 1
trigger1 = random <100*(AIlevel ** 2 / 64.0) && (enemynear,hitdefattr=SCA,AT)
trigger2 = p2bodydist x>100
trigger2 = P2MoveType = H && P2StateType = A 
trigger2 = random <200*(AIlevel ** 2 / 64.0)
trigger3 = P2BodyDist Y <0
trigger3 = P2MoveType = A
trigger3 = enemynear, Facing = Facing
trigger3 = random <300*(AIlevel ** 2 / 64.0)
trigger3 = P2BodyDist X = [10,30]
trigger4 = (p2bodydist x>100) && P2StateType !=A
trigger4 = P2MoveType = A && P2StateNo=(0,1999)
trigger4 = random <200*(AIlevel ** 2 / 64.0)
trigger5 = NumTarget(261)
trigger5 = random <300*(AIlevel ** 2 / 64.0) 
value = 40
ctrl = 0

[State -1, Air Dash AI]
type = ChangeState
triggerall = !IsHelper
value = 115
triggerall = AILevel >= 1 && RoundState = 2 && numenemy && var(10) = 0 
triggerall = (p2bodydist x<=80) && (p2bodydist y=[-44,44])&&statetype = A&&CTRL
trigger1 = random<200*((AIlevel**2)/64.0)
trigger1 = P2MoveType != H
trigger2 = random<300*((AIlevel**2)/64.0)
trigger2 = P2MoveType = A
[State -1, Air Dash AI]
type = ChangeState
triggerall = !IsHelper
value = 110
triggerall = AILevel >= 1 && RoundState = 2 && numenemy && var(10) = 0 
triggerall = StateType = A && Ctrl
trigger1 = (P2BodyDist X = [-10,-50]) && P2StateType != A
trigger1 = random<300*((AIlevel**2)/64.0)
trigger2 = P2BodyDist X >100
trigger2 = P2MoveType = H
trigger2 = random<300*((AIlevel**2)/64.0)
trigger3 = PrevStateNo = 1100 && P2MoveType = H

; AI Run Fwd
[State -1, AI Run Fwd]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType = S  
triggerall = (stateno!=[100,106])
triggerall = ctrl 
trigger1 = P2BodyDist X >=150 || enemynear, Pos Y <80 && Vel Y >0 && P2BodyDist X = [0,50]
trigger1 = P2MoveType = H && random<300*((AIlevel**2)/64.0)
trigger2 = Anim = 221
trigger2 = AnimElemTime(10)>=0
trigger3 = stateno = 221 
trigger3 = movecontact
trigger4 = NumProjID(227)
trigger4 = ctrl && (P2BodyDist X =[0,40])
value = 100

; Super Jump
;This state executes only after performing the air launcher
[State -1, AI Jump Launcher]
type = Changestate
triggerall = !ishelper
value = 10230
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType != A  
triggerall = Movehit && random < 450*(AIlevel ** 2 / 64.0)
trigger1 = stateno = 470 

; AI Run Back
[State -1, AI Run Back]
type = ChangeState
value = 105
triggerall = Var(9) < 9997
triggerall= AILevel>0 && !IsHelper && numenemy
triggerall= RoundState=2 && StateType=S;&&var(28)>=1||RoundState=2 &&StateType=S&&var(29)>=1
triggerall= ctrl && (stateno!=105) && backedgedist>=80
trigger1= (enemynear,movetype=A) && (p2bodydist x=[40,120]) && (enemynear,vel x)
trigger2= (enemynear,hitdefattr=SC,AT) && (p2bodydist x=[-20,40])
trigger2 = random < 450*(AIlevel ** 2 / 64.0)

;AI Zetto Counter
[State -1, AI Zetto counter]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall= AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype!=A && power>=1000
triggerall= stateno=[150, 155]
triggerall = ctrl = 0
trigger1= random < 305*(AIlevel ** 2 / 64.0)
trigger1 = enemynear, AnimTime>3
trigger1= (p2bodydist x=[0,40]) 
trigger2= (p2bodydist x=[0,60]) && (life<.5*lifemax)
trigger2= random < 105*(AIlevel ** 2 / 64.0)
trigger3= (p2bodydist x>=80) && (life<.5*lifemax)
trigger3= random < 205*(AIlevel ** 2 / 64.0)
trigger3 = P2MoveType = A
value = 750

;Air Zetto Counter
[State -1, AI Air Zetto counter]
type=changestate
triggerall = Var(9) < 9997
triggerall = ctrl = 0
trigger1= AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype=A && power>=1000
trigger1= stateno=154
trigger1= random < 55*(AIlevel ** 2 / 64.0)
trigger1= (p2bodydist x=[0,50]) && (life<.5*lifemax)
value = 760

;AI Saving Attack
[State -1, AI Saving Attack]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall= AILevel>0 && !IsHelper && numenemy
triggerall = roundstate = 2
triggerall = StateType != A
triggerall = Ctrl
triggerall = (P2StateNo = [0,999]) && P2MoveType=A
triggerall = (p2bodydist x=[-120,120])
trigger1= random < 125*(AIlevel ** 2 / 64.0)
trigger2= random < 395*(AIlevel ** 2 / 64.0)
trigger2= PrevStateNo = [5000,5300]
value = 1300

; AI Stand Light Punch
[State -1, AI Stand Light Punch]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType != A 
triggerall =(p2bodydist x = [5, 60]) &&(p2bodydist Y = [-20, 30]) &&P2statetype != C && P2statetype != L
trigger1 = ctrl && random < 550*(AIlevel ** 2 / 64.0)
trigger2 = (stateno = [100,101]) && random < 250*(AIlevel ** 2 / 64.0) && !NumProjID(220)
trigger3 = ctrl&&(enemynear,ctrl) && random < 600*(AIlevel ** 2 / 64.0)
trigger4 = ctrl && random < 550*(AIlevel ** 2 / 64.0)
trigger4 = P2MoveType = H
trigger5 = AILEVEL=8 
trigger5 = NumProjID(227) && (stateno = [100,101])
value = 200

; AI Stand Medium Punch
[State -1, AI Stand Medium Punch]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType != A  && P2statetype != C
triggerall = (p2bodydist x = [-15, 70]) && (p2bodydist Y = [-20, 30]) && p2statetype != L
trigger1 = ctrl && random < 50*(AIlevel ** 2 / 64.0)
trigger2 = Movecontact && random < 550*(AIlevel ** 2 / 64.0)
trigger2 = StateNo = 200 || StateNo = 230
value = 210

; AI Back + s.HP
[State -1, AI s.HP]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType != A
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = roundstate = 2
triggerall = (p2bodydist x = [-20, 35]) && (p2bodydist Y = [-10, 30]) && p2statetype != L 
triggerall = random < 200*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
trigger2 = stateno = 100 || stateno = 101
;Light Attacks
trigger3 = stateno = 200 && !IsHelper
trigger3 = moveGuarded
trigger4 = stateno = 400 && !IsHelper
trigger4 = moveGuarded
trigger5 = stateno = 230 && !IsHelper
trigger5 = moveGuarded
trigger6 = stateno = 430 && !IsHelper
trigger6 = moveGuarded
;Medium Attacks
trigger7 = stateno = 210 && !IsHelper
trigger7 = movecontact
trigger8 = stateno = 410 && !IsHelper
trigger8 = movecontact
trigger9 = stateno = 240 && !IsHelper
trigger9 = movecontact
trigger10 = stateno = 440 && !IsHelper
trigger10 = movecontact
value = 227

; AI Stand Strong Punch
[State -1, AI Stand Strong Punch]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType != A  
triggerall = (p2bodydist x = [20, 75]) && (p2bodydist Y = [-90, 30]) && p2statetype != L 
trigger1 = random < 950*(AIlevel ** 2 / 64.0)
trigger1 = ctrl 
trigger2 = (stateno = 210) || (stateno = 240) 
trigger2 = movecontact && random < 300*(AIlevel ** 2 / 64.0)
trigger3 = (stateno = 100 || stateno = 101) && random < 100*(AIlevel ** 2 / 64.0)  
trigger4 = (stateno = 410) || (stateno = 440)
trigger4 = movecontact && random < 400*(AIlevel ** 2 / 64.0)
value = 220

; AI Stand Light Kick
[State -1, AI Stand Light Kick]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType != A  && P2statetype != A
triggerall = (p2bodydist x = [10, 60]) && p2statetype != L
trigger1 = ctrl && random < 150*(AIlevel ** 2 / 64.0)
trigger2 = (stateno = 100 || stateno = 101) && random < 250*(AIlevel ** 2 / 64.0)  && !NumProjID(220)
value = 230

[State -1, AI Throw]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper
triggerall = roundstate=2 && statetype!=A && enemynear,statetype!=L && (enemynear,stateno!=[5120,5201])
;triggerall = enemynear,movetype!=H && enemynear,statetype!=A && enemynear,Hitover && (p2bodydist x=[0,20])
triggerall =(p2bodydist x = [-10,5])&&(p2bodydist y = [-80,5])&& P2statetype != L&& P2statetype != A&& P2movetype != A
triggerall = ctrl && stateno!=100
trigger1 = random < 100*(AIlevel ** 2 / 64.0)
trigger2 = enemynear,stateno=[120,155]
trigger2 = random < 300*(AIlevel ** 2 / 64.0)
trigger2 = (stateno = [100,101]) && random < 250*(AIlevel ** 2 / 64.0)
trigger3 = ctrl&&(enemynear,ctrl) && random < 600*(AIlevel ** 2 / 64.0)
value = Ifelse(random<=500,800,810)

; AI Standing Medium Kick
[State -1, AI Standing Medium Kick]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && StateType != A  ;&& P2statetype != C
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [40, 150]) && p2statetype != L
trigger1 = ctrl && random < 150*(AIlevel ** 2 / 64.0)
trigger2 = (stateno = 200) || (stateno = 230) 
trigger2 = movehit && random < 600*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 100 || stateno = 101  
trigger3 = movehit && random < 250*(AIlevel ** 2 / 64.0)
trigger4 = (stateno = 400) || (stateno = 430)
trigger4 = movehit && random < 450*(AIlevel ** 2 / 64.0)
value = 240
; AI Standing Medium Kick
[State -1, AI Standing Medium Kick]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILEVEL<8) && !IsHelper && numenemy && roundstate=2 && StateType != A  ;&& P2statetype != C
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [40, 150]) && p2statetype != L
trigger1 = ctrl && random < 50*(AIlevel ** 2 / 64.0)
trigger2 = (stateno = 200) || (stateno = 230) 
trigger2 = movehit && random < 300*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 100 || stateno = 101  
trigger3 = movehit && random < 150*(AIlevel ** 2 / 64.0)
trigger4 = (stateno = 400) || (stateno = 430)
trigger4 = movehit && random < 250*(AIlevel ** 2 / 64.0)
value = 240

; AI Forward + s.HK
[State -1, AI s.HK]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && StateType != A  
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [-10, 60]) && p2statetype != L && (P2StateType = A && enemy,Vel Y < 0)
triggerall =  random < 350*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
;Medium Attacks
trigger2 = stateno = 210 
trigger2 = movehit
trigger3 = stateno = 410 
trigger3 = movehit
trigger4 = stateno = 240 
trigger4 = movehit
trigger5 = stateno = 440 
trigger5 = movehit
value = 261
; AI Forward + s.HK
[State -1, AI s.HK]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILEVEL<8) && !IsHelper && numenemy && roundstate=2 && StateType != A  
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [-10, 60]) && p2statetype != L
triggerall =  random < 150*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
;Medium Attacks
trigger2 = stateno = 210 
trigger2 = movehit
trigger3 = stateno = 410 
trigger3 = movehit
trigger4 = stateno = 240 
trigger4 = movehit
trigger5 = stateno = 440 
trigger5 = movehit
value = 261

; AI Standing Strong Kick
[State -1, AI Standing Strong Kick]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && StateType != A  
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [-10, 100]) && (p2bodydist y = [-40, 0]) && p2statetype != L
trigger1 = ctrl && random < 150*(AIlevel ** 2 / 64.0)
trigger2 = (stateno = 240) || (stateno = 210) 
trigger2 = movehit && random < 600*(AIlevel ** 2 / 64.0)
trigger3 = (stateno = 410) || (stateno = 440)
trigger3 = movehit && random < 450*(AIlevel ** 2 / 64.0)
value = 250
; AI Standing Strong Kick
[State -1, AI Standing Strong Kick]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILevel<8) && !IsHelper && numenemy && roundstate=2 && StateType != A  
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [-10, 100]) && p2statetype != L
trigger1 = ctrl && random < 50*(AIlevel ** 2 / 64.0)
trigger2 = (stateno = 240) || (stateno = 210) 
trigger2 = movehit && random < 400*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 100 || stateno = 101  && !NumProjID(220)
trigger3 = movehit && random < 150*(AIlevel ** 2 / 64.0)
trigger4 = (stateno = 410) || (stateno = 440)
trigger4 = movehit && random < 250*(AIlevel ** 2 / 64.0)
value = 250


; 3HP
[State -1, 3HP]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && StateType != A  
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [-10, 60]) && (p2bodydist y = [-10, 60]) && p2statetype != L
triggerall = NumProjID(426) = 0
trigger1 = ctrl && random < 350*(AIlevel ** 2 / 64.0) && (P2StateNo = [120,155])
trigger2 = stateno = 100 || stateno = 101 && random < 350*(AIlevel ** 2 / 64.0) && (P2StateNo = [120,155])
;Light Attacks
trigger3 = stateno = 200 
trigger3 = moveguarded
trigger4 = stateno = 400 
trigger4 = moveguarded
trigger5 = stateno = 230 
trigger5 = moveguarded
trigger6 = stateno = 430 
trigger6 = moveguarded
;Medium Attacks
trigger7 = stateno = 210 
trigger7 = moveguarded
trigger8 = stateno = 410 
trigger8 = moveguarded
trigger9 = stateno = 240 
trigger9 = moveguarded
trigger10 = stateno = 440 
trigger10 = moveguarded
trigger11 = stateno = 1870 
trigger11 = movecontact
value = 425
; 3HP
[State -1, 3HP]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILEVEL<8) && !IsHelper && numenemy && roundstate=2 && StateType != A  
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [-10, 60]) && p2statetype != L
triggerall = NumProjID(426) = 0 && random < 250*(AIlevel ** 2 / 64.0) && (P2StateNo = [120,155])
trigger1 = ctrl 
trigger2 = stateno = 100 || stateno = 101 
;Light Attacks
trigger3 = stateno = 200 
trigger3 = moveguarded
trigger4 = stateno = 400 
trigger4 = moveguarded
trigger5 = stateno = 230 
trigger5 = moveguarded
trigger6 = stateno = 430 
trigger6 = moveguarded
;Medium Attacks
trigger7 = stateno = 210 
trigger7 = moveguarded
trigger8 = stateno = 410 
trigger8 = moveguarded
trigger9 = stateno = 240 
trigger9 = moveguarded
trigger10 = stateno = 440 
trigger10 = moveguarded
trigger11 = stateno = 1870 
trigger11 = movecontact
value = 425

; AI Crouching Light Punch
[State -1, AI Crouching Light Punch]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2&& statetype != A  
triggerall = (p2bodydist x = [-5, 20]) &&(p2bodydist y = 0) && P2statetype != A && P2statetype != L
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0)&& StateType = C
trigger2 = AILEVEL=8
trigger2 = NumProjID(227)&& P2StateType = C  && (stateno = [100,101])
value = 400

; AI Crouching Medium Punch
[State -1, AI Crouching Medium Punch]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && StateType != A 
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [-5, 40]) &&(p2bodydist y = [-40,0]) && P2statetype != L
trigger1 = random < 250*(AIlevel ** 2 / 64.0)
trigger1 = ctrl && StateType = C
trigger2 = (stateno = 200 && MoveContact)  && StateType = C && random < 250*(AIlevel ** 2 / 64.0)
trigger3 = (stateno = 230 && MoveContact) && StateType = C && random < 250*(AIlevel ** 2 / 64.0)
trigger4 = (stateno = 400 && MoveContact)  && StateType = C && random < 250*(AIlevel ** 2 / 64.0)
trigger5 = (stateno = 430 && MoveContact) && StateType = C && random < 250*(AIlevel ** 2 / 64.0)
trigger6 = P2MoveType = A && P2StateType !=C && enemynear, Time <=5 && ctrl
value = 410
; AI Crouching Medium Punch
[State -1, AI Crouching Medium Punch]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILEVEL<8) && !IsHelper && numenemy && roundstate=2 && StateType = C
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [-5, 40]) &&(p2bodydist y = [-40,0]) && P2statetype != L
triggerall = random < 250*(AIlevel ** 2 / 64.0)
trigger1 = ctrl 
trigger2 = (stateno = 200 && MoveContact)  
trigger3 = (stateno = 230 && MoveContact) 
trigger4 = (stateno = 400 && MoveContact)  
trigger5 = (stateno = 430 && MoveContact) 
trigger6 = P2MoveType = A && P2StateType !=C && enemynear, Time <=5 && ctrl
value = 410

[State 0, ChangeState]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType = S
triggerall = (p2bodydist x = [-5, 40]) &&(p2bodydist y = [0,0]) && P2statetype != L
triggerall = P2StateNo=[120,155]
triggerall = ctrl
trigger1 = random < 250*(AIlevel ** 2 / 64.0)
trigger2 = NumHelper(3501)
trigger2 = helper(3501),Var(1)=3
trigger2 = random < 350*(AIlevel ** 2 / 64.0)
trigger3 = NumHelper(3502)
trigger3 = helper(3502),Var(1)=3
trigger3 = random < 350*(AIlevel ** 2 / 64.0)
value = 10
ctrl = 1

; AI Crouching Strong Punch 
[State -1, AI Crouching Strong Punch]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType = C
triggerall = (p2bodydist x = [-5, 80]) &&(p2bodydist y = [-20,0]) && P2statetype != L
trigger1 = ctrl && random < 350*(AIlevel ** 2 / 64.0)
trigger2 = (stateno = 240) || (stateno = 210) 
trigger2 = movehit && random < 200*(AIlevel ** 2 / 64.0)
trigger3 = (stateno = 430) || (stateno = 440)
trigger3 = movehit && random < 400*(AIlevel ** 2 / 64.0)
value = 420

; AI Crouching Light Kick
[State -1, AI Crouching Light Kick]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType !=A
triggerall = (p2bodydist x = [-5, 30]) && P2statetype != A 
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0) && StateType = C
trigger2 = P2StateType = L && ctrl
trigger2 = random < 400*(AIlevel ** 2 / 64.0)
value = 430

; AI Crouching Medium Kick
[State -1, AI Crouching Medium Kick]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && StateType !=A
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [0, 60]) && P2statetype != A 
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0) && StateType = C
trigger2 = (StateNo = 200) || (stateno = 230) || (stateno = 400) || (stateno = 430) 
trigger2 = movehit && random < 400*(AIlevel ** 2 / 64.0) && StateType = C
trigger3 = P2StateType = L && ctrl
trigger3 = random < 400*(AIlevel ** 2 / 64.0)
value = 440
; AI Crouching Medium Kick
[State -1, AI Crouching Medium Kick]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILEVEL<8) && !IsHelper && numenemy && roundstate=2 && StateType !=A
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = (p2bodydist x = [0, 60]) && P2statetype != A 
trigger1 = ctrl && random < 150*(AIlevel ** 2 / 64.0) && StateType = C
trigger2 = (StateNo = 100) || (stateno = 230) || (stateno = 400) || (stateno = 430) 
trigger2 = movehit && random < 200*(AIlevel ** 2 / 64.0) && StateType = C
trigger3 = P2StateType = L && ctrl
trigger3 = random < 200*(AIlevel ** 2 / 64.0)
value = 440

; AI Crouching Strong Kick
[State -1, AI Crouching Strong Kick]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && StateType != A
triggerall = (p2bodydist x = [0, 70])  && P2statetype != L
trigger1 = ctrl && random < 150*(AIlevel ** 2 / 64.0)&&(p2bodydist y = [-80,-20]) && P2StateType = A
trigger2 = (stateno = 410) || (stateno = 440) 
trigger2 = movehit && random < 300*(AIlevel ** 2 / 64.0)&&(p2bodydist y = [-80,0])
trigger3 = (stateno = 210) || (stateno = 240) 
trigger3 = movehit && random < 300*(AIlevel ** 2 / 64.0)&&(p2bodydist y = [-80,0])
value = 450

; AI j. d+MK
[State -1, AI j. d+MK]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x = [-10,60]) && (p2bodydist y =[0,40]) && Vel Y >0
triggerall = P2StateType!=A
triggerall = stateno != 645
triggerall = NumExplod(645) <= 2
trigger1 = ctrl
trigger2 = (StateNo = 640) || (StateNo = 610)
trigger2 = animelemtime(6)>0 && random < 450*(AIlevel ** 2 / 64.0)
value = 645

;AI Jump Light Punch
[State -1, AI Jump Light Punch]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A
triggerall = ctrl
trigger1 = random < 250*(AIlevel ** 2 / 64.0) && AILevel>0 && !IsHelper && AILEVEL <8
trigger1 = (p2bodydist x = [-20,40]) && (p2bodydist y = [-60,60]) && p2statetype != L
value = 600

;AI Jump Medium Punch
[State -1, AI Jump Medium Punch]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A
triggerall = (p2bodydist x = [-40,80]) && (p2bodydist y = [-60,80]) && p2statetype != L
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = (StateNo = 600) || (StateNo = 630)
trigger2 = Movehit && random < 450*(AIlevel ** 2 / 64.0)
value = 610

;AI Jump Strong Punch 
[State -1, AI Jump Strong Punch]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A
triggerall = (p2bodydist x = [0,90]) && (p2bodydist y = [-60,90]) && p2statetype != L
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = (StateNo = 610) || (StateNo = 640)
trigger2 = Movehit && random < 650*(AIlevel ** 2 / 64.0)
value = 620

;AI Jump Light Kick
[State -1, AI Jump Light Kick]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A
triggerall = (p2bodydist x = [5,50]) && (p2bodydist y = [0,70]) && p2statetype != L
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0)
value = 630

;AI Jump Medium Kick
[State -1, AI Jump Medium Kick]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A
triggerall = (p2bodydist x = [5,60]) && (p2bodydist y = [0,80]) && p2statetype != L
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = (StateNo = 600) || (StateNo = 630)
trigger2 = Movehit && random < 450*(AIlevel ** 2 / 64.0)
value = 640

;AI Jump Strong Kick
[State -1, AI Jump Strong Kick]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A 
triggerall = (p2bodydist x = [5,80]) && (p2bodydist y = [-50,90]) && p2statetype != L
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = (StateNo = 600) || (StateNo = 610) || (StateNo = 630) || (StateNo = 640)
trigger2 = Movehit && random < 450*(AIlevel ** 2 / 64.0)
value = 650

; j. d+HP
[State -1, j. d+HP]
type = Changestate
triggerall = !ishelper
triggerall = Var(18) <= 15
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A 
triggerall = Var(9) < 9997
triggerall = Pos Y <-60 || Vel Y >=0
triggerall = (p2bodydist x = [-20,20]) && (p2bodydist y >-10) && p2statetype != L
triggerall = stateno != 625
trigger1 = ctrl && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = stateno = 610 && movecontact && random < 450*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 640 && movecontact && random < 450*(AIlevel ** 2 / 64.0)
value = 625

; AI j. d+MK (cancel ver.)
[State -1, AI j. d+MK (cancel ver.)]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A 
triggerall = Var(9) < 9997
trigger1 = stateno = 645 && movecontact && !IsHelper
value = Cond(Var(9) = 0, 645,646)

; Red Shoulder AI
[State -1, Red Shoulder AI]
type = ChangeState
value = 1930
triggerall = !IsHelper
triggerall= AILEVEL&&stateno!=1930
triggerall = Var(9) < 9997
triggerall = statetype != A
triggerall = (p2bodydist x = [-50,180]) && (p2bodydist y = [-120,80])&&p2stateno!=[120,155]
triggerall = ctrl && random < 350*(AIlevel ** 2 / 64.0)&& P2MoveType !=H;&&P2StateType !=A
trigger1 = fvar(21)>=720|| fvar(22)>=720 |fvar(23)>=720
trigger2 = fvar(24)>=720|| fvar(25)>=720 |fvar(26)>=720
[State -1, Red Shoulder AI]
type = ChangeState
value = 1920
triggerall = !IsHelper
triggerall= AILEVEL&&stateno!=1920
triggerall = Var(9) < 9997
triggerall = statetype != A
triggerall = (p2bodydist x = [-50,80]) && (p2bodydist y = [-120,80])&&p2stateno!=[120,155]
triggerall = ctrl && random < 350*(AIlevel ** 2 / 64.0)&& P2MoveType !=H&&P2StateType !=A
trigger1 = fvar(21)>=360&&fvar(21)<720|| fvar(22)>=360&&fvar(22)<720 |fvar(23)>=360&&fvar(23)<720
trigger2 = fvar(24)>=360&&fvar(24)<720|| fvar(25)>=360&&fvar(25)<720 |fvar(26)>=360&&fvar(26)<720
[State -1, Red Shoulder AI]
type = ChangeState
value = 1910
triggerall = !IsHelper
triggerall= AILEVEL&&stateno!=1910
triggerall = Var(9) < 9997
triggerall = statetype != A
triggerall = (p2bodydist x = [-50,80]) && (p2bodydist y = [-120,80])&&p2stateno!=[120,155]
triggerall = ctrl && random < 350*(AIlevel ** 2 / 64.0)&& P2MoveType !=H&&P2StateType !=A
trigger1 = fvar(21)>=180&&fvar(21)<360|| fvar(22)>=180&&fvar(22)<360 |fvar(23)>=180&&fvar(23)<360
trigger2 = fvar(24)>=180&&fvar(24)<360|| fvar(25)>=180&&fvar(25)<360 |fvar(26)>=180&&fvar(26)<360
[State -1, Red Shoulder AI]
type = ChangeState
value = 1900
triggerall = !IsHelper
triggerall= AILEVEL&&stateno!=1900
triggerall = Var(9) < 9997
triggerall = statetype != A
triggerall = (p2bodydist x = [-50,80]) && (p2bodydist y = [-120,80])&&p2stateno!=[120,155]
triggerall = ctrl && random < 350*(AIlevel ** 2 / 64.0)&& P2MoveType !=H&&P2StateType !=A
trigger1 = fvar(21)>=90&&fvar(21)<180|| fvar(22)>=90&&fvar(22)<180 |fvar(23)>=90&&fvar(23)<180
trigger2 = fvar(24)>=90&&fvar(24)<180|| fvar(25)>=90&&fvar(25)<180 |fvar(26)>=90&&fvar(26)<180
; Red Shoulder AI

;---------------------------------------------------------------------------
; AI Sonic the Hedgehog
[State -1, AI Sonic the Hedgehog]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(12) = 0
triggerall = Var(9) < 9997 && P2StateType !=L
trigger1 = (p2bodydist x = [-50,80]) && (p2bodydist y = [-120,80]) && (P2StateType = A && P2MoveType = H && enemy, Vel Y >0)
trigger1 = random < 150*(AIlevel ** 2 / 64.0)
trigger1 = ctrl 
;Medium Attacks
trigger2 = stateno = 210 &&  (p2bodydist y = [-120,80])
trigger2 = movecontact && random < 150*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 240 &&  (p2bodydist y = [-120,80])
trigger3 = movecontact && random < 150*(AIlevel ** 2 / 64.0)
trigger4 = stateno = 410 &&  (p2bodydist y = [-120,80])
trigger4 = movecontact && random < 450*(AIlevel ** 2 / 64.0)
trigger5 = stateno = 440 &&  (p2bodydist y = [-120,80])
trigger5 = movecontact && random < 450*(AIlevel ** 2 / 64.0)
;Heavy Attacks
trigger6 = stateno = 250 && (p2bodydist x = [-50,70]) && (p2bodydist y = [-120,80])
trigger6 = movecontact && random < 450*(AIlevel ** 2 / 64.0)
trigger7 = stateno = 420 &&  (p2bodydist y = [-120,80])
trigger7 = movecontact && random < 450*(AIlevel ** 2 / 64.0)
trigger8 = stateno = 470 &&  (p2bodydist y = [-120,80])
trigger8 = movecontact && random < 450*(AIlevel ** 2 / 64.0)
trigger9 = stateno = 225 &&  (p2bodydist y = [-120,80])
trigger9 = movecontact && random < 450*(AIlevel ** 2 / 64.0)
trigger10 = StateNo = 100 || StateNo = 101
trigger10 = random < 250*(AIlevel ** 2 / 64.0) && !NumProjID(227)
trigger10 = (p2bodydist x = [-50,80]) && (p2bodydist y = [-120,80])
value = 1000

;---------------------------------------------------------------------------
; AI Sonic the Hedgehog
[State -1, AI Sonic the Hedgehog]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILEVEL<8) && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(12) = 0
triggerall = Var(9) < 9997 && P2StateType !=L
trigger1 = (p2bodydist x = [-50,80]) && (p2bodydist y = [-120,80])
trigger1 = random < 50*(AIlevel ** 2 / 64.0)
trigger1 = ctrl 
;Medium Attacks
trigger2 = stateno = 210 &&  (p2bodydist y = [-120,80])
trigger2 = movecontact && random < 50*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 240 &&  (p2bodydist y = [-120,80])
trigger3 = movecontact && random < 50*(AIlevel ** 2 / 64.0)
trigger4 = stateno = 410 &&  (p2bodydist y = [-120,80])
trigger4 = movecontact && random < 250*(AIlevel ** 2 / 64.0)
trigger5 = stateno = 440 &&  (p2bodydist y = [-120,80])
trigger5 = movecontact && random < 250*(AIlevel ** 2 / 64.0)
;Heavy Attacks
trigger6 = stateno = 220 &&  (p2bodydist y = [-120,80])
trigger6 = (movehit && random < 250*(AIlevel ** 2 / 64.0))&&(moveguarded && random < 150*(AIlevel ** 2 / 64.0))
trigger7 = stateno = 250 && (p2bodydist x = [-50,70]) && (p2bodydist y = [-120,80])
trigger7 = movecontact && random < 250*(AIlevel ** 2 / 64.0)
trigger8 = stateno = 420 &&  (p2bodydist y = [-120,80])
trigger8 = movecontact && random < 250*(AIlevel ** 2 / 64.0)
trigger9 = stateno = 470 &&  (p2bodydist y = [-120,80])
trigger9 = movecontact && random < 250*(AIlevel ** 2 / 64.0)
trigger10 = stateno = 225 &&  (p2bodydist y = [-120,80])
trigger10 = movecontact && random < 250*(AIlevel ** 2 / 64.0)
trigger11 = StateNo = 100 || StateNo = 101
trigger11 = random < 150*(AIlevel ** 2 / 64.0)
trigger11 = (p2bodydist x = [-50,80]) && (p2bodydist y = [-120,80])
value = 1000

;---------------------------------------------------------------------------
; AI Hyakuretsu Kyaku
[State -1, AI Hyakuretsu Kyaku]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A 
triggerall = !NumExplod(1100) && P2StateType !=L
triggerall = Var(9) < 9997
;triggerAll = var(34) >= 3
trigger1 = ((p2bodydist x = [-20,120]) && (p2bodydist y = [-120,120]) && P2MoveType != H) || ((p2bodydist x = [-20,70]) && (p2bodydist y = [-70,70]) && P2MoveType = H)
trigger1 = ctrl
trigger1 = ifelse(stateno=50,time>=12,1)
trigger1 = random < 350*(AIlevel ** 2 / 64.0)
; Light Attacks
trigger2 = stateno = 610 && animelemtime(6) >= 2  
trigger2 = random < 250*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 640 && animelemtime(5) >= 2
trigger3 = random < 250*(AIlevel ** 2 / 64.0)
value = 1100

;---------------------------------------------------------------------------
;Carnage Blitz (EX)
[State -1, Carnage Blitz EX]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = power >= 500
triggerall = (p2bodydist x = [-20,130]) && (p2bodydist y =[-60,60]) && P2StateType !=L&&p2stateno!=[120,155]
triggerall = (P2StateNo <2000 && P2MoveType !=A)
triggerall = (!NumHelper(3310) && P2MoveType !=A)
trigger1 = random < 150*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
;Medium Attacks
trigger2 = stateno = 210 && random < 100*(AIlevel ** 2 / 64.0)
trigger2 = movecontact
trigger3 = stateno = 240 && random < 100*(AIlevel ** 2 / 64.0)
trigger3 = movecontact
trigger4 = stateno = 410 && random < 100*(AIlevel ** 2 / 64.0)
trigger4 = movecontact
trigger5 = stateno = 440 && random < 100*(AIlevel ** 2 / 64.0)
trigger5 = movecontact
;Heavy Attacks
trigger6 = stateno = 250 && random < 100*(AIlevel ** 2 / 64.0)
trigger6 = movecontact
trigger7 = stateno = 420 && random < 100*(AIlevel ** 2 / 64.0)
trigger7 = movecontact
trigger8 = stateno = 470 && random < 100*(AIlevel ** 2 / 64.0)
trigger8 = movecontact
trigger9 = stateno = 225 && random < 100*(AIlevel ** 2 / 64.0)
trigger9 = movecontact
trigger10 = stateno = 220 && random < 450*(AIlevel ** 2 / 64.0)
trigger10 = moveguarded
trigger11 = stateno = 221 
trigger11 = moveguarded && random < 450*(AIlevel ** 2 / 64.0)
value = 1550

;---------------------------------------------------------------------------
;Carnage Blitz (Heavy)
[State -1, Carnage Blitz Heavy]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x = [-20,130]) && (p2bodydist y =[-60,60]) && P2StateType !=L&&p2stateno!=[120,155]
triggerall = (P2StateNo <2000 && P2MoveType !=A)
trigger1 = random < 350*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
;Medium Attacks
trigger2 = stateno = 210 && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = movecontact
trigger3 = stateno = 240 && random < 250*(AIlevel ** 2 / 64.0)
trigger3 = movecontact
trigger4 = stateno = 410 && random < 250*(AIlevel ** 2 / 64.0)
trigger4 = movecontact
trigger5 = stateno = 440 && random < 250*(AIlevel ** 2 / 64.0)
trigger5 = movecontact
;Heavy Attacks
trigger6 = stateno = 250 && random < 350*(AIlevel ** 2 / 64.0)
trigger6 = movecontact
trigger7 = stateno = 420 && random < 350*(AIlevel ** 2 / 64.0)
trigger7 = movecontact
trigger8 = stateno = 470 && random < 350*(AIlevel ** 2 / 64.0)
trigger8 = movecontact
trigger9 = stateno = 225 && random < 350*(AIlevel ** 2 / 64.0)
trigger9 = movecontact
;trigger10 = stateno = 220 && random < 350*(AIlevel ** 2 / 64.0)
;trigger10 = moveguarded
;trigger11 = stateno = 221
;trigger11 = moveguarded && random < 350*(AIlevel ** 2 / 64.0)
value = 1520

;---------------------------------------------------------------------------
;Carnage Blitz (Medium)
[State -1, Carnage Blitz Medium]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x = [-20,80]) && (p2bodydist y =[-60,60]) && P2StateType !=L&&p2stateno!=[120,155]
triggerall = (P2StateNo <2000 && P2MoveType !=A)
trigger1 = random < 250*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
;Medium Attacks
trigger2 = stateno = 210 && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = movecontact
trigger3 = stateno = 240 && random < 250*(AIlevel ** 2 / 64.0)
trigger3 = movecontact
trigger4 = stateno = 410 && random < 250*(AIlevel ** 2 / 64.0)
trigger4 = movecontact
trigger5 = stateno = 440 && random < 250*(AIlevel ** 2 / 64.0)
trigger5 = movecontact
;Heavy Attacks
trigger6 = stateno = 250 && random < 350*(AIlevel ** 2 / 64.0)
trigger6 = movecontact
trigger7 = stateno = 420 && random < 350*(AIlevel ** 2 / 64.0)
trigger7 = movecontact
trigger8 = stateno = 470 && random < 350*(AIlevel ** 2 / 64.0)
trigger8 = movecontact
trigger9 = stateno = 225 && random < 350*(AIlevel ** 2 / 64.0)
trigger9 = movecontact
;trigger10 = stateno = 220 && random < 350*(AIlevel ** 2 / 64.0)
;trigger10 = moveguarded
;trigger11 = stateno = 221
;trigger11 = moveguarded && random < 350*(AIlevel ** 2 / 64.0)
value = 1510

;---------------------------------------------------------------------------
;Carnage Blitz (Light)
[State -1, Carnage Blitz Light]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997 && !NumTarget(1500)
triggerall = (p2bodydist x = [-20,30]) && (p2bodydist y =[-60,60]) && P2StateType !=L&&p2stateno!=[120,155]
triggerall = (P2StateNo <2000 && P2MoveType !=A)
trigger1 = random < 350*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
;Medium Attacks
trigger2 = stateno = 210 && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = movecontact
trigger3 = stateno = 240 && random < 250*(AIlevel ** 2 / 64.0)
trigger3 = movecontact
trigger4 = stateno = 410 && random < 250*(AIlevel ** 2 / 64.0)
trigger4 = movecontact
trigger5 = stateno = 440 && random < 250*(AIlevel ** 2 / 64.0)
trigger5 = movecontact
;Heavy Attacks
trigger6 = stateno = 250 && random < 350*(AIlevel ** 2 / 64.0)
trigger6 = movecontact
trigger7 = stateno = 420 && random < 350*(AIlevel ** 2 / 64.0)
trigger7 = movecontact
trigger8 = stateno = 470 && random < 350*(AIlevel ** 2 / 64.0)
trigger8 = movecontact
trigger9 = stateno = 225 && random < 350*(AIlevel ** 2 / 64.0)
trigger9 = movecontact
value = 1500

;---------------------------------------------------------------------------
;Mental Shock
[State -1, Mental Shock]
type = Changestate
triggerall = !ishelper
triggerall = Var(18) <= 55
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x = [0,60]) && (p2bodydist y <-140) && P2StateType =A && enemy, Vel Y <=0
triggerall = random < 550*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
trigger2 = stateno = 470 
trigger2 = movehit
value = 1480

;---------------------------------------------------------------------------
; Micro Wave (EX) (AIR)
[State -1, Micro Wave (EX)  (AIR)]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2&& statetype = A  
triggerall = roundstate = 2
triggerall = power >= 500
triggerall = Pos Y >-160 
triggerall = (p2bodydist x = [0,120]) && (p2bodydist y =[-30,160]) && P2StateType !=L
triggerall = (!NumHelper(3310) && P2MoveType !=A)
trigger1 = random < 150*(AIlevel ** 2 / 64.0)
trigger1 = ctrl && statetype = A
;trigger2 = stateno = 1510 || stateno = 1520
;trigger2 = moveGuarded
;trigger2 = !IsHelper  && !NumExplod(1500)
;trigger2 = cond(P2StateType = C,(random < 250*(AIlevel ** 2 / 64.0)),(random < 150*(AIlevel ** 2 / 64.0)))
trigger3 = ctrl && random < 850*(AIlevel ** 2 / 64.0)
trigger3 = P2MoveType = A && P2StateType !=A && statetype = A
value = 1372

;---------------------------------------------------------------------------
; Micro Wave (AIR)
[State -1, Micro Wave (AIR)]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A  
triggerall = roundstate = 2 
triggerall = (p2bodydist x = [0,80]) && (p2bodydist y =[-30,130]) && P2StateType !=L
trigger1 = random < 450*(AIlevel ** 2 / 64.0)
trigger1 = ctrl && statetype = A
;trigger2 = stateno = 1510 || stateno = 1520
;trigger2 = movecontact
;trigger2 = !IsHelper  && !NumExplod(1500)
;trigger2 = cond(P2StateType = C,(random < 250*(AIlevel ** 2 / 64.0)),(random < 150*(AIlevel ** 2 / 64.0)))
trigger3 = ctrl && random < 850*(AIlevel ** 2 / 64.0)
trigger3 = P2MoveType = A && P2StateType !=A && statetype = A
value = 1370

;---------------------------------------------------------------------------
; Micro Wave (EX)
[State -1, Micro Wave (EX)]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = roundstate = 2
triggerall = power >= 500
triggerall = (p2bodydist x = [0,100]) && (p2bodydist y =[-100,50]) && P2StateType !=L
triggerall = (!NumHelper(3310) && P2MoveType !=A)
trigger1 = random < 250*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
trigger2 = stateno = 101 && random < 250*(AIlevel ** 2 / 64.0)
;Light Attacks
trigger3 = stateno = 200 && random < 350*(AIlevel ** 2 / 64.0)
trigger3 = moveGuarded
trigger4 = stateno = 400 && random < 350*(AIlevel ** 2 / 64.0)
trigger4 = moveGuarded
trigger5 = stateno = 230 && random < 350*(AIlevel ** 2 / 64.0)
trigger5 = moveGuarded
trigger6 = stateno = 430 && random < 350*(AIlevel ** 2 / 64.0)
trigger6 = moveGuarded
;Medium Attacks
trigger7 = stateno = 210 && random < 350*(AIlevel ** 2 / 64.0)
trigger7 = moveguarded
trigger8 = stateno = 240 && random < 350*(AIlevel ** 2 / 64.0)
trigger8 = movecontact
trigger9 = stateno = 410 && random < 350*(AIlevel ** 2 / 64.0)
trigger9 =  MoveGuarded 
trigger10 = stateno = 440 && random < 350*(AIlevel ** 2 / 64.0)
trigger10 = MoveGuarded 
;Heavy Attacks
trigger11 = stateno = 250 && random < 350*(AIlevel ** 2 / 64.0)
trigger11 = moveguarded
trigger12 = stateno = 420 && random < 350*(AIlevel ** 2 / 64.0)
trigger12 = movecontact
trigger13 = stateno = 225 && random < 350*(AIlevel ** 2 / 64.0)
trigger13 = movecontact
trigger14 = stateno = 470 && random < 350*(AIlevel ** 2 / 64.0)
trigger14 = movecontact
value = 1351

;---------------------------------------------------------------------------
; Micro Wave
[State -1, Micro Wave]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x = [0,100]) && (p2bodydist y =[-100,50]) && P2StateType !=L
trigger1 = random < 450*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
trigger2 = stateno = 101 && random < 450*(AIlevel ** 2 / 64.0)
;Light Attacks
trigger3 = stateno = 200 && random < 550*(AIlevel ** 2 / 64.0)
trigger3 = moveGuarded
trigger4 = stateno = 400 && random < 550*(AIlevel ** 2 / 64.0)
trigger4 = moveGuarded
trigger5 = stateno = 230 && random < 550*(AIlevel ** 2 / 64.0)
trigger5 = moveGuarded
trigger6 = stateno = 430 && random < 550*(AIlevel ** 2 / 64.0)
trigger6 = moveGuarded
;Medium Attacks
trigger7 = stateno = 210 && random < 550*(AIlevel ** 2 / 64.0)
trigger7 = moveguarded
trigger8 = stateno = 240 && random < 550*(AIlevel ** 2 / 64.0)
trigger8 = movecontact
trigger9 = stateno = 410 && random < 550*(AIlevel ** 2 / 64.0)
trigger9 =  MoveGuarded 
trigger10 = stateno = 440 && random < 550*(AIlevel ** 2 / 64.0)
trigger10 = MoveGuarded 
;Heavy Attacks
trigger11 = stateno = 250 && random < 550*(AIlevel ** 2 / 64.0)
trigger11 = moveguarded
trigger12 = stateno = 420 && random < 550*(AIlevel ** 2 / 64.0)
trigger12 = movecontact
trigger13 = stateno = 225 && random < 550*(AIlevel ** 2 / 64.0)
trigger13 = movecontact
trigger14 = stateno = 470 && random < 550*(AIlevel ** 2 / 64.0)
trigger14 = movecontact
value = 1350
;---------------------------------------------------------------------------
; Micro Wave
[State -1, Micro Wave]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILEVEL<8) && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x = [0,100]) && (p2bodydist y =[-100,50]) && P2StateType !=L
trigger1 = random < 250*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
trigger2 = stateno = 101 && random < 450*(AIlevel ** 2 / 64.0)
;Light Attacks
trigger3 = stateno = 200 && random < 350*(AIlevel ** 2 / 64.0)
trigger3 = moveGuarded
trigger4 = stateno = 400 && random < 350*(AIlevel ** 2 / 64.0)
trigger4 = moveGuarded
trigger5 = stateno = 230 && random < 350*(AIlevel ** 2 / 64.0)
trigger5 = moveGuarded
trigger6 = stateno = 430 && random < 350*(AIlevel ** 2 / 64.0)
trigger6 = moveGuarded
;Medium Attacks
trigger7 = stateno = 210 && random < 350*(AIlevel ** 2 / 64.0)
trigger7 = moveguarded
trigger8 = stateno = 240 && random < 350*(AIlevel ** 2 / 64.0)
trigger8 = movecontact
trigger9 = stateno = 410 && random < 350*(AIlevel ** 2 / 64.0)
trigger9 =  MoveGuarded 
trigger10 = stateno = 440 && random < 350*(AIlevel ** 2 / 64.0)
trigger10 = MoveGuarded 
;Heavy Attacks
trigger11 = stateno = 250 && random < 350*(AIlevel ** 2 / 64.0)
trigger11 = moveguarded
trigger12 = stateno = 420 && random < 350*(AIlevel ** 2 / 64.0)
trigger12 = movecontact
trigger13 = stateno = 225 && random < 350*(AIlevel ** 2 / 64.0)
trigger13 = movecontact
trigger14 = stateno = 470 && random < 350*(AIlevel ** 2 / 64.0)
trigger14 = movecontact
value = 1350

;---------------------------------------------------------------------------
; EX Mystic Harpoon
[State -1, EX Mystic Harpoon]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = roundstate = 2
triggerall = power >= 500
triggerall =  P2StateType !=L && P2StateNo != 5120 && (P2StateNo != [120,155])
triggerall = !NumExplod(300603)
triggerall = (!NumHelper(3310) && P2MoveType !=A)
triggerall = ((P2StateNo != [1660,1662]) && P2MoveType = H)
trigger1 = ctrl && fvar(19) != 2.5
trigger1 = ((p2bodydist x = [100,180]) && (p2bodydist y =[-100,50]) && (P2StateType = A && enemy, Vel Y >0)) || ((p2bodydist x = [10,99]) && (p2bodydist y =[-50,50]) && (P2StateType = A && enemy, Vel Y >0)) 
trigger1 = random < 175*(AIlevel ** 2 / 64.0)&& P2MoveType =A && (P2StateNo = [0,2999])
value = 1603;ifelse((numexplod(1675)=0),1603, 1697)

;---------------------------------------------------------------------------
; Strong Mystic Harpoon
[State -1, Mystic Harpoon]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall =  P2StateType !=L && P2StateNo != 5120 && (P2StateNo != [120,155])
triggerall = ctrl && fvar(19) = 1
triggerall = P2StateNo != 1662
trigger1 = (p2bodydist x = [120,180]) && (p2bodydist y =[-100,50]) && P2StateType !=A 
trigger1 = random < 350*(AIlevel ** 2 / 64.0)&& P2MoveType =A && (P2StateNo = [0,2999])
value = ifelse((numexplod(1675)=0),1602, 1697)

;---------------------------------------------------------------------------
; Medium Mystic Harpoon
[State -1, Mystic Harpoon]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall =  P2StateType !=L && P2StateNo != 5120 && (P2StateNo != [120,155])
triggerall = ctrl && fvar(19) = 1
trigger1 = (p2bodydist x = [61,119]) && (p2bodydist y =[-70,50])&& P2StateType !=A 
trigger1 = random < 350*(AIlevel ** 2 / 64.0)&& P2MoveType !=H && (P2StateNo = [0,2999])
value = ifelse((numexplod(1675)=0),1601, 1696)

;---------------------------------------------------------------------------
; Light Mystic Harpoon
[State -1, Mystic Harpoon]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall =  P2StateType !=L && P2StateNo != 5120 && (P2StateNo != [120,155])
triggerall = (p2bodydist x = [-10,60]) && (p2bodydist y =[-60,50]) && P2StateType !=L
triggerall = ctrl && fvar(19) = 1
trigger1 = random < 350*(AIlevel ** 2 / 64.0)&& P2MoveType !=H&&P2StateType !=A
value = ifelse((numexplod(1675)=0),1600, 1690)

;---------------------------------------------------------------------------
; Halo Stomp (EX)
[State -1, Halo Stomp (EX)]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A 
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = power >= 500
triggerall = stateno != 1215 && P2StateType !=L && P2StateNo != 5120
triggerall = (p2bodydist x = [40,60]) && (p2bodydist y >0)
triggerall = (!NumHelper(3310) && P2MoveType !=A)
trigger1 = random < 250*(AIlevel ** 2 / 64.0)
trigger1 = ctrl && (Pos Y <-60)
; Light Attacks
trigger2 = stateno = 610 && animelemtime(6) >= 0 && animelemtime(7) < 0 
trigger3 = stateno = 640 && (animelemtime(5) >= 0 && animelemtime(6) < 0) 
trigger4 = stateno = 640 && animelemtime(8) >= 0  
value = 1210

;---------------------------------------------------------------------------
; Halo Stomp
[State -1, Halo Stomp]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype = A 
triggerall = Var(9) < 9997
triggerall = P2StateType !=L && P2StateNo != 5120
triggerall = (p2bodydist x = [-20,120]) && (p2bodydist y >0)
trigger1 = random < 350*(AIlevel ** 2 / 64.0)
trigger1 = ctrl && (Pos Y <-60)
; Light Attacks
trigger2 = stateno = 610 && animelemtime(6) >= 0 && animelemtime(7) < 0 
trigger3 = stateno = 640 && (animelemtime(5) >= 0 && animelemtime(6) < 0) 
trigger4 = stateno = 640 && animelemtime(8) >= 0  
value = 1200

;---------------------------------------------------------------------------
; savage Sweep EX
[State -1, EX savage sweep]
type = null
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = Power >= 500
triggerall = P2StateNo != 5120 && !NumTarget(1850)
triggerall = (!NumHelper(3310) && P2MoveType !=A)
trigger1 = P2StateType !=A
trigger1 = random < 100*(AIlevel ** 2 / 64.0)
trigger1 = ctrl
trigger2 = stateno = 1510 && !NumExplod(1500)
trigger2 = moveguarded && random < 100*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 1520 && !NumExplod(1500)
trigger3 = moveguarded && random < 100*(AIlevel ** 2 / 64.0)
trigger4 = P2StateType != A && P2MoveType = A && enemynear,AnimTime>12 && ctrl
trigger4 = random < 100*(AIlevel ** 2 / 64.0)
value = 1852

;---------------------------------------------------------------------------
; savage Kick LK
[State -1, savage Kick]
type = NULL;Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x = [-20,50])
triggerall = P2StateNo != 5120
trigger1 = stateno = 1510 && !NumExplod(1500)
trigger1 = moveguarded && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = stateno = 1520 && !NumExplod(1500)
trigger2 = moveguarded && random < 250*(AIlevel ** 2 / 64.0)
trigger3 = stateno = 250
trigger3 = movecontact && random < 50*(AIlevel ** 2 / 64.0)
trigger4 = stateno = 420
trigger4 = movecontact && random < 150*(AIlevel ** 2 / 64.0)
trigger5 = stateno = 470
trigger5 = movecontact && random < 150*(AIlevel ** 2 / 64.0)
trigger6 = stateno = 225
trigger6 = movecontact && random < 150*(AIlevel ** 2 / 64.0)
value = 1870

;---------------------------------------------------------------------------
; savage Kick MK/SK
[State -1, savage Kick]
type = NULL;Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x >50)
triggerall = P2StateNo != 5120
trigger1 = stateno = 1510 && !NumExplod(1500)
trigger1 = moveguarded && random < 350*(AIlevel ** 2 / 64.0)
trigger2 = stateno = 1520 && !NumExplod(1500)
trigger2 = moveguarded && random < 350*(AIlevel ** 2 / 64.0)
trigger3 = P2StateType != A && P2MoveType = A && enemynear,AnimTime>12 && ctrl
trigger3 = random < 350*(AIlevel ** 2 / 64.0)
value = 1871
;---------------------------------------------------------------------------
; savage Kick MK/SK
[State -1, savage Kick]
type = NULL;Changestate
triggerall = !ishelper
triggerall = (AILevel>0&&AILEVEL<8) && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x >50)
triggerall = P2StateNo != 5120
trigger1 = stateno = 1510 && !NumExplod(1500)
trigger1 = moveguarded && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = stateno = 1520 && !NumExplod(1500)
trigger2 = moveguarded && random < 250*(AIlevel ** 2 / 64.0)
trigger3 = P2StateType != A && P2MoveType = A && enemynear,AnimTime>12 && ctrl
trigger3 = random < 250*(AIlevel ** 2 / 64.0)
value = 1871

;---------------------------------------------------------------------------
; Call Clones
[State -1, CallClones]
type = NULL;Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x >120) && random < 550*(AIlevel ** 2 / 64.0)
triggerall = (enemy, Power>=1100 && P2StateNo>=2000 && P2MoveType = A) || Life <100
triggerall = !NumExplod(3507)
triggerall = ctrl
trigger1 = NumHelper(3501)  
trigger1 = helper(3501), Alive 
trigger1 = NumProjID(3501)
trigger2 = NumHelper(3502)
trigger2 = helper(3502), Alive
trigger2 = NumProjID(3502)
value = 3510

[State 0, Projectile]
type = Projectile
trigger1 = IsHelper(3501)
trigger1 = StateType !=A && MoveType !=H
trigger1 = Pos X >= root, Pos X -90 && Pos X <= root, Pos X +90
ProjID = 3501
projanim = 1
projremovetime = 1
[State 0, Projectile]
type = Projectile
trigger1 = IsHelper(3502)
trigger1 = StateType !=A && MoveType !=H
trigger1 = Pos X >= root, Pos X -90 && Pos X <= root, Pos X +90
ProjID = 3502
projanim = 1
projremovetime = 1

;Clones
[State -1, Send out the Clones!]
type = Changestate
triggerall = !numprojid(35012)
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = (p2bodydist x >120) && enemy, Vel X <=0
triggerall = !WinKo 
triggerall = Cond(NumHelper(3501), power >= 2000, power >= 1000) 
triggerall = P2MoveType != A
triggerall = NumHelper(3502) = 0
triggerall = Var(54) != 2
triggerall = Var(59)<2 
trigger1 = Cond(Var(59)=1,random < 900*(AIlevel ** 2 / 64.0),random < 100*(AIlevel ** 2 / 64.0))
trigger1 = ctrl
value = 3500

;SBC
[State -1, Special Beam Clones]
type = null;Changestate
triggerall = AILevel>0 && numenemy && roundstate=2 
triggerall = (!NumHelper(3310) && P2MoveType !=A)
triggerall = IsHelper(3501)
triggerall = statetype != A && !WinKo 
triggerall = root,power >= 1000 
trigger1 = (StateNo = [35000,35020]) && enemy, Vel X <=0
trigger1 = random < 350*(AIlevel ** 2 / 64.0) && hitcount >5
value = 3200

;SBC
[State -1, Special Beam Clones]
type = null;Changestate
triggerall = AILevel>0 && numenemy && roundstate=2 
triggerall = (!NumHelper(3310) && P2MoveType !=A)
triggerall = IsHelper(3502)
triggerall = statetype != A && !WinKo 
triggerall = root,power >= 1000 
trigger1 = (StateNo = [35000,35020]) && enemy, Vel X <=0
trigger1 = random < 350*(AIlevel ** 2 / 64.0) && hitcount >5
value = 3200

;SBC
[State -1, Special Beam Cannon]
type = Changestate
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A
triggerall = Var(9) < 9997
triggerall = !WinKo 
triggerall = (!NumHelper(3310) && P2MoveType !=A)&&var(28)>=1
triggerall = power >= 1000 && !Var(52) || power >= 1000 && Var(52) >0 && Var(42) = 1
trigger1 = ctrl && enemy, Vel X <=0
trigger1 = (p2bodydist x >100) && Cond(P2MoveType = A,random < 50*(AIlevel ** 2 / 64.0),random < 70*(AIlevel ** 2 / 64.0))
trigger2 = stateno = 225 || stateno = 250 || stateno = 420 || stateno = 470
trigger2 = movehit && random < 50*(AIlevel ** 2 / 64.0) && hitcount >5
trigger3 = NumHelper(1355)
trigger3 = helper(1355), MoveHit && random < 350*(AIlevel ** 2 / 64.0)
value = 3200

;SBC Demon
[State -1, Special Beam Cannon]
type = null;Changestate
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = !WinKo 
triggerall = (!NumHelper(3310) && P2MoveType !=A)
triggerall = Var(52) >=1 && Var(53) >= 700 && Var(42) = 0 && Power <900
trigger1 = ctrl && enemy, Vel X <=0
trigger1 = (p2bodydist x >100) && random < 250*(AIlevel ** 2 / 64.0)
trigger2 = stateno = 225 || stateno = 250 || stateno = 420 || stateno = 470
trigger2 = movehit && random < 350*(AIlevel ** 2 / 64.0)&& hitcount >5
trigger3 = NumHelper(1355)
trigger3 = helper(1355), MoveHit && random < 350*(AIlevel ** 2 / 64.0)
value = 3250

; Demon Mode
[State -1]
type = Changestate
triggerall = !ishelper
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997
triggerall = TeamMode != Simul
triggerall = enemyNear,TeamMode != Simul
triggerall = enemy, name != "Saibamen Z2" && authorname = "Team Z2"
triggerall = var(52)<=0 ;No rage mode
triggerall = var(42)<=0 ; No Hellzone Grenades active
triggerall = Var(59)=0 || Var(59)=2
triggerall = Cond(Var(59)=2,(Random<900*((AIlevel**2)/64.0)),(Random<300*((AIlevel**2)/64.0)))
triggerall = !WinKo
triggerall = power >= 2000 && stateno != 2700
triggerall = ctrl
trigger1 = P2MoveType = H || P2StateType = L 
value = 2700

;Deddo Endo
[State -1, Deddo Endo]
type = null;Changestate
triggerall = Var(9) < 9997
triggerall = AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = P2MoveType = A || (P2StateType = A && enemy, Vel Y >=0)
triggerall = (p2bodydist x =[-80,80]) &&(p2bodydist y =[-90,90]) && Cond(!Var(52)||(Var(52) && Power<700 && Life<200),random < 450*(AIlevel ** 2 / 64.0),random < 10*(AIlevel ** 2 / 64.0))
triggerall = !WinKo 
triggerall = power >= 1000 && Var(52) <=0 || Var(52) >= 1 && Var(42) = 0 || power >= 1000 && Var(52) >0 && Var(42) = 1
triggerall = !NumExplod(3006)
trigger1 = ctrl
value = 3000

;Deddo Endo Emo Exit
[State -1, Deddo Endo]
type = ChangeState
triggerAll = !AILevel
triggerall = Var(9) < 9997
triggerall = roundstate = 2
triggerall = var(52)>0 ;demon mode mode
triggerall = var(42)<=0 ; No Hellzone Grenades active
;triggerall = var(53)>=700
triggerall = P2MoveType = A || (P2StateType = A && enemy, Vel Y >=0)
triggerall = (p2bodydist x =[-80,80]) &&(p2bodydist y =[-90,90]) && Cond(!Var(52)||(Var(52)&& Life<200),random < 450*(AIlevel ** 2 / 64.0),random < 10*(AIlevel ** 2 / 64.0))
triggerall = statetype != A  && !WinKo
trigger1 = ctrl
trigger1 = Ctrl
value = 3000

;Seeking Bullet
[State -1, Seeking Bullet]
type = Changestate
triggerall = !ishelper
triggerall = AILevel=8 && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997 && P2StateType !=L
triggerall = !WinKo 
triggerall =  power >= 2000 && Var(52) <=0  || Var(52) >= 1 && Var(42) = 0&&power>=2000 || power >= 2000 && Var(52) >0 && Var(42) = 1
triggerall = !NumHelper(3310)
trigger1 = ctrl && Cond(!Var(52)||(Var(52) && Power<700 && Life<200),random < 20*(AIlevel ** 2 / 64.0),random < 2*(AIlevel ** 2 / 64.0))
trigger2 = stateno = 210 || stateno = 225 || stateno = 240 || stateno = 250 || stateno = 410 || stateno = 420 || stateno = 440 || stateno = 470
trigger2 = movehit  && hitcount >5 && Cond(!Var(52)||(Var(52) && Power<700 && Life<200),random < 450*(AIlevel ** 2 / 64.0),random < 10*(AIlevel ** 2 / 64.0))
trigger3 = NumHelper(1355)
trigger3 = helper(1355), MoveHit && Cond(!Var(52)||(Var(52) && Power<700 && Life<200),random < 350*(AIlevel ** 2 / 64.0),random < 10*(AIlevel ** 2 / 64.0))
value = 3300
;Seeking Bullet
[State -1, Seeking Bullet]
type = Changestate
triggerall = !ishelper
triggerall = (AILevel>0 && AILevel<8) && !IsHelper && numenemy && roundstate=2 && statetype != A 
triggerall = Var(9) < 9997 && P2StateType !=L
triggerall = !WinKo 
triggerall =  power >= 2000 && Var(52) <=0  || Var(52) >= 1 && Var(42) = 0&&power>=2000 || power >= 2000 && Var(52) >0 && Var(42) = 1
triggerall = !NumHelper(3310)
trigger1 = ctrl && Cond(!Var(52)||(Var(52) && Power<700 && Life<200),random < 20*(AIlevel ** 2 / 64.0),random < 2*(AIlevel ** 2 / 64.0))
trigger2 = stateno = 210 ||  stateno = 225 || stateno = 240 || stateno = 250 || stateno = 410 || stateno = 420 || stateno = 440 || stateno = 470
trigger2 = movehit  && hitcount >5 && Cond(!Var(52)||(Var(52) && Power<700 && Life<200),random < 350*(AIlevel ** 2 / 64.0),random < 10*(AIlevel ** 2 / 64.0))
trigger3 = NumHelper(1355)
trigger3 = helper(1355), MoveHit && Cond(!Var(52)||(Var(52) && Power<700 && Life<200),random < 250*(AIlevel ** 2 / 64.0),random < 10*(AIlevel ** 2 / 64.0))
value = 3300

;AI Power Charge
[State -1, AI Power Charge]
type = Changestate
triggerall = !ishelper
triggerall = Var(9) < 9997
triggerall= AILevel>0 && !IsHelper && numenemy && roundstate=2 && statetype!=A
triggerall= power<const(data.power) && enemynear,Movetype!=A && !(enemynear,ctrl)
triggerall=  power < const(data.power) && power < powermax
triggerall= !inguarddist && random<50 && (p2bodydist x>=120 && !NumExplod(801) || NumExplod(801))
triggerall = stateno != [900,901]
triggerall = !NumHelper(3310) 
triggerall= ctrl
trigger1=(enemynear,Movetype=H||enemynear,statetype=L)
trigger2=enemynear,vel x<0
trigger3=enemynear,stateno=[120,155]
trigger4=enemynear,Movetype=I
value=900