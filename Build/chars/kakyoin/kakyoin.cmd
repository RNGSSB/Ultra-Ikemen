[Remap]
x = x      ;Ｘボタンの入力判定を実際に押すボタンに割り当てる。
y = y      ;Ｙボタン　　　　　　　　　〃
z = z      ;Ｚボタン　　　　　　　　　〃
a = a      ;Ａボタン　　　　　　　　　〃
b = b      ;Ｂボタン　　　　　　　　　〃
c = c      ;Ｃボタン　　　　　　　　　〃
s = s      ;スタートボタン　　　　　　〃
;-| AI起動用コマンド |-----------------------------------------------------------------
[Command]
name = "AI00"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,s
time = 0

[Command]
name = "AI01"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,s
time = 0

[Command]
name = "AI02"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,s
time = 0

[Command]
name = "AI03"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,s
time = 0

[Command]
name = "AI04"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,s
time = 0

[Command]
name = "AI05"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,s
time = 0

[Command]
name = "AI06"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,a,s
time = 0

[Command]
name = "AI07"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,s
time = 0

[Command]
name = "AI08"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,s
time = 0

[Command]
name = "AI09"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,s
time = 0

[Command]
name = "AI10"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,s
time = 0

[Command]
name = "AI11"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,s
time = 0

[Command]
name = "AI12"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,s
time = 0

[Command]
name = "AI13"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,s
time = 0

[Command]
name = "AI14"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,s
time = 0

[Command]
name = "AI15"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,s
time = 0

[Command]
name = "AI16"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,a,s
time = 0

[Command]
name = "AI17"
command = a,B,c,x,y,z,s,B,D,F,U,a,b,c,x,y,z,s,s
time = 0

[Command]
name = "AI18"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,s,s
time = 0

[Command]
name = "AI19"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,s,s
time = 0

[Command]
name = "AI20"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,s,s
time = 0

[Command]
name = "AI21"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,s,s
time = 0

[Command]
name = "AI22"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,s,s
time = 0

[Command]
name = "AI23"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,s,s
time = 0

[Command]
name = "AI24"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,b,s,s
time = 0

[Command]
name = "AI25"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,s,s
time = 0

[Command]
name = "AI26"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,s,s
time = 0

[Command]
name = "AI27"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,s,s
time = 0

[Command]
name = "AI28"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,s,s
time = 0

[Command]
name = "AI29"
command = a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,s,s,s
time = 0

[Command]
name = "AI30"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,s,s,s
time = 0

[Command]
name = "AI31"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,s,s,s
time = 0

[Command]
name = "AI32"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,s,s,s
time = 0

[Command]
name = "AI33"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,s,s,s
time = 0

[Command]
name = "AI34"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,c,s,s,s
time = 0

[Command]
name = "AI35"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,s,s,s
time = 0

[Command]
name = "AI36"
command = z,z,z,z,z,z,a,a,a,z,z,z,z,z,z,z,s,s,s
time = 0

[Command]
name = "AI37"
command = z,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,z,z,z,s
time = 0

[Command]
name = "AI38"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z,s
time = 0

[Command]
name = "AI39"
command = z,z,z,z,z,a,a,a,z,z,z,z,z,z,a,a,z,z,z,s
time = 0

[Command]
name = "AI40"
command = z,z,z,z,a,a,a,z,z,z,z,a,z,z,a,a,z,z,z,s
time = 0

[Command]
name = "AI41"
command = z,z,z,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z,z,s
time = 0

[Command]
name = "AI42"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,s,s
time = 0

[Command]
name = "AI43"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,a,a,z,s
time = 0

[Command]
name = "AI44"
command = z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,a,a,a,z,s
time = 0

[Command]
name = "AI45"
command = z,z,z,z,z,z,a,a,z,z,z,z,z,a,a,a,a,z,z,s
time = 0

[Command]
name = "AI46"
command = z,z,z,z,z,z,z,z,a,a,a,a,a,a,z,z,z,z,z,s
time = 0

[Command]
name = "AI47"
command = z,z,z,a,a,a,a,z,z,z,z,z,z,z,z,z,z,z,z,s
time = 0

[Command]
name = "AI48"
command = z,z,z,z,z,a,a,a,z,z,z,a,a,a,z,z,a,z,a,s
time = 0

[Command]
name = "AI49"
command = z,z,z,z,a,a,a,z,z,z,z,z,a,a,a,z,z,z,z,s
time = 0

[Command]
name = "AI50"
command = z,z,z,a,a,z,z,z,z,z,z,z,z,z,a,a,z,z,z,s
time = 0

[Command]
name = "AI51"
command = b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,s
time = 0

[Command]
name = "AI52"
command = c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,x,s
time = 0

[Command]
name = "AI53"
command = x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,s
time = 0

[Command]
name = "AI54"
command = y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,x,s
time = 0

[Command]
name = "AI55"
command = z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,x,s
time = 0

[Command]
name = "AI56"
command = s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,x,s
time = 0

[Command]
name = "AI57"
command = F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,s
time = 0

[Command]
name = "AI58"
command = D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,x,s
time = 0

[Command]
name = "AI59"
command = B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,x,s
time = 0

[Command]
name = "AI60"
command = U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,x,s

;------------------------------------------------------------------------------
;
[Command]
name = "xx6yz"
command = ~x,x,F,y,z
time = 28
[Command]
name = "xx6yz"
command = ~x,x,F,y,~z
time = 28

;
[Command]
name = "236aa"
command = ~D,DF,F,x+y
time = 16

[Command]
name = "236aa"
command = ~D,DF,F,y+z
time = 16

[Command]
name = "236aa"
command = ~D,DF,F,x+z
time = 16

;
[Command]
name = "214aa1"
command = ~D,DB,B,x+y
time = 16

[Command]
name = "214aa2"
command = ~D,DB,B,y+z
time = 16

[Command]
name = "214aa3"
command = ~D,DB,B,x+z
time = 16

[Command]
name = "214aa4"
command = ~D,DB,B,x+y+z
time = 16

;
[Command]
name = "623aa"
command = ~F,D,DF,x+y
time = 16

[Command]
name = "623aa"
command = ~F,D,DF,y+z
time = 16

[Command]
name = "623aa"
command = ~F,D,DF,x+z
time = 16

;
[Command]
name = "214s"
command = ~D,DB,B,a
time = 16

[Command]
name = "214s"
command = ~D,DB,B,~a
time = 16

;------------------------------------------------------------------------------
;
[Command]
name = "463214x"
command = ~B,F,D,B,x
time = 20
[Command]
name = "463214x"
command = ~B,F,D,B,~x
time = 20

[Command]
name = "463214y"
command = ~B,F,D,B,y
time = 20
[Command]
name = "463214y"
command = ~B,F,D,B,~y
time = 20

[Command]
name = "463214z"
command = ~B,F,D,B,z
time = 20
[Command]
name = "463214z"
command = ~B,F,D,B,~z
time = 20

[Command]
name = "463214b"
command = ~B,F,D,B,b
time = 20
[Command]
name = "463214b"
command = ~B,F,D,B,~b
time = 20

[Command]
name = "236x"
command = ~D,DF,F,x
time = 12
[Command]
name = "236x"
command = ~D,DF,F,~x
time = 12

[Command]
name = "236y"
command = ~D,DF,F,y
time = 12
[Command]
name = "236y"
command = ~D,DF,F,~y
time = 12

[Command]
name = "236z"
command = ~D,DF,F,z
time = 12
[Command]
name = "236z"
command = ~D,DF,F,~z
time = 12

[Command]
name = "236b"
command = ~D,DF,F,b
time = 12
[Command]
name = "236b"
command = ~D,DF,F,~b
time = 12

;
[Command]
name = "214x"
command = ~D,DB,B,x
time = 12
[Command]
name = "214x"
command = ~D,DB,B,~x
time = 12

[Command]
name = "214y"
command = ~D,DB,B,y
time = 12
[Command]
name = "214y"
command = ~D,DB,B,~y
time = 12

[Command]
name = "214z"
command = ~D,DB,B,z
time = 12
[Command]
name = "214z"
command = ~D,DB,B,~z
time = 12

[Command]
name = "214b"
command = ~D,DB,B,b
time = 12
[Command]
name = "214b"
command = ~D,DB,B,~b
time = 12

;
[Command]
name = "236s"
command = ~D,DF,F,a
time = 12
[Command]
name = "236s"
command = ~D,DF,F,~a
time = 12

;
[Command]
name = "623x"
command = ~F,D,DF,x
time = 12
[Command]
name = "623x"
command = ~F,D,DF,~x
time = 12

[Command]
name = "623y"
command = ~F,D,DF,y
time = 12
[Command]
name = "623y"
command = ~F,D,DF,~y
time = 12

[Command]
name = "623z"
command = ~F,D,DF,z
time = 12
[Command]
name = "623z"
command = ~F,D,DF,~z
time = 12

[Command]
name = "623b"
command = ~F,D,DF,b
time = 12
[Command]
name = "623b"
command = ~F,D,DF,~b
time = 12

;------------------------------------------------------------------------------

[Command]
name = "FF"
command = F,F
time = 10

[Command]
name = "BB"
command = B,B
time = 10

[Command]
name = "longjump"
command = $D, $U
time = 10

;------------------------------------------------------------------------------

[Command]
name = "recovery" ;必須コマンド名
command = a+b
time = 1

[Command]
name = "recovery" ;必須コマンド名
command = x+y
time = 1

;------------------------------------------------------------------------------

;[Command]
;name = "fwd_a"
;command = /F,a

;------------------------------------------------------------------------------

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

[Command]
name = "xy"
command = x+y
time = 1

[Command]
name = "yz"
command = y+z
time = 1

[Command]
name = "xz"
command = x+z
time = 1

[Command]
name = "xyz"
command = x+y+z
time = 1

;------------------------------------------------------------------------------
;-| 方向キー |-----------------------------------------------------------------

[Command]
name = "holdfwd"   ;必須コマンド名
command = /$F
time = 1

[Command]
name = "holdback"  ;必須コマンド名
command = /$B
time = 1

[Command]
name = "holdup"    ;必須コマンド名
command = /$U
time = 1

[Command]
name = "holddown"  ;必須コマンド名
command = /$D
time = 1

[Command]
name = "fwd"   ;必須コマンド名
command = F
time = 1
[Command]
name = "back"
command = B
time = 1
;------------------------------------------------------------------------------

[Command]
name = "holdx"	   ;必須コマンド名
command = /x
time = 1

[Command]
name = "holdy"	   ;必須コマンド名
command = /y
time = 1

[Command]
name = "holdz"	   ;必須コマンド名
command = /z
time = 1

[Command]
name = "holda"	   ;必須コマンド名
command = /a
time = 1

[Command]
name = "holdb"	   ;必須コマンド名
command = /b
time = 1

[Command]
name = "holds"
command = /s
time = 1

[Command]
name = "d"
command = /D
time = 1

[Command]
name = "db"
command = /DB
time = 1

[Command]
name = "ub"
command = /UB
time = 1

[Command]
name = "u"
command = /U
time = 1

[Command]
name = "uf"
command = /UF
time = 1

[Command]
name = "df"
command = /DF
time = 1

;---------------------------
[command]
name="fwd"
command=F
time=1
[command]
name="back"
command=B
time=1
[command]
name="up"
command=U
time=1
[command]
name="down"
command=D
time=1

;------------------------------------------------------------------------------

[Statedef -1] ;←この行は絶対に消さないでね。必須項目です。


;==============================================================================
; AI用
;==============================================================================
[State -3, AIon]
type = VarSet
TriggerAll = !Ishelper
TriggerAll = (!var(59) || var(59) = 4)
TriggerAll = numhelper(7520)
TriggerAll = RoundState = [1,2]
Trigger1 = Command ="AI00"||Command ="AI01"||Command ="AI02"||Command ="AI03"||Command ="AI04"
Trigger2 = Command ="AI05"||Command ="AI06"||Command ="AI07"||Command ="AI08"||Command ="AI09"
Trigger3 = Command ="AI10"||Command ="AI11"||Command ="AI12"||Command ="AI13"||Command ="AI14"
Trigger4 = Command ="AI15"||Command ="AI16"||Command ="AI17"||Command ="AI18"||Command ="AI19"
Trigger5 = Command ="AI20"||Command ="AI21"||Command ="AI22"||Command ="AI23"||Command ="AI24"
Trigger6 = Command ="AI25"||Command ="AI26"||Command ="AI27"||Command ="AI28"||Command ="AI29"
Trigger7 = Command ="AI30"||Command ="AI31"||Command ="AI32"||Command ="AI33"||Command ="AI34"
Trigger8 = Command ="AI35"||Command ="AI36"||Command ="AI37"||Command ="AI38"||Command ="AI39" 
Trigger9 = Command ="AI40"||Command ="AI41"||Command ="AI42"||Command ="AI43"||Command ="AI44"
Trigger10= Command ="AI45"||Command ="AI46"||Command ="AI47"||Command ="AI48"||Command ="AI49"
Trigger11= Command ="AI50"||Command ="AI51"||Command ="AI52"||Command ="AI53"||Command ="AI54"
Trigger12= Command ="AI55"||Command ="AI56"||Command ="AI57"||Command ="AI58"||Command ="AI59"
Trigger13= Command ="AI60"
Trigger14= Numhelper(50000)
trigger14= Helper(50000),var(59) = 1
Trigger15= helper(7520),var(31)
;Trigger16= Command ="c";デバッグ用
var(59) = ifelse(helper(7520),var(30),7,4)

[State -1]
type = VarRandom
trigger1 = roundstate = 2
trigger1 = var(59)
v = 58
range = 0,99

[State -1, Varset]
type = Varset
trigger1 = roundstate != 2
var(58) = -1

;棒立ちフラグ
[State -2, Combo]
type = Varadd
trigger1 = numpartner
trigger1 = stateno = 0 
trigger1 = numtarget
trigger1 = partner,numtarget
var(34) = 1
ignorehitpause = 1
;リセット
[State -2, Combo]
type = Varset
triggerall = var(34) > 10
trigger1 = !numtarget
trigger2 = (stateno != 0 && stateno != 10  && stateno != 20 && stateno != 40)
var(34) = 0
ignorehitpause = 1

;デムデムフラグ
[State -2, Combo]
type = VarSet
trigger1 = p2MoveType != H
var(33) = 0
ignorehitpause = 1

;技回数リセット
[State -2, Combo]
type = VarSet
trigger1 = p2MoveType != H
trigger2 = stateno = 3500
trigger3 = stateno = 1200
trigger4 = var(36) = 1012 || var(36) = 1017 || var(36) = 1101 || var(36) = 21
trigger4 = stateno = 200 && movecontact
fvar(33) = 0
ignorehitpause = 1

;簡易学習
[State -2, Combo]
type = Varadd
triggerall = var(59)
;triggerall = var(36)
triggerall = p2statetype = C
triggerall = p2movetype != A
triggerall = (p2stateno = 11 || enemynear(var(48)),anim = 11) || (p2stateno = [120,159]) || (p2stateno = [5010,5011])
triggerall = p2bodydist x < 55
triggerall = !movecontact
trigger1 = stateno = 210 && animelem = 5
trigger2 = stateno = 215 && animelem = 4
trigger3 = stateno = 10210 && animelem = 5 && p2bodydist x < 30
trigger4 = stateno = 10220 && animelem = 4 && p2bodydist x < 20
var(12) = 1
ignorehitpause = 1
;
;重力及び摩擦係数の変数代入記述
[State ]
type = null
triggerall = var(59)

;重力代入（通常時）
trigger1 = Enemynear(var(48)),StateType = A
trigger1 = P2Movetype != H 
Trigger1 = fvar(30) := Enemynear(var(48)),const(movement.yaccel)

;重力代入（ヒット中）
trigger2 = P2Movetype = H
trigger2 = Enemynear(var(48)),StateType = A
trigger2 = fvar(30) := ifelse(Enemynear(var(48)),GetHitVar(yaccel) = 0, .35, EnemyNear(var(48)),GetHitVar(yaccel))

[State ];ガード・歩き制御
type = AssertSpecial
trigger1 = var(59)
trigger1 = var(59)!=7
flag = nostandguard
flag2 = nocrouchguard
flag3 = nowalk
IgnoreHitPause = 1

[State -1, ジャンプリセット]
type = varadd
trigger1 = var(38)
trigger1 = stateno != 100
fvar(8) = 1

[State -1, ジャンプリセット]
type = varset
triggerall = var(38) != 4
trigger1 = fvar(8) = 3
trigger2 = stateno = 50 || movetype = H
var(38) = 0

[State -1, ジャンプリセット]
type = varset
triggerall = var(38) = 4
trigger1 = fvar(8) = 15 && statetype != A
trigger2 = stateno = 52 || movetype = H
var(38) = 0

[State -1, ジャンプリセット]
type = varset
trigger1 = !var(38)
fvar(8) = 0

[State 相手Movetype=Aステート記憶]
type=VarSet
triggerall=Numenemy
trigger1=Enemynear(var(48)),Movetype=A&&!var(57)
trigger1=Enemynear(var(48)),Stateno<2**26-1
var(57)=Enemynear(var(48)),Stateno
Ignorehitpause=1
[State リセット]
type=VarSet
triggerall=Numenemy
trigger1=Enemynear(var(48)),Movetype!=A
trigger2=Enemynear(var(48)),Ctrl
var(57)=0
Ignorehitpause=1
[State 飛び道具感知]
type=Varadd
triggerall=Numenemy
trigger1=var(57)
trigger1=Enemynear(var(48)),Movetype=A&&Movetype=H&&Time=0
trigger1=!(Enemynear(var(48)),Hitdefattr=SCA,AA,AP,AT)
trigger1=!Enemynear(var(48)),Movecontact
var(57)=2**31
Ignorehitpause=1
[State 0]
type=varadd
triggerall=(var(47)&2**26-1)=0
trigger1=var(57)
trigger1=Enemynear(var(48)),Movetype=A&&Enemynear(var(48)),Statetype=S&&Enemynear(var(48)),Stateno<1000&&Enemynear(var(48)),prevStateno<120&&Movetype=H&&Time=0
;trigger1=Enemynear(var(48)),MoveContact=1
trigger1=(var(57)-(var(57)&2**26-1)&(2**23-1))/2**26 > 6
var(47)=var(57)
Ignorehitpause=1
[State 相手Movetype=Aステート記憶]
type=Varadd
triggerall=Numenemy
trigger1=(var(57)&2**26-1)
trigger1=(var(57)-(var(57)&2**26-1)&(2**23-1))/2**26< 511
var(57)=2**26
Ignorehitpause=1
[State リセット]
type=VarSet
triggerall=Numenemy
trigger1=Enemynear(var(48)),MoveContact
var(57)=0
Ignorehitpause=1

[State -1, 飛び道具感知]
type = varset
trigger1 = var(32)
var(32) = 0

[State -1, 飛び道具感知]
type = varset
triggerall = var(59)
TriggerAll = RoundState = 2
TriggerAll = numhelper(51000)
TriggerAll = !Ishelper

trigger1 = playerIDexist(helper(51000),var(3))
trigger1 = playerID(helper(51000),var(3)),teamside != teamside
trigger1 = (playerID(helper(51000),var(3)),hitdefattr=SCA,NA,AP)
trigger1 = (!(playerID(helper(51000),var(3)),movecontact))&&(!(playerID(helper(51000),var(3)),movereversed))
trigger1 = (playerID(helper(51000),var(3)),pos X-pos X)*(ifelse(playerID(helper(51000),var(3)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(3)),vel X)*10)]
trigger1 = playerID(helper(51000),var(3)),vel X>0
trigger2 = playerIDexist(helper(51000),var(4))
trigger2= playerID(helper(51000),var(4)),teamside != teamside
trigger2 = (playerID(helper(51000),var(4)),hitdefattr=SCA,NA,AP)
trigger2 = (!(playerID(helper(51000),var(4)),movecontact))&&(!(playerID(helper(51000),var(4)),movereversed))
trigger2 = (playerID(helper(51000),var(4)),pos X-pos X)*(ifelse(playerID(helper(51000),var(4)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(4)),vel X)*10)]
trigger2 = playerID(helper(51000),var(4)),vel X>0
trigger3 = playerIDexist(helper(51000),var(5))
trigger3 = playerID(helper(51000),var(5)),teamside != teamside
trigger3 = (playerID(helper(51000),var(5)),hitdefattr=SCA,NA,AP)
trigger3 = (!(playerID(helper(51000),var(5)),movecontact))&&(!(playerID(helper(51000),var(5)),movereversed))
trigger3 = (playerID(helper(51000),var(5)),pos X-pos X)*(ifelse(playerID(helper(51000),var(5)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(5)),vel X)*10)]
trigger3 = playerID(helper(51000),var(5)),vel X>0
trigger4 = playerIDexist(helper(51000),var(6))
trigger4= playerID(helper(51000),var(6)),teamside != teamside
trigger4 = (playerID(helper(51000),var(6)),hitdefattr=SCA,NA,AP)
trigger4 = (!(playerID(helper(51000),var(6)),movecontact))&&(!(playerID(helper(51000),var(6)),movereversed))
trigger4 = (playerID(helper(51000),var(6)),pos X-pos X)*(ifelse(playerID(helper(51000),var(6)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(6)),vel X)*10)]
trigger4 = playerID(helper(51000),var(6)),vel X>0
trigger5 = playerIDexist(helper(51000),var(7))
trigger5= playerID(helper(51000),var(7)),teamside != teamside
trigger5 = (playerID(helper(51000),var(7)),hitdefattr=SCA,NA,AP)
trigger5 = (!(playerID(helper(51000),var(7)),movecontact))&&(!(playerID(helper(51000),var(7)),movereversed))
trigger5 = (playerID(helper(51000),var(7)),pos X-pos X)*(ifelse(playerID(helper(51000),var(7)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(7)),vel X)*10)]
trigger5 = playerID(helper(51000),var(7)),vel X>0
trigger6 = playerIDexist(helper(51000),var(8))
trigger6= playerID(helper(51000),var(8)),teamside != teamside
trigger6 = (playerID(helper(51000),var(8)),hitdefattr=SCA,NA,AP)
trigger6 = (!(playerID(helper(51000),var(8)),movecontact))&&(!(playerID(helper(51000),var(8)),movereversed))
trigger6 = (playerID(helper(51000),var(8)),pos X-pos X)*(ifelse(playerID(helper(51000),var(8)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(8)),vel X)*10)]
trigger6 = playerID(helper(51000),var(8)),vel X>0
trigger7 = playerIDexist(helper(51000),var(9))
trigger7= playerID(helper(51000),var(9)),teamside != teamside
trigger7 = (playerID(helper(51000),var(9)),hitdefattr=SCA,NA,AP)
trigger7 = (!(playerID(helper(51000),var(9)),movecontact))&&(!(playerID(helper(51000),var(9)),movereversed))
trigger7 = (playerID(helper(51000),var(9)),pos X-pos X)*(ifelse(playerID(helper(51000),var(9)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(9)),vel X)*10)]
trigger7 = playerID(helper(51000),var(9)),vel X>0
trigger8 = playerIDexist(helper(51000),var(10))
trigger8= playerID(helper(51000),var(10)),teamside != teamside
trigger8 = (playerID(helper(51000),var(10)),hitdefattr=SCA,NA,AP)
trigger8 = (!(playerID(helper(51000),var(10)),movecontact))&&(!(playerID(helper(51000),var(10)),movereversed))
trigger8 = (playerID(helper(51000),var(10)),pos X-pos X)*(ifelse(playerID(helper(51000),var(10)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(10)),vel X)*10)]
trigger8 = playerID(helper(51000),var(10)),vel X>0
trigger9 = playerIDexist(helper(51000),var(11))
trigger9= playerID(helper(51000),var(11)),teamside != teamside
trigger9 = (playerID(helper(51000),var(11)),hitdefattr=SCA,NA,AP)
trigger9 = (!(playerID(helper(51000),var(11)),movecontact))&&(!(playerID(helper(51000),var(11)),movereversed))
trigger9 = (playerID(helper(51000),var(11)),pos X-pos X)*(ifelse(playerID(helper(51000),var(11)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(11)),vel X)*10)]
trigger9 = playerID(helper(51000),var(11)),vel X>0
trigger10 = playerIDexist(helper(51000),var(12))
trigger10= playerID(helper(51000),var(12)),teamside != teamside
trigger10 = (playerID(helper(51000),var(12)),hitdefattr=SCA,NA,AP)
trigger10 = (!(playerID(helper(51000),var(12)),movecontact))&&(!(playerID(helper(51000),var(12)),movereversed))
trigger10 = (playerID(helper(51000),var(12)),pos X-pos X)*(ifelse(playerID(helper(51000),var(12)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(12)),vel X)*10)]
trigger10 = playerID(helper(51000),var(12)),vel X>0
trigger11 = playerIDexist(helper(51000),var(13))
trigger11= playerID(helper(51000),var(13)),teamside != teamside
trigger11 = (playerID(helper(51000),var(13)),hitdefattr=SCA,NA,AP)
trigger11 = (!(playerID(helper(51000),var(13)),movecontact))&&(!(playerID(helper(51000),var(13)),movereversed))
trigger11 = (playerID(helper(51000),var(13)),pos X-pos X)*(ifelse(playerID(helper(51000),var(13)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(13)),vel X)*10)]
trigger11 = playerID(helper(51000),var(13)),vel X>0
trigger12 = playerIDexist(helper(51000),var(14))
trigger12= playerID(helper(51000),var(14)),teamside != teamside
trigger12 = (playerID(helper(51000),var(14)),hitdefattr=SCA,NA,AP)
trigger12 = (!(playerID(helper(51000),var(14)),movecontact))&&(!(playerID(helper(51000),var(14)),movereversed))
trigger12 = (playerID(helper(51000),var(14)),pos X-pos X)*(ifelse(playerID(helper(51000),var(14)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(14)),vel X)*10)]
trigger12 = playerID(helper(51000),var(14)),vel X>0
trigger13 = playerIDexist(helper(51000),var(15))
trigger13= playerID(helper(51000),var(15)),teamside != teamside
trigger13 = (playerID(helper(51000),var(15)),hitdefattr=SCA,NA,AP)
trigger13 = (!(playerID(helper(51000),var(15)),movecontact))&&(!(playerID(helper(51000),var(15)),movereversed))
trigger13 = (playerID(helper(51000),var(15)),pos X-pos X)*(ifelse(playerID(helper(51000),var(15)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(15)),vel X)*10)]
trigger13 = playerID(helper(51000),var(15)),vel X>0
trigger14 = playerIDexist(helper(51000),var(16))
trigger14= playerID(helper(51000),var(16)),teamside != teamside
trigger14 = (playerID(helper(51000),var(16)),hitdefattr=SCA,NA,AP)
trigger14 = (!(playerID(helper(51000),var(16)),movecontact))&&(!(playerID(helper(51000),var(16)),movereversed))
trigger14 = (playerID(helper(51000),var(16)),pos X-pos X)*(ifelse(playerID(helper(51000),var(16)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(16)),vel X)*10)]
trigger14 = playerID(helper(51000),var(16)),vel X>0
trigger15 = playerIDexist(helper(51000),var(17))
trigger15= playerID(helper(51000),var(17)),teamside != teamside
trigger15 = (playerID(helper(51000),var(17)),hitdefattr=SCA,NA,AP)
trigger15 = (!(playerID(helper(51000),var(17)),movecontact))&&(!(playerID(helper(51000),var(17)),movereversed))
trigger15 = (playerID(helper(51000),var(17)),pos X-pos X)*(ifelse(playerID(helper(51000),var(17)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(17)),vel X)*10)]
trigger15 = playerID(helper(51000),var(17)),vel X>0
trigger16 = playerIDexist(helper(51000),var(18))
trigger16= playerID(helper(51000),var(18)),teamside != teamside
trigger16 = (playerID(helper(51000),var(18)),hitdefattr=SCA,NA,AP)
trigger16 = (!(playerID(helper(51000),var(18)),movecontact))&&(!(playerID(helper(51000),var(18)),movereversed))
trigger16 = (playerID(helper(51000),var(18)),pos X-pos X)*(ifelse(playerID(helper(51000),var(18)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(18)),vel X)*10)]
trigger16 = playerID(helper(51000),var(18)),vel X>0
trigger17 = playerIDexist(helper(51000),var(19))
trigger17= playerID(helper(51000),var(19)),teamside != teamside
trigger17 = (playerID(helper(51000),var(19)),hitdefattr=SCA,NA,AP)
trigger17 = (!(playerID(helper(51000),var(19)),movecontact))&&(!(playerID(helper(51000),var(19)),movereversed))
trigger17 = (playerID(helper(51000),var(19)),pos X-pos X)*(ifelse(playerID(helper(51000),var(19)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(19)),vel X)*10)]
trigger17 = playerID(helper(51000),var(19)),vel X>0
trigger18 = playerIDexist(helper(51000),var(20))
trigger18= playerID(helper(51000),var(20)),teamside != teamside
trigger18 = (playerID(helper(51000),var(20)),hitdefattr=SCA,NA,AP)
trigger18 = (!(playerID(helper(51000),var(20)),movecontact))&&(!(playerID(helper(51000),var(20)),movereversed))
trigger18 = (playerID(helper(51000),var(20)),pos X-pos X)*(ifelse(playerID(helper(51000),var(20)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(20)),vel X)*10)]
trigger18 = playerID(helper(51000),var(20)),vel X>0
trigger19 = playerIDexist(helper(51000),var(21))
trigger19= playerID(helper(51000),var(21)),teamside != teamside
trigger19 = (playerID(helper(51000),var(21)),hitdefattr=SCA,NA,AP)
trigger19 = (!(playerID(helper(51000),var(21)),movecontact))&&(!(playerID(helper(51000),var(21)),movereversed))
trigger19 = (playerID(helper(51000),var(21)),pos X-pos X)*(ifelse(playerID(helper(51000),var(21)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(21)),vel X)*10)]
trigger19 = playerID(helper(51000),var(21)),vel X>0
trigger20 = playerIDexist(helper(51000),var(22))
trigger20= playerID(helper(51000),var(22)),teamside != teamside
trigger20 = (playerID(helper(51000),var(22)),hitdefattr=SCA,NA,AP)
trigger20 = (!(playerID(helper(51000),var(22)),movecontact))&&(!(playerID(helper(51000),var(22)),movereversed))
trigger20 = (playerID(helper(51000),var(22)),pos X-pos X)*(ifelse(playerID(helper(51000),var(22)),pos X>pos X,1,-1))=[0,(50+(playerID(helper(51000),var(22)),vel X)*10)]
trigger20 = playerID(helper(51000),var(22)),vel X>0
var(32) = 1

[State -1, アドバンシングガード]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
;triggerall = enemynear(var(48)),facing != facing
triggerall = prevstateno != [710,711]
triggerall = !var(9)
triggerall = var(36) != -11101
triggerall = ((stateno = 150 || stateno = 152) && var(59)>=7 && life < 650) || ((stateno = [150,153]) && (var(59)<7 || life >= 650))
triggerall = time > 0
trigger1 = !(p2movetype = H)
trigger1 = !(p2movetype = A && p2movetype = A && enemynear(var(48)),vel y <-5 && p2stateno>=1000)
trigger1 = random < 15+(life<700)*5+(life<500)*8+(life<p2life)*5
trigger2= (numpartner && !fvar(36));tag
trigger2 = (numtarget&&!fvar(36))
trigger2 = facing=partner,facing
trigger2 = random < 200
value = 710

;==============================================================================
;AI対空(Soff)+切り替えし
;==============================================================================
[State -1, SLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)

triggerall = !fvar(17) || var(59)=7;a
triggerall = !var(36)
triggerall = P2StateType = A
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = !(inguarddist && enemynear(var(48)),numproj)

trigger1 = var(59)!=7
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1) || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = enemynear(var(48)),vel y >= -2-2*(var(59) = 7)
trigger1 = P2Bodydist X - EnemyNear(var(48)),vel X * 3  = [-5-(enemynear(var(48)),pos y >-65&&facing!=enemynear(var(48)),facing)*45,40+15*(stateno=100)]
Trigger1 = Enemynear(var(48)),Pos Y+Enemynear(var(48)),Vel Y * 3 + fvar(30) * 3 * (3 + 1) / 2 = [-76,0]
trigger1 = random < 60+(var(59)=7)*400-(fvar(17)||fvar(18)||fvar(19))*60
trigger2 = var(59)=7
trigger2 = stateno = 100 && p2bodydist x < 60
value = 200

;超反応デム;隠しLvのみ
[State -1, 11100]
type = ChangeState
triggerall = var(59) = 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(23)
triggerall = power >= 1000

triggerall = !var(36)
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

triggerall = P2MoveType = A
triggerall = P2stateType != A
triggerall = Random < 0+(p2life-life > 500)*40+(life<300)*50+(power > 3000)*30
Triggerall = (enemynear(var(48)),animtime<-15)
triggerall = p2bodydist x < 80-(var(0)>0)*15

trigger1 = ctrl || stateno = 21 || (stateno = 52 && time >= 1) || ((stateno = 100 || stateno = 105) && time > 1) || (stateno = [120,131]) || stateno = 40
trigger2 = stateno = 200
trigger3 = stateno = 210
trigger4 = stateno = 215
trigger5 = stateno = 220
trigger6 = stateno = 400
trigger7 = stateno = 410
trigger8 = stateno = 412
trigger9 = stateno = 415
trigger10 = stateno = 420
trigger11 = stateno = 422
trigger12 = stateno = 10200
trigger13 = stateno = 10202
trigger14 = stateno = 10210
trigger15 = stateno = 10220 && animelemtime(5) < 1
trigger16 = stateno = 10221
trigger17 = stateno = 10300
trigger18 = stateno = 10310
trigger19 = stateno = 10320 && animelemtime(5) < 1
trigger20 = stateno = 10400
trigger21 = stateno = 10410
trigger22 = stateno = 10500
trigger23 = stateno = 10510
trigger24 = stateno = 195 && time >= 20
trigger25 = stateno = 5201
value = 3500

;==============================================================================
;AI対空(Son)+切り替えし
;==============================================================================
[State -1, Stand SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(36)
triggerall = P2StateType = A
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = !(inguarddist && enemynear(var(48)),numproj)

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger1 = enemynear(var(48)),vel y >= -2 || (var(59) = 7)
trigger1 = P2Bodydist X - EnemyNear(var(48)),vel X * 7  = [-5-(enemynear(var(48)),pos y >-65&&facing!=enemynear(var(48)),facing)*45,44+15*(stateno=100)]
Trigger1 = Enemynear(var(48)),Pos Y+Enemynear(var(48)),Vel Y * 3 + fvar(30) * 3 * (3 + 1) / 2 = [-110,-80]
trigger1 = random < 70+(var(59)=7)*400-(fvar(17)||fvar(18)||fvar(19))*60
value = 10200

[State -1, Stand SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(36)
triggerall = P2StateType = A
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = !(inguarddist && enemynear(var(48)),numproj)

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger1 = enemynear(var(48)),vel y >= -2-2*(var(59) = 7)
trigger1 = P2Bodydist X - EnemyNear(var(48)),vel X * 7  = [-5-(enemynear(var(48)),pos y >-65&&facing!=enemynear(var(48)),facing)*45,50]
Trigger1 = Enemynear(var(48)),Pos Y+Enemynear(var(48)),Vel Y * 7 + fvar(30) * 7 * (7 + 1) / 2 = [-125,-100]
trigger1 = random < 70+(var(59)=7)*400
value = 10202

[State -1, Stand SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(18);b
triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2BodyDist Y > -60
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger1 = enemynear(var(48)),vel y >= -2-2*(var(59) = 7)
trigger1 = P2Bodydist X - EnemyNear(var(48)),vel X * 7  = [-5-(enemynear(var(48)),pos y >-65&&facing!=enemynear(var(48)),facing)*45,81]
Trigger1 = Enemynear(var(48)),Pos Y+Enemynear(var(48)),Vel Y * 7 + fvar(30) * 7 * (7 + 1) / 2 = [-125,-90]
trigger1 = random < 60+(var(59)=7)*400
value = 10210

;暗転返しフィニ
[State -1, 3800]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 2000 || life < 300
triggerall = var(0)
triggerall = !var(8)

triggerall = !var(36)
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = P2statetype != A
Triggerall = numhelper(50000)
Triggerall = helper(50000),var(7) >= 42
triggerall = P2MoveType = A
Triggerall = enemynear(var(48)),animtime<=-10
triggerall = P2BodyDist X = [0,55+(enemynear(var(48)),vel x*1)]

trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || (stateno = [120,131]) || stateno = 40
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
value = 3900

;==============================================================================
;AI飛び込み(Soff)
;==============================================================================
[State -1, Soffジャンプ中]
type = ChangeState
value = 610
triggerall = var(59) = 4 || stateno = 5210
triggerall = !var(0)
triggerall = RoundState = 2
triggerall = statetype = A

triggerall = !fvar(18);b
triggerall = !var(36)
triggerall = !var(39)
triggerall = P2statetype != L || (enemynear(var(48)),stateno = 5120)&&(enemynear(var(48)),animtime >= -5)
triggerall = (P2statetype!=A)||(P2BodyDist y > -20)
;triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

trigger1 = ctrl || stateno = 910 || (stateno = [120,132])
trigger1 = P2BodyDist X = [-15,60+(vel x)*12+(stateno=5210)*30]
trigger1 = Pos Y > -45-(vel y)*10 || p2statetype = A
trigger1 = (vel y > 0 || p2statetype=A) || vel x < 0
trigger1 = (Random = [0,400+(var(9)>0)*400])

[State -1, Soffジャンプ強]
type = ChangeState
value = 620
triggerall = var(59) = 4 || stateno = 5210
triggerall = !var(0)
triggerall = !var(9)
triggerall = RoundState = 2
triggerall = statetype = A

triggerall = !fvar(19);b
triggerall = !var(36)
triggerall = !var(39)
triggerall = P2statetype != L || (p2stateno = 5120)&&(enemynear(var(48)),animtime >= -5)
triggerall = (P2statetype!=A)||(P2BodyDist y > -60)
;triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

trigger1 = ctrl || stateno = 910 || (stateno = [120,132])
trigger1 = P2BodyDist X = [-15,70+(vel x)*12+(stateno=5210)*30]
trigger1 = Pos Y > -65 || p2statetype = A
trigger1 = (vel y > 0-(var(6)&16) || p2statetype=A) || vel x < 0
trigger1 = (Random = [0,500])

;==============================================================================
;AI飛び込み(Son)
;==============================================================================
[State -1, Sonジャンプ中]
type = ChangeState
value = 10610
triggerall = var(59)
triggerall = var(0)
triggerall = RoundState = 2
triggerall = statetype = A

triggerall = !fvar(18);b
triggerall = !var(36)
triggerall = !var(39)
triggerall = P2statetype != L || (enemynear(var(48)),stateno = 5120)&&(enemynear(var(48)),animtime >= -5)
triggerall = (P2statetype!=A)||(P2BodyDist y > -10)
;triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

trigger1 = ctrl || stateno = 10910 || (stateno = [120,132])
trigger1 = P2BodyDist X = [-15,50+(vel x)*12+(stateno=5210)*30]
trigger1 = Pos Y > -85 || p2statetype = A
trigger1 = (vel y > 0 || p2statetype=A) || vel x < 0
trigger1 = (Random = [0,500])

[State -1, Sonジャンプ強]
type = ChangeState
value = 10620+(fvar(14)!=0)*5-(fvar(19)>0)*10
triggerall = var(59)
triggerall = var(0)
triggerall = RoundState = 2
triggerall = statetype = A

triggerall = !fvar(19);c
triggerall = !var(36)
triggerall = !var(39)
triggerall = P2statetype != L || (enemynear(var(48)),stateno = 5120)&&(enemynear(var(48)),animtime >= -5)
triggerall = (P2statetype!=A)||(P2BodyDist y > -10)
;triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

trigger1 = ctrl || stateno = 10910 || (stateno = [120,132])
trigger1 = P2BodyDist X = [-15,50+(vel x)*12+(stateno=5210)*30]
trigger1 = Pos Y > -95 || p2statetype = A
trigger1 = (vel y > 0 || p2statetype=A) || vel x < 0
trigger1 = (Random = [0,500])

;空D~
[State -1, Stand AHA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

;triggerall = !fvar(18);b
triggerall = !var(36)
triggerall = !var(39)
triggerall = P2StateType != L
;triggerall = P2StateType != A
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

trigger1 = (P2BodyDist y = [-25,90])
trigger1 = stateno = 110
trigger1 = p2bodydist x < 115+(enemynear(var(48)),vel x*1)
	trigger1 = Random < 600
value = 10610+(fvar(18)=1)*15

;==============================================================================
;AI立ち回り技振り(Soff)
;==============================================================================

[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = !(var(59)=7 && inguarddist)
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger1 = p2bodydist x = [-10,48]
trigger1 = 0;random < 150
;硬直差狙い
trigger2 = (var(59)>=7)
trigger2 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger2 = numhelper(50000)
trigger2 = helper(50000),var(15) = 2 && helper(50000),var(16) = p2stateno
trigger2 = enemynear(var(48)),animtime <= -4;(発生+1)
trigger2 = p2bodydist x < 50
value = 400

[State -1, CLA]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = (p2bodydist x = [-15,70+(enemynear(var(48)),vel x*1)+(p2statetype=C||var(59)!=7||enemynear(var(48)),ctrl)*20])
trigger1 = random < 295-(Inguarddist)*20+(var(59)=7)*200+(enemynear(var(48)),animtime<-6&&p2movetype=A)*300
value = ifelse(p2statetype=C||var(59)!=7||enemynear(var(48)),ctrl,400,200)

[State -1, CLA]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !fvar(18);b
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger1 = p2bodydist x < 80+(stateno=100)*25+(enemynear(var(48)),vel x*1)
trigger1 = random < 35-(Inguarddist)*11+(stateno=100)*25+(enemynear(var(48)),animtime < -7)*40;硬直差狙い
value = 410

[State -1, CLA]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !fvar(19);c
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger1 = p2bodydist x < 75+(stateno=100)*25+(enemynear(var(48)),vel x*1)
trigger1 = random < 18-(Inguarddist)*10+(stateno=100)*15-(p2bodydist x < 40)*10
value = 420

[State -1, CLA]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !fvar(19);c
triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2BodyDist Y > -55
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger1 = p2bodydist x < 70+(enemynear(var(48)),vel x*1)
trigger1 = random < 18-(Inguarddist)*11+(p2bodydist x < 40)*8-(p2bodydist x < 15)*8-(p2statetype=C)*10
value = 220

;410 220 で距離によっては固め

[State -1, 1000]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !(fvar(17)&&fvar(18)&&fvar(19))
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = random < 500-(var(59)=7)*150+(power<1000)*150
triggerall = var(41) = 1
trigger1 = stateno = 220 && animelemtime(7) >= 0 && p2bodydist x < 50
trigger2 = stateno = 410 && p2bodydist x < 45
trigger3 = stateno = 420 && animelemtime(7) >= 0 && p2bodydist x < 50
value = 1000

;タイラップ
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !(fvar(17)||fvar(18)||fvar(19))
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A || (enemynear(var(48)),pos y > -50 && enemynear(var(48)),vel y > 5)
triggerall = P2StateType != L
;triggerall = P2stateno != 5120
;triggerall = P2stateno != 5201
triggerall = !var(32)
triggerall = !(inguarddist && enemynear(var(48)),numproj)
triggerall = !(numpartner&&!fvar(36))
;ぶっぱ
trigger1 = ctrl || (stateno = [120,131]) || (stateno = 52 && time >= 1) || stateno = 21 || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = !inguarddist && (p2stateno != [40,49])
trigger1 = !(enemynear(var(48)),vel x > 10)
trigger1 = (p2bodydist x = [125,165])
trigger1 = random < 30+(p2bodydist x >130)*10+(!enemynear(var(48)),ctrl)*20
value = 1200

[State -1, 2100]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = !var(0)
triggerall = !var(9)
triggerall = !var(8)

triggerall = (fvar(17)+fvar(18)+fvar(19)<=1)
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != L
;triggerall = P2stateno != 5120
;triggerall = P2stateno != 5201

triggerall = !var(32)
triggerall = !(inguarddist && enemynear(var(48)),numproj)
;ぶっぱ
trigger1 = var(59) = 4
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1) || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0) || stateno = 40
trigger1 = p2bodydist x > 145
trigger1 = !(p2life < 5)
trigger1 = !inguarddist
trigger1 = random < power/250+(p2life<300)*15
;あたればいいな
trigger2 = var(59) = 4 || (var(59) = 7 && power > 3000)
trigger2 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1) || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0) || stateno = 40
trigger2 = p2bodydist x > 130
trigger2 = p2movetype = A && enemynear(var(48)),animtime < -40
trigger2 = enemynear(var(48)),time > 14 || var(59)=7
trigger2 = random < power/300+(p2life<45)*15
;タッグ時ぶっぱ
trigger3= (numpartner && !fvar(36));tag
trigger3 = var(59) = 4 || (var(59) = 7 && power > 3000 && movetype = H)
trigger3 = partner,alive
trigger3 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1) || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0) || stateno = 40
;trigger3 = p2bodydist x > 60
trigger3 = random < power/100+(p2life<45)*15+(partner,numtarget)*18+(partner,movetype=H&&(partner,stateno=[5000,5099])&&partner,statetype!=L)*18
value = 3000

;==============================================================================
;AIセットプレイ的な
;==============================================================================
;----
;offしながら
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || stateno = 41 || (stateno = 52 && time >= 1) || stateno = 10900
;奇襲
trigger1 = P2StateType != A
trigger1 = (var(36)=[-101,-100])
;逃げ
trigger2 = (var(36)=-10500 || var(36)=-10040)
;その他
trigger3 = (var(36)=-1250 || var(36)=-140 || var(36)=-41100)
value = 900

;onしながら
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = ctrl || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 21 || (stateno = 52 && time >= 1) || stateno = 41
;フィニ
trigger1 = var(36)=-3900
value = 10900

;DしてD立中
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = (var(36) = [-10002,-10001]) || var(36) = -10030
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time > 0)
value = 900

;--------------------------------------------------------------------
;off結界
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !(fvar(17)&&fvar(18)&&fvar(19))

trigger1 = var(36) = -41100
trigger1 = ctrl || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 21 || stateno = 41 || (stateno = 52 && time >= 1) || stateno = 900
value = 1100

;超反応フィニッシュ;隠しLvのみ
[State -1, 11100]
type = ChangeState
triggerall = var(59) >= 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = power >= 1000

triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

triggerall = var(36) = -3900
trigger1 = ctrl || stateno = 21 || (stateno = 52 && time >= 1) || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 41
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
trigger16 = stateno = 10900
value = 3900

;硬直狙いとかダッシュ
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = var(36)

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1) || stateno = 900
;trigger1 = enemynear(var(48)),animtime <= -15;(発生+1)
trigger1 = var(36) = [-101,-100]
value = 100

;逃げ
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1) || stateno = 900
trigger1 = var(36) = -10500 || var(36) = -10105
value = 105

[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !fvar(18);b
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
trigger1 = var(36) = -100
trigger1 = stateno = 100 && time > 1
trigger1 = numhelper(50000)
trigger1 = p2bodydist x < 82
;回り込み後
trigger2 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1)
trigger2 = var(36) = -301
value = ifelse(p2statetype=S&&var(36)=-301,200,400)

[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !fvar(18);b
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
trigger1 = var(36) = -101
trigger1 = stateno = 100 && time > 1
trigger1 = numhelper(50000)
trigger1 = p2bodydist x < 70+(p2statetype=C)*15
value = ifelse(p2statetype=S,200,410)
;value = 410

;デムへ
[State -1, 3500]
type = null;ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(8)
triggerall = !var(9)
triggerall = power >= 1000
triggerall = !var(23)

triggerall = !var(33)
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = -101
trigger1 = (stateno = 410) && movehit && var(41) = 1
trigger1 = p2bodydist x < 42+(facing*(helper(60000+(facing=-1)*10),pos x-pos x)<125)*14
value = 3500

;----------------------------------------------------
;上りback結界
;後ろジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)

trigger1 = var(36) = -140
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time >= 1) || stateno = 900
value = 42

[State -1, Soffジャンプ中]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype = A

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -140
trigger1 = ctrl || stateno = 910 || (stateno = [120,132])
value = 610

;----------------------------------------------------
;onしながらいろいろ
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)

triggerall = ctrl || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 21 || stateno = 41 || (stateno = 52 && time >= 1)
;emesupu
trigger1 = var(36)=-11000 || var(36)=-10110
trigger2 = var(36)=[-10420,-10200]
value = 10900

;ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

trigger1 = var(36) = -10110
triggerall = ctrl || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 21 || stateno = 41 || (stateno = 52 && time >= 1) || stateno = 10900
value = 43

;空ダ
[State -1, Air Dash]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = pos y <= -15

trigger1 = var(36) = -10110
trigger1 = ((ctrl && stateno != 111 && stateno != 116) || (stateno = 111 || stateno = 116) && time >= 5) || (stateno = [120,132])
value = 110

;エメスプ
[State -1, 11000(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

;triggerall = P2StateType != A
;triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36)=-11000
trigger1 = stateno = 10900 || ctrl || stateno = 21 || (stateno = 52 && time >= 1) || (stateno = [120,131])
value = ifelse((numpartner && !fvar(36))&&(power>2000-(partner,life<500)*1000&&random<500+(partner,movetype=H)*200),3600,11000)

;通常攻撃
[State -1, 11000(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

;triggerall = P2StateType != A
triggerall = P2StateType != L
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36)=[-10420,-10200]
trigger1 = stateno = 10900 || ctrl || stateno = 21
value = var(36)*-1

;フォロー結界
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !numhelper(1155) || !numhelper(1156) || !numhelper(1157)
triggerall=!(numpartner && !fvar(36))
trigger1 = (var(36) = -10410)
trigger1 = stateno = 10410 && ((animelemtime(7) > 0) || (moveguarded && var(41) = 1) || (movehit && var(41) = 1 && !p2life < 50 && life < 700))
trigger2 = (var(36) = -10210)
trigger2 = stateno = 10210 && ((animelemtime(8) > 0) || (movecontact && var(41) = 1))
trigger3 = !var(36)
trigger3 = stateno = 10202 && ((animelemtime(6) > 0) || (movecontact && var(41) = 1))
value = 11100

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall=(numpartner && !fvar(36));タッグ専用
trigger1 = (var(36) = -10410)
trigger1 = stateno = 10410 && (var(41) = 1 || animelemtime(7) > 0)
trigger1 = random < 500
value = ifelse(power>3000,3600,11000)

;10520
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L

trigger1 = (var(36) = -10410)
trigger1 = (stateno = 10410 && var(41) = 1)
value = 10520

;----------------------------------------------------
;onしながらタイラップ
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)

trigger1 = ctrl || (stateno = 52 && time >= 1) || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 21 || stateno = 41
;emesupu
trigger1 = var(36)=-10025
value = 10900

[State -1, 11000(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36)=-10025
trigger1 = stateno = 10900 || ctrl || (stateno = [120,131])
value = 11200

;----------------------------------------------------
;結界後待つ
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !(fvar(17)&&fvar(18)&&fvar(19))

trigger1 = var(36) = -1010
trigger1 = stateno = 410
trigger1 = movecontact
;逃げ
trigger2 = var(36) = -10500
trigger2 = (stateno = 105 && time > 15) || ctrl
value = 1100

;後ろ余裕ないとき
;前ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType = L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (-facing*(helper(60000+(facing=1)*10),pos x-pos x)<60)
trigger1 = var(36) = -11100
trigger1 = ctrl || stateno = 1 || stateno = 25
trigger1 = (P2bodydist X = [-15,10])
value = 42

;結界後待つ2
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
;triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = !(-facing*(helper(60000+(facing=1)*10),pos x-pos x)<60)
trigger1 = ctrl || stateno = 21 || stateno = 41 || stateno = 1 || (stateno = 52 && time >= 1)
trigger1 = var(36) = -11100
value = 25

;----------------------------------------------------
;タイラップ後ジャンプ攻撃
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1250
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || stateno = 1
value = 42

;==============================================================================
;AI立ち回り技振り(Son)
;==============================================================================

[State -1, Stand SLA]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = !(var(59)=7 && inguarddist)
trigger1 = ctrl ||  (stateno = [120,131]) || stateno = 21
trigger1 = p2bodydist x < 50+(enemynear(var(48)),vel x*1)
trigger1 = !(p2statetype=C&&var(59)=7)
trigger1 = random < 200-(Inguarddist)*15*(enemynear(var(48)),animtime<-7)*80-(p2statetype=C)*100
value = 10200

[State -1, Stand SLA]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2BodyDist Y > -45
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = !(var(59)=7 && inguarddist)
trigger1 = ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = p2bodydist x < 50+(enemynear(var(48)),vel x*1)
trigger1 = !(p2statetype=C&&var(59)=7)
trigger1 = random < 265-(Inguarddist)*20+(var(59)=7)*200+(enemynear(var(48)),animtime<-6&&p2movetype=A)*300
value = 10200

[State -1, Stand SMA2]
type = changeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = !(var(59)=7 && inguarddist)
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21
trigger1 = p2bodydist x < 50+(enemynear(var(48)),vel x*1)
trigger1 = random < 140-(Inguarddist)*15*(enemynear(var(48)),animtime<-7&&p2movetype=A)*300
value = 10400

[State -1, Stand SMA2]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(18);b
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = !(inguarddist && enemynear(var(48)),numproj)
triggerall = !(var(59) = 7 && (p2stateno = [40,42]))
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = (p2bodydist x = [70,135+(enemynear(var(48)),vel x*1)])
trigger1 = random < 44-(Inguarddist)*10+(enemynear(var(48)),vel x*1)*10-(p2bodydist x < 45+(enemynear(var(48)),vel x*1))*20+(stateno=100)*80+(!fvar(36))*50
value = 10410

[State -1, Stand SMA2]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(19);c
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = !(inguarddist && enemynear(var(48)),numproj)
triggerall = !(var(59)=7 && (p2stateno = [40,43]))
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = (p2bodydist x = [110,175+(enemynear(var(48)),vel x*1)])
trigger1 = random < 17+(var(59)!=7)*8-(Inguarddist)*(15+(var(59)=7)*10)+(p2bodydist x < 60+(enemynear(var(48)),vel x*1))*20+((stateno=100&&p2bodydist x > 100)||p2bodydist x > 155)*20
value = 10420

[State -1, Stand SMA2]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(18);b
triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2BodyDist Y > -60
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = ctrl || (stateno = [120,131]) || stateno = 21 || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = (p2bodydist x = [70,165+(enemynear(var(48)),vel x*1)])
trigger1 = random < 36-(var(59)=7)*8+(!enemynear(var(48)),ctrl)*25-(Inguarddist)*10-(p2bodydist x < 50)*20-(p2statetype=C)*10+(stateno=100&&p2bodydist x > 80)*80+(fvar(35)*10)+(p2bodydist x > 140)*10
value = 10211

[State -1, Stand SMA]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(18);b
triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2BodyDist Y > -60
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = ctrl || (stateno = [120,131]) || stateno = 21
;trigger1 = !(var(59)=7 && inguarddist)
trigger1 = p2bodydist x < 35+(enemynear(var(48)),vel x*1)
trigger1 = random < 150-(Inguarddist)*20
trigger2 = var(59) = 7
trigger2 = (p2stateno = [40,42])
trigger2 = p2bodydist x < 105
trigger2 = random < 500
value = 10210

[State -1, 11000]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !(fvar(17)&&fvar(18)&&fvar(19))
triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2BodyDist Y > -60
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = !var(32)
triggerall = !(p2bodydist x < 120 && enemynear(var(48)),vel x > 6)
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = p2bodydist x >= 120
trigger1 = random < 15+(p2bodydist x >130)*8+(p2bodydist x >170)*15-(p2bodydist y > -60)*10-(Inguarddist)*25-(inguarddist && enemynear(var(48)),numproj)*10-(enemynear(var(48)),vel x > 5&&p2statetype=A)*10+(!fvar(36))*50-(fvar(35)*15)
value = 11000

[State -1, 11000/Air]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = !(fvar(17)&&fvar(18)&&fvar(19))
triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2BodyDist Y < 60
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = !var(32)
trigger1 = ctrl || stateno = 10910 || (stateno = [120,131]) || stateno = 21 || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0) || (stateno = [110,116])
trigger1 = p2bodydist x >= 100
trigger1 = !(numpartner&&partner,alive&&(partner,movetype=H||partner,inguarddist))
trigger1 = random < 44+(p2bodydist x >130)*10+(p2bodydist x >150)*20+(p2bodydist x>200)*50-(p2bodydist y>-60)*10-(Inguarddist)*25-(inguarddist&&enemynear(var(48)),numproj)*10+((stateno=[115,116])&&time>5)*150+(!fvar(36))*50-(fvar(35)*15)
value = 11010

;結界
[State -1, 1000]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
;triggerall = P2StateType != L
;triggerall = P2stateno != 5120
;triggerall = P2stateno != 5201

triggerall = (numhelper(1155)+numhelper(1156)+numhelper(1157)<1)
triggerall = !(fvar(17)&&fvar(18)&&fvar(19))
triggerall = !var(32)
triggerall = !(inguarddist && enemynear(var(48)),numproj)

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = p2bodydist x >= 90
trigger1 = !(numpartner&&partner,alive&&(partner,movetype=H||partner,inguarddist))
trigger1 = random < 50+(p2bodydist x >130)*16-(p2bodydist y > 100)*10-(Inguarddist)*25+(P2StateType = L)*150+!(fvar(17)||fvar(18)||fvar(19))*50-(!fvar(36))*25-(fvar(35)*15)
value = 11100

;結界
[State -1, 1000]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
;triggerall = P2StateType != L
;triggerall = P2stateno != 5120
;triggerall = P2stateno != 5201

triggerall = (numhelper(1155)+numhelper(1156)+numhelper(1157)<1)
triggerall = !(fvar(17)&&fvar(18)&&fvar(19))
triggerall = !var(32)
triggerall = !(inguarddist && enemynear(var(48)),numproj)

trigger1 = pos y > -60
trigger1 = ctrl || (stateno = [110,116]) || (stateno = [120,132])
trigger1 = p2bodydist x >= 75
trigger1 = random < 80+(p2bodydist x >120)*30-(p2bodydist y > 100)*25-(Inguarddist)*20+(P2StateType = L)*150+!(fvar(17)||fvar(18)||fvar(19))*50-(!fvar(36))*25-(fvar(35)*15)+((stateno=[115,116])&&time>5)*150
value = 11110

;空ダ
[State -1, Air Dash]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = pos y <= -5

triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = P2bodydist y >= -20

triggerall = !var(32)
triggerall = (pos y = [-35,-18])
trigger1 = ((ctrl && stateno != 111 && stateno != 116) || (stateno = 111 || stateno = 116) && time >= 5) || (stateno = [120,132])
trigger1 = p2bodydist x = [55,150]
trigger1 = random < 150+(p2bodydist x > 100)*10+(!enemynear(var(48)),ctrl)*90-(p2statetype=A)*60
value = 110

;空bダ
[State -1, Air Dash]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = pos y <= -5

triggerall = !var(39)
triggerall = !var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = !(backedgebodydist < 15)

trigger1 = stateno != 5210
trigger1 = !(-facing*(helper(60000+(facing=1)*10),pos x-pos x)<100)
trigger1 = ((ctrl && stateno != 111 && stateno != 116) || (stateno = 11110 && anim = 10044) || (stateno = 111 || stateno = 116) && time >= 5) || (stateno = [120,132])
trigger1 = p2bodydist x < 150
trigger1 = random < 180+(p2bodydist x < 80)*50+(p2statetype=A)*60
value = 115

[State -1, 3600(ground)]
type = ChangeState
triggerall = var(59) = 4 || (var(59) = 7 && power > 3000 && life < 500)
triggerall = roundstate = 2
triggerall = statetype != L
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)

triggerall = (fvar(17)+fvar(18)+fvar(19)<=1)
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != L
;triggerall = P2stateno != 5120
;triggerall = P2stateno != 5201

triggerall = p2bodydist x > 60
;タッグ時ぶっぱ
trigger1 = numpartner
trigger1 = partner,alive
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0) || stateno = 40
trigger1 = random < power/100+(p2life<45)*15+(partner,numtarget)*18+(partner,movetype=H&&(partner,stateno=[5000,5099])&&partner,statetype!=L)*18

trigger2 = p2movetype != H && !enemynear(var(48)),ctrl
trigger2 = p2movetype = A && (enemynear(var(48)),animtime < -14+(p2bodydist x/34) && p2statetype != A)
trigger2 = var(59)=7 && enemynear(var(48)),time = 2
trigger2 = random < 80+(power/50)+(life<300)*80+(p2life<120)*80
value = 3600+(statetype=A)*10

;お仕置き
[State -1, 3800]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = !var(36)
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = P2statetype != A
triggerall = P2MoveType = A && (enemynear(var(48)),animtime<-3-ifelse(p2bodydist x>=0,p2bodydist x/2,0))
triggerall = P2BodyDist X = [0,35+(enemynear(var(48)),vel x*1)]

trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || (stateno = [120,131]) || stateno = 40
trigger1 = random < 10+(power/100)+(var(59)=7&&p2life<180)*80
value = 3800

;==============================================================================
;AI結界ヒット時
;==============================================================================
;相手地上

;DしてD立中
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = (var(36) = [-10002,-10001]) || var(36) = -10030
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time > 0)
value = 900

;DしてD立中 延長デム
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = ctrl || (stateno = [120,131]) || stateno = 21 || stateno = 900 || (stateno = 52 && time > 0)
trigger1 = (var(36) = [-10002,-10001])
trigger2 = var(36) = -10040
trigger2 = p2bodydist x > 12
value = 100

;DしてD立中
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = -10001
trigger1 = (stateno = [100,105]) && animelemtime(2) >= 0
trigger1 = p2bodydist x < 52
value = ifelse(var(12) && p2statetype = C && !var(9),410,210)

;延長デムへ
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
;triggerall = P2stateno != 5120
;triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (var(36) = -10040)
trigger1 = ctrl || (stateno = 100 && time > 3)
trigger1 = !numhelper(1155) || !numhelper(1156)
trigger1 = p2bodydist x <= 12
value = 1100

;デムへ
[State -1, 3500]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(8)
triggerall = !var(9)
triggerall = power >= 1000
triggerall = !var(23)

triggerall = !var(33)
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = -10001
trigger1 = (stateno = 210||stateno = 410) && movehit && var(41) = 1
trigger1 = p2bodydist x < 100
trigger2 = stateno = 1
trigger2 = var(36) = -10040
trigger2 = p2bodydist x < 60
value = 3500

;Dしても一定距離ある
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

;trigger1 = var(36) = -10001
;trigger1 = (stateno = [100,105]) && animelemtime(2) >= 0
;trigger1 = (p2bodydist x = (55,150]) && enemynear(var(48)),gethitvar(hitshaketime) 
trigger1 = var(36) = -10002
trigger1 = (stateno = [100,105]) && animelemtime(2) >= 0
trigger1 = p2bodydist x < 56
value = 10900

[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = -10001
trigger1 = stateno = 10900 && time
trigger1 = p2bodydist x <= 150
value = 10410

;相手空中?
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = (var(36) = [-10015,-10005])
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time > 0)
value = 10900

;ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -10010
trigger1 = ctrl || stateno = 21 || (stateno = 52 && time > 0)
trigger2 = stateno = 10900 && time
value = 43

;エメスプ
[State -1, 3600(air)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType = A
triggerall = P2movetype = H
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

;triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = stateno = 50 && prevstateno = 43
trigger1 = (var(36) = -10010)
trigger1 = (p2bodydist y = [-20,23])
value = ifelse(power>=2000||p2life<200,3610,11010)

[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = -10015
trigger1 = stateno = 10900 && time
value = 10210

;タイラップ(とどめ)
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = var(36) = -10030
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time > 0)
trigger2 = stateno = 10900 && time
value = 1200

;ハイフィニ(とどめ)
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = var(36) = -10002
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time > 0)
trigger2 = stateno = 10900 && time
value = 3900

;Sエメスプ(とどめ)
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = var(36) = -10005
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time > 0)
trigger1 = var(36) := 0
trigger2 = stateno = 10900 && time
trigger2 = var(36) := 0
value = ifelse(power>=1000||p2life<200,3600,11000)

;==============================================================================
;AIコンボ(Soff始動(short))
;==============================================================================
;屈弱から基本
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
;triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = prevstateno = 100 || var(59) != 7
trigger1 = var(36) < 1000
trigger1 = (StateNo = 400 && (prevstateno != [100,105]) && animelemtime(4) >= 2) || (StateNo = 400 && (prevstateno = [100,105]) && !animtime)
trigger1 = p2bodydist x = [-10,35]
trigger2 = var(36) = 1
trigger2 = stateno = 52 && time >= 1
trigger2 = p2bodydist x = [-10,38]
value = 400

;D弱から(対AI)
[State -1, CLA]
type = null;ChangeState
triggerall = var(59) >= 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = 30
trigger1 = (StateNo = 200 && (prevstateno = [100,105]) && animelemtime(5) >= 2)
trigger1 = p2bodydist x = [-10,40]
value = 200

[State -1, CLA]
type = ChangeState
triggerall = var(59) >= 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

;triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = stateno != 910
triggerall = var(36) = 30
trigger1 = prevstateno != 100
trigger1 = (StateNo = 200 && animelemtime(4) >= 1)
trigger2 = prevstateno = 100
trigger2 = (StateNo = 200 && animelemtime(5) >= 2)
value = 10900

[State -1, CLA]
type = ChangeState
triggerall = var(59) = 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = 30
trigger1 = stateno = 10900
trigger1 = p2bodydist x = [-10,60]
value = 10200

;
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = 10
trigger1 = !(power < 1000 && var(59) != 7)
trigger1 = StateNo = 400 && (prevstateno != [100,105]) && animelemtime(4) >= 1
trigger1 = p2bodydist x >= 38 || var(59) = 7
value = 100

[State -1, SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !fvar(18);b
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = 10
trigger1 = ((stateno = 100 || stateno = 105) && time > 3)
trigger1 = p2bodydist x < 100
value = ifelse(var(12) && p2statetype = C && !var(9),410,210)

;デムへ
[State -1, 3500]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(8)
triggerall = !var(9)
triggerall = power >= 1000
triggerall = !var(23)

triggerall = !var(33)
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = 10
trigger1 = (stateno = 210||stateno = 410) && movehit && var(41) = 1
;trigger1 = p2bodydist x < 42+(facing*(helper(60000+(facing=-1)*10),pos x-pos x)<120)*13
value = 3500

;
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = stateno != 910
trigger1 = var(36) = 35
trigger1 = (StateNo = 200 && (prevstateno != [100,105]) && animelemtime(4) >= 1)
value = 10900

[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(18);a
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = 35
trigger1 = stateno = 10900
trigger1 = p2bodydist x = [-10,80]
value = 10210

;==============================================================================
;AIコンボ(Son始動(short))
;==============================================================================
;飛びから基本
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

;triggerall = !fvar(17);a
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = var(36) = 120
trigger1 = stateno = 52 && time >= 1
value = ifelse(p2bodydist x <= 21,10220,ifelse(p2bodydist x < 35,10400,10410))

;屈中ヒットせず
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = !var(36) || var(36) = 120
triggerall = !var(39)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (fvar(17)+fvar(18)+fvar(19)<=1)
trigger1 = (stateno = 10410||stateno=10510) && (animelemtime(8) > 2 || (var(41) = 1 && (moveguarded||(prevstateno=[100,105]))))
trigger2 = (stateno = 10210||stateno=10310) && (animelemtime(10) > 2 || (var(41) = 1 && (moveguarded||(prevstateno=[100,105]))))
value = 11100

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl

triggerall = !fvar(17)
triggerall = !var(36)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (stateno = 10400||stateno = 10500) && (var(41) = 1)
trigger1 = (P2bodydist X = [-10,150])
value = 10500+((p2bodydist x >= 47||stateno=10500)&&!fvar(18))*10

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl

triggerall = !fvar(19)
triggerall = !var(36)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = !numpartner
trigger1 = (stateno = 10410||stateno = 10510) && (var(41) = 1)
trigger1 = (P2bodydist X = [-10,180])
trigger2= (numpartner && !fvar(36));tag
trigger2 = (stateno = 10410||stateno = 10510) && (var(41) = 1)
trigger2 = (P2bodydist X = [-10,180])
trigger2 = !(partner,numtarget && partner,movetype=A)
value = 10520

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl

triggerall = !fvar(19);c
triggerall = !var(36)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (stateno = 10211) && (var(41) = 1 && movecontact)
trigger1 = (P2bodydist X = [-10,60])
value = 10320


;var(36)=100
;D弱~
[State -1, Stand Combo SHA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno = [100,105]
triggerall = !ctrl

triggerall = !fvar(17);c
triggerall = var(36)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 100
trigger1 = stateno = 10200 && (anim = 10201 && animelemtime(4) = 0)
value = 10200

;D弱~弱＞D弱
[State -1, Stand Combo SHA]
type = ChangeState
triggerall = var(59) = 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl

triggerall = !fvar(17);c
triggerall = var(36)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 100
;triggerall = prevstateno = 10200
trigger1 = p2bodydist x > 20
trigger1 = stateno = 10200 && (anim = 10200 && animelemtime(3) = 0)
value = 100

[State -1, Stand Combo SHA]
type = ChangeState
triggerall = var(59) = 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
;triggerall = prevstateno != [100,105]
triggerall = !ctrl

triggerall = !fvar(17);c
triggerall = var(36)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 100
triggerall = prevstateno = 10200
trigger1 = p2bodydist x < 28 || (enemynear(var(48)),vel x > -1.5)
trigger1 = stateno = 100 && (animelemtime(2) >= 0)
value = 10200

;弱or中近くでヒット
[State -1, Stand Combo SHA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl

triggerall = !fvar(19);c
triggerall = (!var(36)) || var(36) = 100 && ((P2bodydist X < 14||var(40)>=10)&&(!(var(59)>=7&&life<560) || (facing*(helper(60000+(facing=-1)*10),pos x-pos x)<120)||var(40)>=10||p2life<150))
triggerall = !var(39)
triggerall = (P2StateType != A || stateno = 10200)
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = stateno = 10200 && (animelemtime(3)>=0 || movecontact)
trigger2 = stateno = 10210 && (animelemtime(10)>=1 || movecontact)
value = ifelse(p2statetype=A&&stateno=10200&&movehit,10210,10320)

;(とどめ)
[State -1, 3600(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)

triggerall = !var(36) || (var(36) = [100,110]) || (var(36) = 120)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = p2life < 200
trigger1 = ((stateno = 10220 || stateno = 10320) && animelemtime(5) < 1) && (var(41) = 1 && movehit)
trigger1 = p2bodydist x < 55
trigger1 = random < 220+(power/10)||var(59)=7
value = 3600

;デムへ
[State -1, 3500]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(8)
triggerall = !var(9)
;triggerall = power >= 1000
triggerall = !var(23)

triggerall = !var(36) || (var(36) = [100,110]) || (var(36) = 120)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = !(facing*(helper(60000+(facing=-1)*10),pos x-pos x) < 180&&p2statetype=C)
trigger1 = ((stateno = 10220 || stateno = 10320) && animelemtime(5) < 1) && (var(41) = 1 && movehit)
trigger1 = p2bodydist x < 55
trigger1 = random < 220+(power/10)||var(59)=7
value = ifelse(var(59)=4,3500&&power >= 1000,ifelse(power >= 1000&&power>2000||life < 500,3500,11200))

[State -1, 11200]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)

triggerall = !var(36) || (var(36) = [100,110]) || (var(36) = 120)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

;triggerall = power < 1000
trigger1 = ((stateno = 10220 || stateno = 10320) && animelemtime(5) < 1) && (var(41) = 1 && movehit)
;trigger1 = p2bodydist x < 55
value = 11200

;空D飛び込みから
[State -1, Stand Combo SHA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = !fvar(19);c
triggerall = var(36)
triggerall = !var(39)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 110
trigger1 = stateno = 52 && time >= 1
value = 10220

;空攻＞エメスプ
[State -1, 11000/Air]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = !(fvar(17)&&fvar(18)&&fvar(19))
triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2BodyDist Y < 50
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = var(40) = 1
triggerall = !var(32)
;triggerall = p2bodydist x >= 100
triggerall = var(41) = 1 && random < 700
triggerall = movehit || (moveguarded && pos y > -60)
trigger1 = stateno = 10600
trigger2 = stateno = 10605
trigger3 = stateno = 10610
trigger4 = stateno = 10620
trigger5 = stateno = 10625
value = 11010

;==============================================================================
;AI崩し
;==============================================================================
[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = -1000
trigger1 = StateNo = 400 && (prevstateno != [100,105]) && animelemtime(4) >= 1
trigger2 = var(36) = -1001
trigger2 = StateNo = 196 && time > 13 && prevstateno = 1000
value = 100

[State -1, SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = -1000
trigger1 = ((stateno = 100 || stateno = 105) && time > 3)
trigger1 = p2bodydist x < 100
value = ifelse(var(12) && p2statetype = C && !var(9),410,210)

[State -1, SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = var(36) = -1001
trigger1 = ((stateno = 100 || stateno = 105) && time > 3)
trigger1 = p2bodydist x < 100
trigger2 = (prevstateno = [100,105])
trigger2 = (stateno = 400 && !animtime)
trigger2 = p2bodydist x < 50
value = 400

;屈弱からの２択
;前ジャンプ＞低ドリル
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1002
trigger1 = stateno = 400 && animelemtime(4) >= 1
trigger2 = (stateno = 196 && prevstateno = 210)
value = 42

[State -1, Stand ON(Air)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(19)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1002
triggerall = stateno != 910
trigger1 = (stateno = 50 && time >= 5) || (stateno = [120,132])
value = 10910

[State -1, Stand ASA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1002
trigger1 = stateno = 10910 && time
value = 10630

;ここからスタコン

;しゃがみ弱
[State -1, SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)

triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

triggerall = var(36) = -1009
triggerall = p2bodydist x < 50
trigger1 = (prevstateno != [100,105])
trigger1 = (stateno = 400 && !animtime)
trigger2 = (stateno = 196 && prevstateno = 210)
value = 400

;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
;-1010(D中＞結界＞ドリルと屈中２択＞)

;前ジャンプ＞低ドリル
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1010
trigger1 = stateno = 10900 && time
value = 43

[State -1, Stand ASA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1010
trigger1 = stateno = 50 && time >= 5 || (stateno = [120,132])
value = 10630

;着地後-1010のまま
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -1010
trigger1 = stateno = 52 && time = 1
trigger1 = (P2bodydist X = [-10,150])
;-1011でゲージ無
trigger2 = var(36) = -1011
trigger2 = numhelper(1156)
trigger2 = stateno = 52 && time = 3
trigger2 = (power < 1000 || p2life < 100)
trigger2 = (P2bodydist X = [-10,150])
;デム寸前
trigger3 = var(36) = -1011
trigger3 = stateno = 11100 && !animtime
trigger3 = p2bodydist x < 50
trigger3 = (facing*(helper(60000+(facing=-1)*10),pos x-pos x) < 160&&p2statetype=C)

trigger4 = (var(36) = [-1011,-1010]) || (var(36) = -1002)
trigger4 = stateno = 10400 && (var(41) = 1)
trigger4 = (P2bodydist X = [-10,150])
trigger5 = var(36) = -1002
trigger5 = stateno = 52 && time = 1
trigger5 = (P2bodydist X = [-10,150])
value = 10400+(p2bodydist x >= 50||stateno=10400)*110

;屈中ヒットせず
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [-1011,-1010]) || (var(36) = -1002)
trigger1 = (stateno = 10410 || stateno = 10510) && (animelemtime(9) > 0 || (var(41) = 1 && moveguarded))
trigger1 = (!numhelper(1155) || !numhelper(1156) || !numhelper(1157))
value = 11100

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [-1011,-1010]) || (var(36) = -1002)
trigger1 =  (stateno = 10410 || stateno = 10510) && (var(41) = 1 && movehit)
trigger1 = (P2bodydist X = [-10,200])
value = 10520

;着地後-1011の場合
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1011
trigger1 = !numhelper(1156)
trigger1 = stateno = 52 && time = 3
trigger1 = (power < 1000 || p2life < 40)
trigger1 = (P2bodydist X = [-10,50])
value = 10221

;着地後-1011の場合
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1011
trigger1 = !numhelper(1156)
trigger1 = stateno = 52 && time = 3
trigger1 = power >= 1000
trigger1 = (P2bodydist X = [-10,40])
value = 11100

;デムへ
[State -1, 3500]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(8)
triggerall = !var(9)
triggerall = power >= 1000
triggerall = !var(23)

triggerall = !var(33)
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = !(facing*(helper(60000+(facing=-1)*10),pos x-pos x) < 160&&p2statetype=C)
trigger1 = var(36) = -1011
trigger1 = stateno = 11100 && !animtime
trigger1 = p2bodydist x < 50
value = 3500

;-------------------------------------------
;ドリル
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1020
triggerall = prevstateno != 10630
trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || stateno = 100 && time > 1 || stateno = 52 && time >= 1
trigger2 = stateno = 400 && animelemtime(4) >= 1
value = 42

[State -1, Stand ON(Air)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(19)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1020
triggerall = stateno != 910
trigger1 = stateno = 50 && time >= 5 || (stateno = [120,132])
value = 10910

[State -1, Stand ASA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1020
trigger1 = stateno = 10910 && time
trigger2 = stateno = 50 && time >= 5 || (stateno = [120,132])
value = 10630

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1020
trigger1 = stateno = 52 && time >= 1
trigger1 = (P2bodydist X = [-10,50])
value = 10400

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1020
trigger1 = stateno = 10400 && (var(41) = 1 || animelemtime(5)>=0)
trigger1 = (P2bodydist X = [-10,150])
trigger2 = stateno = 52 && time >= 1
trigger2 = (P2bodydist X > 50)
value = 10410

;屈中ヒットせず
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1020
trigger1 = stateno = 10410 && (animelemtime(8) > 0 || (var(41) = 1 && moveguarded))
trigger1 = (!numhelper(1155) || !numhelper(1156) || !numhelper(1157))
value = 11100

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1020
trigger1 = stateno = 10410 && (var(41) = 1 && movehit)
trigger1 = (P2bodydist X = [-10,200])
value = 10520

;-------------------------------------------

;;;
;空D後
[State -1, 11100/Air]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = !(fvar(17)&&fvar(18)&&fvar(19))
trigger1 = var(36) = -1100 || var(36) = -1200
trigger1 = (stateno = [10610,10625])
value = 11110

;空ダ
[State -1, Air Dash]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = pos y <= -5

triggerall = !var(39)
triggerall = var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = var(36) = -1200
trigger1 = stateno = 11110 && anim = 10044
value = 115

;空ダ
[State -1, Air Dash]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = pos y <= -5

triggerall = !var(39)
triggerall = var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = P2bodydist y >= -70

trigger1 = var(36) = -1101
trigger1 = stateno = 11110 && anim = 10044
value = 110

[State -1, Stand AHA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

;triggerall = !fvar(18);b
triggerall = var(36)
triggerall = !var(39)
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

trigger1 = var(36) = -1101
trigger1 = stateno = 110
trigger1 = p2bodydist x < 50
value = 10610

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -1110
trigger1 = (p2stateno = [150,159])
trigger1 = stateno = 52 && time >= 1
trigger1 = (P2bodydist X = [-10,45])
value = 3800

;==============================================================================
;AI起き攻め
;==============================================================================
;var(36)=-1 結界おいてドリルor屈中

[State -1, Stand ON]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(19)

triggerall = P2StateType != A
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [-19,-1])
triggerall = stateno != 910
trigger1 = ctrl || (stateno = 52 && time >= 1)
value = 10900

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType = L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (var(36) = [-19,-1])
trigger1 = (stateno = 10900 && time >= 1) || ctrl
trigger1 = !numhelper(1155)
value = 11100

;前ジャンプ＞低ドリル
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType = L
triggerall = P2stateno = 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -1
trigger1 = ctrl
Trigger1 = enemynear(var(48)),statetype=L&&enemynear(var(48)),stateno>=5120&&enemynear(var(48)),Animtime=-10
trigger1 = (P2bodydist X = [-10,60])
value = 43

;結界飛び越え時前ジャンプ
;前ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType = L
triggerall = P2stateno = 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -11
trigger1 = ctrl
trigger1 = (P2bodydist X = [-10,15])
value = 42

[State -1, Stand ASA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

;triggerall = P2StateType != L
;triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -1
trigger1 = stateno = 50 && time >= 5 || (stateno = [120,132])
value = 10630

;着地後-1010のまま
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -1
trigger1 = stateno = 52 && time = 1
trigger1 = (P2bodydist X = [-10,150])
;ゲージ無
trigger2 = var(36) = -2
;trigger2 = numhelper(1156)
trigger2 = ctrl || (stateno = 52 && time = 3) || (stateno = 23) || (stateno = 196)
trigger2 = power < 1000
trigger2 = (P2bodydist X = [-10,150])
trigger3 = var(36) = -2 || var(36) = -3
trigger3 = stateno = 11100 && !animtime
trigger3 = p2bodydist x < 50
trigger3 = (facing*(helper(60000+(facing=-1)*10),pos x-pos x) < 160)
trigger4 = (var(36) = [-11,-1]) && !(var(36) = -10) && !(var(36) = -3)
trigger4 = stateno = 10400 && (var(41) = 1)
trigger4 = (P2bodydist X = [-10,150])
value = 10400+(p2bodydist x >= 50||stateno=10400)*10+(stateno=10400)*100

;屈中ヒットせず
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [-5,-1]) || (var(36) = -1002)
trigger1 = (stateno = 10410 || stateno = 10510) && (animelemtime(9) > 0 || (var(41) = 1 && moveguarded))
trigger1 = (!numhelper(1155) || !numhelper(1156) || !numhelper(1157))
value = 11100

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [-5,-1]) || (var(36) = -1002)
trigger1 =  (stateno = 10410 || stateno = 10510) && (var(41) = 1 && movehit)
trigger1 = (P2bodydist X = [-10,200])
value = 10520

;めくり結界ヒット(とどめ)
[State -1, 3600(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numhelper(1155)
trigger1 = helper(1155),stateno = 1157
trigger1 = var(36) = -11
trigger1 = stateno = 52 && time >= 1
trigger1 = p2life < 270
value = 3600

;めくり結界ヒット(近づいて攻撃)
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numhelper(1155)
trigger1 = helper(1155),stateno = 1157
trigger1 = var(36) = -11
trigger1 = stateno = 52 && time >= 1
trigger1 = P2bodydist X >= 5
value = 23

;着地後-2の場合
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -2
triggerall = !numhelper(1156)
trigger1 = (stateno = 52 && time = 3) || (stateno=10400||(ctrl&&prevstateno=10400))
trigger1 = power >= 1000
trigger1 = (P2bodydist X = [-10,40])
trigger2 = stateno = 23
trigger2 = power >= 1000
trigger2 = (P2bodydist X = [-10,40])
value = 11100

;デムへ
[State -1, 3500]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(8)
triggerall = !var(9)
triggerall = power >= 1000
triggerall = !var(23)

triggerall = !var(33)
triggerall = !var(39)
triggerall = var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201

trigger1 = !(facing*(helper(60000+(facing=-1)*10),pos x-pos x) < 160)
trigger1 = var(36) = -2
trigger1 = stateno = 11100 && !animtime
trigger1 = p2bodydist x < 50
value = 3500

;-10√ 屈弱

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
;triggerall = P2StateType != L
;triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -10
trigger1 = ctrl
Trigger1 = enemynear(var(48)),statetype=L&&enemynear(var(48)),stateno>=5120&&enemynear(var(48)),Animtime=-1
trigger1 = (P2bodydist X = [-10,50])
value = 10400+(p2bodydist x >= 50||stateno=10400)*10+(stateno=10400)*100

;もう一回二択(-3,-4)

;前ジャンプ＞低ドリル
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -3
trigger1 = ctrl || stateno = 196 || (stateno = 52 && time >= 1)
trigger1 = (P2bodydist X = [-10,60])
value = 43

[State -1, Stand ASA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -5
trigger1 = stateno = 50 && time >= 5 || (stateno = [120,132])
value = 10630

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = -4
trigger1 = ctrl || stateno = 196 || (stateno = 52 && time = 1)
trigger1 = (P2bodydist X = [-10,50])
value = 10400+(p2bodydist x >= 50||stateno=10400)*10+(stateno=10400)*100

;着地後-3
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = -5
trigger1 = stateno = 52 && time = 1
trigger1 = (P2bodydist X = [-10,150])
trigger2 = stateno = 10400 && (var(41) = 1)
trigger2 = (P2bodydist X = [-10,150])
value = 10400+(p2bodydist x >= 50||stateno=10400)*10+(stateno=10400)*100

;-対ai
;待つ
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType = L
;triggerall = P2stateno != 5120
;triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [-29,-20])
trigger1 = ctrl || stateno = 52
trigger1 = !numhelper(1156)
;;二つ置く
trigger2 = stateno = 1
trigger2 = !numhelper(1157)
value = 1100

;==============================================================================
;AIデム時の行動
;==============================================================================
;走ってnot画面端なら回り込み A B C

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(36)

triggerall = var(39) = 10000 || var(39) = 10002

;trigger1 = helper(10000),var(5) <= 16
trigger1 = ctrl
trigger1 = p2bodydist x >= 10
trigger1 = facing = helper(10000),facing
value = 100

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(36)

triggerall = (var(39) = [10000,10002])

triggerall = helper(10000),var(5) <= 16
triggerall = ctrl || stateno = 400 && animelemtime(4) > 2
trigger1 = facing != helper(10000),facing
trigger1 = p2bodydist x > 40
value = 22

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(36)

triggerall = var(39) = 10001

triggerall = helper(10000),var(5) <= 5
triggerall = ctrl || stateno = 200 && animelemtime(4) >= 0
trigger1 = facing = helper(10000),facing
trigger1 = p2bodydist x > 10
value = 22

[State -1, 回り込み]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(24)

triggerall = var(39) = 10000 || var(39) = 10002

trigger1 = ctrl || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = p2bodydist x = [-5,14]
trigger1 = !(enemynear(var(48)),BackEdgeBodyDist < 18)
trigger1 = facing = helper(10000),facing
value = 300

[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(39) = 10000 || var(39) = 10002
triggerall = p2bodydist x = [-5,45]
triggerall = helper(10000),var(5) <= 12+(var(39)=10002)*19
;はさんでいる
trigger1 = facing != helper(10000),facing
trigger1 = ctrl || stateno = 22
trigger2 = facing != helper(10000),facing
trigger2 = stateno = 400 && animelemtime(4) >= 3
;はさんでいない
trigger3 = !(enemynear(var(48)),BackEdgeBodyDist >= 15)
trigger3 = facing = helper(10000),facing
trigger3 = ctrl || stateno = 22 || (stateno = 100 && time > 1)
trigger4 = !(enemynear(var(48)),BackEdgeBodyDist >= 15)
trigger4 = facing = helper(10000),facing
trigger4 = (prevstateno != [100,105])
trigger4 = stateno = 400 && animelemtime(4) >= 2
value = ifelse(!var(12)&&facing!=helper(10000),facing&&(helper(10000),var(5)=[4,6]),210+(p2bodydist x<=12)*5,400)

[State -1, CLA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(39) = 10001
triggerall = numhelper(10000)
triggerall = helper(10000),var(5) = 3 || helper(10000),var(5) = 4
;はさんでいない
trigger1 = p2bodydist x = [-5,75]
trigger1 = facing = helper(10000),facing
trigger1 = (helper(10000),stateno = 30320 && helper(10000),animelemtime(11) = 0) || (helper(10000),stateno = 30410 && helper(10000),animelemtime(9) = 0)
trigger1 = ctrl || stateno = 22 || (stateno = 100 && time > 1); || (stateno = 400 && animelemtime(4) >= 1)
value = 400

;相手が屈のとき(相手屈時立中当てられないなら)

[State -1, Soff屈弱]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = var(9)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType = C
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(12)
trigger1 = p2statetype != A || (enemynear(var(48)),BackEdgeBodyDist < 16)
trigger1 = (var(39) = [10000,10002])
trigger1 = ctrl || (stateno = 400 && animelemtime(4) >= 1) || stateno = 22
trigger1 = helper(10000),var(5) = 15-(var(39)=10001)*9+(var(39)=10002)*18
trigger1 = (helper(10000),stateno = 30220 || helper(10000),stateno = 30320) && helper(10000),animelemtime(11)>=0
value = 422

[State -1, Soff屈弱]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1090
trigger1 = stateno = 422 && !animtime
value = 10900

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1090
trigger1 = stateno = 10900 && time >= 1
trigger1 = (P2bodydist X = [-10,50])
value = 10400

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1090
trigger1 = stateno = 10400 && (var(41) = 1 || animelemtime(5)>=0)
trigger1 = (P2bodydist X = [-10,150])
trigger2 = stateno = 10900 && time >= 1
trigger2 = (P2bodydist X > 50)
value = 10410

;屈中ヒットせず
[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1090
trigger1 = stateno = 10410 && (animelemtime(8) > 0 || (var(41) = 1 && moveguarded))
trigger1 = (!numhelper(1155) || !numhelper(1156) || !numhelper(1157))
value = 11100

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1090
trigger1 = stateno = 10410 && (var(41) = 1 && movehit)
trigger1 = (P2bodydist X = [-10,200])
value = 10520

[State -1, Soff屈弱]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType = C
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = p2statetype != A || (enemynear(var(48)),BackEdgeBodyDist < 16)
trigger1 = (var(39) = [10000,10002])
trigger1 = ctrl || (stateno = 400 && animelemtime(4) >= 1) || stateno = 22
trigger1 = helper(10000),var(5) = 18-(var(39)=10001)*12+(var(39)=10002)*15
trigger1 = helper(10000),stateno = 30320 && helper(10000),animelemtime(11)>=0
value = 10400

[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = !var(12) || P2StateType = S
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = p2statetype != A || (enemynear(var(48)),BackEdgeBodyDist < 16)
trigger1 = (var(39) = [10000,10002])
trigger1 = ctrl || stateno = 100 || (stateno = 400 && animelemtime(4) >= 1) || stateno = 22
trigger1 = helper(10000),var(5) = 15-(var(39)=10001)*9+(var(39)=10002)*18
trigger1 = (helper(10000),stateno = 30220 || helper(10000),stateno = 30320) && helper(10000),time >= 5+(var(39)=10001)*5
value = 43-(var(39)=10001)

;デム後
[State -1, Soffジャンプ弱]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype = A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1000 || var(36) = 1100
trigger1 = stateno = 50
trigger1 = time = 17
trigger1 = P2bodydist X = [-40,55]
value = 600

[State -1, Soffジャンプ弱]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1000 || var(36) = 1100
trigger1 = stateno = 52 && time = 1
trigger1 = P2bodydist X = [-10,60]
value = 400

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = P2bodydist X = [-10,50]
trigger1 = var(36) = 1000
trigger1 = stateno = 400 && animelemtime(4) >= 1
trigger2 = var(36) = 1002
trigger2 = stateno = 10900
value = 23

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1000
trigger1 = stateno = 23 && vel x > 0
trigger1 = P2bodydist X = [-10,0]
;二つ置く
trigger2 = stateno = 1
value = 1100

;----
;Son
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1002
trigger1 = ctrl || stateno = 100 || (stateno = 400 && animelemtime(4) >= 1) || stateno = 22
value = 10900

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1002
trigger1 = stateno = 23 && vel x > 0
trigger1 = P2bodydist X = [-10,0]
;二つ置く
trigger2 = stateno = 1
value = 11100

;----
;後退
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numhelper(1157)
trigger1 = var(36) = 1000 || var(36) = 1002
trigger1 = ctrl || stateno = 100 || (stateno = 400 && animelemtime(4) >= 1) || stateno = 22
value = 23

;前ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numhelper(1157)
trigger1 = var(36) = 1000 || var(36) = 1002
trigger1 = stateno = 23 && (p2bodydist x > 15 || time > 10)
value = 42

;空ダ
[State -1, Air Dash]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = pos y <= -5

triggerall = !var(39)
triggerall = var(36)
;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = P2bodydist y >= -70

trigger1 = var(36) = 1002
trigger1 = stateno = 50 && (vel y > 0 && pos y > -15)
value = 115;前田

[State -1, Stand AHA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

;triggerall = !fvar(18);b
triggerall = var(36)
triggerall = !var(39)
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

trigger1 = var(36) = 1002
trigger1 = stateno = 110
trigger1 = p2bodydist x < 50
value = 10610

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1002
trigger1 = (stateno = 52 && time = 1) && prevstateno = 10610
value = 900

;デム後基本パーツend

;var(36) = 1010 ゲージ無

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1010 || var(36) = 1016 || var(36) = 1030
trigger1 = (stateno = 52 && time = 1) || (stateno = 900 && time = 5)
trigger2 = var(36) = 1011 || var(36) = 1031 || var(36) = 1115
trigger2 = stateno = 210 && anim = 210 && animelemtime(4) = 3
trigger3 = var(36) = 1011
trigger3 = stateno = 196 && time = 1
value = 23

;
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1016
trigger1 = stateno = 23
trigger1 = (P2bodydist X = [-10,0])
value = 43

[State -1, Soffジャンプ弱]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype = A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1016
trigger1 = stateno = 50
trigger1 = time = 20
trigger1 = P2bodydist X = [-40,55]
value = 610

;
[State -1, SMA]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1010 || var(36) = 1030
trigger1 = stateno = 23
trigger1 = (P2bodydist X = [-10,0]) || time >= 15
value = 400

;
[State -1, SMA]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1017
trigger1 = (stateno = 52 && time >= 1)
trigger1 = (P2bodydist X < 50)
value = 210

[State -1, Soff中]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1010 || var(36) = 1017 || var(36) = 1030
trigger1 = movecontact
trigger1 = (stateno = 400 && animelemtime(4) >= 1)
trigger1 = P2bodydist X = [-10,60]
value = 210

;ここから1011
[State -1, 1000]
type = null;ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1011; || var(36) = 1031
trigger1 = !numhelper(1155)
trigger1 = fvar(33) = 0
trigger1 = stateno = 23
trigger1 = (P2bodydist X = [-10,0]) || time >= 38
;二回目
trigger2 = var(36) = 1011
trigger2 = !numhelper(1156)
trigger2 = (fvar(33) = [1,2])
trigger2 = stateno = 196
value = 1100

;半径20Mルートは1015へ

[State -1, Soff中]
Type = null;changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1011
trigger1 = stateno = 23
value = 215
;hit後タイラップ

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1011
trigger1 = stateno = 23 && time >= 1
value = 1200

;タイラップヒット後D弱
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1012 || var(36) = 1101 || var(36) = 1017
trigger1 = !var(11)
trigger1 = stateno = 1 && time > 5
trigger2 = var(36) = 1012
trigger2 = (ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 1 && time > 5) || (stateno = 52 && time >= 1))
trigger2 = p2bodydist x > 36
trigger3 = var(36) = 21
trigger3 = (ctrl || (stateno = 1 && time > 5) || stateno = 21 || (stateno = 52 && time >= 1))
trigger3 = p2bodydist x > 36
value = 100

;ジャンプ中なら殴る
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype = A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(11)
trigger1 = ctrl
trigger1 = p2bodydist x < 65 || (pos y > -35 && vel y > 0)
value = 610

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1012 || var(36) = 1017 || var(36) = 1101 || var(36) = 21
triggerall = var(11)
trigger1 = ((stateno = 100 || stateno = 105) && time > 1)
trigger1 = p2bodydist x < 65
trigger2 = var(36) = 21
trigger2 = ctrl || stateno = 22 || (stateno = 52 && time >= 1)
trigger2 = p2bodydist x <= 42
value = 200

;タイラップヒット後中
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(11)
trigger1 = var(36) = 1012 || var(36) = 1017 || var(36) = 1101 || var(36) = 22
trigger1 = ctrl || (stateno = 52 && time >= 1)
trigger1 = numhelper(1260)
trigger1 = helper(1260),time < 120
;trigger1 = fvar(33) < 5
trigger1 = p2bodydist x < 60
trigger2 = var(36) = 23
trigger2 = ctrl || (stateno = 52 && time >= 1)
trigger2 = numhelper(1260)
trigger2 = helper(1260),time < 110
;trigger2 = fvar(33) < 5
trigger2 = p2bodydist x < 60
value = ifelse(p2bodydist x <=12,215,210)

;5回ぐらいヒット後D
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

;triggerall = P2StateType != A
;triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(11)
trigger1 = ((facing = helper(10000),facing) && !(facing*(helper(60000+(facing=-1)*10),pos x-pos x) < 200)) || ((facing != helper(10000),facing) && !(-facing*(helper(60000+(facing=1)*10),pos x-pos x) < 150))
trigger1 = var(36) = 1013
trigger1 = (p2bodydist x = [-40,40])
trigger1 = ctrl
value = 100+(facing != helper(10000),facing)*5

;5回ぐらいヒット後D
[State -1,Run]
type = null
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

;triggerall = P2StateType != A
;triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = numhelper(1260)
triggerall = p2stateno = 1280
triggerall = var(36) = 1013
triggerall = (p2bodydist x = [-40,40])
triggerall = ctrl
trigger1 = !((facing = helper(10000),facing) && !(facing*(helper(60000+(facing=-1)*10),pos x-pos x) < 200)) || ((facing != helper(10000),facing) && !(-facing*(helper(60000+(facing=1)*10),pos x-pos x) < 150)) || helper(1260),fvar(0) <= 9.25
trigger1 = var(36) := 23;起き攻め不能

;ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = numtarget
trigger1 = var(36) = 1013 || var(36) = 1101
trigger1 = target,stateno = 1281 && target,time >= 9
trigger1 = ctrl
value = 43

;殺せるなら
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype = A

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numtarget
trigger1 = var(36) = 1013 || var(36) = 1101
trigger1 = target,stateno = 1281 && target,life <= 10
trigger1 = p2bodydist x < 50
trigger1 = p2bodydist y < 35
trigger1 = ctrl
value = 610

;起き攻めできないとき
;5回ぐらいヒット後D
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

;triggerall = P2StateType != A
;triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 23
trigger1 = ctrl
trigger1 = p2bodydist x < 120
value = 105-(facing != helper(10000),facing)*5

;着地後起き攻めへ

;---------------------------------------
;var(36) = 1005 半径20M殺し切り

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1005
trigger1 = (stateno = 52 && time = 1)
value = 1200

;タイラップヒット後D弱
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1005
trigger1 = !var(11)
trigger1 = stateno = 1
value = 100

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1005
triggerall = var(11)
trigger1 = ((stateno = 100 || stateno = 105) && time > 1)
trigger1 = p2bodydist x < 60
value = 200

;タイラップヒット後中
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1005
triggerall = var(11)
trigger1 = ctrl
trigger1 = fvar(33) < 5
trigger1 = p2bodydist x < 60
value = ifelse(p2bodydist x <=12,215,210)

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numhelper(1157)
trigger1 = helper(1157),stateno = 1157
trigger1 = var(36) = 1005
trigger1 = ctrl
value = 10900

;ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1005
trigger1 = stateno = 10900 && time > 1
trigger1 = p2bodydist x < 80
value = 42

[State -1, 11100/Air]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1005
trigger1 = stateno = 50
trigger1 = p2bodydist x < 20 && p2bodydist y = [-15,0]
value = 11110

[State -1, Air Back Dash]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = stateno != 110 && stateno != 115

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1005
trigger1 = stateno = 11110 && anim = 10044
value = 115

[State -1, 3600(air)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = stateno = 115 && time >= 14
trigger1 = var(36) = 1005
trigger1 = (p2bodydist y = [-20,20])
value = 3610

;---------------------------------------
;var(36) = 1015 半径20M

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = stateno = 196
trigger1 = var(36) = 1015
trigger1 = ctrl
value = 10900

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1015
trigger1 = stateno = 10900 && time >= 2
value = 105

[State -1, 3600(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1015
trigger1 = stateno = 105 && time = 16
value = 3600

;---------------------------------------
;var(36) = 1020 2回半径20M

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1020
trigger1 = (stateno = 52 && time = 1) || (stateno = 900 && time = 5)
value = 3000

;スタンドが当たっちゃったら
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1020
triggerall = numhelper(10000)
triggerall = helper(10000),stateno = 3050
triggerall = helper(10000),movehit
trigger1 = ctrl
trigger1 = p2bodydist x < 60
value = 200

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numhelper(1157)
trigger1 = helper(1157),stateno = 1157
trigger1 = var(36) = 1020
trigger1 = ctrl
value = 10900

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1020
trigger1 = stateno = 10900 && time >= 2
value = 105

[State -1, 3600(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1020
trigger1 = stateno = 105 && time = 16
value = 3600

;---------------------------------------
;var(36) = 1025 結界おいてエメラルド

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numhelper(1157)
trigger1 = helper(1157),stateno = 1157
trigger1 = var(36) = 1025
trigger1 = ctrl
value = 10900

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

;triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1025
trigger1 = !numhelper(1155)
trigger1 = stateno = 10900 && time = 3
trigger1 = (P2bodydist X = [-10,30])
trigger2 = !numhelper(1156)
trigger2 = stateno = 105 && time = 20
value = 11100

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1025
trigger1 = stateno = 11100 && !animtime
value = 105

[State -1, 11000(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = numhelper(1156)
trigger1 = var(36) = 1025
trigger1 = stateno = 105 && time = 20
value = ifelse(power>1000&&p2life<120,3600,11000)

;---------------------------------------
;var(36) = 1030 お仕置き

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1031 || var(36) = 1115
trigger1 = stateno = 23
trigger1 = (P2bodydist X = [-10,0]) || time >= 38
value = 1

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1031 || var(36) = 1115
trigger1 = stateno = 1 && time > 10
trigger1 = (P2bodydist X = [-10,40])
value = 10900

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1031
trigger1 = !numhelper(1155)
trigger1 = stateno = 10900 && time = 3
trigger1 = (P2bodydist X = [-10,30])
value = 11100

[State -1, Stand SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1031
trigger1 = numhelper(1155)
trigger1 = stateno = 11100 && !animtime
trigger1 = (P2bodydist X = [-10,40])
value = 10210

[State -1, 3800]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1031
trigger1 = stateno = 10210 && animelemtime(3) >= 1
value = 3800

;ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1032
trigger1 = ctrl
value = 43

[State -1, 3600(air)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = ctrl
trigger1 = var(36) = 1032
trigger1 = (p2bodydist y = [-20,0])
value = 3610

;---------------------------------------
;var(36) = 1100 画面端デム後

[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

;triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1100
trigger1 = ((stateno = 196 && anim = 200) && time > 40) || ((stateno = 1) && time > 38)
trigger1 = (P2bodydist X = [-10,45])
value = 10900

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1100
trigger1 = !numhelper(1156)
trigger1 = stateno = 10900 && time = 3
trigger1 = (P2bodydist X = [-10,30])
trigger2 = !numhelper(1155)
trigger2 = ctrl || (stateno = 100 && time >= 3)
trigger2 = (P2bodydist X = [-10,15])
trigger3 = !numhelper(1156)
trigger3 = fvar(33) = 2
trigger3 = ctrl || (stateno = 100 && time >= 3)
trigger3 = (P2bodydist X = [-10,15])
value = 11100

[State -1, Stand SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1100
trigger1 = (p2life<10)
trigger1 = (stateno = 100 && time > 1)
trigger1 = (P2bodydist X = [-10,50])
value = 10221

[State -1, Stand SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1100
;trigger1 = numhelper(1156)
trigger1 = stateno = 11100 && !animtime
trigger1 = (P2bodydist X = [-10,40])
value = 10220

[State -1, Stand SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(19)
triggerall = stateno != 10900

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1101
trigger1 = ctrl
value = 900

;強ヒット後D
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1100
trigger1 = prevstateno = 10220
trigger1 = stateno = 196 && time > 5
trigger2 = var(36) = 1101
trigger2 = stateno = 900 && time > 5
value = 100

;タイラップヒット後D弱
[State -1,Run]
type = ChangeState
triggerall = var(59)
triggerall = !var(0)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = var(36) = 1101
triggerall = var(11)
trigger1 = ((stateno = 100 || stateno = 105 || stateno = 1) && time > 1)
trigger1 = p2bodydist x < 80
value = 100

;ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1101
trigger1 = fvar(33) = 3
trigger1 = stateno = 100 && time > 1
trigger1 = p2bodydist x < 100
value = 42

[State -1, Soffジャンプ弱]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype = A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1101
trigger1 = stateno = 50
trigger1 = time >= 18
trigger1 = P2bodydist X = [-40,55]
value = 620

[State -1, Soffジャンプ弱]
Type = changestate
triggerall = var(59)
triggerall = !var(0)
triggerall = !var(9)
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1101
trigger1 = stateno = 52 && time = 1
trigger1 = P2bodydist X = [-40,55]
value = 215-(p2bodydist x > 12)*5

;---------------------------------------
;var(36) = 1110 殺し切り20M

[State -1, 3600(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1110
trigger1 = numhelper(1156)
trigger1 = helper(1156),stateno = 1157
trigger1 = ctrl
value = ifelse((power>1000&&p2life<100)||power>=2500,3600,22)

[State -1, 3600(ground)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = var(36) = 1110
trigger1 = numhelper(1156)
trigger1 = helper(1156),stateno = 1157
trigger1 = stateno = 22 && p2bodydist x < 140
value = ifelse((power>1000&&p2life<100)||power>=2500,3600,11200)

;---------------------------------------
;var(36) = 1115~1116 対AIタイプ専用画面端お仕置きコン

[State -1, 1000]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(9)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [1115,1116])
trigger1 = !numhelper(1155) || !numhelper(1156)
trigger1 = stateno = 10900 && time = 3
trigger1 = (P2bodydist X = [-10,30])
value = 11100

[State -1, Stand SMA]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [1115,1116])
trigger1 = numhelper(1156)
trigger1 = stateno = 11100 && !animtime
trigger1 = (P2bodydist X = [-10,40])
value = 10210

[State -1, 3800]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = (var(36) = [1115,1116])
trigger1 = stateno = 10210 && animelemtime(3) >= 1
value = 3800

;ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (var(36) = [1115,1116])
trigger1 = ctrl && (!numhelper(1155) || !numhelper(1156))
trigger1 = p2bodydist x < 80
value = 42

[State -1, 11100/Air]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (var(36) = [1115,1116])
trigger1 = stateno = 50
trigger1 = p2bodydist x < 20 && p2bodydist y = [-15,0]
value = 11110

[State -1, Air Back Dash]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = stateno != 110 && stateno != 115

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (var(36) = [1115,1116])
trigger1 = stateno = 11110 && anim = 10044
value = 115

[State -1, 3600(air)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = stateno = 115 && time >= 14
trigger1 = (var(36) = [1115,1116])
trigger1 = (p2bodydist y = [-20,20])
value = 3610

;ジャンプ
[state ,ジャンプ]
Type = changestate
triggerall = var(59)
triggerall = Roundstate = 2
triggerall = statetype != A

triggerall = P2StateType = A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

trigger1 = (var(36) = [1115,1116])
trigger1 = enemynear(var(48)),pos y < -35
trigger1 = stateno = 52 && time = 1
trigger1 = numtarget
value = 43

[State -1, 3600(air)]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(8)

triggerall = P2StateType = A
triggerall = P2movetype = H
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

;triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = stateno = 50 && prevstateno = 43
trigger1 = (var(36) = [1115,1116])
trigger1 = (p2bodydist y = [-20,20])
value = ifelse(power>=1000,3610,11010)

;==============================================================================
;AI立ち回り技振り(on.off共通)
;==============================================================================
[State -1,  Throw]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = p2bodydist x = [-23,23]
triggerall = p2statetype != A && p2statetype != L && p2movetype != H
triggerall = !((prevstateno = [100,105]) && time < 8)
triggerall = !var(9)

triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != A
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
;triggerall = !enemynear(var(48)),numproj

trigger1 = ctrl || (stateno = [120,131]) || stateno = 21 || (stateno = 52 && time)
trigger1 = Random <= 70+(stateno=52||p2stateno=52||anim=101+Var(0))*40+(enemynear(var(48)),numproj)*5+(var(59)=7)*200+(-facing*(helper(60000+(facing=1)*10),pos x-pos x)<100)*240
trigger1 = p2movetype != H
trigger1 = Facing != enemynear(var(48)),facing
value = 800

[State -1, Stand OFF]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(19)
triggerall = !var(36)
triggerall = !var(39)
triggerall = stateno != 10900

triggerall = ctrl || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = var(1) < 45
trigger1 = p2bodydist X > 30
trigger2 = var(1) >= 45
trigger2 = random < 25
trigger2 = p2bodydist X > 60
trigger3 = enemynear(var(48)),statetype = A
trigger3 = enemynear(var(48)),Movetype = A
trigger3 = enemynear(var(48)),ctrl = 0
trigger3 = enemynear(var(48)),HitDefAttr = SCA, SA,HA 
;trigger3 = p2bodydist X > 50
trigger4 = var(1) < 5
trigger4 = p2bodydist X > 10
trigger4 = p2statetype = L || (enemynear(var(48)),stateno = 5120)
trigger4 = random <= 350
trigger5 = var(35)
trigger6 = random < 20+(var(59)=7)*20
trigger7 = fvar(31)
value = 900

[State -1, Stand OFF(Air)]
type = null;ChangeState
triggerall = roundstate = 2
triggerall = var(59)
triggerall = statetype = A
triggerall = var(0)
triggerall = !var(19)
triggerall = !var(36)
triggerall = !var(39)
triggerall = stateno != 10910
trigger1 = ctrl
trigger1 = random < 11
value = 910

[State -1, Stand ON]
type = null;ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

triggerall = !var(36)
triggerall = !var(39)
triggerall = ctrl || stateno = 21 || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
;trigger1 = P2bodydist X = [5,170]
trigger1 = var(1) >= 60
	trigger1 = (random = [550,580+(p2bodydist x > 120)*30+(numpartner)*40])
trigger2 = life < 50
trigger2 = var(32) || (inguarddist && enemynear(var(48)),numproj)
	trigger2 = random < 800
value = 10900


[State -1, Stand ON(Air)]
type = null;ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(19)
triggerall = stateno != 910
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)

triggerall = !var(36)
triggerall = !var(39)
trigger1 = ctrl
trigger1 = p2bodydist x >= 90
trigger1 = random<15
value = 10910

;==============================================================================
;AI移動等(その他)
;==============================================================================
[State -1,Run]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
;triggerall = P2MoveType != A

triggerall = !var(36)
triggerall = !var(39)
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = !(inguarddist && enemynear(var(48)),numproj)
triggerall = (!fvar(17)&&!fvar(18)) || (random < 100)
triggerall = !(var(59)=7 && inguarddist)

triggerall = ctrl || (stateno = [120,131]) || (stateno = 21 && anim = 20)
trigger1 = P2bodydist X > 90
trigger1 = !numtarget
trigger1 = !inguarddist
trigger1 = Random < 40-(inguarddist||var(0))*(30-fvar(35)*10)
;中距離からの奇襲
trigger2 = !var(9)
trigger2 = !fvar(17)
trigger2 = P2bodydist X = [55+(var(0))*50,135+(var(0))*100]
trigger2 = !numtarget
trigger2 = !(inguarddist && (var(59)=7 || random < 500))
trigger2 = Random <= 100-(var(59)=7)*70-(var(0))*25-(var(9)=1)*30-(var(59)=7&&(inguarddist||p2movetype=A))*60
;タッグ
trigger3= (numpartner && !fvar(36));tag
trigger3 = P2bodydist X > 80
trigger3 = partner,numtarget
trigger3 = Random = [300,580-(inguarddist)*60+(life-partner,life<400)*100]

trigger4 = !var(0)
trigger4 = P2bodydist X = [32,65+(enemynear(var(48)),vel x*1)]
trigger4 = Random <= 13+(var(0))*4
trigger5 = var(59) = 7
trigger5 = P2StateType != A
trigger5 = P2bodydist X = [35,90]
trigger5 = p2movetype = A
trigger5 = enemynear(var(48)),animtime < -20 && (enemynear(var(48)),moveguarded||!inguarddist)
trigger5 = Random <= 200
value = 100

;------------------------------------------------
;D割り込み
[State -1,Run]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2MoveType = A

triggerall = !var(36)
triggerall = !var(39)
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = !(inguarddist && enemynear(var(48)),numproj)
triggerall = !(fvar(17)||fvar(18))
triggerall = ctrl || (stateno = [120,131]) || (stateno = 21)
triggerall=(var(57)&2097151)=(var(47)&2097151)
triggerall=((var(47)-(var(47)&2097151)&1073741823)/2097152) - ((var(57)-(var(57)&2097151)&1073741823)/2097152) > 6

trigger1 = !var(9)
trigger1 = P2bodydist y = 0
trigger1 = enemynear(var(48)),Const(Size.Head.Pos.Y) <= -60
trigger1 = P2bodydist X = [15,110]
value = 100
;割り込み弱
[State -1,Run]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2MoveType = A

triggerall = !var(36)
triggerall = !var(39)
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = !(inguarddist && enemynear(var(48)),numproj)
triggerall = !(fvar(17)||fvar(18))

trigger1 = !var(0)
trigger1 = !var(9)
trigger1 = stateno = 100 && time > 1
value = 400

;割り込み弱
[State -1,Run]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2MoveType = A

triggerall = !var(36)
triggerall = !var(39)
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
triggerall = !(inguarddist && enemynear(var(48)),numproj)
triggerall = !(fvar(17)||fvar(18))

;trigger1 = var(0)
trigger1 = !var(9)
trigger1 = stateno = 100 && time > 1
value = 200+var(0)

;------------------------------------------------


[State -1,Run]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = !var(36)
triggerall = !var(39)
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
triggerall = !(backedgebodydist < 20)

trigger1 = P2bodydist X <= 140
trigger1 = P2MoveType != A || p2bodydist x > 75
trigger1 = Ctrl || (stateno = [120,131]) || (stateno = 21 && anim = 21)
trigger1 = !numtarget
	trigger1 = Random = [40,110+(var(9))*90+(p2stateno=5210&&enemynear(var(48)),vel x<3)*400+(!fvar(31)&&numpartner)*80]
trigger2 = P2bodydist X <= 100
trigger2 = P2StateType = L || p2stateno = 5120 || p2stateno = 5201
trigger2 = Ctrl || (stateno = [120,131]) || (stateno = 21 && anim = 21)
	trigger2 = Random = [361,400]
;結界あれば
trigger3 = (fvar(35) < 2)
trigger3 = fvar(17)
trigger3 = numhelper(1155)
trigger3 = (Facing*Helper(1155),Facing*Helper(1155),RootDist X*-1) < -45
trigger3 = Ctrl || (stateno = [120,131]) || (stateno = 21 && anim = 21)
trigger3 = random < 100
;結界あれば
trigger4 = (fvar(35) < 2)
trigger4 = fvar(18)
trigger4 = numhelper(1156)
trigger4 = (Facing*Helper(1156),Facing*Helper(1156),RootDist X*-1) < -45
trigger4 = Ctrl || (stateno = [120,131]) || (stateno = 21 && anim = 21)
trigger4 = random < 100
;結界あれば
trigger5 = (fvar(35) < 2)
trigger5 = numhelper(1157)
trigger5 = fvar(19)
trigger5 = (Facing*Helper(1157),Facing*Helper(1157),RootDist X*-1) < -45
trigger5 = Ctrl || (stateno = [120,131]) || (stateno = 21 && anim = 21)
trigger5 = random < 100
value = 105

;歩き
[State -1, Walk]
type = ChangeState
value = 21
triggerall = Var(59)
triggerall = !var(36)
triggerall = !var(39)
triggerall = !numtarget || p2statetype = L
triggerall = StateType != A
triggerall = ctrl || (stateno = [120,131])
triggerall = !InGuardDist
triggerall = stateno != [10,12]
triggerall = prevstateno != [10,12]
triggerall = stateno != 20
triggerall = prevstateno != 20
triggerall = stateno != 21
triggerall = prevstateno != 21
triggerall = stateno != [120,159]
triggerall = prevstateno != [120,159]
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]
trigger1 = random%6<=2

[state ,ジャンプ]
type = ChangeState
triggerall = var(59) = 4
triggerall = !var(36)
triggerall = !var(39)
triggerall = !var(32)
triggerall = Roundstate = 2
triggerall = statetype != A
Triggerall = ctrl || (stateno = [120,131]) || stateno = 21 || stateno = 100 || stateno = 105
trigger1 = var(38) = [1,3]
trigger1 = random < 999-(stateno=100)*300+(enemynear(var(48)),hitdefattr = S,ST,HT)*300
value = 41

[state ,ジャンプ]
type = ChangeState
triggerall = var(59) = 4
triggerall = !var(36)
triggerall = !var(39)
triggerall = Roundstate = 2
triggerall = statetype != A
Triggerall = ctrl || (stateno = [120,131]) || stateno = 21; || stateno = 100 || stateno = 105
trigger1 = var(38) = 4
trigger1 = random < 999
value = 100

[state ,ジャンプ]
type = varset
triggerall = var(59) = 4
triggerall = !var(38)
triggerall = Roundstate = 2
triggerall = statetype != A
Trigger1 = ctrl || (stateno = [120,131]) || stateno = 21
;trigger1 = !inguarddist
trigger1 = P2Movetype != H
trigger1 = P2bodydist X = [10,125+(var(0)>0)*150]
trigger1 = Random < 24+(var(0))*20-(var(59)=7)-(var(0)>0&&p2statetype=A)*25-(p2stateno=[1000,3999])*15
trigger1 = (P2statetype!=A)||(P2BodyDist y > -30)&&(enemynear,vel y > 0)
Trigger2 = stateno = 100 && time > 3
trigger2 = P2Movetype != H
trigger2 = P2bodydist X > 120
trigger2 = Random < 20;-(fvar(17)||fvar(18)||fvar(19))*15
trigger3 = var(59) = 7
trigger3 = numhelper(50000)
Trigger3 = ctrl || (stateno = [120,131]) || stateno = 21
trigger3 = P2Movetype = A && p2statetype = C
trigger3 = P2bodydist X = [70,100]
trigger3 = Random < 200
trigger4 = (enemynear(var(48)),hitdefattr = S,ST,HT)
trigger4 = P2bodydist X < 130
trigger4 = P2Movetype = A && random < 900
var(38) = 1

[state ,ジャンプ]
Type = varset
triggerall = var(59) = 4
triggerall = !var(38)
triggerall = Roundstate = 2
triggerall = statetype != A
triggerall = random < 999-(var(12)*300)
Triggerall = ctrl || (stateno = [120,131]) || stateno = 21; || stateno = 100 || stateno = 105
trigger1 = !inguarddist
trigger1 = P2Movetype != H || P2StateNo = [130,155]
trigger1 = random < 29
trigger1 = (P2bodydist X = [0,90])
trigger1 = P2Statetype != L
var(38) = 2

[state ,ジャンプ]
Type = varset
triggerall = var(59) = 4
triggerall = !var(38)
triggerall = Roundstate = 2
triggerall = statetype != A
triggerall = random < 999-(var(12)*400)
Triggerall = ctrl || (stateno = [120,131]) || stateno = 21; || stateno = 100 || stateno = 105
trigger1 = P2Movetype != H
trigger1 = P2bodydist X = [0,110]
trigger1 = Random < 18
trigger1 = !(backedgebodydist < 21)
;trigger1 = P2statetype = A && enemynear(var(48)),vel x > 0
trigger1 = enemynear(var(48)),facing != facing
;trigger1 = enemynear(var(48)),pos y > -30
var(38) = 3

[state ,Dジャンプ]
Type = varset
triggerall = var(59) = 4
triggerall = !var(38)
triggerall = Roundstate = 2
triggerall = statetype != A
Triggerall = ctrl || (stateno = [120,131]) || stateno = 21 || stateno = 100 || stateno = 105
trigger1 = P2Movetype != H
trigger1 = P2bodydist X = [55,125]
trigger1 = Random < 30-(var(0)>0)*20
trigger1 = P2statetype != A
trigger1 = enemynear(var(48)),facing != facing
trigger1 = !var(0)
var(38) = 4

[State -1, 回り込み]
type = ChangeState
triggerall = var(59) = 4
triggerall = roundstate = 2
triggerall = statetype != A

triggerall = !var(39)
triggerall = !var(36)
triggerall = P2StateType != L
triggerall = P2stateno != 5120
triggerall = P2stateno != 5201
;triggerall = enemynear(var(48)),prevstateno != [5120,5210]

triggerall = !var(0)
triggerall = !var(24)
triggerall = PrevStateNo != 300

triggerall = !(fvar(17)||fvar(18)||fvar(19))
triggerall = ctrl || stateno = 21|| (stateno=52&&time>=1) || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = P2bodydist X = [-5,100]
trigger1 = P2MoveType = I
	trigger1 = Random = [244,247]
trigger2 = P2bodydist X = [-5,100]
trigger2 = P2MoveType = A
	trigger2 = Random = [430,435+(var(9)>0)*400]
trigger3 = var(59) < 7
trigger3 = P2bodydist X >= 130
trigger3 = P2movetype = A && enemynear(var(48)),time >= 10
trigger3 = enemynear(var(48)),animtime <= -30
	trigger3 = Random = [625,635]
trigger4 = var(59) >= 7
trigger4 = P2bodydist X = [80,120]
trigger4 = P2movetype = A && !enemynear(var(48)),ctrl && enemynear(var(48)),animtime <= -40;(発生+1)
	trigger4 = Random = [635,685]
;タッグ
trigger5 = (numpartner && !fvar(36));tag
trigger5 = partner,alive
trigger5 = partner,movetype = H && inguarddist
	trigger5 = random < 60
;囲まれ状態から脱出
trigger6 = fvar(31)
trigger6 = p2bodydist x < 85
	trigger6 = random < 300
;囲まれ状態から脱出
trigger7 = fvar(31)
trigger7 = (stateno = 100 && animelemtime(2) >= 0)
trigger7 = (inguarddist || p2movetype = A)
	trigger7 = random < 80+(var(59)=7&&(enemynear(var(48)),animtime < -40||p2bodydist x > 120||(p2stateno = [1000,3999])))*300
value = 300

[State -1, 飛び道具を回り込み]
type = ChangeState
triggerall = var(59)
TriggerAll = RoundState = 2
triggerall = StateType != A
TriggerAll = !Ishelper

triggerall = !var(39)
triggerall = !var(36)
triggerall = !var(0)
triggerall = !var(24)
triggerall = !(fvar(17)||fvar(18)||fvar(19))

triggerall = ctrl || stateno = 21 || (stateno = [120,131]) || ((stateno = 100 || stateno = 105) && animelemtime(2) >= 0)
trigger1 = random<=100+((enemynear(var(48)),animtime<-40)*80)+((p2bodydist x >150)*60)-(fvar(17)||fvar(18)||fvar(19))*80+(stateno=100)*400
trigger1 = var(32)
trigger2 = random < 300+(var(59)=7)*300-(fvar(17)||fvar(18)||fvar(19))*500+(stateno=100)*400
trigger2 = inguarddist
trigger2 = enemynear(var(48)),numproj
value = 300

;==============================================================================
;AIガード
;==============================================================================
;ガード
[state -1, Guard]
type = ChangeState
value = 120
triggerall = var(59)
triggerall = !var(9)
triggerall = !var(36) || (var(59) >= 7 && (var(36) != [-100,-1]))
triggerall = roundstate = 2
triggerall = ctrl || stateno = 1 || stateno = 21 || (stateno = 52 && time>=1) || stateno = 25 || (stateno = [120,131]) || (stateno = 10900 || stateno = 900)
triggerall = (stateno != [120,131])
Trigger1 = (inguarddist) || (P2movetype=A)
Trigger1 = (Random<=(var(59)=1)*200+(var(59)=2)*350+(var(59)=3)*500)||var(59)>3
Trigger2 = (inguarddist) || (P2movetype=A)
Trigger2 = P2BodyDist X>90||enemynear(var(48)),Time>40
Trigger2 = (Random<=(var(59)=1)*550+(var(59)=2)*800)||var(59)>2
Trigger3 = (inguarddist) || (P2movetype=A)
trigger3 = (facing*enemynear(var(48)),facing)>0
trigger3 = enemynear(var(48)),movetype = A
trigger3 = enemynear(var(48)),hitdefattr = A,AA
trigger3 = p2dist X = [-70,70]
Trigger3 = random < 500
Trigger4 = Numhelper(50000)
trigger4 = helper(50000),inguarddist
Trigger4 = Random<=200+(var(59)=7)*700
Trigger5 = var(32)
trigger6 = (inguarddist && enemynear(var(48)),numproj)

[State -1, ガードキャンセル]
type = ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = prevstateno != [710,711]
triggerall = numhelper(50000)

triggerall = var(36) != -11101
triggerall = var(36) != [-10099,-10000]
triggerall = (stateno = 151 || stateno = 153)
triggerall = time <= 5
trigger1 = P2bodydist X = [0,75]
trigger1 = P2bodydist Y >= ifelse(var(0),-50,-75)
Trigger1 = Numhelper(50000)
trigger1 = helper(50000),var(8) > 35-(var(59)=7)*20
trigger1 = random < helper(50000),var(8)+10+(var(59)=7)*5-(enemynear(var(48)),hitdefattr=SCA,SA,HA)*30
trigger2= (numpartner && !fvar(36));tag
trigger2 = partner,movetype = H
trigger2 = random < 200
value = ifelse(!var(0),700,10700)

;==============================================================================
;AIその他
;==============================================================================
[State -1, タッグ用生死判別];
Type = VarSet
triggerall = var(59)
triggerall = RoundState = 2
trigger1 = NumEnemy = 1
trigger2 = NumEnemy = 2
trigger2 = EnemyNear(0),life > 0
var(48) = 0
IgnoreHitPause = 1

[State -1, タッグ用生死判別];
Type = VarSet
triggerall = var(59)
triggerall = RoundState = 2
trigger1 = NumEnemy = 2
trigger1 = EnemyNear(0),life <= 0
var(48) = 1
IgnoreHitPause = 1

[State -1, タッグ用仲間生死判別];
Type = VarSet
triggerall = var(59)
triggerall = RoundState = 2
trigger1 = Numpartner
trigger1 = partner,life <= 0
trigger2 = !numpartner
fvar(36) = 1
IgnoreHitPause = 1

;test用
[State -1, Stand OFF]
type = null;ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(0)
triggerall = !var(19)
triggerall = !var(36)
triggerall = stateno != 10900
trigger1 = ctrl || stateno = 100 || stateno = 105
value = 900

;test用
[State -1, Stand ON]
type = null;ChangeState
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(36)
triggerall = stateno != 900
triggerall = !(Helper(10000),stateno = 10000 && Helper(10000),time <= 1)
trigger1 = ctrl || stateno = 100 || stateno = 105
value = 10900

;AIここまで

;==============================================================================
; スパコン
;==============================================================================
;------------------------------------------------------------------------------

[State -1, 3000]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "236aa" || command = "236b" || (var(28)&2**11)
triggerall = power >= 1000
triggerall = !var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)
triggerall = !var(9); || (var(9) && var(12))
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 220
trigger3 = stateno = 410
trigger4 = stateno = 420
trigger5 = stateno = 195 && time >= 20
trigger6 = stateno = 5201
value = 3000

[State -1, 3100]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "214aa1" || command = "214aa2" || command = "214aa3" || command = "214aa4" || command = "214b" || (var(28)&2**12) || (var(28)&2**13) || (var(28)&2**14) || (var(28)&2**15)
triggerall = power >= 1000
triggerall = !var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)
triggerall = !var(9); || (var(9) && var(12))
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 220
trigger3 = stateno = 410
trigger4 = stateno = 420
trigger5 = stateno = 195 && time >= 20
trigger6 = stateno = 5201
value = 3100

[State -1, 3900]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "623aa" || command = "623b" || (var(28)&2**20)
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
value = 3900

[State -1, 3600(ground)]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "236aa" || command = "236b" || (var(28)&2**16)
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
value = 3600

[State -1, 3600(air)]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "236aa" || command = "236b" || (var(28)&2**16)
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = ctrl || stateno = 45 || (stateno = [100,105])
trigger2 = stateno = 10600
trigger3 = stateno = 10605
trigger4 = stateno = 10610
trigger5 = stateno = 10620
trigger6 = stateno = 10625
trigger7 = stateno = 10630
trigger8 = stateno = 10910
trigger9 = (stateno = [110,116])
value = 3610

[State -1, 3700]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "214aa1" || command = "214aa2" || command = "214aa3" || command = "214aa4" || command = "214b" || (var(28)&2**17)
triggerall = !numhelper(13710)
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(54)+helper(10000),var(54)>=2)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
value = 3700

[State -1, 3800]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "xx6yz" || (var(28)&2**18)
triggerall = power >= 1000
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
value = 3800

;------------------------------------------------------------------------------
[State -1, 3500]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "214s" || (var(28)&2**10)
triggerall = power >= 1000
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(23)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 200
trigger3 = stateno = 210
trigger4 = stateno = 215
trigger5 = stateno = 220
trigger6 = stateno = 400
trigger7 = stateno = 410
trigger8 = stateno = 412
trigger9 = stateno = 415
trigger10 = stateno = 420
trigger11 = stateno = 422
trigger12 = stateno = 10200
trigger13 = stateno = 10202
trigger14 = stateno = 10210
trigger15 = stateno = 10220 && animelemtime(5) < 1
trigger16 = stateno = 10221
trigger17 = stateno = 10300
trigger18 = stateno = 10310
trigger19 = stateno = 10320 && animelemtime(5) < 1
trigger20 = stateno = 10400
trigger21 = stateno = 10410
trigger22 = stateno = 10500
trigger23 = stateno = 10510
trigger24 = stateno = 195 && time >= 20
trigger25 = stateno = 5201
value = 3500

;==============================================================================
; 
;==============================================================================
;------------------------------------------------------------------------------

[State -1, GC]
type = ChangeState
TriggerAll = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "623x" || command = "623y" || command = "623z" || command = "623b"
triggerall = prevstateno != [710,711]
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ((helper(7520*(numhelper(7520)>0)),var(10)) = 0)
trigger1 = (stateno = 151 || stateno = 153)
trigger1 = time <= 5
trigger2 = ((helper(7520*(numhelper(7520)>0)),var(10)) = 1)
trigger2 = power >= 1000
trigger2 = (stateno = [150,153])
trigger2 = time > 0
value = ifelse(!var(0),700,10700)

[State -1, AVG]
type = ChangeState
TriggerAll = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "xy" || command = "yz" || command = "xz" || command = "b"
triggerall = prevstateno != [710,711]
triggerall = !var(8)
triggerall = !var(9)
triggerall = ((helper(7520*(numhelper(7520)>0)),var(10)) = 0)
trigger1 = stateno = [150,153]
trigger1 = time > 0
value = 710

[State -1,Run]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype= S
triggerall = command = "FF"
trigger1 = ctrl
value = 100

[State -1, Back Run]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = S
triggerall = command = "BB"
trigger1 = ctrl
value = 105

[State -1, Air Jump]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "holdup"
triggerall = var(0)
triggerall = !var(8)
triggerall = !(var(6)&512)
triggerall = !var(3)
trigger1 = stateno = 50
trigger2 = stateno = 10910
trigger3 = stateno = 5210 && ctrl
trigger4 = stateno = 11110 && anim = 10044
trigger5 = (stateno = [110,116])
value = 45

[State -1, Air Dash]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "FF"
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = pos y <= -5
trigger1 = ctrl && stateno != 111 && stateno != 116
trigger2 = stateno = 11110 && anim = 10044
trigger3 = stateno = 111 || stateno = 116 && time >= 5
value = 110

[State -1, Air Back Dash]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "BB"
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(18)
triggerall = pos y <= -5
trigger1 = ctrl && stateno != 111 && stateno != 116
trigger2 = stateno = 11110 && anim = 10044
trigger3 = (stateno = 111 || stateno = 116) && time >= 5
value = 115

;==============================================================================

[State -1, 1200]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "463214x" || command = "463214y" || command = "463214z" || command = "463214b" || (var(28)&2**3) || (var(28)&2**4) || (var(28)&2**5)
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 220
trigger3 = stateno = 410
trigger4 = stateno = 420
trigger5 = stateno = 195 && time >= 20
trigger6 = stateno = 5201
value = 1200

[State -1, 1000]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "236x" || command = "236y" || command = "236z" || command = "236b" || (var(28)&2**0) || (var(28)&2**1) || (var(28)&2**2)
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 220
trigger3 = stateno = 410
trigger4 = stateno = 420
trigger5 = stateno = 195 && time >= 20
trigger6 = stateno = 5201
value = 1000

[State -1, 1000]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command="214x"||var(28)&2**6)&&!numhelper(1155)&&!numhelper(1158)||(command="214y"||var(28)&2**7)&&!numhelper(1156)||(command="214z"||var(28)&2**8)&&!numhelper(1157)||(command="214b"||var(28)&2**19)&&!numhelper(1155)&&!numhelper(1158)
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 220
trigger3 = stateno = 410
trigger4 = stateno = 420
trigger5 = stateno = 195 && time >= 20
trigger6 = stateno = 5201
value = 1100

[State -1, 1000]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = (command="214x"||var(28)&2**6)&&!numhelper(1155)&&!numhelper(1158)||(command="214y"||var(28)&2**7)&&!numhelper(1156)||(command="214z"||var(28)&2**8)&&!numhelper(1157)||(command="214b"||var(28)&2**19)&&!numhelper(1155)&&!numhelper(1158)
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ctrl
trigger2 = stateno = 620
trigger3 = stateno = 910
value = 1101

[State -1, Dodge]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !(var(54)+helper(10000),var(54)>=1)
triggerall = command = "xyz" || command = "b"
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(24)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
trigger2 = stateno = 220 && animelemtime(6) < 0
value = 300

;------------------------------------------------------------------------------

[State -1, 11200]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "463214x" || command = "463214y" || command = "463214z" || command = "463214b" || (var(28)&2**3) || (var(28)&2**4) || (var(28)&2**5)
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
value = 11200

[State -1, 11000]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "236x" || command = "236y" || command = "236z" || command = "236b" || (var(28)&2**0) || (var(28)&2**1) || (var(28)&2**2)
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
value = 11000

[State -1, 11000/Air]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "236x" || command = "236y" || command = "236z" || command = "236b" || (var(28)&2**0) || (var(28)&2**1) || (var(28)&2**2)
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || stateno = 45 || stateno = [100,105]
trigger2 = stateno = 10600
trigger3 = stateno = 10605
trigger4 = stateno = 10610
trigger5 = stateno = 10620
trigger6 = stateno = 10625
trigger7 = stateno = 10630
trigger8 = stateno = 10910
trigger9 = (stateno = [110,116])
value = 11010

[State -1, 11100]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command="214x"||var(28)&2**6)&&!numhelper(1155)&&!numhelper(1158)||(command="214y"||var(28)&2**7)&&!numhelper(1156)||(command="214z"||var(28)&2**8)&&!numhelper(1157)||(command="214b"||var(28)&2**19)&&!numhelper(1155)&&!numhelper(1158)
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 10200
trigger3 = stateno = 10202
trigger4 = stateno = 10210
trigger5 = stateno = 10220 && animelemtime(5) < 1
trigger6 = stateno = 10221
trigger7 = stateno = 10300
trigger8 = stateno = 10310
trigger9 = stateno = 10320 && animelemtime(5) < 1
trigger10 = stateno = 10400
trigger11 = stateno = 10410
trigger12 = stateno = 10500
trigger13 = stateno = 10510
trigger14 = stateno = 195 && time >= 20
trigger15 = stateno = 5201
value = 11100

[State -1, 11100/Air]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = (command="214x"||var(28)&2**6)&&!numhelper(1155)&&!numhelper(1158)||(command="214y"||var(28)&2**7)&&!numhelper(1156)||(command="214z"||var(28)&2**8)&&!numhelper(1157)||(command="214b"||var(28)&2**19)&&!numhelper(1155)&&!numhelper(1158)
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || stateno = 45 || stateno = [100,105]
trigger2 = stateno = 10600
trigger3 = stateno = 10605
trigger4 = stateno = 10610
trigger5 = stateno = 10620
trigger6 = stateno = 10625
trigger7 = stateno = 10630
trigger8 = stateno = 10910
trigger9 = (stateno = [110,116])
value = 11110

;==============================================================================
[State -1, Stand ON Attack]
type = null;ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "236s" || (var(28)&2**9)
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(19)
triggerall = stateno != 900
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1) || stateno = 40
trigger2 = stateno = 200
trigger3 = stateno = 210
trigger4 = stateno = 215
trigger5 = stateno = 220
trigger6 = stateno = 400
trigger7 = stateno = 410
trigger8 = stateno = 415
trigger9 = stateno = 420
trigger10 = stateno = 195 && time >= 20
trigger11 = stateno = 5201
value = 10950

[State -1, Stand ON]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "a"
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(19)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 10900

[State -1, Stand ON(Air)]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "a"
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
triggerall = !var(19)
triggerall = stateno != 910
trigger1 = ctrl
value = 10910

[State -1, Stand OFF]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "a"
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(19)
triggerall = stateno != 10900
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 900

[State -1, Stand OFF(Air)]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "a"
triggerall = var(0)
triggerall = !var(8)
triggerall = !var(19)
triggerall = stateno != 10910
triggerall = (stateno != [110,116])
trigger1 = ctrl
value = 910

;==============================================================================
[State -1,  Throw]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "z" && command != "holddown" && (command = "holdfwd" || command = "holdback")
triggerall = p2bodydist x = [-23,23]
triggerall = p2statetype != A && p2statetype != L && p2movetype != H
triggerall = !((prevstateno = [100,105]) && time < 8)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ctrl
value = 800

[State -1, SLA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "x" || (command = "b" && (var(24)>0||(var(54)+helper(10000),var(54)>=1)))) && command != "holddown"
triggerall = !var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
trigger2 = StateNo = 200 && (prevstateno != [100,105]) && animelemtime(4) >= 0
trigger3 = StateNo = 400 && (prevstateno != [100,105]) && animelemtime(4) >= 1
value = 200

[State -1, SMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = p2bodydist x <= 12
triggerall = command = "y" && command != "holddown"
triggerall = !var(0)
triggerall = !var(8)
triggerall = stateno != [100,105]
trigger1 = ctrl
value = 215

[State -1, SMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "y" || (command = "z" && (stateno != [100,105]) && var(9)))  && command != "holddown"
triggerall = !var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 210

[State -1, SHA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "z" && command != "holddown"
triggerall = !var(0)
triggerall = !var(8)
triggerall = (!var(9) || (stateno = [100,105]))
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 220

[State -1, CLA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "x" || (command = "b" && (var(24)>0||(var(54)+helper(10000),var(54)>=1)))) && command = "holddown"
triggerall = !var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
trigger2 = StateNo = 200 && (prevstateno != [100,105]) && animelemtime(4) >= 0
trigger3 = StateNo = 400 && (prevstateno != [100,105]) && animelemtime(4) >= 1
value = 400

[State -1, CMA2]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "y" && command = "holddown" && command = "holdfwd"
triggerall = !var(0)
triggerall = !var(8)
trigger1 = ctrl
value = 415

[State -1, CMA(No Stand)]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "y" && command = "holddown"
triggerall = !var(0)
triggerall = !var(8)
triggerall = var(9)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 412

[State -1, CMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "y" && command = "holddown"
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 410

[State -1, CHA(No Stand)]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "z" && command = "holddown"
triggerall = !var(0)
triggerall = !var(8)
triggerall = var(9)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 422

[State -1, CHA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "z" && command = "holddown"
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 420

[State -1, ALA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "x" || command = "b"
triggerall = !var(0)
triggerall = !var(8)
trigger1 = ctrl
trigger2 = stateno = 910
value = 600

[State -1, AMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "y" || (command = "z" && var(9)) 
triggerall = !var(0)
triggerall = !var(8)
trigger1 = ctrl
trigger2 = stateno = 910
value = 610

[State -1, AHA(S)]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "z"
triggerall = !var(0)
triggerall = !var(8)
triggerall = !var(9)
trigger1 = ctrl
trigger2 = stateno = 910
value = 620

;------------------------------------------------------------------------------
;==============================================================================
[State -1, Stand Combo SLA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "x" || command = "b") || ((var(27)&2**0) || (var(27)&2**4) && !(var(27)&2**7))
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl
trigger1 = stateno = 10200 && (animelemtime(3)>=0 || movecontact)
value = 10300

[State -1, Stand Combo SMA2]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "y" && command != "holddown" && command = "holdfwd") || ((var(27)&2**1) && (var(27)&2**6) && !(var(27)&2**7))
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl
trigger1 = stateno = 10202 && (animelemtime(5)>=6 || movecontact)
value = 10311

[State -1, Stand Combo SMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "y" && command != "holddown") || ((var(27)&2**1) && !(var(27)&2**7))
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl
trigger1 = stateno = 10200 && (animelemtime(3)>=0 || movecontact)
trigger2 = stateno = 10202 && (animelemtime(5)>=6 || movecontact)
trigger3 = stateno = 10300 && (animelemtime(3)>=0 || movecontact)
trigger4 = stateno = 10400 && (animelemtime(4)>=0 || movecontact)
value = 10310

[State -1, Stand Combo SHA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ((command = "z" || (command = "x"&&stateno = 10300)) && (command != "holddown"||stateno=10210)) || ((var(27)&2**2 || (var(27)&2**0&&stateno = 10300)) && (!(var(27)&2**7)||stateno=10210))
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl
trigger1 = stateno = 10200 && (animelemtime(3)>=0 || movecontact)
trigger2 = stateno = 10210 && (animelemtime(10)>=1 || movecontact)
trigger3 = stateno = 10211 && (animelemtime(5)>=0 || movecontact)
trigger4 = stateno = 10310 && (animelemtime(8)>=1 || movecontact)
trigger5 = stateno = 10311 && (animelemtime(7)>=0 || movecontact)
trigger6 = stateno = 10400 && (animelemtime(4)>=0 || movecontact)
trigger7 = stateno = 10510 && (animelemtime(6)>=1 || movecontact)
value = 10320

[State -1, Stand Combo CMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ((command = "x" || command = "b") && command = "holddown") || ((var(27)&2**0) || (var(27)&2**4) && (var(27)&2**7))
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl
trigger1 = stateno = 10200 && (animelemtime(3)>=0 || movecontact)
trigger2 = stateno = 10400 && (animelemtime(4)>=0 || movecontact)
value = 10500

[State -1, Stand Combo CMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "y" && command = "holddown") || ((var(27)&2**1) && (var(27)&2**7))
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl
trigger1 = stateno = 10200 && (animelemtime(3)>=0 || movecontact)
trigger2 = stateno = 10400 && (animelemtime(4)>=0 || movecontact)
trigger3 = stateno = 10500 && (animelemtime(4)>=0 || movecontact)
value = 10510

[State -1, Stand Combo CHA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "z" && (command = "holddown"||stateno=10410)) || ((var(27)&2**2) && ((var(27)&2**7)||stateno=10410))
triggerall = var(0)
triggerall = !var(8)
triggerall = prevstateno != [100,105]
triggerall = !ctrl
trigger1 = stateno = 10200 && (animelemtime(3)>=0 || movecontact)
trigger2 = stateno = 10310 && (animelemtime(8)>=1 || movecontact) && prevstateno != 10200
trigger3 = stateno = 10400 && (animelemtime(4)>=0 || movecontact)
trigger4 = stateno = 10410 && (animelemtime(8)>=2 || movecontact)
trigger5 = stateno = 10510 && (animelemtime(8)>=2 || movecontact)
value = 10520

;------------------------------------------------------------------------------

[State -1, Stand SLA2]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "x" || command = "b") && command != "holddown" && command = "holdfwd"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl
value = 10202

[State -1, Stand SLA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "x" || command = "b") && command != "holddown"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 10200

[State -1, Stand SMA2]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "y" && command != "holddown" && ((stateno=[100,105])||command = "holdfwd")
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 10211

[State -1, Stand SMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "y" && command != "holddown"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl
value = 10210

[State -1, Stand SHA2]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "z" && command != "holddown" && ((stateno=[100,105])||command = "holdback")
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 10221

[State -1, Stand SHA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "z" && command != "holddown"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl
value = 10220

[State -1, Stand CLA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = (command = "x" || command = "b") && command = "holddown"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 10400

[State -1, Stand CMA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "y" && command = "holddown"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 10410

[State -1, Stand CHA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = command = "z" && command = "holddown"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl || ((stateno = 100 || stateno = 105) && time > 1)
value = 10420

[State -1, Stand ASA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "x" || command = "y" || command = "z" || command = "b"
triggerall = command = "holddown" && command = "holdfwd"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl
trigger2 = stateno = 10910
trigger3 = (stateno = [110,116])
value = 10630

[State -1, Stand ALA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "x" || command = "b"
triggerall = var(0)
triggerall = !var(8)
trigger1 = fvar(14)
trigger1 = ctrl
trigger2 = fvar(14)
trigger2 = stateno = 10910
trigger3 = (stateno = [110,116])
value = 10605

[State -1, Stand ALA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "x" || command = "b"
triggerall = var(0)
triggerall = !var(8)
trigger1 = !fvar(14)
trigger1 = ctrl
trigger2 = !fvar(14)
trigger2 = stateno = 10910
value = 10600

[State -1, Stand ALM]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "y"
triggerall = var(0)
triggerall = !var(8)
trigger1 = ctrl
trigger2 = stateno = 10910
trigger3 = (stateno = [110,116])
value = 10610

[State -1, Stand AHA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "z"
triggerall = var(0)
triggerall = !var(8)
trigger1 = fvar(14)
trigger1 = ctrl
trigger2 = fvar(14)
trigger2 = stateno = 10910
trigger3 = (stateno = [110,116])
value = 10625

[State -1, Stand AHA]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = command = "z"
triggerall = var(0)
triggerall = !var(8)
trigger1 = !fvar(14)
trigger1 = ctrl
trigger2 = !fvar(14)
trigger2 = stateno = 10910
value = 10620

;------------------------------------------------------------------------------

[State -1, 挑発]
type = ChangeState
triggerall = !var(59)
triggerall = roundstate = [2,3]
triggerall = statetype != A
triggerall = command = "start"
trigger1 = ctrl
value = 195

;------------------------------------------------------------------------------
