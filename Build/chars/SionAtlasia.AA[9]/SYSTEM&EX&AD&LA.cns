;---------------------------------------------------------------------------
;C避け
[Statedef 750]
Type    = S
Physics = S
VelSet = 0,0
Ctrl = 0
Anim = 750
SprPriority = -1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 0
V = 36
Value = Ceil(-20*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = Var(36) < 0
Trigger1 = Time = 0
V = 36
Value = 0

[State -1]
Type = PowerAdd
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Var(13) = 0
Trigger1 = Time = 0
Value = Ceil(-500*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Var(13) = [1,4]
Trigger1 = Time = 0
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s750, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s750, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = PosAdd
Trigger1 = Time = [5,9]
X = 6

[State -1] 
Type = PosAdd
Trigger1 = Time = [10,14]
X = 4

[State -1] 
Type = PosAdd
Trigger1 = Time = [15,19]
X = 3

[State -1]
Type = PalFX
Trigger1 = Time = [0,14]
Time = 1
Add = 150-Var(54),150-Var(54),150-Var(54)

[State -1]
Type = VarAdd
Trigger1 = Time = [5,14]
V = 54
Value = 15

[State -1]
Type = VarSet
Trigger1 = Time = 15
V = 54
Value = 0

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Helper
Trigger1 = Time >= 1
StateNo = 855
ID = 856
Ownpal = 1
IgnoreHitPause = 0
Persistent = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = [1,25]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;E避け
[Statedef 751]
Type    = S
Physics = S
VelSet = 0,0
Ctrl = 0
Anim = 751
SprPriority = -1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 0
V = 36
Value = Ceil(-20*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = Var(36) < 0
Trigger1 = Time = 0
V = 36
Value = 0

[State -1]
Type = PalFX
Trigger1 = Time = [0,14]
Time = 1
Add = 150-Var(54),150-Var(54),150-Var(54)

[State -1]
Type = VarAdd
Trigger1 = Time = [5,14]
V = 54
Value = 15

[State -1]
Type = VarSet
Trigger1 = Time = 15
V = 54
Value = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s760, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s760, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlayerPush
Trigger1 = 1
Value = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Helper
Trigger1 = Time >= 1
StateNo = 855
ID = 856
Ownpal = 1
IgnoreHitPause = 0
Persistent = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = [1,21]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;空中避け
[Statedef 760]
Type    = A
Physics = A
Ctrl = 0
Anim = 760
SprPriority = -1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 0
V = 36
Value = Ceil(-40*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = Var(36) < 0
Trigger1 = Time = 0
V = 36
Value = 0

[State -1]
Type = PowerAdd
Trigger1 = PrevStateNo = 252 || (PrevStateNo = [600,699]) || PrevStateNo = 2300
Trigger1 = Var(13) = 0
Trigger1 = Time = 0
Value = Ceil(-500*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = PrevStateNo = 252 || (PrevStateNo = [600,699]) || PrevStateNo = 2300
Trigger1 = Var(13) = [1,4]
Trigger1 = Time = 0
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = PrevStateNo = 252 || (PrevStateNo = [600,699]) || PrevStateNo = 2300
Trigger1 = Time = 0
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = VelSet
TriggerAll = Vel X >= 2
TriggerAll = Var(57)%10 != [4,5]
Trigger1 = Time = 0
X = 2

[State -1] 
Type = VelSet
Trigger1 = Time = 0
Y = -6.6

[State -1] 
Type = Turn
Trigger1 = Time = 15
Trigger1 = P2Dist X < 0

[State -1]
Type = PalFX
Trigger1 = Time = [0,10]
Time = 1
Add = 150-Var(54),150-Var(54),150-Var(54)

[State -1]
Type = VarAdd
Trigger1 = Time = [1,9]
V = 54
Value = 15

[State -1]
Type = VarSet
Trigger1 = Time = 10
V = 54
Value = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s760, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s760, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Time >= 1
StateNo = 855
ID = 857
Ownpal = 1
IgnoreHitPause = 0
Persistent = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,9]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
; ゲージ溜め
[Statedef 850]
Type    = S
Physics = S
Anim    = 850
Ctrl    = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 6
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s850, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Anim = 850
Trigger1 = Time = 7
Anim = 10850
ID = 10850
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
RemoveTime = -1
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [7,56]
Value = Ceil(FVar(30)*5)

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [57,106]
Value = Ceil(FVar(30)*10)

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [107,156]
Value = Ceil(FVar(30)*15)

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [157,206]
Value = Ceil(FVar(30)*20)

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time = [207,256]
Value = Ceil(FVar(30)*25)

[State -1]
Type = PowerAdd
Trigger1 = Anim = 850
Trigger1 = Time >= 257
Value = Ceil(FVar(30)*30)

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 100
Trigger1 = Anim = 850
Trigger1 = Time >= 7
V = 36
Value = 1
IgnoreHitPause = 1

[State -1] 
Type = ChangeAnim
TriggerAll = Var(59) <= 0
TriggerAll = Time >= 22
TriggerAll = Anim = 850
Trigger1 = Command != "ABC溜め" && Command != "X溜め"
Trigger2 = Command = "holdup" || Command = "holddown" || Command = "holdfwd" || Command = "holdback"
Trigger3 = Power >= 3343
Value = 851

[State -1]
Type = Explod
TriggerAll = NumExplod(10850) = 1
TriggerAll = Anim = 851
Trigger1 = Time%10= 9
Anim = 10851
ID = 10851
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
TriggerAll = NumExplod(10850) = 1
TriggerAll = Anim = 851
Trigger1 = Time%10!= 9
Trigger1 = AnimTime = 0
Anim = 10852
ID = 10851
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
BindTime = -1
RemoveOnGetHit = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = RemoveExplod
TriggerAll = NumExplod(10850) = 1
TriggerAll = Anim = 851
Trigger1 = Time%10= 9
Trigger2 = AnimTime = 0
ID = 10850

[State -1] 
Type = ChangeState
Trigger1 = Anim = 851
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;サーキットスパーク
[Statedef 860]
Type     = S
MoveType = A
Physics  = S
Anim     = 860
Ctrl     = 0
VelSet = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
TriggerAll = Var(57)%10 != 2
Trigger1 = AnimTime < -1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 2
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PosSet
Trigger1 = Time = 0
Y = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = EnvShake
Trigger1 = Time = 12
Time  = 15
Ampl  = 5
Freq  = 90

[State -1]
Type = PowerSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
FV = 29
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = 2 || Var(13) = 4 || Var(49) > 1
V = 13
Value = 9
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(49) > 1
V = 49
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
V = 14
Value = 3000
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
V = 16
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 0
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = Explod
TriggerAll = RoundState = 2
TriggerAll = Var(0)%10 = 0
TriggerAll = NumExplod(25600) = 0
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
Anim = 25600
PosType = P1
Pos = 0, -60
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 5
ID = 25600

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 6
StateNo = 8020
PosType = P1
Pos = 0, -65
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8020

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [1,5]
V = 13
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [1,5]
Trigger1 = Var(14) > 0
V = 14
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 12
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s860, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFX
Trigger1 = Time = [11,31]
Time = 1
Add = 160-Var(55),160-Var(55),160-Var(55)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [12,31]
V = 55
Value = 8

[State -1]
Type = BGPalFX
Trigger1 = Time = [0,34]
Time = 1
Add = 0-Var(54),0-Var(54),0-Var(54)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [0,19]
V = 54
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [30,34]
V = 54
Value = -20

[State -1]
Type = VarRangeSet
Trigger1 = AnimTime = 0
First = 54
Last = 55
Value = 0

[State -1]
Type = Explod
Trigger1 = Time = 2
Anim = 10860
ID = 10860
Postype = P1
Pos = 0,-60
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Time = 12
Attr = S, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = 4, Hit
PauseTime = 1, 11+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -2,-10*FVar(36)
Air.Velocity = IfElse(Var(50)=1,-2,-5),IfElse(Var(50)=1,-10*FVar(36),-2)
Down.Velocity = -6,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff =0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
P2StateNo = 865
ID = 860
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; サーキットスパーク・投げられている相手
[Statedef 865]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet   = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
Persistent = 1

[State -1]
Type = HitFallSet
Trigger1 = 1
Value = 0
Persistent = 0

[State -1]
Type = OffSet
Trigger1 = Time >= 0
X = 1
Persistent = 4

[State -1]
Type = OffSet
Trigger1 = Time >= 2
X = -1
Persistent = 4

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = 1
Value = 5030

[State -1]
Type = ChangeState
Trigger1 = GetHitVar(HitShakeTime) = 0
Value = 866

;---------------------------------------------------------------------------
; サーキットスパーク・相手の空中の状態
[Statedef 866]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet = -2,-10

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
Persistent = 1

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = .54

[State -1] 
Type = HitFallSet
TriggerAll = Vel Y >= 3
TriggerAll = Vel Y + Pos Y >= -50
Trigger1 = 1
Value = 1

[State -1] 
Type = SelfState
TriggerAll = Vel Y > 3
TriggerAll = Pos Y >= -20
TriggerAll = Alive
TriggerAll = CanRecover
Trigger1 = Command != "holddown" && Command != "holdup"
Trigger1 = Command = "fwd" || Command = "back" || Command = "holdfwd" || Command = "holdback"
Trigger2 = Command != "holddown" && Command != "holdfwd" && Command != "holdback"
Trigger2 = Command = "up" || Command = "holdup"
Value = 5200 

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

;---------------------------------------------------------------------------
;エリアルスパーク
[Statedef 870]
Type     = A
MoveType = A
Physics  = A
Anim     = 870
Ctrl     = 0
VelSet = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
TriggerAll = Var(57)%10 != 2
Trigger1 = Time = [0,21]
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 2
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = EnvShake
Trigger1 = Time = 12
Time  = 15
Ampl  = 5
Freq  = 90

[State -1]
Type = PowerSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
FV = 29
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = 2 || Var(13) = 4 || Var(49) > 1
V = 13
Value = 9
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -2]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(49) > 1
V = 49
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
V = 14
Value = 3000
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
V = 16
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 0
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = Explod
TriggerAll = RoundState = 2
TriggerAll = Var(0)%10 = 0
TriggerAll = NumExplod(25600) = 0
Trigger1 = Time = 0
Trigger1 = Var(13) = [6,9]
Anim = 25600
PosType = P1
Pos = 0, -60
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
SprPriority = 5
ID = 25600

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 6
StateNo = 8020
PosType = P1
Pos = 0, -65
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8020

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [1,5]
V = 13
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Trigger1 = Var(13) = [1,5]
Trigger1 = Var(14) > 0
V = 14
Value = 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 12
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s870, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFX
Trigger1 = Time = [11,30]
Time = 1
Add = 160-Var(55),160-Var(55),160-Var(55)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [11,30]
V = 55
Value = 8

[State -1]
Type = BGPalFX
Trigger1 = Time = [0,30]
Time = 1
Add = 0-Var(54),0-Var(54),0-Var(54)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [0,19]
V = 54
Value = 5

[State -1]
Type = VarAdd
Trigger1 = Time = [25,30]
V = 54
Value = -20

[State -1]
Type = VarRangeSet
Trigger1 = AnimTime = 0
First = 54
Last = 55
Value = 0

[State -1]
Type = VelSet
Trigger1 = Time <= 29
Y = 0

[State -1]
Type = Explod
Trigger1 = Time = 2
Anim = 10860
ID = 10860
Postype = P1
Pos = 0,-55
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Time = 12
Attr = A, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = 4, Hit
PauseTime = 1, 11+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -2,-10*FVar(36)
Air.Velocity = IfElse(Var(50)=1,-2,-5),IfElse(Var(50)=1,-10*FVar(36),-2)
Down.Velocity = -6,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff =0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
P2StateNo = 865
ID = 870
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

;---------------------------------------------------------------------------
; 立ち　EX-シールド
[Statedef 900]
Type    = S
Physics = S
Anim    = 900
Ctrl    = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 4
Trigger1 = Time = 0
FV = 26
Value = 1

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != [100,101]
X = 0
Y = 0

[State -1]
Type = VarSet
Trigger1 = Time = [0,5]
V = 15
Value = Power

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 1
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Time = [0,IfElse((Var(57)%10=2),5,4)]
Attr = SCA, NP, SP, HP
StateNo = 901+IfElse((Var(57)%10=[2,3]),2,0)
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo != [400,409]
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo = [400,409]
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = HitDef
Trigger1 =! MoveContact
Trigger1 = Time > IfElse((Var(57)%10=2),5,4)

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 940
ID = 940
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 941
ID = 950
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 12
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 20,-75
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
Trigger2 =! MoveHit
Trigger2 = AnimElem = 2, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Command = "holdfwd" && Command = "ab" && Command != "holddown" && Command != "holdup" || Command = "holdfwd" && Command = "y" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = [0,2]
V = 45
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Command = "holdback" && Command = "ab" && Command != "holddown" && Command != "holdup" || Command = "holdback" && Command = "y" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = [0,2]
V = 45
Value = 105
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 != [3,5]
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x" || Command = "y"
Trigger1 = Time = [0,2]
V = 45
Value = 750
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x" || Command = "y"
Trigger1 = Time = [0,2]
V = 45
Value = 751
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 3
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = FVar(13) = 0
TriggerAll = FVar(29) <= 3000
Trigger1 = Time = [0,2]
V = 45
Value = 850
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 != 2
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = Time = [0,2]
Trigger1 = Var(13) = 1 || Var(13) = 5
Trigger2 = Var(57)%10 = 1 || Var(57)%10 = 4
Trigger2 = FVar(29) >= 1000
Trigger2 = Var(13) = 0
V = 45
Value = 960
IgnoreHitPause = 1

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = MoveHit = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = MoveHit = 1
Value = Var(45)

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
TriggerAll = Var(57)%10 != 2
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 5
Trigger1 = FVar(29) > 0
Value = 902

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち　EX-シールド2
[Statedef 901]
Type    = S
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 903

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 20,-75
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
Value = Var(45)

[State -1]
Type = ChangeState
Trigger1 = Time = 19
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ち　シールド
[Statedef 902]
Type    = S
Physics = S
Anim    = 902
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 26
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 902
V = 15
Value = Power

[State -1]
Type = VarSet
Trigger1 = Anim = 903
V = 15
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 902
Attr = SCA, NP, SP, HP
StateNo = 903
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo != [400,409]
Trigger1 = Anim = 902
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = ReversalDef
Trigger1 = P2StateNo = [400,409]
Trigger1 = Anim = 902
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 12
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 20,-75
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
Trigger2 =! MoveHit
Trigger2 = Anim = 903
Trigger2 = AnimElem = 1, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 902
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = IfElse(Var(57)%10=3,45,60)
Trigger4 = FVar(29) = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 903

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Time%3 = 0 || Time = 10 || Time = 20 || Time = 31 || Time = 41
Trigger1 = Anim = 902
Value = -5

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Time%3 != 0 && Time != 10 && Time != 20 && Time != 31 && Time != 41
Trigger1 = Anim = 902
Value = -6

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 != 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 902
Value = -2

[State -1] 
Type = ChangeState
Trigger1 = Anim = 903
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;立ち　シールド2
[Statedef 903]
Type    = S
MoveType= I
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 26
Value = 0

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 903

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 20,-75
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 202
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
Value = Var(45)

[State -1]
Type = ChangeState
Trigger1 = Time = 19
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 立ちシールドカウンター
[Statedef 905]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
Anim = 905
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time <= 11
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s905, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s905, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 1
Value = s905, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 8
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = 0,-11.5*FVar(36)
Guard.Velocity = -9
Air.Velocity = IfElse(Var(50)=1,0,-6),IfElse(Var(50)=1,-11.5*FVar(36),-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -6,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 905
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(50+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*50), Ceil(0.85*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.50*FVar(31)*50)

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,0,IfElse(Var(50)=2,-5,0))
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -11
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ　EX-シールド
[Statedef 910]
Type    = C
Physics = C
Anim    = 910
Ctrl    = 0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 4
Trigger1 = Time = 0
FV = 26
Value = 1

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != [100,101]
X = 0
Y = 0

[State -1]
Type = VarSet
Trigger1 = Time = [0,5]
V = 15
Value = Power

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 1
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Time = [0,IfElse((Var(57)%10=2),5,4)]
Attr = SCA, NP, SP, HP
StateNo = 911+IfElse((Var(57)%10=[2,3]),2,0)
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo != [200,209]) && (P2StateNo != [600,609])
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [600,609])
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = HitDef
Trigger1 =! MoveContact
Trigger1 = Time > IfElse((Var(57)%10=2),5,4)

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 940
ID = 941
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 941
ID = 951
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 12
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 25,-35
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
Trigger2 =! MoveHit
Trigger2 = AnimElem = 2, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Command = "holdfwd" && Command = "ab" && Command != "holddown" && Command != "holdup" || Command = "holdfwd" && Command = "y" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = [0,2]
V = 45
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Command = "holdback" && Command = "ab" && Command != "holddown" && Command != "holdup" || Command = "holdback" && Command = "y" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = [0,2]
V = 45
Value = 105
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 != [3,5]
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x" || Command = "y"
Trigger1 = Time = [0,2]
V = 45
Value = 750
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x" || Command = "y"
Trigger1 = Time = [0,2]
V = 45
Value = 751
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 3
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = FVar(13) = 0
TriggerAll = FVar(29) <= 3000
Trigger1 = Time = [0,2]
V = 45
Value = 850
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 != 2
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = Time = [0,2]
Trigger1 = Var(13) = 1 || Var(13) = 5
Trigger2 = Var(57)%10 = 1 || Var(57)%10 = 4
Trigger2 = FVar(29) >= 1000
Trigger2 = Var(13) = 0
V = 45
Value = 960
IgnoreHitPause = 1

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = MoveHit = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = MoveHit = 1
Value = Var(45)

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
TriggerAll = Var(57)%10 != 2
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 5
Trigger1 = FVar(29) > 0
Value = 912

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ　EX-シールド2
[Statedef 911]
Type    = C
MoveType= I
Physics = C
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 913

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 25,-35
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 302
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
Value = Var(45)

[State -1]
Type = ChangeState
Trigger1 = Time = 19
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ　シールド
[Statedef 912]
Type    = C
Physics = C
Anim    = 912
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 26
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 912
V = 15
Value = Power

[State -1]
Type = VarSet
Trigger1 = Anim = 913
V = 15
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 912
Attr = SCA, NP, SP, HP
StateNo = 913
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo != [200,209]) && (P2StateNo != [600,609])
Trigger1 = Anim = 912
Trigger1 =! MoveContact
Reversal.Attr = C, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = ReversalDef
Trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [600,609])
Trigger1 = Anim = 912
Trigger1 =! MoveContact
Reversal.Attr = SA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 12
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 25,-35
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
Trigger2 =! MoveHit
Trigger2 = Anim = 913
Trigger2 = AnimElem = 1, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 912
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = IfElse(Var(57)%10=3,45,60)
Trigger4 = FVar(29) = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 913

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Time%3 = 0 || Time = 10 || Time = 20 || Time = 31 || Time = 41
Trigger1 = Anim = 912
Value = -5

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Time%3 != 0 && Time != 10 && Time != 20 && Time != 31 && Time != 41
Trigger1 = Anim = 912
Value = -6

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 != 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 912
Value = -2

[State -1] 
Type = ChangeState
Trigger1 = Anim = 913
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ　シールド2
[Statedef 913]
Type    = C
MoveType= I
Physics = C
Juggle  = 0
Ctrl = 0
VelSet = 0,0
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(75*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 26
Value = 0

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 913

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 25,-35
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 202
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
StateNo = 8070
ID = 8070
PosType = P1
Pos = 0,-55
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
TriggerAll = Var(45) >= 1
Trigger1 = Time = 1
Value = Var(45)

[State -1]
Type = ChangeState
Trigger1 = Time = 19
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
; しゃがみシールドカウンター
[Statedef 915]
Type    = C
MoveType= A
Physics = C
Juggle  = 0
Ctrl = 0
Anim = 915
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time <= 11
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = PosAdd
Trigger1 = Time = 6
X = 3
IgnoreHitPause = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 3
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s905, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s905, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 1
Value = s905, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = C, SA
Damage    = Ceil(FVar(0)*(150-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = LA
Priority  = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = -1,-4.4
Guard.Velocity = -9
Air.Velocity = -1*Var(50),IfElse(Var(50)=1,-4.4*FVar(36),-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -3,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 915
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*150), Ceil(0.85*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.50*FVar(31)*150)

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-5,IfElse(Var(50)=2,-5,-5))
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -11
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 180
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
; 空中　EX-シールド
[Statedef 920]
Type    = A
Physics = A
Anim    = 920
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 4
Trigger1 = Time = 0
FV = 26
Value = 1

[State -1]
Type = VarSet
Trigger1 = Time = [0,10]
V = 15
Value = Power

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s900, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s200, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 1
Value = s200, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Time = [0,9]
Attr = SCA, NP, SP, HP
StateNo = 921+IfElse((Var(57)%10=[2,3]),2,0)
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 =! MoveContact
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
NumHits = 0
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 940
ID = 942
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 941
ID = 952
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 12
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 32,-74
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosFreeze
Trigger1 = MoveHit = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(30*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 =! MoveHit
Trigger1 = AnimElem = 2, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll =! MoveHit
TriggerAll = Var(57)%10 != 2
Trigger1 = Command != "A溜め"
Trigger1 = Command != "B溜め"
Trigger1 = Command != "C溜め"
Trigger1 = Command = "Z溜め"
Trigger1 = Time = 5
Trigger1 = FVar(29) > 0
Value = 922

;---------------------------------------------------------------------------
;空中　EX-シールド2
[Statedef 921]
Type    = A
MoveType= I
Physics = A
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(30*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 923

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 32,-74
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 502
IgnoreHitPause = 1

[State -1]
Type = PosFreeze
Trigger1 = Time = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

;---------------------------------------------------------------------------
; 空中　シールド
[Statedef 922]
Type    = A
Physics = A
Anim    = 922
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 26
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 922
V = 15
Value = Power

[State -1]
Type = VarSet
Trigger1 = Anim = 923
V = 15
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = MoveHit = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Anim = 922
Attr = SCA, NP, SP, HP
StateNo = 923
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
Trigger1 = Anim = 922
Trigger1 =! MoveContact
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
NumHits = 0
Pausetime = 13,17
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
ID = 900
GetPower = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000))),0

[State -1]
Type = Helper
Trigger1 = MoveHit = 1 && HitPauseTime = 12
StateNo = 10910
ID = 10915+Var(57)%10
PosType = P1
Pos = 32,-74
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = TargetDrop
Trigger1 = NumTarget >= 5
ExcludeID = 900
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = MoveHit
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = MoveHit = 2
V = 36
Value = Ceil(30*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 =! MoveHit
Trigger1 = Anim = 923
Trigger1 = AnimElem = 1, = 1
V = 36
Value = Ceil(-50*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) < 0
V = 36
Value = 0
IgnoreHitPause = 1

[State -1] 
Type = ChangeAnim
TriggerAll = Anim = 922
Trigger1 = Command != "Z溜め"
Trigger2 = MoveHit
Trigger3 = Time = IfElse(Var(57)%10=3,45,60)
Trigger4 = FVar(29) = 0 && Var(13) = 0
Trigger5 = Command = "a"
Trigger6 = Command = "b"
Trigger7 = Command = "c"
Value = 923

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Time%3 = 0 || Time = 10 || Time = 20 || Time = 31 || Time = 41
Trigger1 = Anim = 922
Value = -5

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 = 3
Trigger1 = Var(13) = 0
Trigger1 = Time%3 != 0 && Time != 10 && Time != 20 && Time != 31 && Time != 41
Trigger1 = Anim = 922
Value = -6

[State -1]
Type = PowerAdd
Trigger1 = Var(57)%10 != 3
Trigger1 = Var(13) = 0
Trigger1 = Anim = 922
Value = -2

;---------------------------------------------------------------------------
;空中　シールド2
[Statedef 923]
Type    = A
MoveType= I
Physics = A
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
TriggerAll = Var(0)/10000%10 = 0
TriggerAll = FVar(7) = [1,39]
TriggerAll = EnemyNear(Var(3)),Var(35) > -1
Trigger1 = Time = 1
V = 36
Value = Ceil(30*IfElse(Var(57)%10=1,1.00,IfElse(Var(57)%10=2,1.25,IfElse(Var(57)%10=3,1.11,1.20))))
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Var(36) > 100
V = 36
Value = 100
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
FV = 26
Value = 0

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = Ceil(50*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 1
V = 15
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s902, 0+Random%5
Channel = 1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Time = 1
Value = 923

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10910
ID = 10910+Var(57)%10
PosType = P1
Pos = 32,-74
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = 1
V = 2
Value = 202
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = Time = 1
Time = 4
MoveTime = 4
IgnoreHitPause = 1
Persistent = 0

;---------------------------------------------------------------------------
; 空中シールドカウンター
[Statedef 925]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
Anim = 925
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time <= 11
Value = , NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = Time <= 8
Y = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 1
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 1
Value = s905, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 1
Value = s905, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 1
Value = s905, 2
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = A, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = -1.8,-7.8*FVar(36)
Guard.Velocity = -9
Air.Velocity = -1.8*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -3.6,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 925
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(41+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(0.85*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.8,IfElse(Var(50)=2,-5.6,-4.8))
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -11
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
; シールドバンカー
[Statedef 930]
Type      = S
Physics   = S
Ctrl      = 0
Anim      = 930
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != [100,101]
X = 0
Y = 0

[State -1]
Type = PowerAdd
Trigger1 = Var(13) = 0
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
Value = Ceil(IfElse(Var(57)%10=2,-1000,-500)*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = Var(13) = [1,4]
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = PrevStateNo != [150,153]
Trigger1 = Var(57)%10 != 2
Trigger1 = Time = [0,6]
V = 15
Value = Power

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = Command = "jump"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 45
Value = 41

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = Command = "jump2"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 45
Value = 42

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = Command = "FF" || Command = "holdfwd" && Command = "ab" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 45
Value = 100

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = Command = "BB" || Command = "holdback" && Command = "ab" && Command != "holddown" && Command != "holdup"
Trigger1 = Time = 0
Trigger1 = PrevStateNo = [150,153]
V = 45
Value = 105

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Command = "holddown"
TriggerAll = Command != "holdfwd" && Command != "holdback"
TriggerAll = Command = "ab" || Command = "x" || Command = "y"
Trigger1 = Time = 0
V = 45
Value = 751
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(49) = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "abc" || Command = "x" && Command != "holddown" && Command != "holdfwd" && Command != "holdback"
TriggerAll = Var(45) = 0
TriggerAll = Time = 0
TriggerAll = PrevStateNo = [150,153]
Trigger1 = Var(13) = 1 || Var(13) = 5
Trigger2 = Var(57)%10 = 1 || Var(57)%10 = 4
Trigger2 = FVar(29) >= 1000
Trigger2 = Var(13) = 0
V = 45
Value = 960

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "41236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = (Var(13) = [1,3]) || Var(13) = 5
V = 45
Value = 3000
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "41236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = Var(13) = 4
V = 45
Value = 3050
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "623a" || Command = "623b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "623a",1100,1110)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "623c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2100
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(48) = 1
TriggerAll = Command = "236a" || Command = "236b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "236a",1500,1550)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(48) = 1
TriggerAll = Command = "236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2500
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(48) = 2
TriggerAll = Command = "236a" || Command = "236b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "236a",1600,1650)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(48) = 2
TriggerAll = Command = "236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2600
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(47) = 0
TriggerAll = Var(48) = 3
TriggerAll = Command = "236a" || Command = "236b" || Command = "236c"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = 1710
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(48) = 3
TriggerAll = Command = "236a" || Command = "236b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "236a",1700,1750)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(48) = 3
TriggerAll = Command = "236c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2700
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 1 || Var(57)/100%10 = 4
TriggerAll = Var(49) = 0
TriggerAll = Command = "214214c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = Var(13) = [1,5]
V = 45
Value = 2900
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 4
TriggerAll = Command = "22a" || Command = "22b" || Command = "22c"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "22a",1411,IfElse(Command = "22b",1421,1431))
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 3
TriggerAll = Command = "22a" || Command = "22b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "22a",1800,1850)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 3
TriggerAll = Command = "22c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2800
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 1
TriggerAll = Command = "421a" || Command = "421b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "421a",1300,1350)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 2
TriggerAll = Command = "421a" || Command = "421b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "421a",1301,1351)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = [1,2]
TriggerAll = Command = "421c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2300
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = [1,2]
TriggerAll = Command = "214a" || Command = "214b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "214a",1000,1050)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 3
TriggerAll = Command = "214a" || Command = "214b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "214a",1001,1051)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 4
TriggerAll = Command = "214a" || Command = "214b"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Command = "214a",1002,1052)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Command = "214c"
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Time = 0
TriggerAll = Var(45) = 0
Trigger1 = FVar(29) >= 1000
Trigger1 = Var(13) = 0
Trigger2 = Var(13) = [1,5]
V = 45
Value = 2000
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 1
TriggerAll = Command = "22z"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = IfElse(Var(47)=13,1400,1410)
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(57)/100%10 = 4
TriggerAll = Command = "22z"
TriggerAll = Var(45) = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
V = 45
Value = 1401
IgnoreHitPause = 1

[State -1]
Type = VarSet
TriggerAll = Var(59) = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) = 0
TriggerAll = PrevStateNo = [150,153]
TriggerAll = Command = "az" || Command = "x" && Command != "holddown"
TriggerAll = Time = 0
Trigger1 = Command = "holdfwd"
Trigger2 = Command = "holdback"
V = 45
Value = 800
IgnoreHitPause = 1

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
TriggerAll = Var(57)%10 = 4
TriggerAll = Var(45) >= 1
Trigger1 = PrevStateNo = [150,153]
Trigger1 = NumHelper(8060) = 0
Trigger1 = Time = 0
StateNo = 8060
PosType = P1
Pos = 0, -55
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8060

[State -1]
Type = ChangeState
TriggerAll = Var(57)%10 = 4
Trigger1 = Var(45) >= 1
Value = Var(45)

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = PrevStateNo = [150,153]
Trigger1 = NumHelper(8050) = 0
Trigger1 = Time = 0
StateNo = 8050
PosType = P1
Pos = 0, -55
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8050

[State -1]
Type = HitOverRide
Trigger1 =! MoveHit
Trigger1 = Time = [0,5]
Attr = SCA, NP, SP, HP
StateNo = 931
IgnoreHitPause = 1

[State -1]
Type = ReversalDef
TriggerAll = AnimElem = 1
Trigger1 = Var(57)%10 != 2
Trigger2 = Var(57)%10 = 2
Trigger2 = PrevStateNo != [150,153]
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
Pausetime = 13,13
HitSound = S901,0+Random%2
SparkNo = -1
Guard.SparkNo = -1
GetPower = 20,0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s900, 0

[State -1]
Type = Explod
Trigger1 = Var(57)%10 = 2
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
Anim = 10935
ID = 10935
Pos = -12,-52
PosType = P1
Ownpal = 1
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = Var(57)%10 = 2
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Time = 0
StateNo = 940
ID = 932
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1

[State -1]
Type = Helper
TriggerAll = Time = 0
Trigger1 = Var(57)%10 = 2 && PrevStateNo != [150,153]
Trigger2 = Var(57)%10 != 2
StateNo = 940
ID = 931
Name = "Helper"
Pos = 0,0
PosType = P1
Ownpal = 1

[State -1]
Type = Helper
Trigger1 = MoveHit
StateNo = 10930
ID = 10930
PosType = P1
Pos = 35,-55
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 932

[State -1]
Type = NotHitBy
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Var(57)%10 = 2
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
type = PlaySnd
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Var(57)%10 = 2
Trigger1 = Time = 1
value = s901, 0 + Random%2

[State -1]
Type = VarSet
Trigger1 = PrevStateNo = [150,153]
Trigger1 = Var(57)%10 = 2
V = 55
Value = 1

[State -1]
Type = ChangeState
Trigger1 = MoveHit = 1
Trigger2 = PrevStateNo = [150,153]
Trigger2 = Var(57)%10 = 2
Trigger2 = Time = 13
Value = 933

;---------------------------------------------------------------------------
; シールドバンカー2
[Statedef 931]
Type      = S
Physics   = S
Ctrl      = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = PowerSet
Trigger1 = Time = 0
Value = Var(15)
IgnoreHitPause = 1

[State -1]
Type = PowerAdd
Trigger1 = Time = 0
Value = 20
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 15
Value = 0

[State -1]
Type = Helper
Trigger1 = Time = 0
StateNo = 10930
ID = 10930
PosType = P1
Pos = 35,-55
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 0
Value = s901, 0+Random%2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Pause
Trigger1 = Time = 0
Time = 13
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = ChangeState
Trigger1 = Time = 1
Value = 933

;---------------------------------------------------------------------------
;シールドバンカー
[Statedef 932]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 932

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 3
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 935
PosType = P1
Pos = 25,0
Anim = 935
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
Removetime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s930, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.30
FV = 1
Value = 0.30
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 != 4
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 6, 6+Var(41)
Guard.PauseTime = 6,6
HitSound = s10, 5
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
Guard.Velocity = -9
Air.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -3.2,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 6
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 930
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(0.85*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 = 4
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(110-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 6, 6+Var(41)
Guard.PauseTime = 6,6
HitSound = s10, 5
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
Guard.Velocity = -9
Air.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -3.2,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 6
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 930
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil(0.85*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.6,IfElse(Var(50)=2,-5.2,-4.6))
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -11
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 220
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;シールド成立/強化シールドバンカー
[Statedef 933]
Type      = S
Movetype  = A
Physics   = S
Ctrl      = 0
Anim      = 932

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 2 && Var(55) = 1
Value = , NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 != 2 || Var(57)%10 = 2 && Var(55) != 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s30, 3
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 1
ID = 935
PosType = P1
Pos = 25,0
Anim = 935
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
Removetime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.30
FV = 1
Value = 0.30
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 != 4
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(50-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 6, 6+Var(41)
Guard.PauseTime = 6,6
HitSound = s10, 5
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
Guard.Velocity = -9
Air.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -3.2,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 6
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 930
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(35+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil(0.85*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 = 2
Trigger1 = Var(55) = 1
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(0-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 6, 6+Var(41)
Guard.PauseTime = 6,6
HitSound = s10, 5
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = -1,-7.6
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,-1,-6),IfElse(Var(50)=1,-7.6,-2)
AirGuard.Velocity = -4,-1
Down.Velocity = -6,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 938
ID = 930
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)%10 = 4
Trigger1 = AnimElem = 4
Attr = S, SA
Damage = Ceil(FVar(0)*(110-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 6, 6+Var(41)
Guard.PauseTime = 6,6
HitSound = s10, 5
GuardSound = s120, 0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Air.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
Guard.Velocity = -9
Air.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.8*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -3.2,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 6
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 930
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil(0.85*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.50*FVar(31)*100)

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,-4.6,IfElse(Var(50)=2,-5.2,-4.6))
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -11
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 220
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; Hガードキャンセルシールドバンカー・投げられている相手
[Statedef 938]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet   = 0,0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
Persistent = 1

[State -1]
Type = HitFallSet
Trigger1 = 1
Value = 0
Persistent = 0

[State -1]
Type = OffSet
Trigger1 = Time >= 0
X = 1
Persistent = 4

[State -1]
Type = OffSet
Trigger1 = Time >= 2
X = -1
Persistent = 4

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = 1
Value = 5030

[State -1]
Type = ChangeState
Trigger1 = GetHitVar(HitShakeTime) = 0
Value = 939

;---------------------------------------------------------------------------
; Hガードキャンセルシールドバンカー・相手の空中の状態
[Statedef 939]
Type     = A
MoveType = H
Physics  = N
Ctrl     = 0
VelSet = -1,-8.4

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
Persistent = 1

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State -1]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State -1] ;これは重力これは毎フレーム事に0.4の力が加わります
Type = VelAdd
Trigger1 = 1
y = .54

[State -1] 
Type = HitFallSet
TriggerAll = Vel Y >= 3
TriggerAll = Vel Y + Pos Y >= -50
Trigger1 = 1
Value = 1

[State -1] 
Type = SelfState
TriggerAll = Vel Y > 3
TriggerAll = Pos Y >= -20
TriggerAll = Alive
TriggerAll = CanRecover
Trigger1 = Command != "holddown" && Command != "holdup"
Trigger1 = Command = "fwd" || Command = "back" || Command = "holdfwd" || Command = "holdback"
Trigger2 = Command != "holddown" && Command != "holdfwd" && Command != "holdback"
Trigger2 = Command = "up" || Command = "holdup"
Value = 5200 

[State -1] 
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

;---------------------------------------------------------------------------
; イニシアティブヒート
[Statedef 950]
Type    = U
Physics = U
Ctrl    = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
FV = 24
Value = 16
IgnoreHitPause = 1

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1
IgnoreHitPause = 1

[State -1]
Type = EnvShake
Trigger1 = Time = 0
Time  = 10
Ampl  = 5
Freq  = 90
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
V = 14
Value = 10
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 0
V = 13
Value = 2
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 0
V = 36
Value = 100
IgnoreHitPause = 1

[State -2]
Type = PlaySnd
TriggerAll = Var(0)/100%10 = 0
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Value = s25000, 0

[State -1]
Type = LifeSet
TriggerAll = Life < FVar(9)
TriggerAll = Alive && Life > 0 && !LoseKO && RoundState = 2
TriggerAll = Var(57)%10 = 3
Trigger1 = RoundState = 2
Trigger1 = Time = 0
Value = Ceil(FVar(9))
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = NumExplod(10955) = 0
Trigger1 = Time = 0
Anim = 10955
ID = 10955
Postype = P1
Pos = 0,-115
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = StateType != A
Trigger1 = Time = 0
Anim = 10952
ID = 10952
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = StateType != A
Trigger1 = Time = 0
Anim = 10950
ID = 10950
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = StateType != A
Trigger1 = Time = 0
Anim = 10951
ID = 10951
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = NumHelper(8040) = 0
Trigger1 = Time = 0
StateNo = 8040
PosType = P1
Pos = 0, -60
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8040

[State -1] 
Type = Pause
Trigger1 = Time = 0
Time = 1
MoveTime = 1
IgnoreHitPause = 1
Persistent = 0

[State -1] 
Type = ChangeState
Trigger1 = Time = 0
Value = IfElse(StateType=A,51,0)

;---------------------------------------------------------------------------
;強制開放
[Statedef 960]
Type     = S
MoveType = A
Physics  = S
Anim     = 960
Ctrl     = 0
VelSet = 0,0
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,19]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = EnvShake
Trigger1 = Time = 15
Time  = 25
Ampl  = 5
Freq  = 90

[State -1]
Type = PlaySnd
Trigger1 = Time = 15
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s960, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFX
Trigger1 = Time = [14,34]
Time = 1
Add = 160-Var(55),160-Var(55),160-Var(55)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [15,34]
V = 55
Value = 8

[State -1]
Type = VarSet
Trigger1 = AnimTime = 0
V = 55
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 14
V = 14
Value = IfElse(Var(13)=0,10,60)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 14
V = 13
Value = IfElse(Var(13)=0,2,4)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 14
V = 36
Value = 100
IgnoreHitPause = 1

[State -2]
Type = PlaySnd
TriggerAll = Var(0)/100%10 = 0
Trigger1 = RoundState = 2
Trigger1 = Time = 14
Value = s25000, 0

[State -1]
Type = LifeSet
TriggerAll = Life < FVar(9)
TriggerAll = Alive && Life > 0 && !LoseKO && RoundState = 2
TriggerAll = Var(57)%10 = 3
Trigger1 = RoundState = 2
Trigger1 = Time = 14
Value = Ceil(FVar(9))
IgnoreHitPause = 1

[State -1]
Type = Explod
TriggerAll = Var(57)%10 != 3
Trigger1 = Time = 14
Anim = 10965
ID = 10965
Postype = Left
Pos = Ceil(160*FVar(37)),0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10952
ID = 10952
Postype = P1
Pos = -20,10
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10950
ID = 10950
Postype = P1
Pos = -20,10
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 16
Anim = 10951
ID = 10951
Postype = P1
Pos = -20,10
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 18
Anim = 10952
ID = 10952
Postype = P1
Pos = -4,2
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 18
Anim = 10950
ID = 10950
Postype = P1
Pos = -4,2
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 18
Anim = 10951
ID = 10951
Postype = P1
Pos = -4,2
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 16
StateNo = 8030
PosType = P1
Pos = 5, -90
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8030

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10952
ID = 10952
Postype = P1
Pos = -20,8
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10950
ID = 10950
Postype = P1
Pos = -20,8
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10951
ID = 10951
Postype = P1
Pos = -20,8
Vel = 1,0
Accel = .25,0
Facing = -1
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10952
ID = 10952
Postype = P1
Pos = -4,8
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10950
ID = 10950
Postype = P1
Pos = -4,8
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = [22,34]
Anim = 10951
ID = 10951
Postype = P1
Pos = -4,8
Vel = -1,0
Accel = -.25,0
Ownpal = 1
SprPriority = 3
Persistent = 6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = Time = 15
Attr = S, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = 4, Hit
PauseTime = 1, 6+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -5
Air.Velocity = -3,-3
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)
P2StateNo = 5630
ID = 5600

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = Time = 15
Attr = S, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = 4, Hit
PauseTime = 1, 6+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -5
Air.Velocity = -3*Var(50),IfElse(Var(50)=1,-3*FVar(36),-2)
Down.Velocity = -6,-2
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -4*Var(50)
Down.CornerPush.VelOff = -8
Fall.XVelocity = 0
Down.Bounce = 1
YAccel = .54
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)
ID = 960

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;空中強制開放
[Statedef 970]
Type     = A
MoveType = A
Physics  = A
Anim     = 970
Ctrl     = 0
VelSet = 0,0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,12]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
Trigger1 = Var(57)%10 = 4
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 14

[State -1]
Type = EnvShake
Trigger1 = Time = 10
Time  = 25
Ampl  = 5
Freq  = 90

[State -1]
Type = PlaySnd
Trigger1 = Time = 10
Value = s960, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s960, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PalFX
Trigger1 = Time = [9,29]
Time = 1
Add = 160-Var(55),160-Var(55),160-Var(55)
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = Time = [10,29]
V = 55
Value = 8

[State -1]
Type = VarSet
Trigger1 = Time = 30
V = 55
Value = 0

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 9
V = 14
Value = IfElse(Var(13)=0,10,60)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = Time = 9
V = 13
Value = IfElse(Var(13)=0,2,4)
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
TriggerAll = Var(0)/10000%10 = 0
Trigger1 = Time = 9
V = 36
Value = 100
IgnoreHitPause = 1

[State -2]
Type = PlaySnd
TriggerAll = Var(0)/100%10 = 0
Trigger1 = RoundState = 2
Trigger1 = Time = 9
Value = s25000, 0

[State -1]
Type = VelSet
Trigger1 = Time <= 27
Y = 0

[State -1]
Type = Helper
TriggerAll = Var(0)%10 = 0
Trigger1 = Time = 4
StateNo = 8040
PosType = P1
Pos = 0, -60
Ownpal = 1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
ID = 8040

[State -1]
Type = Explod
TriggerAll = Var(57)%10 != 3
Trigger1 = Time = 9
Anim = 10965
ID = 10965
Postype = Left
Pos = Ceil(160*FVar(37)),0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 6
Anim = 10970
ID = 10970
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = Time = 10
Attr = A, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = 4, Hit
PauseTime = 1, 6+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -5
Air.Velocity = -3,-3
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.cornerPush.VelOff = 0
Airguard.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
P2Facing = 1
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)
P2StateNo = 5630
ID = 5600

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = Time = 10
Attr = A, NA
Damage = Ceil(FVar(0)*(10-Var(4)%2))
AnimType = Hard
HitFlag = MAFD
Priority = 4, Hit
PauseTime = 1, 6+Var(41)
SparkNo = -1
Guard.SparkNo = -1
HitSound = s10, 2
Ground.Type = High
Air.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -5
Air.Velocity = -3*Var(50),IfElse(Var(50)=1,-3*FVar(36),-2)
Down.Velocity = -6,-2
Ground.CornerPush.VelOff = -6
Air.CornerPush.VelOff = -4*Var(50)
Down.CornerPush.VelOff = -8
Fall.XVelocity = 0
Down.Bounce = 1
YAccel = .54
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
GetPower = 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)
ID = 970

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

;---------------------------------------------------------------------------
;エーテライト・グランドEX
[Statedef 2000]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2000
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
TriggerAll = Var(57)/100%10 = [3,4]
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 52
Trigger1 = Var(2)/100%10 = 1
IgnoreHitPause = 1
FV = 12
Value = FVar(12)*0.65
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 2
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
V = 44
Value = 30

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 != 4
Trigger1 = AnimElem = 2
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = Time = [0,53]
Value = , NP, SP, HP
Time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = -5,-70
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 15, < 0
X = 2

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s2000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 0,1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 2
Value = s2000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 1
Trigger1 = AnimElem = 2
Value = s2000, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s115, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 11
Value = s30, 3
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 12
Trigger2 = AnimElem = 13
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(0-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 1,1
Guard.PauseTime = 6,6
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
AirGuard.CtrlTime = 7
Ground.Velocity = -7
Air.Velocity = -1.6*Var(50),IfElse(Var(50)=1,-7.4*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -3.2,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
P1StateNo = 2010
P2StateNo = 1061
ID = 2000
P2Facing = 1
Kill = 1
Guard.Kill = 0
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 250
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;エーテライト・グランドEX・投げている自分
[Statedef 2010]
Type    = S
MoveType= A
Physics = N
VelSet = 0,0
Anim = 2010

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = AnimElem = 9
FV = 28
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
FV = 28
Value = IfElse(Target,Const(Size.Head.Pos.Y)>-60,0,IfElse((Target,Const(Size.Head.Pos.Y)=[-80,-60]),1,2))

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 12
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 14
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 3
Channel = 6
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 6
Value = s2905, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 6
Anim = 2905
ID = 2906
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 1
Anim = 2915
ID = 2916
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 8
StateNo = 16000
ID = 16002
PosType = P2
Pos = 20,-50+Ceil(P2BodyDist Y/6)
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 10
StateNo = 16000
ID = 16002
PosType = P2
Pos = 20,-50+Ceil(P2BodyDist Y/6)
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 12
StateNo = 16000
ID = 16002
PosType = P2
Pos = 20,-50+Ceil(P2BodyDist Y/6)
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 14
StateNo = 16000
ID = 16002
PosType = P2
Pos = 20,-50+Ceil(P2BodyDist Y/6)
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = EnvShake
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 10
Trigger3 = AnimElem = 12
Trigger4 = AnimElem = 14
Time = 10
Freq = 90
Ampl = 6

[State -1]
Type = Width
Trigger1 = AnimElem = 7, <= 0
Edge = 165,0

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 165, 0

[State -1]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = 120, 0

[State -1]
Type = TargetLifeAdd
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 10
Trigger3 = AnimElem = 12
Trigger4 = AnimElem = 14
Value = -Ceil(FVar(0)*(35-Var(4)%2))

[State -1]
Type = TargetLifeAdd
TriggerAll = Var(49) > 1
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 10
Trigger3 = AnimElem = 12
Trigger4 = AnimElem = 14
Value = -15

[State -1]
Type = TargetPowerAdd
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 10
Trigger3 = AnimElem = 12
Trigger4 = AnimElem = 14
Value = Floor(FVar(31)/FVar(30)*38)

[State -1]
Type = HitAdd
Trigger1 = AnimElem = 10
Trigger2 = AnimElem = 12
Trigger3 = AnimElem = 14
Value = 1
IgnoreHitPause = 1

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 8
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 10
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 12
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 14
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 8
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 10
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 12
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 14
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 8
V = 6
Value = 10
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 10
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 12
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 14
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 8
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 10
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 12
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 14
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 8
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 10
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = AnimElem = 12
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 14
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.70*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
TriggerAll = Var(49) > 1
Trigger1 = AnimElem = 14
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 15
MoveType = I

[State -1]
Type = TargetState
Trigger1 = Time <= 19
Value = 1061
IgnoreHitPause = 1

[State -1]
Type = TargetState
Trigger1 = AnimElem = 8
Trigger2 = AnimElem = 10
Trigger3 = AnimElem = 12
Trigger4 = AnimElem = 14
Value = 1062

[State -1]
Type = Pause
Trigger1 = AnimElem = 8
Time = 10
MoveTime = 10
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = AnimElem = 10
Time = 10
MoveTime = 10
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = AnimElem = 12
Time = 10
MoveTime = 10
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Pause
Trigger1 = AnimElem = 14
Time = 10
MoveTime = 10
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;エーテライト・エアEX
[Statedef 2100]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2100
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
TriggerAll = Var(57)/100%10 = [3,4]
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 52
Trigger1 = Var(2)/100%10 = 1
IgnoreHitPause = 1
FV = 12
Value = FVar(12)*0.65
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 2
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,38]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 10,-48
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [31,35]
X = 5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 6
X = 2
Y = -10.4

[State -1]
Type = VelSet
Trigger1 = AnimElem = 14
X = 0

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 6
StateType = A
Physics = A

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s2100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 3
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 2, >= 29
Trigger1 = AnimElem = 14, < 0
Value = s2905, 0
Channel = 3
Persistent = 4

[State -1]
Type = Explod
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 6
Anim = 2926
ID = 2927
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 2, = 29
Anim = 2935
ID = 2936
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 4
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(80-Var(4)%2)),Ceil(FVar(1)*8)
HitFlag = MAFD
GuardFlag = M
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-12*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-12*FVar(36),-2)
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = IfElse(Var(49)>1,120,0)
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .54
ID = 2100
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(42+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(1)*5)
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = 0,-12*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-12*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = IfElse(Var(49)>1,120,0)
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .54
ID = 2101
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(42+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 6
Trigger2 = AnimElem = 7
Trigger3 = AnimElem = 8
Trigger4 = AnimElem = 9
Trigger5 = AnimElem = 10
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(1)*4)
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 3,3+Var(41)
Guard.PauseTime = 3,3
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = 0,-12*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-12*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
Palfx.Time = IfElse(Var(49)>1,120,0)
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .54
ID = 2101
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(32+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1] 
Type = TargetLifeAdd
Trigger1 = Var(49) > 1
Trigger1 = MoveHit = 1
Value = -10
Kill = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(49) > 1
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,0,IfElse(Var(50)=2,-5.8,0))
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -9
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;空中エーテライト・エアEX
[Statedef 2150]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2150
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 1
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,35]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 1
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = -2,-85
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 1
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 1
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 1
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = Time = [0,35]
X = 0
Y = 0

[State -1]
Type = VelSet
Trigger1 = AnimElem = 5
X = 1.2
Y = -10

[State -1]
Type = VelSet
Trigger1 = AnimElem = 13
X = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s2100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 3
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 2, >= 0
Trigger1 = AnimElem = 13, < 0
Value = s2905, 0
Channel = 3
Persistent = 4

[State -1]
Type = Explod
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 5
Anim = 2926
ID = 2927
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = Explod
Trigger1 = Var(49) > 1
Trigger1 = AnimElem = 2
Anim = 2935
ID = 2936
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 4
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(50-Var(4)%2)),Ceil(FVar(1)*5)
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = 0,-12*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-12*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = IfElse(Var(49)>1,120,0)
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .54
ID = 2150
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(42+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Trigger2 = AnimElem = 6
Trigger3 = AnimElem = 7
Trigger4 = AnimElem = 8
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(40-Var(4)%2)),Ceil(FVar(1)*4)
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 3,3+Var(41)
Guard.PauseTime = 3,3
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = 0,-12*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-12*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
Palfx.Time = IfElse(Var(49)>1,120,0)
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .54
ID = 2151
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(32+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 9
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(70-Var(4)%2)),Ceil(FVar(1)*7)
HitFlag = MAFD
GuardFlag = MA
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,6
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 7
Ground.Velocity = 0,-12*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-12*FVar(36),-2)
AirGuard.Velocity = -3,-1
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
Palfx.Time = IfElse(Var(49)>1,120,0)
Palfx.Mul =  255,255,255
Palfx.Add = -50,-50,-255
Palfx.SinAdd = 100,100,50,6
YAccel = .54
ID = 2151
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1] 
Type = TargetLifeAdd
Trigger1 = Var(49) > 1
Trigger1 = MoveHit = 1
Value = -10
Kill = 0
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = Var(49) > 1
Trigger1 = MoveHit = 1
FV = 38
Value = 3120
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,0,IfElse(Var(50)=2,-5.8,0))
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -9
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
;スライド・エアEX
[Statedef 2200]
Type    = A
MoveType= A
Physics = N
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2200
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 3
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 3
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,32]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 0,-70
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 3
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = VelSet
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 4
X = 9.2
Y = 8

[State -1]
Type = VelAdd
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 4, > 0
Y = .55

[State -1]
Type = PlaySnd
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 4
Value = s40, 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 3
Value = s2200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 2200
Trigger1 = AnimElem = 4
Attr = A, SA
AnimType  = Light
Damage    = Ceil(FVar(0)*(10-Var(4)%2)),Ceil(FVar(1)*10)
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,0
Guard.PauseTime = 8,8
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 7
Guard.Velocity = -4
AirGuard.Velocity = -3,-1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
P2Facing = 1
ID = 2200
P1StateNo = 2210
P2StateNo = 1220
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*10), Ceil(0.85*FVar(30)*10)
GivePower = Floor(FVar(31)*10), Floor(0.50*FVar(31)*10)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -6
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = PlaySnd
Trigger1 = Anim = 2200
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = s40, 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Anim = 2200
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 2200
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 2201

[State -1]
Type = StateTypeSet
Trigger1 = Anim = 2201
StateType = S
MoveType = I
Physics = S

[State -1]
Type = VelSet
Trigger1 = Anim = 2201
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = Anim = 2201
Y = 0

[State -1]
Type = CtrlSet
Trigger1 = Anim = 2201
Trigger1 = AnimElem = 1
Value = 1

[State -1]
Type = VarSet
Trigger1 = Anim = 2201
Trigger1 = AnimElem = 1
V = 11
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 2201
Trigger1 = AnimElem = 1
V = 12
Value = 0

[State -1]
Type = ChangeState
Trigger1 = Anim = 2201
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;スライド・エアEX・投げている自分
[Statedef 2210]
Type    = A
MoveType= A
Physics = N
VelSet = 0,0
Anim = 2210

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1] 
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Anim = 1212
FV = 28
Value = 0

[State -1] 
Type = VarSet
Trigger1 = Time = 0
FV = 28
Value = IfElse(Target,Const(Size.Head.Pos.Y)>-60,0,IfElse((Target,Const(Size.Head.Pos.Y)=[-80,-60]),1,2))

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Anim != [2210,2211]
V = 55
Value = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 6
V = 55
Value = 1

[State -1]
Type = Helper
Trigger1 = Time > 0
StateNo = 1805
ID = 1807
Ownpal = 1
IgnoreHitPause = 0
Persistent = 1

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 7, > 0
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 2211
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Var(55) < 4
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 6, > 0
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 2211
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Var(55) >= 4
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 6, > 0
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 1211
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 4, > 0
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 1212
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = Turn
TriggerAll = Var(59) <= 0
TriggerAll = Command = "holdfwd"
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 2
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 1, = 1

[State -1]
Type = Turn
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 2

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1212
Trigger1 = AnimElem = 1
Value = s40, 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Anim = 1212
Trigger1 = AnimElem = 1
Anim = 10052
ID = 10052
PosType = P1
Pos = 0,0
Ownpal = 1
Scale = 0.5,0.5
SprPriority = 0
IgnoreHitPause = 1
RemoveTime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = s2210, 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = s2210, 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = s2210, 2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = s2210, 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
Value = s2210, 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
Value = s10, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
StateNo = 16000
ID = 16002
PosType = P1
Pos = 0,-10
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
StateNo = 16000
ID = 16002
PosType = P1
Pos = 0,-10
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
StateNo = 16000
ID = 16002
PosType = P1
Pos = 0,-10
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
StateNo = 16000
ID = 16002
PosType = P1
Pos = 0,-10
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
StateNo = 16000
ID = 16002
PosType = P1
Pos = -20,-30
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = EnvShake
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Time = 10
Freq = 90
Ampl = 6

[State -1]
Type = EnvShake
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Time = 10
Freq = 90
Ampl = 6

[State -1]
Type = EnvShake
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Time = 10
Freq = 90
Ampl = 6

[State -1]
Type = EnvShake
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Time = 10
Freq = 90
Ampl = 6

[State -1]
Type = EnvShake
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
Time = 10
Freq = 90
Ampl = 6

[State -1]
Type = VelSet
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 7
X = -3
Y = -6.6

[State -1]
Type = VelSet
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 6
X = -3
Y = -8.2

[State -1]
Type = PosSet
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Trigger2 = Anim = 1211
Trigger2 = AnimElem = 1
Trigger3 = Anim = 1212
Trigger3 = AnimElem = 1
Y = 0

[State -1]
Type = VelSet
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Trigger2 = Anim = 1211
Trigger2 = AnimElem = 1
Trigger3 = Anim = 1212
Trigger3 = AnimElem = 1
X = 0
Y = 0

[State -1]
Type = VelSet
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 4
X = -5
Y = -3

[State -1]
Type = VelAdd
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 7, > 0
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 6, > 0
Y = .6

[State -1]
Type = VelAdd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 4, > 0
Y = .3

[State -1]
Type = Width
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 7, >= 0
Trigger2 = Anim = 2211
Edge = 25,25

[State -1]
Type = PosSet
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 2, <= 0
X = Target,Pos X-10*Facing
Y = Target,Const(Size.Head.Pos.Y)+Target,Pos Y+20

[State -1]
Type = TargetBind
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 7, = [0,5]
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 6, = [0,5]
Pos = 50, -30

[State -1]
Type = TargetBind
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 8, = [0,4]
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 7, = [0,4]
Pos = 48, -35

[State -1]
Type = TargetBind
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 9, = [0,4]
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 8, = [0,4]
Pos = 45, -40

[State -1]
Type = TargetBind
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 10, = [0,4]
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 9, = [0,4]
Pos = 25, -70

[State -1]
Type = TargetBind
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 11, = [0,4]
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 10, = [0,4]
Pos = -40, -55

[State -1]
Type = TargetBind
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 12, = [0,4]
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 11, = [0,4]
Pos = -40, -15

[State -1]
Type = TargetBind
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 13, >= 0
Trigger2 = Anim = 2211
Trigger2 = AnimElem = 12, >= 0
Pos = -35, -15

[State -1]
Type = TargetBind
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Pos = 0, -10

[State -1]
Type = TargetBind
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 5
Pos = 15, 5

[State -1]
Type = TargetBind
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
Pos = -20, -10

[State -1]
Type = TargetLifeAdd
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(70-Var(4)%2))
Kill = 0

[State -1]
Type = TargetLifeAdd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
Value = -Ceil(FVar(0)/(1.00-(0.08*FVar(4)))*(70-Var(4)%2))

[State -1]
Type = HitAdd
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitAdd
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitAdd
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitAdd
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitAdd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarAdd
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Var(55) = 0
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Var(55) = 1
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Var(55) = 2
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = Var(55) = 3
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = ChangeState
Trigger1 = Anim = 1212
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State -1]
Type = TargetState
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 7, < 0
Value = 1220
IgnoreHitPause = 1

[State -1]
Type = TargetState
Trigger1 = Anim = 2210
Trigger1 = AnimElem = 7
Value = 2221

[State -1]
Type = TargetState
Trigger1 = Anim = 2211
Trigger1 = AnimElem = 1
Value = 2222

[State -1]
Type = TargetState
Trigger1 = Anim = 1211
Trigger1 = AnimElem = 1
Value = 1222

;---------------------------------------------------------------------------
;スライド・エアEX・投げられている相手
[Statedef 2221]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 0

[State -1] 
Type = Turn
Trigger1 = Facing * EnemyNear,Facing != -1

[State -1]
Type = Width
Trigger1 = 1
Value = -50,-50

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 1221

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = Time = 0
Value = -90

[State -1]
Type = AngleSet
Trigger1 = Time = 16
Value = -150

[State -1]
Type = AngleSet
Trigger1 = Time = 21
Value = -210

[State -1]
Type = AngleSet
Trigger1 = Time = 26
Value = -270

[State -1] 
Type = SelfState
Trigger1 = Time >= 60
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;スライド・エアEX・投げられている相手2
[Statedef 2222]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State -1] 
Type = HitFallSet
Trigger1 = 1
Value = 0

[State -1] 
Type = Turn
Trigger1 = Facing * EnemyNear,Facing != -1

[State -1]
Type = Width
Trigger1 = 1
Value = -50,-50

[State -1]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 1221

[State -1]
Type = AngleDraw
Trigger1 = 1

[State -1]
Type = AngleSet
Trigger1 = Time = 9
Value = 0

[State -1]
Type = AngleSet
Trigger1 = Time = 15
Value = -90

[State -1]
Type = AngleSet
Trigger1 = Time = 31
Value = -150

[State -1]
Type = AngleSet
Trigger1 = Time = 36
Value = -210

[State -1]
Type = AngleSet
Trigger1 = Time = 41
Value = -270

[State -1] 
Type = SelfState
Trigger1 = Time >= 60
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;カッティング・シンクEX
[Statedef 2300]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2300
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 2
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,45]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 0,-60
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 3, > 0
StateNo = 1805
ID = 1808
Ownpal = 1
IgnoreHitPause = 0
Persistent = 1

[State -1]
Type = Helper
Trigger1 = Time = [31,36]
StateNo = 8100
ID = 8100
Postype = P1
Pos = 10,0
Ownpal = 1
Persistent = 1

[State -1]
Type = PosAdd
Trigger1 = Time = [31,32]
X = 11

[State -1]
Type = PosAdd
Trigger1 = Time = [33,34]
X = 9

[State -1]
Type = PosAdd
Trigger1 = Time = [35,36]
X = 7

[State -1]
Type = PosAdd
Trigger1 = Time = [37,38]
X = 5

[State -1]
Type = VelSet
Trigger1 = AnimElem = 8
X = 5
Y = -9.8

[State -1]
Type = VelAdd
Trigger1 = Time = [46,70]
X = -.2

[State -1]
Type = VelAdd
Trigger1 = AnimElem = 8, > 0
Trigger1 = AnimElem = 16, < 0
Y = .55

[State -1]
Type = VelSet
Trigger1 = AnimElem = 16
X = 0
Y = 0

[State -1]
Type = PosSet
Trigger1 = AnimElem = 16
Y = 0

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 8
StateType = A
Physics = N

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 16
StateType = S
MoveType = I
Physics = S

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1300, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s1310, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 9
Value = s30, 2
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 10
ID = 2305
PosType = P1
Pos = -20,20
Anim = 625
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
BindTime = -1
Removetime = -2
RemoveOnGetHit = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 16
Value = s40, 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarRandom
Trigger1 = MoveHit = 1
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 10, <= 0
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.70*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 10, > 0
Trigger1 = AnimElem = 12, <= 0
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 12, > 0
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 8
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 4, Hit
PauseTime = 6,6+Var(41)
Guard.PauseTime = 6,6
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-11.5*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-11.5*FVar(36),-2)
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 6
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 2300
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(53+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 10
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 4, Hit
PauseTime = 6,6+Var(41)
Guard.PauseTime = 6,6
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-11.5*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-11.5*FVar(36),-2)
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 6
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 2301
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(53+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 11
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-11.5*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-11.5*FVar(36),-2)
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 2301
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(57+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 12
Attr = A, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(120-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,5
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-11.5*FVar(36)
Guard.Velocity = -7
Air.Velocity = IfElse(Var(50)=1,0,-3),IfElse(Var(50)=1,-11.5*FVar(36),-2)
Down.Velocity = -2.8,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 2302
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = IfElse(P2MoveType = A,0,1)
Fall.RecoverTime = Ceil(57+Var(41)-FVar(35))
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1] 
Type = VarSet
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveContact = 1
FV = 25
Value = IfElse(P2StateType=A&&Var(50)=1,0,IfElse(Var(50)=2,-5.8,0))
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -9
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;威嚇射撃EX
[Statedef 2500]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2500
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
TriggerAll = Var(57)/100%10 = [3,4]
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 52
Trigger1 = Var(2)/100%10 = 1
IgnoreHitPause = 1
FV = 12
Value = FVar(12)*0.65
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 3
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 32,-78
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = ChangeState
TriggerAll = Var(47) <= 0
Trigger1 = AnimElem = 32
Value = 1510
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeAnim
TriggerAll = Var(47) <= 1
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 6
Trigger3 = AnimElem = 8
Trigger4 = AnimElem = 10
Trigger5 = AnimElem = 12
Trigger6 = AnimElem = 14
Trigger7 = AnimElem = 16
Trigger8 = AnimElem = 18
Trigger9 = AnimElem = 20
Trigger10 = AnimElem = 22
Trigger11 = AnimElem = 24
Trigger12 = AnimElem = 26
Value = 2500
Elem = 28
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 6
Trigger3 = AnimElem = 8
Trigger4 = AnimElem = 10
Trigger5 = AnimElem = 12
Trigger6 = AnimElem = 14
Trigger7 = AnimElem = 16
Trigger8 = AnimElem = 18
Trigger9 = AnimElem = 20
Trigger10 = AnimElem = 22
Trigger11 = AnimElem = 24
Trigger12 = AnimElem = 26
Trigger13 = AnimElem = 28
V = 47
Value = -1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s2500, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s2500, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 5, = [0,1]
Trigger2 = AnimElem = 7, = [0,1]
Trigger3 = AnimElem = 9, = [0,1]
Trigger4 = AnimElem = 11, = [0,1]
Trigger5 = AnimElem = 13, = [0,1]
Trigger6 = AnimElem = 15, = [0,1]
Trigger7 = AnimElem = 17, = [0,1]
Trigger8 = AnimElem = 19, = [0,1]
Trigger9 = AnimElem = 21, = [0,1]
Trigger10 = AnimElem = 23, = [0,1]
Trigger11 = AnimElem = 25, = [0,1]
Trigger12 = AnimElem = 27, = [0,1]
X = -1
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3, = 7
Value = s3105, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4, = 2
Trigger2 = AnimElem = 6, = 2
Trigger3 = AnimElem = 8, = 2
Trigger4 = AnimElem = 10, = 2
Trigger5 = AnimElem = 12, = 2
Trigger6 = AnimElem = 14, = 2
Trigger7 = AnimElem = 16, = 2
Trigger8 = AnimElem = 18, = 2
Trigger9 = AnimElem = 20, = 2
Trigger10 = AnimElem = 22, = 2
Trigger11 = AnimElem = 24, = 2
Trigger12 = AnimElem = 26, = 2
Value = s1505, 0
Channel = 4
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4, = 3
Trigger2 = AnimElem = 6, = 3
Trigger3 = AnimElem = 8, = 3
Trigger4 = AnimElem = 10, = 3
Trigger5 = AnimElem = 12, = 3
Trigger6 = AnimElem = 14, = 3
Trigger7 = AnimElem = 16, = 3
Trigger8 = AnimElem = 18, = 3
Trigger9 = AnimElem = 20, = 3
Trigger10 = AnimElem = 22, = 3
Trigger11 = AnimElem = 24, = 3
Trigger12 = AnimElem = 26, = 3
Value = s1505, 1
Channel = 5
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 7
ID = 1607
PosType = P1
Pos = 8,0
Anim = 1607
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 4
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1705
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 6, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1707
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 8, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1705
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 9
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 10, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1707
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 11
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 12, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1705
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 13
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 14, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1707
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 15
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 16, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1705
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 17
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 18, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1707
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 19
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 20, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1705
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 21
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 22, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1707
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 23
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 24, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1705
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 25
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 26, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1707
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 27
Anim = 1507
ID = 1507
PosType = P1
Pos = 50,-82
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Explod
Trigger1 = AnimElem = 28, = 2
ID = 1705
PosType = P1
Pos = 30,0
Anim = 1705
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
BindTime = -1
Removetime = -2

[State -1]
Type = Explod
Trigger1 = AnimElem = 29
Anim = 1507
ID = 1507
PosType = P1
Pos = 36,-98
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3, = 37
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 6, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 8, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 10, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 12, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 14, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 16, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 18, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 20, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 22, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 24, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 26, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 28, = 1
StateNo = 2505
ID = 2505
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 28, = 2
StateNo = 2505
ID = 2506
PosType = P1
Pos = 0,-80
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;シグマライザーEX
[Statedef 2600]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2600
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
TriggerAll = Var(57)/100%10 = [3,4]
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 52
Trigger1 = Var(2)/100%10 = 1
IgnoreHitPause = 1
FV = 12
Value = FVar(12)*0.65
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 3
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 32,-78
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4, = 1
V = 47
Value = 0

[State -1]
Type = ChangeState
TriggerAll = Var(47) <= 0
Trigger1 = AnimElem = 8
Value = 1510
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s2600, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3, = 7
Value = s3105, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1505, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 5, = 0
Trigger2 = AnimElem = 5, = 2
X = -3

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 5, = 1
Trigger2 = AnimElem = 5, = 3
Trigger3 = AnimElem = 5, = [4,7]
X = -2

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 5, = [8,11]
Trigger2 = AnimElem = 6, = 0
Trigger3 = AnimElem = 6, = 2
X = -1

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 1507
ID = 1507
PosType = P1
Pos = 36,-98
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3, = 37
StateNo = 2605
ID = IfElse(Var(47)=13,2605,IfElse((Var(47)=[11,12]),2606,IfElse((Var(47)=[6,10]),2607,2608)))
PosType = P1
Pos = 65,5
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 7
ID = 1607
PosType = P1
Pos = 8,0
Anim = 1607
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 36
ID = 1605
PosType = P1
Pos = 60,0
Anim = 1605
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;ホローポイントEX
[Statedef 2700]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2700
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
TriggerAll = Var(57)/100%10 = [3,4]
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 52
Trigger1 = Var(2)/100%10 = 1
IgnoreHitPause = 1
FV = 12
Value = FVar(12)*0.65
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 3
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 32,-78
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = AnimElem = 4, = 1
V = 47
Value = 0

[State -1]
Type = ChangeState
TriggerAll = Var(47) <= 0
Trigger1 = AnimElem = 8
Value = 1710
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s2600, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3, = 1
Value = s3105, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1505, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 5, = 0
Trigger2 = AnimElem = 5, = 2
X = -3

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 5, = 1
Trigger2 = AnimElem = 5, = 3
Trigger3 = AnimElem = 5, = [4,7]
X = -2

[State -1]
Type = PosAdd
Trigger1 = AnimElem = 5, = [8,11]
Trigger2 = AnimElem = 6, = 0
Trigger3 = AnimElem = 6, = 2
X = -1

[State -1]
Type = Explod
Trigger1 = AnimElem = 5
Anim = 1507
ID = 1507
PosType = P1
Pos = 36,-98
Vel = -1-Random%10/10.00,-2-Random%10/10.00
Accel = 0,0.22
Ownpal = 1
SprPriority = -5
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3, = 31
StateNo = 2605
ID = IfElse(Var(47)=13,2605,IfElse((Var(47)=[11,12]),2606,IfElse((Var(47)=[6,10]),2607,2608)))
PosType = P1
Pos = 65,5
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 1
ID = 1607
PosType = P1
Pos = 8,0
Anim = 1607
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 30
ID = 1605
PosType = P1
Pos = 60,0
Anim = 1605
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;トランスファーライドEX
[Statedef 2800]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2800
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
TriggerAll = Var(57)/100%10 = [3,4]
Trigger1 = Time = 0
Trigger1 = PrevStateNo = 52
Trigger1 = Var(2)/100%10 = 1
IgnoreHitPause = 1
FV = 12
Value = FVar(12)*0.65
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 1
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,37]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 1
StateNo = 6010
ID = 10001
Name = "EX_Effect"
Pos = 16,-38
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PowerAdd
Trigger1 = AnimElem = 1
Trigger1 = Var(13) = 0
Value = Ceil(-1000*IfElse(Var(57)%10=2,1.334,IfElse(Var(57)%10=3,1.115,1.0000)))

[State -1]
Type = VarAdd
Trigger1 = AnimElem = 1
Trigger1 = Var(13) = [1,4]
FV = 29
Value = IfElse(Var(13)=4,-500,-1000)

[State -1]
Type = VarSet
Trigger1 = AnimElem = 1
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 1, = 31
Anim = 10048
ID = 10048
Postype = P1
Pos = -15,5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 1, = 31
Anim = 10046
ID = 10046
Postype = P1
Pos = -15,5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 1, = 31
Anim = 10047
ID = 10047
Postype = P1
Pos = -15,5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 2, > 0
StateNo = 1805
ID = 1805
Ownpal = 1
IgnoreHitPause = 0
Persistent = 1

[State -1]
Type = VelSet
Trigger1 = AnimElem = 2
X = 6
Y = -6.6

[State -1]
Type = StateTypeSet
Trigger1 = AnimElem = 2
StateType = A
Physics = A

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s2200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 5
Attr = A, SA
AnimType  = Light
Damage    = Ceil(FVar(0)*(10-Var(4)%2)),Ceil(FVar(1)*10)
HitFlag = MAFD
GuardFlag = HA
Priority = IfElse(Var(57)%10=4,4,3), Hit
PauseTime = 0,0
Guard.PauseTime = 8,8
HitSound   = s10,0
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Guard.Velocity = -4
AirGuard.Velocity = -3,-1
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
P2Facing = 1
ID = 2800
P1StateNo = 2210
P2StateNo = 1220
Kill = 0
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*10), Ceil(0.85*FVar(30)*10)
GivePower = Floor(FVar(31)*10), Floor(0.50*FVar(31)*10)

[State -1] 
Type = VarSet
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = EnemyNear(Var(3)),BackEdgeBodyDist <= 0 || EnemyNear(Var(3)),FrontEdgeBodyDist <= 0
Trigger1 = MoveGuarded = 1
FV = 25
Value = -6
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

;---------------------------------------------------------------------------
; エーテライト・ライトニング
[Statedef 2900]
Type    = S
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 2900
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = AnimElem = 3
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 3
Anim = -1
Time = 45
MoveTime = 45
P2DefMul = 1
Darken = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 3
StateNo = 6010
ID = 10011
Name = "EX_Effect"
Pos = 8,-75
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
Trigger1 = Var(13) = [1,4]
FV = 29
Value = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s2900, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 3, = 14
Value = s2905, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 9
Anim = 2901
ID = 2901
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
RemoveTime = 36
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 14
Anim = 2901
ID = 2901
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
RemoveTime = 31
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 19
Anim = 2901
ID = 2901
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
RemoveTime = 26
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 24
Anim = 2901
ID = 2901
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
RemoveTime = 21
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 29
Anim = 2901
ID = 2901
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
RemoveTime = 16
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 34
Anim = 2901
ID = 2901
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
RemoveTime = 11
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 39
Anim = 2901
ID = 2901
PosType = P1
Pos = 0,0
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
Persistent = 0
RemoveTime = 6
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = [14,34]
Anim = 8700+Random%7
ID = 8700
PosType = P1
Pos = 6,-55
Random = 10,70
Scale = 0.5,0.5
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 5
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = [14,34]
Anim = 8750
ID = 8750
PosType = P1
Pos = 6,-55
Random = 35,70
Scale = 0.05,0.05
Vel = Random%30*0.1*IfElse(Random%2=0,1,-1),Random%30*0.1*IfElse(Random%2=0,1,-1)
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 5
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = [14,34]
Anim = 8750
ID = 8750
PosType = P1
Pos = 6,-55
Random = 35,70
Scale = 0.05,0.05
Vel = Random%30*0.1*IfElse(Random%2=0,1,-1),Random%30*0.1*IfElse(Random%2=0,1,-1)
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 5
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = [14,34]
Anim = 8750
ID = 8750
PosType = P1
Pos = 6,-55
Random = 35,70
Scale = 0.05,0.05
Vel = Random%30*0.1*IfElse(Random%2=0,1,-1),Random%30*0.1*IfElse(Random%2=0,1,-1)
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 5
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = [14,34]
Anim = 8750
ID = 8750
PosType = P1
Pos = 6,-55
Random = 35,70
Scale = 0.05,0.05
Vel = Random%30*0.1*IfElse(Random%2=0,1,-1),Random%30*0.1*IfElse(Random%2=0,1,-1)
Facing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 5
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 14
Anim = 2915
ID = 2916
PosType = P1
Pos = 0,-50
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 14
Anim = 2935
ID = 2936
PosType = P1
Pos = 0,0
Scale = 0.5,0.5
Facing = -1
VFacing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 16
Anim = 2915
ID = 2916
PosType = P1
Pos = 0,-50
Scale = 0.5,0.5
Facing = -1
VFacing = -1
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = Explod
Trigger1 = AnimElem = 3, = 16
Anim = 2935
ID = 2936
PosType = P1
Pos = 0,0
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
Persistent = 0
RemoveTime = -2
RemoveOnGetHit = 1
SuperMoveTime = 45

[State -1]
Type = VarSet
Trigger1 = AnimElem = 3, = 44
V = 49
Value = 501
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = AnimElem = 3, = 44
V = 13
Value = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = RoundState = 2
Trigger1 = AnimElem = 3, = 44
FV = 29
Value = 3000
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; バレルレプリカ
[Statedef 3000]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 3000
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,130]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = AnimElem = 25
StateNo = 6010
ID = 10002
Name = "EX_Effect"
Pos = 8,-116
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = PrevStateNo != 3060
Trigger1 = AnimElem = 25
Trigger1 = Var(13) = [1,4]
FV = 29
Value = 0

[State -1]
Type = VarSet
Trigger1 = AnimElem = 25
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = PosAdd
Trigger1 = Time = 0
X = 5

[State -1]
Type = PlaySnd
Trigger1 = PrevStateNo != 3060
Trigger1 = AnimElem = 2
Value = s3000, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = PrevStateNo = 3060
Trigger1 = AnimElem = 2
Value = s3060, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 22
Value = s1505, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 23
Value = s1505, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 22
Value = s3015, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 23
Value = s3015, 1
Channel = 2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 3005
ID = 3005
Postype = P1
Pos = 34,-90
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = PrevStateNo != 3060
Trigger1 = AnimElem = 21, = 1
StateNo = 3015
ID = 3015
Postype = P1
Pos = 11,-128
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Helper
Trigger1 = PrevStateNo = 3060
Trigger1 = AnimElem = 21, = 1
StateNo = 3015
ID = 3065
Postype = P1
Pos = 11,-128
Ownpal = 1
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 21
Anim = 10197
ID = 10197
Postype = P1
Pos = 12,5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 21
Anim = 10195
ID = 10195
Postype = P1
Pos = 12,5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 21
Anim = 10196
ID = 10196
Postype = P1
Pos = 12,5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 22
Anim = 3007
ID = 3007
Postype = P1
Pos = 0,0
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1

[State -1]
Type = Explod
Trigger1 = AnimElem = 22
Anim = 3008
ID = 3008
Postype = P1
Pos = 11,-45
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1] 
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; バレルレプリカBH
[Statedef 3050]
Type    = S
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 3050
SprPriority = 2
Facep2 = 1

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = SuperPause
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 2
Anim = -1
Time = 30
MoveTime = 30
P2DefMul = 1
Darken = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 2
V = 44
Value = 30

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = Helper
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 2
StateNo = 6010
ID = 10011
Name = "EX_Effect"
Pos = -15,-58
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = [1,4]
FV = 29
Value = 0

[State -1]
Type = VarSet
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 2
V = 43
Value = 425
IgnoreHitPause = 1

[State -1]
Type = Width
Trigger1 = Anim = 3050
Value = 10,0

[State -1] 
Type = ChangeAnim
Trigger1 = Anim = 3050
Trigger1 = AnimTime = 0
Value = 3051

[State -1]
Type = VarRandom
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 2
V = 1
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 2
Value = s1000, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 2
Value = s3050, 1
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 3
Value = s100, 0

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 1
Value = s101, 0

[State -1]
Type = PosAdd
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 1
X = 12

[State -1]
Type = VelSet
Trigger1 = Anim = 3050
Trigger1 = AnimElem = 2, >= 30
X = 12

[State -1]
Type = VelSet
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 1, = [0,2]
X = 2

[State -1]
Type = VelSet
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 2, = [0,2]
X = 1.5

[State -1]
Type = VelSet
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 3, = [0,2]
X = 1

[State -1]
Type = VelSet
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 4, = [0,2]
X = 0.5

[State -1]
Type = VelSet
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 5
X = 0

[State -1] 
Type = ChangeAnim
Trigger1 = Anim = 3050
Trigger1 = AnimTime = 0
Value = 3051

[State -1] 
Type = ChangeState
Trigger1 = Anim = 3051
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State -1] 
Type = ChangeState
Trigger1 = Anim = 3050
Trigger1 = Time >= 32
Trigger1 = P2BodyDist X = [0,19]
Trigger1 = P2BodyDist Y = [-60,0]
Value = 3060

;---------------------------------------------------------------------------
;バレルレプリカBH2
[Statedef 3060]
Type    = S
MoveType= A
Physics = S
Juggle  = 0
Ctrl = 0
VelSet = 0,0
Anim = 3060
SprPriority = 2

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Time = 10
V = 55
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,6]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = PosAdd
Trigger1 = Anim = 3060
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 6, < 0
X = 6

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3060
Trigger1 = AnimElem = 1
Value = s3050, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Anim = 3051
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 5
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 6
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 7
Value = 1
IgnoreHitPause = 1
Persistent = 1

[State -1]
Type = VarRandom
Trigger1 = Time = 0
V = 8
Range = 0,31
IgnoreHitPause = 1
Persistent = 0

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
Trigger1 = FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State -1]
Type = VarSet
Trigger1 = MoveHit = 1
V = 55
Value = 1
IgnoreHitPause = 1

[State -1]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 3060
Trigger1 = AnimElem = 6
Attr = S, HA
AnimType  = Up
Damage    = Ceil(FVar(0)*(90-Var(4)%2)),Ceil(FVar(1)*9)
HitFlag = MAFD
GuardFlag = M
Priority = 4, Hit
PauseTime = 10,10+Var(41)
Guard.PauseTime = 10,10
HitSound   = s10,2
GuardSound = s120,0
SparkNo = -1
Guard.SparkNo = -1
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-24.5
Guard.Velocity = 0
Air.Velocity = 0,IfElse(Var(50)=1,-24.5,-2)
Down.Velocity = 0,-2
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Fall.XVelocity = 0
Down.Bounce = 1
EnvShake.Time = 10
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .54
ID = 3060
Kill = 1
Guard.Kill = 0
Fall = 1
Air.Fall = 1
Fall.Recover = 0
GetPower = 0, 0
GivePower = Floor(FVar(31)/FVar(30)*38), Floor(0.50*FVar(31)/FVar(30)*38)

[State -1]
Type = Explod
Trigger1 = MoveHit = 1
Anim = 3110
ID = 3110
Postype = P1
Pos = -15,-25
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1

[State -1]
Type = MoveHitReset
Trigger1 = MoveContact
IgnoreHitPause = 1
Persistent = 1

[State -1] 
Type = ChangeAnim
Trigger1 = Anim = 3060
Trigger1 = Var(55) = 1
Value = 3061

[State -1]
Type = StateTypeSet
Trigger1 = Anim = 3060
Trigger1 = AnimElem = 8
MoveType = I
IgnoreHitPause = 1

[State -1] 
Type = ChangeState
Trigger1 = Anim = 3060
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State -1] 
Type = ChangeState
Trigger1 = Anim = 3061
Trigger1 = AnimTime = 0
Value = 3000

;---------------------------------------------------------------------------
; バレルレプリカ・オベリスク
[Statedef 3100]
Type    = S
MoveType = A
Physics = S
Anim    = 3100
Ctrl    = 0
VelSet  = 0,0

[State -1]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State -1]
Type = NotHitBy
Trigger1 = Time = [0,134]
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type = SuperPause
Trigger1 = AnimElem = 1
Anim = -1
Time = 100
MoveTime = 100
P2DefMul = 1
Darken = 0

[State -1]
Type = Helper
Trigger1 = AnimElem = 2
StateNo = 6010
ID = 10011
Name = "EX_Effect"
Pos = -6,-66
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
Trigger1 = AnimElem = 2
Trigger1 = Var(13) = [1,4]
FV = 29
Value = 0

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s3100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = Time = 5
Value = s3105, 0
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 17
Value = s1505, 0
Channel = 5
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 18
Value = s1505, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 17
Value = s3015, 0
Channel = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 18
Value = s3015, 1
Channel = 2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
Trigger1 = AnimElem = 19
Value = s30, 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 5
Anim = 3106
ID = 3106
Pos = 0,0
PosType = P1
Ownpal = 1
SprPriority = 3
BindTime = -1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = Time = 41
Anim = 3107
ID = 3107
Pos = 0,0
PosType = P1
Ownpal = 1
SprPriority = -2
BindTime = -1
IgnoreHitPause = 0
Persistent = 0
SuperMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 18
Anim = 3108
ID = 3108
Pos = 0,0
PosType = P1
Ownpal = 1
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 18
Anim = 3109
ID = 3109
Pos = 108,0
Scale = 1.0*FVar(37),1.0
PosType = P1
Ownpal = 1
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999

[State -1]
Type = Explod
Trigger1 = AnimElem = 18
Anim = 3110
ID = 3110
Pos = 0,0
PosType = P1
Ownpal = 1
SprPriority = 5
BindTime = -1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999

[State -1]
Type = Helper
Trigger1 = AnimElem = 16, = 9
StateNo = 3105
ID = 3105
Pos = 30,-47
PosType = P1
Ownpal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State -1]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1
