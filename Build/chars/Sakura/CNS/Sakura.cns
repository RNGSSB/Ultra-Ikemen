[data]
life = 1000
attack = 122
defence = 100
power = 5000
fall.defence_up = 50
liedown.time = 15
airjuggle = 15
sparkno = 2
guard.sparkno = 40
ko.echo = 0
volumescale = 155
volume = 155
intpersistindex = 51
floatpersistindex = 41

[size]
xscale = .83
yscale = 1.07         
ground.back = 20
ground.front = 20    
air.back = 12        
air.front = 12       
height = 60	     
attack.dist = 160   
proj.attack.dist = 90 
proj.doscale = 0     
head.pos = -5, -78   
mid.pos = 0, -47   
shadowoffset = 0     
draw.offset = 0,-2    

[velocity]
walk.fwd  = 3.9      
walk.back = -3.6     
run.fwd  = 7, 0    
run.back = -8.5,0
jump.neu = 0,-11.3    
jump.back = -3.8
jump.fwd = 3.5   
runjump.back = -0,0
runjump.fwd = 5,-11.3       
airjump.neu = 0,-11     
airjump.back = -3.55      
airjump.fwd = 3.5         

[movement]
airjump.num = 0    
airjump.height = 35  
yaccel = .61      
stand.friction = .8
crouch.friction = .8

;---------------------------------------------------------------------------
; Prewalking
[Statedef 21]
type    = S
physics = S
sprpriority = 1

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 21, 1]
type = VelSet
triggerall = enemy, stateno != 191
trigger1 = command = "holdfwd"
x = 1.7

[State 21, 2]
type = VelSet
triggerall = enemy, stateno != 191
trigger1 = command = "holdback"
x = -1.4

[State 21, 3]
type = VelSet
triggerall = enemy, stateno != 191
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = command = "holdfwd" && anim != 20
value = 20

[State 21, 4]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = command = "holdback" && anim != 21
value = 21

[State 21, 4]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = command != "holdfwd" && anim != 0
trigger1 = command != "holdback" && anim != 0
value = 0


[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 20, 0)

;-------------------------------------------------------------------------
;Super Jump
[Statedef 99]
type    = A
physics = A
ctrl = 1
velset = 0, -19

[State 700, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 51

[State 1000, FireB]
type = Explod
trigger1 = time = 0
anim = 8250
id = 8250
pos = -120, 9
scale = 0.54,0.48
sprpriority = 4
supermove = 1
ownpal = 1

[State 52,  Airjump Var]
type = VarSet
trigger1 = time = 0
v = 17
value = 1

[state 40, 11]
type = varset
trigger1 = time = 0
var(17) = 1


[State 91, VelAdd]
type = VelAdd
trigger1 = time > 1
y= -0.11

[State 91, VelAdd]
type = VelAdd
trigger1 = time > 40
y= -0.10


[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 0,2
volumescale = 190

[state veladd]
type = veladd
trigger1 = vel X< 4
trigger1 = command = "holdfwd" && command != "holdback"
x = 0.30

[state veladd]
type = veladd
trigger1 = vel X> -4
trigger1 = command != "holdfwd" && command = "holdback"
x = -0.0195

[State 999, 2a]
type = VelSet
trigger1 = Anim = 52
trigger1 = Time = [0,2]
x = 4

[State 999, 2b]
type = VelSet
trigger1 = Anim = 53
trigger1 = Time = [0,2]
x = -1.5

[State 1310, 6]
type = Turn
;trigger1 = Time = 10
trigger1 = p2dist X < -5

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 52

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 53

[State 9002, SelfState]
type = SelfState
trigger1 = time>10 && pos y >= 0
value = 52

;---------------------------------------------------------------------------
;Falling

[Statedef 1211]
type    = A
movetype= I
physics = A
anim = 48+20*(var(40))
sprpriority = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y= -0.21

[State 1211, Ctrl]
type = CtrlSet
trigger1 = prevstateno = 4100
value = 1

[State 112, 3]
type = VelAdd
trigger1 = command = "holdfwd"
trigger1 = Vel X < 3.5
x = .2

[State 112, 4]
type = VelAdd
trigger1 = command = "holdback"
trigger1 = Vel X > -3.5
x = -.2

[State 1211, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 1211, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 49+20*(var(40))

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 50+20*(var(40))

[State 1211, ChangeState]
type = ChangeState
trigger1 = time>10 && pos y >= 0
value = 52

;---------------------------------------------------------------------------
; initialize (at the start of the round)
[statedef 5900]
type = s

[state 191, 0]
type = changestate
;trigger1 = time = 0
trigger1 = roundno != 1
value = 0

[state 5900, 1] ;intro
type = changestate
trigger1 = roundno = 1
value = 190


;---------------------------------------------------------------------------
; run_fwd
[statedef 100]
type    = s
physics = n
anim = 100
sprpriority = 1
velset = 8.5, 0

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
scale = 0.5,0.5
random = 30,abs(const(size.head.pos.y))
pos = -30,ceil(const(size.mid.pos.y)/1)

[State 100, 8]
type = VelAdd
triggerall = Vel X > 0
trigger1 = time>18
x = -1

[State 100, 8]
type = Veladd
trigger1 = animelem = 13
x = 0

[State 100, 8]
type = Velset
trigger1 = animelem = 13
x = 0

[State 100, 9]
type = Explod
trigger1 = time = [18,35]
trigger1 = (time % 4) = 0
anim = 8200
scale = 2,2
ownpal = 1
pos = -15,0
sprpriority = 4

[state 100,4] 
type = assertspecial
trigger1 = 1
flag = nowalk

[state 100,5] 
type = assertspecial
trigger1 = 1
flag = noautoturn

[state 101,3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; run_back
[statedef 105]
type    = s
physics = n
anim = 105
velset = -6.5, 0

[State 100, 8]
type = VelAdd
triggerall = Vel X < 0
trigger1 = time>19
x = 0.6

[State 100, 8]
type = Veladd
trigger1 = animelem = 10
x = 0

[State 100, 8]
type = Velset
trigger1 = animelem = 10
x = 0

[State 100, 9]
type = Explod
trigger1 = time = [19,36]
trigger1 = (time % 4) = 0
anim = 8200
scale = 2,2
ownpal = 1
pos = -15,0
sprpriority = 4

[state 100,4] 
type = assertspecial
trigger1 = 1
flag = nowalk

[state 100,5] 
type = assertspecial
trigger1 = 1
flag = noautoturn

[state 101,3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; run_fwd
[statedef 110]
type    = S
physics = N
anim = 110
sprpriority = 1
velset = 8,0

[State 110, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[State 110, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -20,ceil(const(size.head.pos.y)/2)
scale = 0.5, 0.5

[State 100, 8]
type = VelAdd
triggerall = Vel X > 0
trigger1 = time>13
x = -0.4

[State 110, Explod]
type = Explod
trigger1 = time % 3 = 0
anim = 8200
scale = 2,2
ownpal = 1
pos = -10,0
sprpriority = 4

[state 100,4] 
type = assertspecial
trigger1 = 1
flag = nowalk

[state 100,5] 
type = assertspecial
trigger1 = 1
flag = noautoturn

[State 110, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; run_back
[statedef 115]
type    = S
physics = N
anim = 110
sprpriority = 1
velset = const(velocity.run.back.x),0

[State 106, Explod]
type = Explod
trigger1 = time % 3 = 0
anim = 8200
scale = 2,2
ownpal = 1
pos = -10,0
sprpriority = 4

[State 100, 8]
type = VelAdd
triggerall = Vel X < 0
trigger1 = time>13
x = 0.4

[state 100,4] 
type = assertspecial
trigger1 = 1
flag = nowalk

[state 100,5] 
type = assertspecial
trigger1 = 1
flag = noautoturn

[State 106, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Continue?
[Statedef 5500]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500

;---------------------------------------------------------------------------
; Lose (time over)
[statedef 170]
type = s
ctrl = 0
anim = 5300
velset = 0,0

[state 170, 1]
type = nothitby
trigger1 = 1
value = sca
time = 1

;---------------------------------------------------------------------------
; Win state decider 
[statedef 180]
type = s
ctrl = 0

[state 191, 2] 
type = assertspecial
trigger1 = time < 300
flag = roundnotover

[state 180, 1]
type = varrandom
trigger1 = 1
v = 0
range = 181,185

[state 180, 1]
type = changestate
trigger1 = time = 0
value = var(0)

;---------------------------------------------------------------------------
; Win I
[statedef 181]
type = s
ctrl = 0
anim = 181
velset = 0,0

[state 191, 2] 
type = assertspecial
trigger1 = time < 300
flag = roundnotover

[state 192, 2]
type = playsnd
trigger1 = animelem = 7
value = 3,15
volume = 255
volumescale = 255
channel = 0

;---------------------------------------------------------------------------
; Win II
[statedef 182]
type = s
ctrl = 0
anim = 182
velset = 0,0

[state 191, 2] 
type = assertspecial
trigger1 = time < 240
flag = roundnotover

;---------------------------------------------------------------------------
; Win III
[statedef 183]
type = s
ctrl = 0
anim = 188
velset = 0,0

[state 191, 2] 
type = assertspecial
trigger1 = time < 300
flag = roundnotover

[state 192, 2]
type = playsnd
trigger1 = animelem = 3
value = 3,12
volume = 255
volumescale = 255
channel = 0

[state 192, 2]
type = playsnd
trigger1 = animelem = 8
value = 3,13
volume = 255
volumescale = 255
channel = 0

[state 192, 2]
type = playsnd
trigger1 = animelem = 17
value = 3,6
volume = 255
volumescale = 255
channel = 0

[state 191, 2] 
type = assertspecial
trigger1 = time < 400
flag = roundnotover

;---------------------------------------------------------------------------
; Win IV
[statedef 184]
type = s
ctrl = 0
anim = 4308
velset = 0,0

[state 1001, randomstars x]
type = varrandom
trigger1 = 1
v = 1
range = 43000, 43002

[state 1001, randomstars x]
type = varrandom
trigger1 = 1
v = 2
range = 60, -40

[state 1001, randomstars x]
type = varrandom
trigger1 = 1
v = 3
range = -30, -130

[state 1001, randomstars x]
type = varrandom
trigger1 = 1
v = 44
range = -30, -130

[state 1001, randomstars x]
type = varrandom
trigger1 = 1
v = 5
range = -30, -130

[state 1001, randomstars x]
type = varrandom
trigger1 = 1
v = 46
range = 60, -40

[state 1001, randomstars x]
type = varrandom
trigger1 = 1
v = 47
range = 60, -40

[state 1100, 1]
type = explod
trigger1 = time > 0
anim = var(1)
id = 4309
pos = var(2),var(3)
postype = p1
removetime = -1*var(3)
ownpal = 1
vel = -.5,1
sprpriority = 4

[state 1100, 1]
type = explod
trigger1 = time > 0
anim = var(1)
id = 4309
pos = var(47),var(44)
postype = p1
removetime = -1*var(44)
ownpal = 1
vel = -.5,1
sprpriority = 4

[state 1100, 1]
type = explod
trigger1 = time > 0
anim = var(1)
id = 4309
pos = var(46),var(5)
postype = p1
removetime = -1*var(5)
ownpal = 1
vel = -.5,1
sprpriority = 4

[state 1100, 1]
type = removeexplod
trigger1 = time = 0
value = 4301

[state 191, 2] 
type = assertspecial
trigger1 = time < 400
flag = roundnotover

;---------------------------------------------------------------------------
; Win V
[statedef 185]
type = s
ctrl = 0
anim = 185
velset = 0,0

[state 191, 2] 
type = assertspecial
trigger1 = time < 400
flag = roundnotover

[state 50,5]
type = helper
trigger1 = time = 0
stateno = 18500
id = 18500
pos = 400,0
ownpal = 1
bindtime = 1

;---------------------------------------------------------------------------
; Win V Helper
[statedef 18500]
type = s
ctrl = 0
anim = 18501
velset = 0,0

[state 192, 2]
type = turn
trigger1 = time = 0

[state 192, 2]
type = velset
trigger1 = time = 0
x = 8

[state 192, 2]
type = changestate
trigger1 = time = 41
value = 18501

;---------------------------------------------------------------------------
; Win V Helper
[statedef 18501]
type = s
ctrl = 0
anim = 18500
velset = 0,0

[state 192, 2]
type = changestate
trigger1 = time = 999
value = 18501

;---------------------------------------------------------------------------
; Win VI
[statedef 186]
type = s
ctrl = 0
anim = 186
velset = 0,0

[state 191, 2] 
type = assertspecial
trigger1 = time < 300
flag = roundnotover

[state 50,5]
type = helper
trigger1 = animelem = 9
stateno = 18600
id = 18600
pos = 47,-99
ownpal = 1
bindtime = 1

[state 192, 2]
type = playsnd
trigger1 = animelem = 3
value = 3,12
volume = 255
volumescale = 255
channel = 0

[state 192, 2]
type = playsnd
trigger1 = animelem = 8
value = 3,13
volume = 255
volumescale = 255
channel = 0

[state 192, 2]
type = playsnd
trigger1 = animelem = 17
value = 3,6
volume = 255
volumescale = 255
channel = 0

[state 191, 2] 
type = assertspecial
trigger1 = time < 400
flag = roundnotover

[state 192, 2]
type = changestate
trigger1 = time = 78
value = 1860

;---------------------------------------------------------------------------
; Win VI
[statedef 1860]
type = s
ctrl = 0
anim = 187
velset = 0,0

[state 191, 2] 
type = assertspecial
trigger1 = time < 200
flag = roundnotover

;---------------------------------------------------------------------------
; Win VI - Helper
[statedef 18600]
type = a
physics = n
ctrl = 0
anim = 18600
velset = -1,-8
sprpriority = 5

[state 191, 2] 
type = veladd
trigger1 = 1
y = .3
          
[state 191, 2] 
type = changestate
trigger1 = time = 54
value = 18601

;---------------------------------------------------------------------------
; Win VI - Helper
[statedef 18601]
type = a
physics = n
ctrl = 0
anim = 18601
velset = -1.5,-3

[state 191, 2] 
type = veladd
trigger1 = 1
y = .3

[state 191, 2] 
type = changestate
trigger1 = pos y >= 0
value = 18602

;---------------------------------------------------------------------------
; Win VI - Helper
[statedef 18602]
type = s
ctrl = 0
anim = 18602
velset = 0,0

[state 191, 2] 
type = posset
trigger1 = pos y != 0
y = 0

; PREINTRO 
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, ChangeAnim]
type = ChangeAnim
trigger1 = selfanimexist(190)
value = 190

[State 190, VarAdd]
type = VarAdd
trigger1 = numpartner
trigger1 = id > partner,id
var(16) = 1

[State 190, ChangeState]
type = ChangeState
trigger1 = time = 1
value = 191
 
; Introduction 
[statedef 191]
type = s
physics = n
ctrl = 0
anim = 193
velset = 0,0

[state 191, 2] 
type = assertspecial
trigger1 = 1
flag = intro

[state 191, 2] 
type = playerpush
trigger1 = 1
value = 0

[state 191, 2] 
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[state 191, 2] 
type = posadd
trigger1 = time = 0
x = 349

[state 191, 2] 
type = turn
trigger1 = time = 0

[state 191, 2] 
type = velset
trigger1 = time = 0
x = 8.5

[State 100, 8]
type = VelAdd
triggerall = Vel X > 0
trigger1 = time>33
x = -0.5

[State 100, 8]
type = Veladd
trigger1 = animelem = 19
x = 0

[State 100, 8]
type = Velset
trigger1 = animelem = 19
x = 0

[state 200, 1]
type = playsnd
trigger1 = time = 33
value = 3,22
volume = 255
volumescale = 255
channel = 0

[State 100, 9]
type = Explod
trigger1 = time = [33,43]
trigger1 = (time % 4) = 0
anim = 8200
scale = 2,2
ownpal = 1
pos = -15,0
sprpriority = 4

[state 192, 4]
type = turn
trigger1 = animtime = 0

[state 192, 4]
type = changestate
trigger1 = animtime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[statedef 195]
type = s
movetype = A
physics = n
velset = 0,0
ctrl = 0

[state 191, 2] 
type = changeanim
trigger1 = time = 0
value = 195

[state 191, 2] 
type = posset
trigger1 = 1
y = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 3,23
volume = 255
volumescale = 255
channel = 0

[state 191, 2] 
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; stand jab
[statedef 200]
type    = s                      
movetype= a                      
physics = s
anim = 200                                  
ctrl = 0                         
poweradd = 20                    
sprpriority = 2                  

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[state 200, 1]
type = hitdef
trigger1 = animelem = 2
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 7,8
guard.pausetime = 7,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),0
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 200, 7]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; standing strong 
[statedef 210]
type    = s
movetype= a
physics = s
poweradd= 65
anim = 210
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[state 210, 2]
type = hitdef
trigger1 = animelem = 4
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 8,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -10
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),1
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 210, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;stand Fierce
[statedef 220]
type    = s
movetype= a
physics = s
poweradd= 65
anim = 220
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 3,13
volume = 255
volumescale = 255
channel = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1


[state 210, 2]
type = hitdef
trigger1 = animelem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Up
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 8,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-65
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 20
yaccel = .88
ground.velocity = -14,0
guard.velocity = -14
air.velocity = -2,-14
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 210, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; standing short
[statedef 230]
type    = s
movetype= a
physics = s
poweradd= 22
anim = 230
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 3,12
volume = 255
volumescale = 255
channel = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[state 200, 1]
type = hitdef
trigger1 = animelem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 7,8
guard.pausetime = 7,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-50
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),0
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 50)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 230, 3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; standing Forward
[statedef 240]
type    = s
movetype= a
physics = s
anim = 240
poweradd = 60
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 3,13
volume = 255
volumescale = 255
channel = 0

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[state 240, 2]
type = hitdef
trigger1 = animelem = 3
attr = S,NA
hitflag  = MAFD
guardflag = MA
animtype = Up
damage = 35,0
getpower = 50,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 8,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-65
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 16
ground.hittime = 19
air.hittime = 26
guard.hittime = 17
yaccel = .88
ground.velocity = -2.7,-17.6
guard.velocity = -10
guard.cornerpush.veloff = -16
ground.cornerpush.veloff = 0
air.velocity = -2.7,-17.6
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),1
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
pos = 60, -75
ontop = 1
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 0.5,0.5
ownpal = 1
facing = 1 

[state 240, 4]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; overhead
[statedef 245]
type    = s
movetype= a
physics = s
anim = 245
poweradd = 60
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 3,12
volume = 255
volumescale = 255
channel = 0

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[state 210, 2]
type = hitdef
trigger1 = animelem = 5
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 8,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -7
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 210, 2]
type = hitdef
trigger1 = animelem = 6
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 8,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -7
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),1
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),1
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 45)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 240, 4]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------
[statedef 250]
type    = s
movetype= a
physics = s
anim = 250
poweradd= 65
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 3,14
volume = 255
volumescale = 255
channel = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Hard
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 8,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-65
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .88
ground.velocity = -14,0
guard.velocity = -14
air.velocity = -12,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 240, 4]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;crouching light punch
[statedef 400]
type    = c
movetype= a
physics = c
poweradd= 15
anim = 400
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state 200, 1]
type = hitdef
trigger1 = animelem = 2
attr = C,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 7,8
guard.pausetime = 7,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-20
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),0
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 20)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 400, 4]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;crouching strong punch
[statedef 410]
type    = c
movetype= a
physics = c
poweradd= 50
anim = 410
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state 210, 2]
type = hitdef
trigger1 = animelem = 4
attr = C,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 8,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-25
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -10
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),1
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 25)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 410, 4]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------
[statedef 420]
type    = c
movetype= a
physics = c
poweradd= 65
anim = 420
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 3,13
volume = 255
volumescale = 255
channel = 0

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = C,NA
hitflag  = MAFD
guardflag = MA
animtype = Up
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 8,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-65
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 16
ground.hittime = 19
air.hittime = 26
guard.hittime = 17
yaccel = .88
ground.velocity = -2.7,-17.6
guard.velocity = -14
guard.cornerpush.veloff = -16
ground.cornerpush.veloff = 0
air.velocity = -2.7,-17.6
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
pos = 60, -42
ontop = 1
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 0.5,0.5
ownpal = 1
facing = 1 

[state 240, 4]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;crouching light kick
; cns Difficulty: easy
[statedef 430]
type    = c
movetype= a
physics = c
poweradd= 22
anim = 430
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state 200, 1]
type = hitdef
trigger1 = animelem = 2
attr = C,NA
hitflag = MAFD
guardflag = LA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-10
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
down.cornerpush.veloff = -25.5
down.velocity = -6,-7
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),0
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 10)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 430, 3]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;crouch strong kick
[statedef 440]
type    = c
movetype= a
physics = c
poweradd= 70
anim = 440
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state 210, 2]
type = hitdef
trigger1 = animelem = 2
attr = C,NA
hitflag = MAFD
guardflag = LA
animtype = Medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,10
guard.pausetime = 9,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-25
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 12
ground.hittime = 14
air.hittime = 8
yaccel = .88
ground.velocity = -10.8,0
guard.velocity = -10
air.velocity = -7,0
ground.cornerpush.veloff = -9.5
airguard.velocity = -10.5,3
down.cornerpush.veloff = -25.5
down.velocity = -6,-7
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),1
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 25)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 440, 4]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------
[statedef 450]
type    = c
movetype= a
physics = c
poweradd= 70
anim = 450
ctrl = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[state 210, 2]
type = hitdef
trigger1 = animelem = 2
attr = C,NA
hitflag  = MAFD
guardflag = LA
animtype = Hard
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 7,9
guard.pausetime = 7,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,Floor(P2Dist Y - 15)
hitsound = -1
guardsound = S6+var(49),0
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .86
ground.velocity = 0,-7
guard.velocity = -14
guard.cornerpush.veloff = -16
ground.cornerpush.veloff = 0
air.velocity = 0,-4
airguard.velocity = -10.5,3
down.cornerpush.veloff = -25.5
down.velocity = -6,-7
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 15)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 440, 4]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;jump light punch
; cns Difficulty: easy
[statedef 600]
type    = a
movetype= a
physics = a
poweradd= 11
anim = 600
ctrl = 0
sprpriority = 2

[State 600, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3
volume = 40

[state 410,3]
type = veladd
triggerall = var(17)
trigger1 = floor (pos Y < -155)
y = -0.09

[State 600, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-65
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = 1.32
ground.velocity = -6.5,0
guard.velocity = -5.5
down.velocity = -6,-7
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.3,-12.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),0
channel = 6
ignorehitpause = 1
persistent = 0


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = var(17)
triggerall = anim = 600
triggerall = floor (pos Y < -155)
trigger1 = animelem = 8
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;jump strong punch
; cns Difficulty: easy
[statedef 610]
type    = a
movetype= a
physics = a
anim = 610
poweradd= 65
ctrl = 0
sprpriority = 2

[State 610, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4
volume = 40

[state 410,3]
type = veladd
triggerall = var(17)
trigger1 = floor (pos Y < -155)
y = -0.19

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[state 610, 3]
type = hitdef
trigger1 = time = 0
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Medium
air.animtype = up
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = 1.32
ground.velocity = -9.5,0
guard.velocity = -9
down.velocity = -6,-7
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.3,-9.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),1
channel = 6
ignorehitpause = 1
persistent = 0


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = var(17)
triggerall = anim = 610
triggerall = floor (pos Y < -155)
trigger1 = animelem = 10
value = 1211
ctrl = 1

[statedef 620]
type    = a
movetype= a
physics = a
poweradd= 65
anim = 620
ctrl = 0
sprpriority = 2

[State 620, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5
volume = 40

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(16) > 1 && var(19) > 0
var(6) = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem =2
value = 3,13
volume = 255
volumescale = 255
channel = 0

[State 620, HitDef]
type = HitDef
trigger1 = !var(6) && animelem = 3
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Back
air.animtype = back
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
yaccel = .93
down.velocity = -6,-7
guard.velocity = -14
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -14,10
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620, HitDef]
type = HitDef
trigger1 = var(6) && animelem = 3
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Back
air.animtype = back
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
yaccel = 1.13
down.velocity = -6,-7
guard.velocity = -14
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -14,12
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -45
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = var(17)
triggerall = anim = 620
triggerall = floor (pos Y < -155)
trigger1 = animelem = 10
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;jump light kick
; cns Difficulty: easy
[statedef 630]
type    = a
movetype= a
physics = a
poweradd= 20
anim = 630
ctrl = 0
sprpriority = 2

[State 600, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3
volume = 40

[state 410,3]
type = veladd
triggerall = var(17)
trigger1 = floor (pos Y < -155)
y = -0.09

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 600, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-65
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = 1.32
ground.velocity = -6.5,0
guard.velocity = -5.5
down.velocity = -6,-7
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.3,-12.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),0
channel = 6
ignorehitpause = 1
persistent = 0


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = var(17)
triggerall = anim = 630
triggerall = floor (pos Y < -155)
trigger1 = animelem = 8
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;jump strong kick
; cns Difficulty: easy
[statedef 640]
type    = a
movetype= a
physics = a
poweradd= 65
anim = 640
ctrl = 0
sprpriority = 2

[State 610, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4
volume = 40

[state 410,3]
type = veladd
triggerall = var(17)
trigger1 = floor (pos Y < -155)
y = -0.19

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[state 610, 3]
type = hitdef
trigger1 = time = 0
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Medium
air.animtype = up
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = 1.32
ground.velocity = -9.5,0
guard.velocity = -9
down.velocity = -6,-7
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -0.3,-9.5
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),1
channel = 6
ignorehitpause = 1
persistent = 0


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = var(17)
triggerall = anim = 640
triggerall = floor (pos Y < -155)
trigger1 = animelem = 9
value = 1211
ctrl = 1

[statedef 650]
type    = a
movetype= a
physics = a
juggle  = 4
anim = 650
poweradd= 65
ctrl = 0
sprpriority = 2

[State 620, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5
volume = 40

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(16) > 1 && var(19) > 0
var(6) = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem =2
value = 3,14
volume = 255
volumescale = 255
channel = 0

[State 620, HitDef]
type = HitDef
trigger1 = !var(6) && animelem = 3
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Back
air.animtype = back
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
yaccel = .93
down.velocity = -6,-7
guard.velocity = -14
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -14,10
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620, HitDef]
type = HitDef
trigger1 = var(6) && animelem = 3
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Back
air.animtype = back
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
yaccel = 1.13
down.velocity = -6,-7
guard.velocity = -14
ground.velocity = -12,0
ground.cornerpush.veloff = ifelse(var(6)||var(1),0,-8)
air.velocity = -14,12
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -45
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
triggerall = var(17)
triggerall = anim = 650+var(40)
triggerall = floor (pos Y < -155)
trigger1 = animelem = 10
value = 1211
ctrl = 1

[Statedef 700]
type    = S
movetype = A
physics = S
anim = 9999
sprpriority = 1
velset = 0,0
ctrl = 0

[State 810, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 810, PosSet]
type = PosSet
trigger1 = 1
x = -150 * facing
y = 0

[State 810, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 810, ChangeState]
type = ChangeState
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target,stateno = 5110
value = 100

;---------------------------------------------------------------------------
;Throw Punch Attempt
[statedef 800]
type = S
movetype = A
physics = S
anim = 800
sprpriority = 2
velset = 0,0
ctrl = 0

[state 800, 1]
type = hitdef
trigger1 = 1
attr = s, nt
getpower = 0,0
givepower = 0,0
guardflag =
hitflag = M-
sparkno = -1
hitsound = S5,4
numhits = 0
p1facing = ifelse (command = "holdfwd", 1, -1)
p2facing = 1
p1stateno = 801
p2stateno = 8100
fall = 1
kill = 0

[State 900, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 220

;----------------------------------------------------------------------
;Throw Punch
[statedef 801]
type    = A
movetype= a
physics = n
juggle  = 0
anim = 801
ctrl = 0
sprpriority = 2

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(10*const(size.xscale)),ceil(-50*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[state 1000, changeanim]
type = screenbound
trigger1 = 1
value = 0

[State 4000, 2q]
type = Posset
triggerall = anim < 900
trigger1 = animelem = 1
x = target,pos x

[State 4000, 2q]
type = Posset
triggerall = anim < 900
trigger1 = animelem = 2
x = target,pos x
y = target,Const(size.head.pos.y)

[State 220, PlaySnd]
type = PlaySnd
trigger1 = anim < 900
trigger1 = animelem = 5 = 2
trigger2 = anim > 900
trigger2 = animelem = 2
value = 3,24
volume = 105
volumescale = 105
channel = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = anim < 900
trigger1 = animelem = 5 = 2
trigger2 = anim > 900
trigger2 = animelem = 2
value = 3,12
volume = 255
volumescale = 255
channel = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = anim < 900
trigger1 = animelem = 5 = 2
trigger2 = anim > 900
trigger2 = animelem = 2
anim = 8001
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1

[state 200, 1]
type = targetlifeadd
triggerall = anim < 900
trigger1 = animelem = 6
value = -25

[state 200, 1]
type = poweradd
triggerall = anim < 900
trigger1 = animelem = 6
value = 30

[state 800, 2]
type = targetstate
triggerall = anim < 900
trigger1 = animelem = 6 || animelem = 5 > 8
trigger1 = command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z"
value = 8101

[state 800, 2]
type = changeanim
triggerall = anim < 900
trigger1 = animelem = 6 || animelem = 5 > 8
trigger1 = command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z"
value = anim+100

[state 200, 1]
type = targetlifeadd
triggerall = anim > 900
trigger1 = animelem = 3
value = -15

[state 200, 1]
type = poweradd
triggerall = anim > 900
trigger1 = animelem = 3
value = 30

[state 800, 2]
type = targetstate
triggerall = anim > 900
trigger1 = animelem = 3 || animelem = 2 > 8
trigger1 = command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z"
value = 8101

[state 800, 2]
type = changeanim
triggerall = anim > 900
trigger1 = animelem = 3 || animelem = 2 > 8
trigger1 = command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z"
value = anim

[state 200, 1]
type = changestate
trigger1 = time = 120
value = 802

;----------------------------------------------------------------------
;Throw Punch
[statedef 802]
type    = S
movetype= A
physics = N
anim = 849
ctrl = 0
velset = 0,0
sprpriority = 2

[state 1000, changeanim]
type = screenbound
trigger1 = 1
value = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 3,14
volume = 105
volumescale = 105
channel = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = animelem = 4
anim = 8001
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
trigger1 = animelem = 4
value = s5+var(49),2
channel = 6

[state 200, 1]
type = targetlifeadd
trigger1 =  animelem = 4
value = -25

[state 200, 1]
type = targetstate
trigger1 = animelem = 4
value = 8102

[state 200, 1]
type = posadd
trigger1 = animelem = 5
y = 65
x = 32

[state 200, 1]
type = veladd
trigger1 = movehit
y = .5

[state 200, 1]
type = changestate
trigger1 = animelem = 5
value = 52
ctrl = 1

;---------------------------------------------------------------------------
;Reach!
[statedef 8100]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 60

[state 210, 2]
type = changeanim2
trigger1 = time = 0
value = 81000


[state 210, 2]
type = veladd
trigger1 = enemynear, movetype != A
x = -4
y = -5

[state 210, 2]
type = selfstate
trigger1 = enemynear, movetype != A
value = 5040

;---------------------------------------------------------------------------
;Reach!
[statedef 8101]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
poweradd = 60

[state 210, 2]
type = changeanim2
trigger1 = time = 0
value = 81000

[state 210, 2]
type = veladd
trigger1 = enemynear, movetype != A
x = -4
y = -5

[state 210, 2]
type = selfstate
trigger1 = enemynear, movetype != A
value = 5040

;---------------------------------------------------------------------------
;Reach!
[statedef 8102]
type = A
movetype = H
physics = N
velset =0,5
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = 0.78

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 5061

[State 0, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 15
freq = 70
ampl = -4

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground

;---------------------------------------------------------------------------
;Throw Kick Attempt
[statedef 850]
type = S
movetype = A
physics = S
anim = 800
sprpriority = 2
velset = 0,0
ctrl = 0

[state 800, 1]
type = hitdef
trigger1 = time = 0
attr = s, nt
damage = 0
priority = 1, miss
guardflag =
hitflag = M-
sparkno = -1
ground.type = low
animtype = medium
hitsound = S5,4
sprpriority = 1
numhits = 1
p1facing = ifelse (command = "holdfwd", 1, -1)
p2facing = 1
snap = 20
p1stateno = 851
p2stateno = 8500
fall = 1
kill = 0

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 830, 2]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 900, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 420

;---------------------------------------------------------------------------
;Throw Kick
[statedef 851]
type    = U
movetype= a
physics = n
juggle  = 0
anim = 851
ctrl = 0
sprpriority = 2

[state 200, 1]
type = playerpush
trigger1 = 1
value = 0

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(10*const(size.xscale)),ceil(-50*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 3,22
volume = 255
volumescale = 255
channel = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 5,2
channel = 6

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = animelem = 4
anim = 8001
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1

[State 4000, 2q]
type = posadd
trigger1 = statetype = A
trigger1 = animelem = 2
time = 1
y = -50

[State 4000, 2q]
type = posset
trigger1 = statetype != A
trigger1 = animelem = 2
time = 1
x = target,pos x
y = target,Const(size.mid.pos.y)

[State 810, Throw]
type = TargetState
trigger1 = AnimElem = 4
value = 8501

[state 200, 1]
type = changestate
trigger1 = AnimElem = 4
value = 852

[statedef 852]
type    = A
movetype= a
physics = n
juggle  = 0
velset = -7,-.7
ctrl = 0
sprpriority = 2

[state 200, 1]
type = posadd
trigger1 = animelem = 5
y = 42
x = -57

[state 200, 1]
type = veladd
trigger1 = time > 10
y = .4

[state 200, 1]
type = changestate
trigger1 = pos Y >= 0 
value = 853

[statedef 853]
type    = S
movetype= I
physics = S
juggle  = 0
anim = 852
velset = 0,0
ctrl = 0
sprpriority = 2

[state 200, 1]
type = posset
trigger1 = time = 0 
y = 0

[state 200, 1]
type = changestate
trigger1 = animtime = 0 
value = 0
ctrl = 1

;----------------------------------------------------------------------
;p2stateno Throwed punch
[Statedef 8500]
type = A
movetype = H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 85000

[statedef 8501]
type = A
movetype = H
physics = N
velset = -14,-8
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = 0.6

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 5062

[State 0, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 15
freq = 70
ampl = -4

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110 ;Hit ground

;---------------------------------------------------------------------------
;Air Throw Kick Attempt
[statedef 860]
type = A
movetype = A
physics = S
anim = 800
sprpriority = 2
velset = 0,0
ctrl = 0

[state 800, 1]
type = hitdef
trigger1 = time = 0
attr = A, NT
damage = 0
priority = 1, miss
guardflag =
hitflag = A-
sparkno = -1
ground.type = low
animtype = medium
hitsound = S5,4
sprpriority = 1
numhits = 1
p1facing = ifelse (command = "holdfwd", 1, -1)
p2facing = 1
p1stateno = 851
p2stateno = 8500
fall = 1
kill = 0

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 830, 2]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 900, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 650

;---------------------------------------------------------------------------
;Hadouken
[statedef 1000]
type    = U
movetype= a
physics = N
anim = 1000+(statetype=A)
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = velset
trigger1 = statetype != A
x = 0
y = 0

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x > .5
x = .5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x < -.5
x = -.5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y > .7
y = .7

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y < -.7
y = -.7

[state 200, 1]
type = playsnd
trigger1 = anim = 1000
trigger1 = animelem = 4
value = 3,10
volume = 255
volumescale = 255
channel = 0

[state 200, 1]
type = playsnd
trigger1 = anim = 1001
trigger1 = animelem = 2
value = 3,10
volume = 255
volumescale = 255
channel = 0

[state 870, push block]
type = explod
trigger1 = anim = 1000
trigger1 = animelem = 2
id = 10000
pos = 0,0
bindtime = -1
anim = 10003
sprpriority = 4
scale = .83, 1.07   
ownpal = 1
removeongethit = 1
persistent = 0

[state 870, push block]
type = explod
trigger1 = anim = 1001
trigger1 = animelem = 2
id = 10002
pos = 0,0
bindtime = -1
anim = 10006
scale = .83, 1.07  
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 870, push block]
type = helper
trigger1 = animelem = 5
trigger1 = anim = 1000
id = 10000
name = "spairaru"
pos = 47,-143
postype = p1
stateno = 10000
ownpal = 1

[state 870, push block]
type = helper
trigger1 = animelem = 2
trigger1 = anim = 1001
id = 10001
name = "naname"
pos = 61,-20
postype = p1
stateno = 10000
ownpal = 1

[state 810, grab sound]
type = changeanim
trigger1 = statetype !=A
trigger1 = time = 50
value = 1003

[state 810, grab sound]
type = changestate
trigger1 = statetype !=A
trigger1 = anim = 1003
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 810, grab sound]
type = changeanim
trigger1 = statetype =A
trigger1 = time = 30
value = 1004

[state 810, grab sound]
type = changestate
trigger1 = statetype =A
trigger1 = anim = 1004
trigger1 = animtime = 0
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Hadouken
[statedef 1001]
type    = U
movetype= a
physics = N
anim = 1000+(statetype=A)
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = velset
trigger1 = statetype != A
x = 0
y = 0

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x > .5
x = .5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x < -.5
x = -.5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y > .7
y = .7

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y < -.7
y = -.7

[state 200, 1]
type = playsnd
trigger1 = anim = 1000
trigger1 = animelem = 4
value = 3,10
volume = 255
volumescale = 255
channel = 0

[state 200, 1]
type = playsnd
trigger1 = anim = 1001
trigger1 = animelem = 2
value = 3,10
volume = 255
volumescale = 255
channel = 0


[state 870, push block]
type = explod
trigger1 = anim = 1000
trigger1 = animelem = 2
id = 10000
pos = 0,0
bindtime = -1
anim = 10003
sprpriority = 4
scale = .83, 1.07  
ownpal = 1
removeongethit = 1
persistent = 0

[state 870, push block]
type = explod
trigger1 = anim = 1001
trigger1 = animelem = 2
id = 10002
pos = 0,0
bindtime = -1
anim = 10006
scale = .83, 1.07  
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 870, push block]
type = helper
trigger1 = animelem = 5
trigger1 = anim = 1000
id = 10000
name = "spairaru"
pos = 44,-143
postype = p1
stateno = 10000
ownpal = 1

[state 870, push block]
type = helper
trigger1 = animelem = 2
trigger1 = anim = 1001
id = 10001
name = "naname"
pos = 61,-20
postype = p1
stateno = 10000
ownpal = 1

[state 810, grab sound]
type = changeanim
trigger1 = statetype !=A
trigger1 = time = 50
value = 1003

[state 810, grab sound]
type = changestate
trigger1 = statetype !=A
trigger1 = anim = 1003
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 810, grab sound]
type = changeanim
trigger1 = statetype =A
trigger1 = time = 40
value = 1004

[state 810, grab sound]
type = changestate
trigger1 = statetype =A
trigger1 = anim = 1004
trigger1 = animtime = 0
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Hadouken
[statedef 1002]
type    = U
movetype= a
physics = N
anim = 1000+(statetype=A)
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1
[state 200, 1]
type = velset
trigger1 = statetype != A
x = 0
y = 0

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x > .5
x = .5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x < -.5
x = -.5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y > .7
y = .7

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y < -.7
y = -.7

[state 200, 1]
type = playsnd
trigger1 = anim = 1000
trigger1 = animelem = 4
value = 3,10
volume = 255
volumescale = 255
channel = 0

[state 200, 1]
type = playsnd
trigger1 = anim = 1001
trigger1 = animelem = 2
value = 3,10
volume = 255
volumescale = 255
channel = 0


[state 870, push block]
type = explod
trigger1 = anim = 1000
trigger1 = animelem = 2
id = 10000
pos = 0,0
bindtime = -1
anim = 10003
scale = .83, 1.07  
sprpriority = 4
ownpal = 1
removeongethit = 1
persistent = 0

[state 870, push block]
type = explod
trigger1 = anim = 1001
trigger1 = animelem = 2
id = 10002
pos = 0,0
bindtime = -1
anim = 10006
sprpriority = 4
scale = .83, 1.07  
ownpal = 1
removeongethit = 1

[state 870, push block]
type = helper
trigger1 = animelem = 5
trigger1 = anim = 1000
id = 10000
name = "naname"
pos = 47,-143
postype = p1
stateno = 10000
ownpal = 1

[state 870, push block]
type = helper
trigger1 = animelem = 2
trigger1 = anim = 1001
id = 10001
name = "naname"
pos = 61,-20
postype = p1
stateno = 10000
ownpal = 1

[state 810, grab sound]
type = changeanim
trigger1 = statetype !=A
trigger1 = time = 50
value = 1003

[state 810, grab sound]
type = changestate
trigger1 = statetype !=A
trigger1 = anim = 1003
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 810, grab sound]
type = changeanim
trigger1 = statetype =A
trigger1 = time = 50
value = 1004

[state 810, grab sound]
type = changestate
trigger1 = statetype =A
trigger1 = anim = 1004
trigger1 = animtime = 0
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Hadouken - Helper
[statedef 10000]
type    = A
movetype= a
physics = N
ctrl = 0

[state 3001, attackmulset]
type = attackmulset
trigger1 = 1
value = parent, Fvar(0)
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvarset
trigger1 = movehit
v = 5
value = 1
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvaradd
trigger1 = movehit
v = 18
value = 1
ignorehitpause = 1

[state 3001, attackmulset]
type = attackmulset
trigger1 = 1
value = parent, Fvar(0)
ignorehitpause = 1

[state 200, 1]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(10000)
value = 10000

[state 200, 1]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(10001)
value = 10001

[state 200, 1]
type = sprpriority
trigger1 = 1
value = 3

[state 200, 1]
type = velset
trigger1 = parent, stateno = 1000
trigger1 = ishelper(10000)
x = 1
y = -1

[state 200, 1]
type = velset
trigger1 = parent, stateno = 1001
trigger1 = ishelper(10000)
x = 3
y = -3

[state 200, 1]
type = velset
trigger1 = parent, stateno = 1002
trigger1 = ishelper(10000)
x = 4
y = -4

[state 200, 1]
type = velset
trigger1 = parent, stateno = 1000
trigger1 = ishelper(10001)
x = 1
y = 1

[state 200, 1]
type = velset
trigger1 = parent, stateno = 1001
trigger1 = ishelper(10001)
x = 3
y = 3

[state 200, 1]
type = velset
trigger1 = parent, stateno = 1002
trigger1 = ishelper(10001)
x = 4
y = 4

[state 200, 1]
type = playsnd
trigger1 = time = 1
value = 3,0
volume = 115
volumescale = 115

[state 240, 2]
type = hitdef
triggerall = parent, stateno = 1000
triggerall = parent, statetype = S
trigger1 = time = 0
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = Diagup
Air.animtype = Diagup
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 0,9
guard.pausetime = 0,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,25
hitsound = -1
guardsound = S6+parent,var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 16
yaccel = .78
ground.velocity = -7,-8
guard.velocity = -11
air.velocity = -7,-8
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = parent, stateno = 1001
triggerall = parent, statetype = S
trigger1 = time = 0
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = Diagup
Air.animtype = Diagup
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 0,9
guard.pausetime = 0,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,25
hitsound = -1
guardsound = S6+parent,var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 16
yaccel = .78
ground.velocity = -7,-8
guard.velocity = -11
air.velocity = -7,-8
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State 220, 8]
type = TargetState
triggerall = parent, statetype = S
triggerall = parent, stateno = 1000
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 10002

[State 220, 8]
type = TargetState
triggerall = parent, statetype = S
triggerall = parent, stateno = 1001
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 10002

[state 240, 2]
type = hitdef
triggerall = parent, stateno = 1002
trigger1 = time = 0
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = Diagup
Air.animtype = Diagup
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 0,9
guard.pausetime = 0,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,25
hitsound = -1
guardsound = S6+parent,var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 24
yaccel = .88
ground.velocity = -16,-17
guard.velocity = -11
air.velocity = -16,-17
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1+4


[state 240, 2]
type = hitdef
triggerall = parent, stateno = 1000
triggerall = parent, statetype = A
trigger1 = time = 0
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = Hard
Air.animtype = Diagup
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 0,9
guard.pausetime = 0,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,25
hitsound = -1
guardsound = S6+parent,var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 16
yaccel = .78
ground.velocity = -11
guard.velocity = -11
air.velocity = -8,-1
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = parent, stateno = 1001
triggerall = parent, statetype = A
trigger1 = time = 0
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = Hard
Air.animtype = Diagup
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 0,9
guard.pausetime = 0,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,25
hitsound = -1
guardsound = S6+parent,var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 16
yaccel = .78
ground.velocity = -11
guard.velocity = -11
air.velocity = -8,-1
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = parent, stateno = 1002
triggerall = parent, statetype = A
trigger1 = time = 0
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = Hard
Air.animtype = Diagup
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 0,9
guard.pausetime = 0,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,25
hitsound = -1
guardsound = S6+parent,var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 16
yaccel = .78
ground.velocity = -11
guard.velocity = -11
air.velocity = -8,-1
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+parent,var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT, HP
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, AP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 10001
attr = SCA, NP, SP, AP
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvaradd
trigger1 = movehit
v = 25
value = 1
ignorehitpause = 1

[state 810, grab sound]
type = changestate
triggerall = parent, stateno = 1000
trigger1 = time = 5
trigger2 = movecontact
trigger3 = pos y >= 0
value = 10001

[state 810, grab sound]
type = changestate
triggerall = parent, stateno = 1001
trigger1 = time = 10
trigger2 = movecontact
trigger3 = pos y >= 0
value = 10001

[state 810, grab sound]
type = changestate
triggerall = parent, stateno = 1002
trigger1 = time = 25
trigger2 = movecontact
trigger3 = pos y >= 0
value = 10001

;---------------------------------------------------------------------------
;Hadouken - Helper Finish
[statedef 10001]
type    = A
movetype= a
physics = N
velset = 0,0
anim = 10001
ctrl = 1

[state 200, 1]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(10000)
value = 10002

[state 200, 1]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(10001)
value = 10005

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------
; Hit by SSP
[Statedef 10002]
type    = A
movetype= H
physics = N
velset = 0,0

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5002

[State 225, 2]
type = ChangeState
trigger1 = Time = 6
value = 10003

;---------------------------------------------------------
; Hit by SSP - Flying
[Statedef 10003]
type    = A
movetype= H
physics = N

[State 226, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5062

[State 226, 2]
type = VelAdd
trigger1 = 1
y = 1.07

[State 226, 4]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 25)
trigger1 = alive
value = 10004

[State 226, 5]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 0
value = 5100

;---------------------------------------------------------
; Hit by SSP - Recover
[Statedef 10004]
type    = A
movetype= I
physics = N
anim = 5210

[State 227, 1]
type = VelSet
trigger1 = Time = 0
y = -3

[State 9910, PosSet]
type = PosSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -5

[State 1300, 6]
type = PalFX
triggerall = name = "Dhalsim"
trigger1 = animelem = 1
time = 18
sinadd =  255,255,255,43
ignorehitpause = 0

[State 5100, 10]
type = PlaySnd
triggerall = name = "Dhalsim"
trigger1 = Time = 1
value = S3,0

[State 9910, VelSet]
type = VelSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -2
x = 0

[State 9910, VelAdd]
type = VelAdd
triggerall = name = "Dhalsim"
trigger1 = time = 1
y = 0

[State 227, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x > 0
x = 5

[State 227, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x < 0
x = -5

[State 227, 4]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 227, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 227, 6]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 52
ctrl = 1

;---------------------------------------------------------------------------
;Shouou Ken Light
[statedef 1100]
type    = U
movetype= a
physics = n
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = playsnd
trigger1 = animelem = 2
value = 3,20
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno != 11000
x = 0
y = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 11000
v = 1
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 11000
v = 2
value = 0

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1100
trigger1 = statetype != a
value = 1100

[state 810, grab sound]
type = varadd
trigger1 = 1
v = 2
value = 1

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1101
trigger1 = statetype = a
value = 1101

[state 810, grab sound]
type = velset
triggerall = statetype != a
trigger1 = prevstateno != 11000
trigger1 = animelem = 2
x = 7.5

[state 810, grab sound]
type = velset
triggerall = statetype = a
trigger1 = prevstateno != 11000
trigger1 = animelem = 2
x = 6.5

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 870, push block]
type = explod
trigger1 = time = 0 
trigger1 = prevstateno != 11000
id = 11000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
removetime = -1
anim = 11000
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 870, push block]
type = explod
trigger1 = time = 0 
trigger1 = prevstateno = 11000
id = 11000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
removetime = -1
anim = 11001
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 1030, nothitby]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, nt, st, ht
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, ap
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitoverride
trigger1 = 1
slot = 7
time = 1
stateno = 11000
attr = sca, np, sp, hp
ignorehitpause = 1

[state 810, grab sound]
type = changestate
trigger1 = moveguarded
value = 1104

[state 810, grab sound]
type = changestate
trigger1 = movehit
value = 1103

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 22
trigger1 = statetype != A
value = 1107

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 22
trigger1 = statetype = A
value = 1106
ctrl = 0

;---------------------------------------------------------------------------
;Shouou Ken Medium
[statedef 1101]
type    = U
movetype= a
physics = n
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = playsnd
trigger1 = animelem = 2
value = 3,20
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno != 11000
x = 0
y = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 11000
v = 1
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 11000
v = 2
value = 0

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1100
trigger1 = statetype != a
value = 1100

[state 810, grab sound]
type = varadd
trigger1 = 1
v = 2
value = 1

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1101
trigger1 = statetype = a
value = 1101

[state 810, grab sound]
type = velset
triggerall = statetype != a
trigger1 = prevstateno != 11000
trigger1 = animelem = 2
x = 7.5

[state 810, grab sound]
type = velset
triggerall = statetype = a
trigger1 = prevstateno != 11000
trigger1 = animelem = 2
x = 6.5

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 870, push block]
type = explod
trigger1 = time = 0 
trigger1 = prevstateno != 11000
id = 11000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
scale = .83, 1.07   
removetime = -1
anim = 11000
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 870, push block]
type = explod
trigger1 = time = 0 
trigger1 = prevstateno = 11000
id = 11000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
scale = .83, 1.07   
removetime = -1
anim = 11001
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 1030, nothitby]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, nt, st, ht
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, ap
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitoverride
trigger1 = 1
slot = 7
time = 1
stateno = 11000
attr = sca, np, sp, hp
ignorehitpause = 1

[state 810, grab sound]
type = changestate
trigger1 = moveguarded
value = 1104

[state 810, grab sound]
type = changestate
trigger1 = movehit
value = 1108

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 30
trigger1 = statetype != A
value = 1107

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 30
trigger1 = statetype = A
value = 1106
ctrl = 0

;---------------------------------------------------------------------------
;Shouou Ken Hard
[statedef 1102]
type    = U
movetype= a
physics = n
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = playsnd
trigger1 = animelem = 2
value = 3,20
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno != 11000
x = 0
y = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 11000
v = 1
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 11000
v = 2
value = 0

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1100
trigger1 = statetype != a
value = 1100

[state 810, grab sound]
type = varadd
trigger1 = 1
v = 2
value = 1

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1101
trigger1 = statetype = a
value = 1101

[state 810, grab sound]
type = velset
triggerall = statetype != a
trigger1 = prevstateno != 11000
trigger1 = animelem = 2
x = 7.5

[state 810, grab sound]
type = velset
triggerall = statetype = a
trigger1 = prevstateno != 11000
trigger1 = animelem = 2
x = 6.5

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 870, push block]
type = explod
trigger1 = time = 0 
trigger1 = prevstateno != 11000
id = 11000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
removetime = -1
scale = .83, 1.07   
anim = 11000
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 870, push block]
type = explod
trigger1 = time = 0 
trigger1 = prevstateno = 11000
id = 11000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
removetime = -1
scale = .83, 1.07   
anim = 11001
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 1030, nothitby]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, nt, st, ht
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, ap
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitoverride
trigger1 = 1
slot = 7
time = 1
stateno = 11000
attr = sca, np, sp, hp
ignorehitpause = 1

[state 810, grab sound]
type = changestate
trigger1 = moveguarded
value = 1104

[state 810, grab sound]
type = changestate
trigger1 = movehit
trigger1 = statetype != A
value = 1109

[state 810, grab sound]
type = changestate
trigger1 = movehit
trigger1 = statetype = A
value = 1110

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 42
trigger1 = statetype != A
value = 1107

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 42
trigger1 = statetype = A
value = 1106
ctrl = 0

;---------------------------------------------------------------------------
;Shouou Ken - Final punches
[statedef 1103]
type    = U
movetype= a
physics = n
anim = 1102 + statetype = A
ctrl = 0

[state 870, push block]
type = removeexplod
trigger1 = time = 0
ID = 11000 

[state 870, push block]
type = explod
trigger1 = time = 0 
id = 11001
name = "shield"
pos = 0,-60
postype = p1
vel = 6,0
scale = .83, 1.07   
bindtime = 1
anim = 11001
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -10,-20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -10,-20
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1103
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1103
trigger1 = animelem = 4
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -10,-20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -10,-20
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1


[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = anim = [1102,1103]
trigger1 = animelem = 4 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
triggerall = prevstateno = 1100
trigger1 = time = 11
y = -8
x = .6
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 1101
trigger1 = time = 11
y = -9
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 1102
trigger1 = time = 11
y = -10
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos Y >= 0
trigger1 = anim = 1105
value = 1105

;---------------------------------------------------------------------------
;Shouou Ken - Final punches
[statedef 1108]
type    = U
movetype= a
physics = n
anim = 1102 + statetype = A
ctrl = 0

[state 870, push block]
type = removeexplod
trigger1 = time = 0
ID = 11000 

[state 870, push block]
type = explod
trigger1 = time = 0 
id = 11001
name = "shield"
pos = 0,-60
postype = p1
scale = .83, 1.07   
vel = 6,0
bindtime = 1
anim = 11001
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -12,-22
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -12,-22
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1103
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1103
trigger1 = animelem = 4
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -10,-20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -10,-20
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = anim = [1102,1103]
trigger1 = animelem = 4 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
triggerall = prevstateno = 1100
trigger1 = time = 11
y = -8
x = .6
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 1101
trigger1 = time = 11
y = -9
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 1102
trigger1 = time = 11
y = -10
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos Y >= 0
trigger1 = anim = 1105
value = 1105

;---------------------------------------------------------------------------
;Shouou Ken - Final punches
[statedef 1109]
type    = U
movetype= a
physics = n
anim = 1102
ctrl = 0

[state 870, push block]
type = removeexplod
trigger1 = time = 0
ID = 11000 

[state 870, push block]
type = explod
trigger1 = time = 0 
id = 11001
name = "shield"
pos = 0,-60
postype = p1
vel = 6,0
bindtime = 1
scale = .83, 1.07   
anim = 11001
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -14,-24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -14,-24
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = anim = [1102,1103]
trigger1 = animelem = 4 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
triggerall = prevstateno = 1100
trigger1 = time = 11
y = -8
x = .6
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 1101
trigger1 = time = 11
y = -9
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 1102
trigger1 = time = 11
y = -10
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos Y >= 0
trigger1 = anim = 1105
value = 1105

;---------------------------------------------------------------------------
;Shouou Ken - Final punches
[statedef 1110]
type    = U
movetype= a
physics = n
anim = 1107
ctrl = 0

[state 870, push block]
type = removeexplod
trigger1 = time = 0
ID = 11000 

[state 870, push block]
type = explod
trigger1 = time = 0 
id = 11001
name = "shield"
pos = 0,-60
postype = p1
vel = 6,0
bindtime = 1
anim = 11001
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1107
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1107
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -14,-24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -14,-24
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = animelem = 6 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
triggerall = prevstateno = 1100
trigger1 = time = 11
y = -8
x = .6
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 1101
trigger1 = time = 11
y = -9
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 1102
trigger1 = time = 11
y = -10
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos Y >= 0
trigger1 = anim = 1105
value = 1105

;---------------------------------------------------------------------------
;Shouou Ken - Miss
[statedef 1104]
type    = A
movetype= I
physics = n
anim = 1104
ctrl = 0

[state 810, grab sound]
type = removeexplod
trigger1 = time = 0
ID = 11000

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 1100
x = -2
y = -5

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 1101
x = -2
y = -5

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 1102 || prevstateno = 4100
x = -1
y = -7

[state 810, grab sound]
type = veladd
trigger1 = time > 1
y = .6

[state 810, grab sound]
type = changestate
trigger1 = pos y >= 0
trigger1 = time > 2
value = 1105

;---------------------------------------------------------------------------
;Shouou Ken - Finish
[statedef 1105]
type    = S
movetype= a
physics = S
anim = 1106
velset = 0,0
ctrl = 0

[state 810, grab sound]
type = posset
trigger1 = 1
y = 0

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 52
ctrl = 0

;---------------------------------------------------------------------------
;Shouou Ken - Shield
[statedef 11000]
type    = U
movetype= A
physics = n

[state 870, push block]
type = nothitby
trigger1 = 1
value = sca

[state 870, push block]
type = veladd
trigger1 = time = 0
x = -1.5

[state 870, push block]
type = changestate
trigger1 = time = 0
value = 1100+var(0)

;---------------------------------------------------------------------------
;Shouou Ken - Land
[statedef 1106]
type    = a
movetype= a
physics = a
anim = 460
 
[state 870, push block]
type = removeexplod
trigger1 = 1
ID = 11000

;---------------------------------------------------------------------------
;Shouou Ken - Stop
[statedef 1107]
type    = S
movetype= i
physics = n
anim = 101
ctrl = 0

[state 191, 2] 
type = explod
trigger1 = time%3 = 0
anim = 8200
scale = 2,2
ownpal = 1
pos = -15,0
sprpriority = 4

[state 810, grab sound]
type = velset
trigger1 = time = 0
y = 0

[state 810, grab sound]
type = posset
trigger1 = 1
y = 0

[state 810, grab sound]
type = removeexplod
trigger1 = time = 0
ID = 11000

[state 810, grab sound]
type = velmul
trigger1 = 1
x = .7

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Midare no Sakura - Stop
[statedef 1117]
type    = S
movetype= i
physics = n
anim = 101
ctrl = 0

[State 3000, VarSet]
type = VarSet
trigger1 = time = 1
var(4) = 0

[state 191, 2] 
type = explod
trigger1 = time%3 = 0
anim = 8200
scale = 2,2
ownpal = 1
pos = -15,0
sprpriority = 4

[state 810, grab sound]
type = velset
trigger1 = time = 0
y = 0

[state 200, 1]
type = playsnd
trigger1 = time = 0
value = 3,22
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = posset
trigger1 = 1
y = 0

[state 810, grab sound]
type = removeexplod
trigger1 = time = 0
ID = 11000

[state 810, grab sound]
type = velmul
trigger1 = 1
x = .9

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Shunpuu Kyaku - Light
[statedef 1200]
type    = S
movetype= a
physics = n
velset = 0,0
anim = 1200
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 1203

;---------------------------------------------------------------------------
;Shunpuu Kyaku - Medium
[statedef 1201]
type    = s
movetype= a
physics = n
anim = 1200
velset = 0,0
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 1203
;---------------------------------------------------------------------------
;Shunpuu Kyaku - Hard
[statedef 1202]
type    = s
movetype= a
physics = n
anim = 1200
velset = 0,0
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 1203

;---------------------------------------------------------------------------
;Shunpuu Kyaku - Kicks
[statedef 1203]
type    = a
movetype= a
physics = n
velset = 0,0
ctrl = 0

[state 200, 1]
type = playsnd
trigger1 = time = 0
value = 3,21
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = veladd
trigger1 = 1
y = .6

[state 810, grab sound]
type = changeanim
trigger1 = prevstateno = 1200
value = 1209
persistent = 0

[state 810, grab sound]
type = changeanim
trigger1 = prevstateno = 1201
value = 1208
persistent = 0

[state 810, grab sound]
type = changeanim
trigger1 = prevstateno = 1202
value = 1201
persistent = 0

[state 810, grab sound]
type = velset
trigger1 = prevstateno = 1200
x = 5
y = -5
persistent = 0

[state 810, grab sound]
type = velset
trigger1 = prevstateno = 1201
x = 5
y = -9
persistent = 0

[state 810, grab sound]
type = playsnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = 0,4
channel = 2

[state 810, grab sound]
type = velset
trigger1 = prevstateno = 1202
x = 6
y = -12
persistent = 0

[state 210, 2]
type = hitdef
triggerall = prevstateno = 1200
trigger1 = animelem = 3
attr = s, ha
animtype  = heavy
damage    = 97,8
guarDFlag = ma
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-55
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 18
ground.hittime = 20
air.hittime = 14
guard.hittime = 17
yaccel = .87
ground.velocity = -9,-8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -13
air.velocity = -9,-8
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 210, 2]
type = hitdef
triggerall = vel y < 0
triggerall = prevstateno = 1201
trigger1 = animelem = 3
attr = s, ha
animtype  = heavy
damage    = 97,8
guarDFlag = ma
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-55
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 18
ground.hittime = 20
air.hittime = 14
guard.hittime = 17
yaccel = .87
ground.velocity = -9,-8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -13
air.velocity = -9,-8
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
air.fall = 1
fall.recover = 0
id = 2+4

[state 210, 2]
type = hitdef
triggerall = vel y < 0
triggerall = prevstateno = 1202
trigger1 = animelem = 3
attr = s, ha
animtype  = heavy
damage    = 97,8
guarDFlag = ma
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-55
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 18
ground.hittime = 20
air.hittime = 14
guard.hittime = 17
yaccel = .87
ground.velocity = -9,-8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -13
air.velocity = -9,-8
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
air.fall = 1
fall.recover = 0
id = 2+4

[state 210, 2]
type = hitdef
triggerall = vel y >= 0
triggerall = prevstateno = 1201
trigger1 = animelem = 3
attr = s, ha
animtype  = heavy
damage    = 97,8
guarDFlag = ma
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-55
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 18
ground.hittime = 20
air.hittime = 14
guard.hittime = 17
yaccel = .87
ground.velocity = -9,-8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -13
air.velocity = -11,-6
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
air.fall = 1
fall.recover = 0
id = 2+4

[state 210, 2]
type = hitdef
triggerall = vel y >= 0
triggerall = prevstateno = 1202
trigger1 = animelem = 3
attr = s, ha
animtype  = heavy
damage    = 97,8
guarDFlag = ma
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-55
hitsound = -1
guardsound = S6+var(49),0
ground.type = Low
ground.slidetime = 18
ground.hittime = 20
air.hittime = 14
guard.hittime = 17
yaccel = .87
ground.velocity = -9,-8
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -13
air.velocity = -11,-6
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
air.fall = 1
fall.recover = 0
id = 2+4

[state 810, grab sound]
type = changestate
trigger1 = pos y >= 0
trigger1 = time > 9
value = 1205

;---------------------------------------------------------------------------
;Shunpuu Kyaku - Land
[statedef 1205]
type    = s
movetype= I
physics = s
velset = 0,0
anim = 1202
ctrl = 0

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200
pos = 0,-10

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[state 810, grab sound]
type = posset
trigger1 = time = 0
y = 0

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Air Shunpuu Kyaku - Light
[statedef 1210]
type    = A
movetype= a
physics = N
anim = 1203
ctrl = 0

[state 200, 1]
type = playsnd
trigger1 = time = 0
value = 3,21
volume = 255
volumescale = 255
channel = 0

[State 1130, VelAdd]
type = VelAdd
trigger1 = time = 0
x = ifelse(vel x >= 0,2,-2)

[State 1130, VelAdd]
type = VelAdd
trigger1 = 1
y = .57

[state 210, 2]
type = hitdef
trigger1 = animelem = 3
attr = s, ha
animtype  = heavy
air.animtype = Back
damage    = 97,8
guarDFlag = ma
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-55
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 27
guard.hittime = 17
yaccel = .87
ground.velocity = -9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -13
air.velocity = -11.5,-8.8
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recovertime = 20
id= 1+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = changestate
trigger1 = pos y >= 0
value = 1205

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 1211
ctrl = 1

;----------------------------------------------------------------------------
;Air Shunpuu Kyaku - Medium
[statedef 1213]
type    = A
movetype= a
physics = N
anim = 1204
ctrl = 0

[state 200, 1]
type = playsnd
trigger1 = time = 0
value = 3,21
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = playsnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = 0,3
channel = 2

[State 1130, VelAdd]
type = VelAdd
trigger1 = time = 0
x = ifelse(vel x >= 0,3,-3)

[State 1130, VelAdd]
type = VelAdd
trigger1 = 1
y = .57

[state 210, 2]
type = hitdef
trigger1 = animelem = 3
trigger2 = animelem = 7
attr = s, ha
animtype  = heavy
air.animtype = Back
damage    = 97,8
guarDFlag = ma
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-55
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 27
guard.hittime = 17
yaccel = .87
ground.velocity = -9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -13
air.velocity = -11.5,-8.8
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recovertime = 20
id= 1+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = changestate
trigger1 = pos y >= 0
value = 1205

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 1211
ctrl = 1

;------------------------------------------------------------------------
;Air Shunpuu Kyaku - Hard
[statedef 1212]
type    = A
movetype= a
physics = N
anim = 1205
ctrl = 0

[state 200, 1]
type = playsnd
trigger1 = time = 0
value = 3,21
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = playsnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = 0,3
channel = 2

[State 1130, VelAdd]
type = VelAdd
trigger1 = time = 0
x = ifelse(vel x >= 0,5,-5)

[State 1130, VelAdd]
type = VelAdd
trigger1 = 1
y = .57

[state 210, 2]
type = hitdef
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 11
attr = s, ha
animtype  = heavy
air.animtype = Back
damage    = 97,8
guarDFlag = ma
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-55
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 27
guard.hittime = 17
yaccel = .87
ground.velocity = -9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.velocity = -13
air.velocity = -11.5,-8.8
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recovertime = 20
id= 1+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = changestate
trigger1 = pos y >= 0
value = 1205

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Dark Sakura Hadouken - Light
[statedef 2000]
type    = S
movetype= a
physics = N
anim = 2000
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = velset
trigger1 = statetype != A
x = 0
y = 0


[state 200, 1]
type = playsnd
trigger1 = anim = 2000
trigger1 = animelem = 4
value = 3,10
volume = 255
volumescale = 255
channel = 0


[state 870, push block]
type = explod
trigger1 = anim = 2000
trigger1 = animelem = 1
id = 20000
pos = 0,0
bindtime = -1
anim = 20000
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
removeongethit = 1
persistent = 0

[state 870, push block]
type = helper
trigger1 = animelem = 6
trigger1 = anim = 2000
id = 20000
name = "spairaru"
pos = 67,-53
postype = p1
stateno = 20000
ownpal = 1
persistent = 0

[state 810, grab sound]
type = changeanim
trigger1 = statetype !=A
trigger1 = time = 50
value = 2003

[state 810, grab sound]
type = changestate
trigger1 = statetype !=A
trigger1 = anim = 2003
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Dark Sakura Hadouken - Medium
[statedef 2001]
type    = S
movetype= a
physics = N
anim = 2000
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = velset
trigger1 = statetype != A
x = 0
y = 0


[state 200, 1]
type = playsnd
trigger1 = anim = 2000
trigger1 = animelem = 4
value = 3,10
volume = 255
volumescale = 255
channel = 0


[state 870, push block]
type = explod
trigger1 = anim = 2000
trigger1 = animelem = 1
id = 20000
pos = 0,0
bindtime = -1
anim = 20000
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
removeongethit = 1
persistent = 0

[state 870, push block]
type = helper
trigger1 = animelem = 6
trigger1 = anim = 2000
id = 20000
name = "spairaru"
pos = 67,-53
postype = p1
stateno = 20000
ownpal = 1
persistent = 0

[state 810, grab sound]
type = changeanim
trigger1 = statetype !=A
trigger1 = time = 50
value = 2003

[state 810, grab sound]
type = changestate
trigger1 = statetype !=A
trigger1 = anim = 2003
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Dark Sakura Hadouken - Hard
[statedef 2002]
type    = S
movetype= a
physics = N
anim = 2000
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = velset
trigger1 = statetype != A
x = 0
y = 0


[state 200, 1]
type = playsnd
trigger1 = anim = 2000
trigger1 = animelem = 4
value = 3,10
volume = 255
volumescale = 255
channel = 0


[state 870, push block]
type = explod
trigger1 = anim = 2000
trigger1 = animelem = 1
id = 20000
pos = 0,0
bindtime = -1
anim = 20000
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
removeongethit = 1
persistent = 0

[state 870, push block]
type = helper
trigger1 = animelem = 6
trigger1 = anim = 2000
id = 20000
name = "spairaru"
pos = 67,-53
postype = p1
stateno = 20000
ownpal = 1
persistent = 0

[state 810, grab sound]
type = changeanim
trigger1 = statetype !=A
trigger1 = time = 50
value = 2003

[state 810, grab sound]
type = changestate
trigger1 = statetype !=A
trigger1 = anim = 2003
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Air Dark Sakura Hadouken - light
[statedef 2010]
type    = A
movetype= a
physics = N
anim = 2001
poweradd = 60
ctrl = 0

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x > .5
x = .5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x < -.5
x = -.5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y > .7
y = .7

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y < -.7
y = -.7

[state 200, 1]
type = playsnd
trigger1 = time = 1
value = 3,0
volume = 115
volumescale = 115

[state 200, 1]
type = playsnd
trigger1 = anim = 2001
trigger1 = animelem = 2
value = 3,10
volume = 255
volumescale = 255
channel = 0

[State 1100, Projectile]
type = Projectile
trigger1 = !var(6) && time = 0
attr = A, SP
damage = 60,5
animtype = Hard
guardflag = MA
hitflag = MAFD
getpower = 30,0
givepower = 20,0
pausetime = 0,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .53
ground.velocity = -15,0
guard.pausetime = 0,4
guard.velocity = -16
air.velocity = -18,7
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
projid = 6000
projanim = 20002
projhitanim = 20004
projremanim = 20004
projcancelanim = 20004
velocity = 3.5,1.5
projremovetime = 36
offset = 55*const(size.xscale),-25*const(size.yscale)
projscale = const(size.xscale),const(size.yscale)
id = 2+4

[State 1100, Projectile]
type = Projectile
trigger1 = var(6) && time = 0
attr = A, SP
damage = 60,5
animtype = Hard
guardflag = MA
hitflag = MAFD
getpower = 30,0
givepower = 20,0
pausetime = 0,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .53
ground.velocity = -15,0
guard.pausetime = 0,4
guard.velocity = -16
air.velocity = -18,7
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recover = 0
projid = 6000
projanim = 20002
projhitanim = 20004
projremanim = 20004
projcancelanim = 20004
velocity = 3.5,1.5
projremovetime = 36
offset = 55*const(size.xscale),-25*const(size.yscale)
projscale = const(size.xscale),const(size.yscale)
id = 4+64
fall.envshake.time = 10

[state 200, 1]
type = playsnd
trigger1 = ProjHit6000 = 1
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = ProjHit6000 = 1
anim = 8006
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[state 810, grab sound]
type = changeanim
trigger1 = statetype =A
trigger1 = time = 30
value = 1004

[state 810, grab sound]
type = changestate
trigger1 = statetype =A
trigger1 = anim = 1004
trigger1 = animtime = 0
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Dark Sakura Hadouken - Medium
[statedef 2011]
type    = A
movetype= a
physics = N
anim = 2001
poweradd = 60
ctrl = 0

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x > .5
x = .5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x < -.5
x = -.5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y > .7
y = .7

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y < -.7
y = -.7

[state 200, 1]
type = playsnd
trigger1 = time = 1
value = 3,0
volume = 115
volumescale = 115

[state 200, 1]
type = playsnd
trigger1 = anim = 2001
trigger1 = animelem = 2
value = 3,10
volume = 255
volumescale = 255
channel = 0

[State 1100, Projectile]
type = Projectile
trigger1 = !var(6) && time = 0
attr = A, SP
damage = 60,5
animtype = Hard
guardflag = MA
hitflag = MAFD
getpower = 30,0
givepower = 20,0
pausetime = 0,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .53
ground.velocity = -15,0
guard.pausetime = 0,4
guard.velocity = -16
air.velocity = -18,7
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
projid = 6000
projanim = 20002
projhitanim = 20004
projremanim = 20004
projcancelanim = 20004
velocity = 4.5,2
projremovetime = 36
offset = 55*const(size.xscale),-25*const(size.yscale)
projscale = const(size.xscale),const(size.yscale)
id = 2+4

[State 1100, Projectile]
type = Projectile
trigger1 = var(6) && time = 0
attr = A, SP
damage = 60,5
animtype = Hard
guardflag = MA
hitflag = MAFD
getpower = 30,0
givepower = 20,0
pausetime = 0,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .53
ground.velocity = -15,0
guard.pausetime = 0,4
guard.velocity = -16
air.velocity = -18,7
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recover = 0
projid = 6000
projanim = 20002
projhitanim = 20004
projremanim = 20004
projcancelanim = 20004
velocity = 4.5,2
projremovetime = 36
offset = 55*const(size.xscale),-25*const(size.yscale)
projscale = const(size.xscale),const(size.yscale)
id = 4+64
fall.envshake.time = 10

[state 200, 1]
type = playsnd
trigger1 = ProjHit6000 = 1
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = ProjHit6000 = 1
anim = 8006
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[state 810, grab sound]
type = changeanim
trigger1 = statetype =A
trigger1 = time = 40
value = 1004

[state 810, grab sound]
type = changestate
trigger1 = statetype =A
trigger1 = anim = 1004
trigger1 = animtime = 0
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Air Dark Sakura Hadouken - Hard
[statedef 2012]
type    = A
movetype= a
physics = N
anim = 2001
poweradd = 60
ctrl = 0

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x > .5
x = .5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel x < -.5
x = -.5

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y > .7
y = .7

[state 200, 1]
type = velset
trigger1 = statetype = A
trigger1 = vel y < -.7
y = -.7

[state 200, 1]
type = playsnd
trigger1 = time = 1
value = 3,0
volume = 115
volumescale = 115

[state 200, 1]
type = playsnd
trigger1 = anim = 2001
trigger1 = animelem = 2
value = 3,10
volume = 255
volumescale = 255
channel = 0

[State 1100, Projectile]
type = Projectile
trigger1 = !var(6) && time = 0
attr = A, SP
damage = 60,5
animtype = Hard
guardflag = MA
hitflag = MAFD
getpower = 30,0
givepower = 20,0
pausetime = 0,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .53
ground.velocity = -15,0
guard.pausetime = 0,4
guard.velocity = -16
air.velocity = -18,7
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
projid = 6000
projanim = 20002
projhitanim = 20004
projremanim = 20004
projcancelanim = 20004
velocity = 5.5,2.5
projremovetime = 36
offset = 55*const(size.xscale),-25*const(size.yscale)
projscale = const(size.xscale),const(size.yscale)
id = 2+4

[State 1100, Projectile]
type = Projectile
trigger1 = var(6) && time = 0
attr = A, SP
damage = 60,5
animtype = Hard
guardflag = MA
hitflag = MAFD
getpower = 30,0
givepower = 20,0
pausetime = 0,6
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .53
ground.velocity = -15,0
guard.pausetime = 0,4
guard.velocity = -16
air.velocity = -18,7
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recover = 0
projid = 6000
projanim = 20002
projhitanim = 20004
projremanim = 20004
projcancelanim = 20004
velocity = 5.5,2.5
projremovetime = 36
offset = 55*const(size.xscale),-25*const(size.yscale)
projscale = const(size.xscale),const(size.yscale)
id = 4+64
fall.envshake.time = 10

[state 200, 1]
type = playsnd
trigger1 = ProjHit6000 = 1
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = ProjHit6000 = 1
anim = 8006
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[state 810, grab sound]
type = changeanim
trigger1 = statetype =A
trigger1 = time = 50
value = 1004

[state 810, grab sound]
type = changestate
trigger1 = statetype =A
trigger1 = anim = 1004
trigger1 = animtime = 0
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Dark Sakura Hadouken - Helper
[statedef 20000]
type    = A
movetype= a
physics = N
ctrl = 0

[state 3001, attackmulset]
type = attackmulset
trigger1 = 1
value = parent, Fvar(0)
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvarset
trigger1 = movehit
v = 5
value = 1
ignorehitpause = 1

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(19) > 0
var(6) = 1


[state 3001, parentvaradd]
type = parentvaradd
trigger1 = movehit
v = 18
value = 1
ignorehitpause = 1

[state 3001, attackmulset]
type = attackmulset
trigger1 = 1
value = parent, Fvar(0)
ignorehitpause = 1

[state 200, 1]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(20000)
value = 20001

[state 200, 1]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(20001)
value = 20002

[state 200, 1]
type = sprpriority
trigger1 = 1
value = 3

[state 200, 1]
type = velset
trigger1 = parent, stateno = 2000
trigger1 = ishelper(20000)
x = 3
persistent = 0

[state 200, 1]
type = velset
trigger1 = parent, stateno = 2001
trigger1 = ishelper(20000)
x = 4.5
persistent = 0

[state 200, 1]
type = velset
trigger1 = parent, stateno = 2002
trigger1 = ishelper(20000)
x = 6
persistent = 0

[state 200, 1]
type = playsnd
trigger1 = time = 1
value = 3,0
volume = 115
volumescale = 115


[state 240, 2]
type = hitdef
trigger1 = time = 0
trigger1 = ishelper(20000)
attr = S, SP
hitflag = MAF
guardflag = MA
animtype  = Hard
damage    = 51,8
guarDFlag = ma
pausetime = 0,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-25
hitsound = -1
guardsound = S6+parent,var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .88
ground.velocity = -14,0
guard.velocity = -14
ground.cornerpush.veloff = 0
air.velocity = -12,0
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+parent,var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 3001, parentvaradd]
type = parentvaradd
trigger1 = movehit
v = 25
value = 1
ignorehitpause = 1

[state 810, grab sound]
type = changestate
triggerall = ishelper(20000)
trigger1 = time = 35
trigger2 = movecontact
value = 20001

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT, HP
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, AP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 20001
attr = SCA, NP, SP, AP
ignorehitpause = 1

[state 810, grab sound]
type = changestate
triggerall = ishelper(20001)
trigger1 = time = 40
trigger2 = movehit
trigger3 = pos y >= 0
value = 20001

;---------------------------------------------------------------------------
;Dark Sakura Hadouken - Finish
[statedef 20001]
type    = A
movetype= a
physics = N
velset = 0,0
ctrl = 1

[State 1300, 6]
type = removeexplod
trigger1 = time = 0
ID = 6027

[state 200, 1]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(20000)
value = 20003

[state 200, 1]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(20001)
value = 20004

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken Light
[statedef 2100]
type    = U
movetype= a
physics = n
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = playsnd
trigger1 = animelem = 2
value = 3,20
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno != 21000
x = 0
y = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 21000
v = 1
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 21000
v = 2
value = 0

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1100
trigger1 = statetype != a
value = 1100

[state 810, grab sound]
type = varadd
trigger1 = 1
v = 2
value = 1

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1101
trigger1 = statetype = a
value = 1101

[state 810, grab sound]
type = velset
triggerall = statetype != a
trigger1 = prevstateno != 21000
trigger1 = animelem = 2
x = 7.5

[state 810, grab sound]
type = velset
triggerall = statetype = a
trigger1 = prevstateno != 21000
trigger1 = animelem = 2
x = 6.5

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
trigger1 = prevstateno != 21000
id = 21000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
removetime = -1
anim = 11000
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
trigger1 = prevstateno = 21000
id = 21000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
removetime = -1
anim = 11001
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 1030, nothitby]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, nt, st, ht
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, ap
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitoverride
trigger1 = 1
slot = 7
time = 1
stateno = 21000
attr = sca, np, sp, hp
ignorehitpause = 1

[state 810, grab sound]
type = changestate
trigger1 = moveguarded
value = 2104

[state 810, grab sound]
type = changestate
trigger1 = movehit
value = 2103

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 22
trigger1 = statetype != A
value = 2103

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 22
trigger1 = statetype = A
value = 2106
ctrl = 0

;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken Medium
[statedef 2101]
type    = U
movetype= a
physics = n
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = playsnd
trigger1 = animelem = 2
value = 3,20
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno != 21000
x = 0
y = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 21000
v = 1
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 21000
v = 2
value = 0

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1100
trigger1 = statetype != a
value = 1100

[state 810, grab sound]
type = varadd
trigger1 = 1
v = 2
value = 1

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1101
trigger1 = statetype = a
value = 1101

[state 810, grab sound]
type = velset
triggerall = statetype != a
trigger1 = prevstateno != 21000
trigger1 = animelem = 2
x = 7.5

[state 810, grab sound]
type = velset
triggerall = statetype = a
trigger1 = prevstateno != 21000
trigger1 = animelem = 2
x = 6.5

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
trigger1 = prevstateno != 21000
id = 21000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
scale = .83, 1.07   
removetime = -1
anim = 11000
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
trigger1 = prevstateno = 21000
id = 21000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
scale = .83, 1.07   
removetime = -1
anim = 11001
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 1030, nothitby]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, nt, st, ht
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, ap
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitoverride
trigger1 = 1
slot = 7
time = 1
stateno = 21000
attr = sca, np, sp, hp
ignorehitpause = 1

[state 810, grab sound]
type = changestate
trigger1 = moveguarded
value = 2104

[state 810, grab sound]
type = changestate
trigger1 = movehit
value = 2108

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 30
trigger1 = statetype != A
value = 2108

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 30
trigger1 = statetype = A
value = 2106
ctrl = 0

;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken Hard
[statedef 2102]
type    = U
movetype= a
physics = n
poweradd = 60
ctrl = 0

[State 1000, 2] ;Dust
type = Explod
triggerall = Statetype = S
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 200, 1]
type = playsnd
trigger1 = animelem = 2
value = 3,20
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno != 21000
x = 0
y = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 21000
v = 1
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
trigger1 = prevstateno != 21000
v = 2
value = 0

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1100
trigger1 = statetype != a
value = 1100

[state 810, grab sound]
type = varadd
trigger1 = 1
v = 2
value = 1

[state 810, grab sound]
type = changeanim
trigger1 = time = 0
trigger1 = anim != 1101
trigger1 = statetype = a
value = 1101

[state 810, grab sound]
type = velset
triggerall = statetype != a
trigger1 = prevstateno != 21000
trigger1 = animelem = 2
x = 7.5

[state 810, grab sound]
type = velset
triggerall = statetype = a
trigger1 = prevstateno != 21000
trigger1 = animelem = 2
x = 6.5

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
trigger1 = prevstateno != 21000
id = 21000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
removetime = -1
scale = .83, 1.07   
anim = 11000
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
trigger1 = prevstateno = 21000
id = 21000
name = "shield"
pos = 0,-60
postype = p1
bindtime = -1
removetime = -1
scale = .83, 1.07   
anim = 11001
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[state 1030, nothitby]
type = nothitby
trigger1 = time >= 0
time = 1
value = sca, nt, st, ht
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, ap
ignorehitpause = 1

[state 1030, enDFromproj]
type = hitoverride
trigger1 = 1
slot = 7
time = 1
stateno = 21000
attr = sca, np, sp, hp
ignorehitpause = 1

[state 810, grab sound]
type = changestate
trigger1 = moveguarded
value = 2104

[state 810, grab sound]
type = changestate
trigger1 = movehit
trigger1 = statetype != A
value = 2109

[state 810, grab sound]
type = changestate
trigger1 = movehit
trigger1 = statetype = A
value = 2110

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 42
trigger1 = statetype != A
value = 2110

[state 810, grab sound]
type = changestate
trigger1 = var(2) = 42
trigger1 = statetype = A
value = 2106
ctrl = 0

;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken - Final punches
[statedef 2103]
type    = U
movetype= a
physics = n
anim = 1102 + statetype = A
ctrl = 0

[state 870, push block]
type = removeexplod
trigger1 = time = 0
ID = 21000 

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
id = 11001
name = "shield"
pos = 0,-60
postype = p1
vel = 6,0
scale = .83, 1.07   
bindtime = 1
anim = 11001
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -10,-20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -10,-20
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1103
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1103
trigger1 = animelem = 4
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -10,-20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -10,-20
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1


[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = anim = [1102,1103]
trigger1 = animelem = 4 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
triggerall = prevstateno = 2100
trigger1 = time = 11
y = -11
x = .6
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 2101
trigger1 = time = 11
y = -12
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 2102
trigger1 = time = 11
y = -13
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos Y >= 0
trigger1 = anim = 1105
value = 2105

;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken - Final punches
[statedef 2108]
type    = U
movetype= a
physics = n
anim = 1102 + statetype = A
ctrl = 0

[state 870, push block]
type = removeexplod
trigger1 = time = 0
ID = 21000 

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
id = 11001
name = "shield"
pos = 0,-60
postype = p1
scale = .83, 1.07   
vel = 6,0
bindtime = 1
anim = 11001
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -12,-22
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -12,-22
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1103
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1103
trigger1 = animelem = 4
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -10,-20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -10,-20
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = anim = [1102,1103]
trigger1 = animelem = 4 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
triggerall = prevstateno = 2100
trigger1 = time = 11
y = -11
x = .6
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 2101
trigger1 = time = 11
y = -12
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 2102
trigger1 = time = 11
y = -13
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos Y >= 0
trigger1 = anim = 1105
value = 2105

;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken - Final punches
[statedef 2109]
type    = U
movetype= a
physics = n
anim = 1102
ctrl = 0

[state 870, push block]
type = removeexplod
trigger1 = time = 0
ID = 21000 

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
id = 11001
name = "shield"
pos = 0,-60
postype = p1
vel = 6,0
bindtime = 1
scale = .83, 1.07   
anim = 11001
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,0
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -14,-24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -14,-24
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = anim = [1102,1103]
trigger1 = animelem = 4 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
triggerall = prevstateno = 2100
trigger1 = time = 11
y = -11
x = .6
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 2101
trigger1 = time = 11
y = -12
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 2102
trigger1 = time = 11
y = -13
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos Y >= 0
trigger1 = anim = 1105
value = 2105

;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken - Final punches
[statedef 2110]
type    = U
movetype= a
physics = n
anim = 1107
ctrl = 0

[state 870, push block]
type = removeexplod
trigger1 = time = 0
ID = 21000 

[state 870, push block]
type = explod
triggerall = statetype = A
trigger1 = time = 0 
id = 11001
name = "shield"
pos = 0,-60
postype = p1
vel = 6,0
bindtime = 1
anim = 11001
scale = .83, 1.07   
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[state 240, 2]
type = hitdef
triggerall = anim = 1107
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -3.5,-3
guard.velocity = -5.5
ground.cornerpush.veloff = -6.5
airguard.velocity = -10.5,3
air.velocity = -5,-5
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[state 240, 2]
type = hitdef
triggerall = anim = 1107
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -14,-24
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -14,-24
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 1

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = animelem = 6 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
triggerall = prevstateno = 2100
trigger1 = time = 11
y = -11
x = .6
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 2101
trigger1 = time = 11
y = -12
persistent = 0

[state 200, 1]
type = veladd
triggerall = prevstateno = 2102
trigger1 = time = 11
y = -13
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos Y >= 0
trigger1 = anim = 1105
value = 2105

;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken - Miss
[statedef 2104]
type    = A
movetype= I
physics = n
anim = 1104
ctrl = 0

[state 810, grab sound]
type = removeexplod
trigger1 = time = 0
ID = 21000

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 1100
x = -3
y = -3

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 1101
x = -2
y = -5

[state 810, grab sound]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 1102 || prevstateno = 4100
x = -1
y = -7

[state 810, grab sound]
type = veladd
trigger1 = time > 1
y = .4

[state 810, grab sound]
type = changestate
trigger1 = pos y >= 0
trigger1 = time > 2
value = 2105


;---------------------------------------------------------------------------
;Dark Sakura Shouou Ken - Finish
[statedef 2105]
type    = S
movetype= a
physics = S
anim = 1106
velset = 0,0
ctrl = 0

[state 810, grab sound]
type = posset
trigger1 = 1
y = 0

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Shouou Ken - Shield
[statedef 21000]
type    = U
movetype= A
physics = n

[state 870, push block]
type = nothitby
trigger1 = 1
value = sca

[state 870, push block]
type = veladd
trigger1 = time = 0
x = -1.5

[state 870, push block]
type = changestate
trigger1 = time = 0
value = 2100+var(0)

;---------------------------------------------------------------------------
;Dark Sakura  Shouou Ken - Land
[statedef 2106]
type    = a
movetype= a
physics = a
anim = 460
 
[state 870, push block]
type = removeexplod
trigger1 = 1
ID = 21000

;-----------------------------------------------------
; Ashura Warp - Punch 
[statedef 2400]
type     = S
movetype = I
physics  = n
ctrl     = 0
velset = 0,0
anim     = 2400
poweradd = 60

[state 1100, 4]
type = afterimage
trigger1 = time = 0
time = 99999999
framegap = 3
length = 7
palbright = 0,0,0
palcontrast = 224,256,256
paladd = 0,0,0
palmul = 1.0,1.0,1.0

[state 234, changestate]
type = playsnd
trigger1 = animelem = 9
value = 3,25
persistent = 0

[state 234, changestate]
type = velset
trigger1 = animelem = 9
x = 15
persistent = 0

[state 234, changestate]
type = velmul
trigger1 = time > 18 
x = .93

[state 234, changestate]
type = turn
trigger1 = p2dist x < 0

[state 234, changestate]
type = changestate
trigger1 = time = 50
value = 2410

;-----------------------------------------------------
; Ashura Warp - Punch Largue
[statedef 2401]
type     = S
movetype = I
physics  = n
ctrl     = 0
velset = 0,0
anim     = 2400
poweradd = 60

[state 1100, 4]
type = afterimage
trigger1 = time = 0
time = 99999999
framegap = 3
length = 7
palbright = 0,0,0
palcontrast = 224,256,256
paladd = 0,0,0
palmul = 1.0,1.0,1.0

[state 234, changestate]
type = playsnd
trigger1 = animelem = 9
value = 3,25
persistent = 0

[state 234, changestate]
type = velset
trigger1 = animelem = 9
x = -15
persistent = 0

[state 234, changestate]
type = velmul
trigger1 = time > 18 
x = .93

[state 234, changestate]
type = turn
trigger1 = p2dist x < 0

[state 234, changestate]
type = changestate
trigger1 = time = 50
value = 2410

;-----------------------------------------------------
; Ashura Warp - Kick 
[statedef 2402]
type     = S
movetype = I
physics  = n
ctrl     = 0
velset = 0,0
anim     = 2400
poweradd = 60

[state 1100, 4]
type = afterimage
trigger1 = time = 0
time = 99999999
framegap = 3
length = 7
palbright = 0,0,0
palcontrast = 224,256,256
paladd = 0,0,0
palmul = 1.0,1.0,1.0

[state 234, changestate]
type = playsnd
trigger1 = animelem = 9
value = 3,25
persistent = 0

[state 234, changestate]
type = velset
trigger1 = animelem = 9
x = 9
persistent = 0

[state 234, changestate]
type = velmul
trigger1 = time > 18 
x = .93

[state 234, changestate]
type = turn
trigger1 = p2dist x < 0

[state 234, changestate]
type = changestate
trigger1 = time = 50
value = 2410

;-----------------------------------------------------
; Ashura Warp - Kick Largue
[statedef 2403]
type     = S
movetype = I
physics  = n
ctrl     = 0
velset = 0,0
anim     = 2400
poweradd = 60

[state 1100, 4]
type = afterimage
trigger1 = time = 0
time = 99999999
framegap = 3
length = 7
palbright = 0,0,0
palcontrast = 224,256,256
paladd = 0,0,0
palmul = 1.0,1.0,1.0

[state 234, changestate]
type = playsnd
trigger1 = animelem = 9
value = 3,25
persistent = 0

[state 234, changestate]
type = velset
trigger1 = animelem = 9
x = -9
persistent = 0

[state 234, changestate]
type = velmul
trigger1 = time > 18 
x = .93

[state 234, changestate]
type = turn
trigger1 = p2dist x < 0

[state 234, changestate]
type = changestate
trigger1 = time = 50
value = 2410

;-----------------------------------------------------
; Ashura Warp - Finish
[statedef 2410]
type    = s
movetype= a
physics = n
anim = 2401
ctrl = 0

[state 234, changestate]
type = velset
trigger1 = time = 0
x = 0

[state 234, changestate]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Dark Sakura Shinku Hadouken
[statedef 3000]
type    = s
movetype= a
physics = s
velset = 0,0
anim = 3000
ctrl = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = anim = 3000
trigger1 = animelem = 3
value = 3,19
volume = 255
volumescale = 255
channel = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = anim = 3000
trigger1 = animelem = 21
value = 3,10
volume = 255
volumescale = 255
channel = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = anim = 3000
trigger1 = animelem = 22
value = 20,1
volume = 55
volumescale = 55

[State 3000, VarSet]
type = VarSet
trigger1 = anim = 3000
trigger1 = animelem = 3
var(4) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = time = 90
var(4) = 0

[State 3000, Helper]
type = Helper
trigger1 = anim = 3000
trigger1 = animelem = 3
stateno = 85000
supermovetime = 99999999
pos = ceil(-20*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = anim = 3000
trigger1 = animelem = 3
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = anim = 3000
trigger1 = animelem = 3,< 0
value = SCA

[State 3000, Explod]
type = Explod
trigger1 = anim = 3000
trigger1 = animelem = 21
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[state 870, push block]
type = explod
trigger1 = time = 0
trigger1 = anim = 3000
id = 10004
pos = 0,0
bindtime = -1
removetime = -1
anim = 30000
scale = .83,1.07 
removetime = 74
sprpriority = 4
ownpal = 1
removeongethit = 1
supermove = 1

[state haha]
type = varadd
trigger1 = time = 0
v = 18
value = -4

[state 870, push block]
type = helper
trigger1 = animelem = 24
trigger1 = anim = 3000
id = 30000
name = "spairaru"
pos = 73,-57
postype = p1
stateno = 30000
ownpal = 1

[state 200, 1]
type = playsnd
trigger1 = projhit = 1
value = 5+var(49),5
channel = 5
volume = 150
volumescale = 150

[state 200, 1]
type = playsnd
trigger1 = projguarded = 1
value = 6+var(49),0
channel = 6
volume = 150
volumescale = 150

[State 181, 3]
type = Explod
trigger1 = projhit = 1
trigger1 = (time%3) = 0
postype = P2
pos = 0, -45
sprpriority = 2
scale = 0.45,0.45
anim = 8003
bindtime = 1
removetime = 14
supermovetime = 30
ontop = 1
ownpal = 1

[State 181, 3]
type = Explod
trigger1 = projhit = 1
trigger1 = (time%4) = 0
postype = P2
pos = -40, -45
sprpriority = 2
scale = 0.45,0.45
anim = 8003
bindtime = 1
removetime = 14
supermovetime = 30
ontop = 1
ownpal = 1

[state 810, grab sound]
type = removeexplod
trigger1 = time = 80
ID = 10004

[state 810, grab sound]
type = changeanim
trigger1 = time = 80
value = 3001

[state 810, grab sound]
type = changestate
trigger1 = statetype !=A
trigger1 = anim = 3001
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------
;Dark Sakura Shinku Hadouken - Helper
[statedef 30000]
type    = A
movetype = A
physics = N
sprpriority = 4
anim = 30001
velset = 0,0
ctrl = 0

[State 6110, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = rootdist x

[State 6110, VarSet]
type = VarSet
trigger1 = time = 0
fvar(1) = rootdist y

[State 6110, VarSet]
type = VarSet
trigger1 = root,command = "x"
trigger2 = root,command = "y"
trigger3 = root,command = "z"
var(0) = 1

[State 6110, BindToParent]
type = BindToParent
trigger1 = 1
pos = -fvar(0),-fvar(1)


[State 6110, Projectile]
type = Projectile
triggerall = time < 42
trigger1 = (time%6) = 0
attr = A, HP
damage = 10,1
animtype = Light
guardflag = MA
hitflag = MAF
getpower = 0,0
givepower = 20,0
pausetime = 1,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = 10,-25
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .93
ground.velocity = -3.7,-2.8
guard.ctrltime = 20
guard.velocity = -6
air.velocity = -3.7,-2.5
airguard.velocity = -10.5,3
fall.xvelocity = -4
fall.yvelocity = -1
fall = 1
fall.recover = 0
projid = 30000
projanim = 6115
projhitanim = -1
projremanim = -1
projcancelanim = -1
projremove = 0
projedgebound = 120
velocity = 20,0
offset = -60,0
envshake.ampl = 15
envshake.phase = 15
id = 4


[State 6110, Projectile]
type = Projectile
triggerall = time < 42
trigger1 = (time%8) = 0
attr = A, HP
damage = 10,1
animtype = Light
guardflag = MA
hitflag = MAF
getpower = 0,0
givepower = 20,0
pausetime = 1,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = 10,-25
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
yaccel = .93
ground.velocity = -3.7,-2.8
guard.ctrltime = 20
guard.velocity = -6
air.velocity = -3.7,-2.5
airguard.velocity = -10.5,3
fall.xvelocity = -4
fall.yvelocity = -1
guard.ctrltime = 20
fall = 1
fall.recover = 0
projid = 30000
projanim = 6114
projhitanim = -1
projremanim = -1
projcancelanim = -1
projremove = 0
projedgebound = 120
velocity = 20,0
offset = -60,0
envshake.ampl = 15
envshake.phase = 15
id = 4

[State 6110, Projectile]
type = Projectile
triggerall = time < 42
trigger1 = timemod = 8,1
attr = A, HP
damage =10,1
animtype = Light
guardflag = MA
hitflag = MAF
getpower = 0,0
givepower = 20,0
pausetime = 1,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = 10,-25
hitsound = -1
guardsound = -1
ground.slidetime = 18
ground.hittime = 20
air.hittime = 6
ground.type = High
yaccel = .93
ground.velocity = -3.7,-2.8
guard.ctrltime = 20
guard.velocity = -11
air.velocity = -3.7,-2.5
airguard.velocity = -10.5,3
fall.xvelocity = -4
fall.yvelocity = -1
guard.ctrltime = 20
fall = 1
fall.recover = 0
projid = 30000
projanim = 6113
projhitanim = -1
projremanim = -1
projcancelanim = -1
projremove = 0
projedgebound = 120
velocity = 20,0
offset = -60,0
envshake.ampl = 15
envshake.phase = 15
id = 4

[State 220, 8]
type = TargetState
trigger1 = projhit = 1
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 6117

[State 6110, VarSet]
type = VarSet
trigger1 = time%5 = 0
var(0) = 0

[State 6110, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H
trigger2 = anim = 30002 && animtime = 0

[State 6110, ChangeState]
type = ChangeAnim
trigger1 = time = 40
value = 30002

;---------------------------------------------------------------------------
;Dark Sakura Shinku Hadouken - Hits p2state
[Statedef 6117]
type    = A
movetype= H
physics = N
ctrl = 0

[State 6117, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 6117

[State 6117, Velset]
type = VelSet
trigger1 = AnimElem = 2
y = -1.4
x = -2

[State 6117, Velset]
type = VelSet
trigger1 = Time = 5
y = 0
x = -5.6

[State 6117, Velset]
type = Veladd
trigger1 = Time > 5
y = 0.63
x = -5.6

[State 10210, Gravity]
type = Gravity
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 33, >= 0)) || ((enemyNear, StateNo = 3050) && (enemyNear, AnimElem = 30, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3050))
trigger1 = Time > 1

[State 10210, VelSet]
type = VelSet
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 33, >= 0)) || ((enemyNear, StateNo = 3050) && (enemyNear, AnimElem = 30, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3050))
trigger1 = Time > 1
trigger1 = Alive
x = -2
y = -2.7
persistent = 0

[State 10210, VelSet]
type = VelSet
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 33, >= 0)) || ((enemyNear, StateNo = 3050) && (enemyNear, AnimElem = 30, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3050))
trigger1 = Time > 1
trigger1 = !alive
x = -2
y = -2.7
persistent = 0

[State 9910, VelAdd]
type = VelAdd
trigger1 = Time > 16
y = 3.89

[State 6117, ChangeState]
type = SelfState
trigger1 = Time > 5
trigger1 = Vel X >= -45
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
;Shun Goku Satsu
[statedef 3300]
type = S
movetype= A
physics = N
ctrl = 0
anim = 3300
sprpriority = 2
velset = 0,0

[State 3060, Explod]
type = Explod
trigger1 = animelem = 2
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[State 3060, VarSet]
type = VarSet
trigger1 = animelem = 1
var(4) = 1

[State 3060, VarSet]
type = VarSet
trigger1 = time = 76
var(4) = 0

[State 3060, Helper]
type = Helper
trigger1 = animelem = 1
stateno = 85000
supermovetime = 99999999
pos = ceil(5*const(size.xscale)),ceil(-85*const(size.yscale))
ownpal = 1
id = 8500

[State 3060, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -3000

[State 3060, NotHitBy]
type = NotHitBy
trigger1 = animelem = 1
value = SCA

[State 3060, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3.5

[State 3060, VelSet]
type = VelSet
trigger1 = time = 76
x = 0

[State 3060, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, HT
getpower = 0,0
givepower = 0,0
guardflag =
hitflag = M-
sparkno = -1
hitsound = S5,4
p1stateno = 3301
p2stateno = 9040
p2facing = 1
numhits = 0

[State 3060, ChangeState]
type = ChangeState
trigger1 = time = 76
value = 0
ctrl = 1
 
;---------------------------------------------------------------------------
;Shun Goku Satsu - PART II
[Statedef 3301] 
type = S
movetype = A
physics = S
anim = 3301
sprpriority = 1
velset = 0,0
ctrl = 0 

[State FS-1, Camera]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1, 1

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(10*const(size.xscale)),ceil(-50*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State FS-1, Fix Camera View]
type = VelSet
trigger1 = time = 0
x = -22

[State FS-1, Get All Screen]
type = Width
trigger1 = 1
edge = 140,140

[State FS-1, Set Pos]
type = PosSet
trigger1 = 1
x = Parent, Pos X
y = Parent, Pos Y

[State FS-1, Set Floor]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 3061, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2,= 6
trigger2 = animelem = 2,= 12
trigger3 = animelem = 2,= 18
trigger4 = animelem = 2,= 24
trigger5 = animelem = 2,= 30
trigger6 = animelem = 2,= 36
trigger7 = animelem = 2,= 42
trigger8 = animelem = 2,= 48
value = s5+var(49),1
channel = 6

[State 3061, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2,= 3
trigger2 = animelem = 2,= 9
trigger3 = animelem = 2,= 15
trigger4 = animelem = 2,= 21
trigger5 = animelem = 2,= 27
trigger6 = animelem = 2,= 33
trigger7 = animelem = 2,= 39
trigger8 = animelem = 2,= 45
value = s5+var(49),0
channel = 6

[State 3061, Explod]
type = varadd
trigger1 = animelem = 2,= 3
trigger2 = animelem = 2,= 6
trigger3 = animelem = 2,= 9
trigger4 = animelem = 2,= 12
trigger5 = animelem = 2,= 15
trigger6 = animelem = 2,= 18
trigger7 = animelem = 2,= 21
trigger8 = animelem = 2,= 24
trigger9 = animelem = 2,= 27
trigger10 = animelem = 2,= 30
trigger11 = animelem = 2,= 33
trigger12 = animelem = 2,= 36
trigger13 = animelem = 2,= 39
trigger14 = animelem = 2,= 42
trigger15 = animelem = 2,= 45
trigger16 = animelem = 2,= 48
var(18)=1

[State 3061, Explod]
type = Explod
trigger1 = animelem = 2,= 3
trigger2 = animelem = 2,= 6
trigger3 = animelem = 2,= 9
trigger4 = animelem = 2,= 12
trigger5 = animelem = 2,= 15
trigger6 = animelem = 2,= 18
trigger7 = animelem = 2,= 21
trigger8 = animelem = 2,= 24
trigger9 = animelem = 2,= 27
trigger10 = animelem = 2,= 30
trigger11 = animelem = 2,= 33
trigger12 = animelem = 2,= 36
trigger13 = animelem = 2,= 39
trigger14 = animelem = 2,= 42
trigger15 = animelem = 2,= 45
trigger16 = animelem = 2,= 48
anim = 8001
pos = 0,-90
random = 160,100
scale = 0.5,0.5
facing = ifelse(random%2<1,1,-1)
ownpal = 1
ontop = 1

[State 3061, Width]
type = Width
trigger1 = 1
edge = 50,0

[State 3061, TargetBind]
type = TargetBind
trigger1 = animelem = 1,>= 0 && animelem = 3,< 0
pos = 55*const(size.xscale),-80*const(size.yscale)

[State 3061, TargetBind]
type = TargetBind
trigger1 = animelem = 3
pos = 55*const(size.xscale),0*const(size.yscale)

[State 3061, TargetState]
type = TargetState
trigger1 = animelem = 3
value = 9041

[State 3061, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 3
value = -500

[State 3061, AssertSpecial]
type = AssertSpecial
trigger1 = animelem = 3,< 0
flag = nofg

[State 3061, VarSet]
type = VarSet
trigger1 = animelem = 2
var(4) = 2

[State 3061, VarSet]
type = VarSet
trigger1 = animelem = 3,= 1
var(4) = 0

[State 3061, EnvColor]
type = EnvColor
trigger1 = animelem = 2,>= 0 && animelem = 3,< 0
value = 0,0,0
under = 1

[State 3061, HitAdd]
type = HitAdd
trigger1 = animelem = 3
value = 18

[State 3061, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Shun Goku Satsu - p2stateno PART I
[Statedef 9040] 
type = S
movetype = H
physics = N
sprpriority = 0
velset = 0,0
ctrl = 0

[State 9040, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 9040, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 9040
 
;---------------------------------------------------------------------------
;Shun Goku Satsu - p2stateno PART II
[Statedef 9041] 
type = L
movetype = H
physics = N
sprpriority = 0
velset = 0,0
ctrl = 0
anim = 5110

[State 9041, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 9041, SelfState]
type = SelfState
trigger1 = time = 37
value = ifelse(alive,5120,5150)

;---------------------------------------------------------------------------
;Dark Sakura Transformation
[statedef 3500]
type    = s
movetype= a
physics = s
velset = 0,0
anim = 3500
ctrl = 0

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 1
var(4) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 4
var(4) = 0

[State 3000, Helper]
type = Helper
trigger1 = animelem = 1
stateno = 85000
supermovetime = 99999999
pos = ceil(5*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -3000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 1,< 0
value = SCA

[State 3000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 1
trigger1 = time = 1
source = 1,1
dest = 1,7

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 2
trigger1 = time = 1
source = 1,1
dest = 1,8

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 3
trigger1 = time = 1
source = 1,1
dest = 1,9

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 4
trigger1 = time = 1
source = 1,1
dest = 1,10

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 5
trigger1 = time = 1
source = 1,1
dest = 1,11

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 6
trigger1 = time = 1
source = 1,1
dest = 1,12

[state 200, 1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Sakura Transformation
[statedef 3501]
type    = s
movetype= a
physics = s
velset = 0,0
anim = 3501
ctrl = 0

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 1
var(4) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 4
var(4) = 0

[State 3000, Helper]
type = Helper
trigger1 = animelem = 1
stateno = 85000
supermovetime = 99999999
pos = ceil(5*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -3000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 1,< 0
value = SCA

[State 3000, Explod]
type = Explod
trigger1 = animelem = 1
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 1
trigger1 = time = 1
source = 1,1
dest = 1,1

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 2
trigger1 = time = 1
source = 1,1
dest = 1,2

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 3
trigger1 = time = 1
source = 1,1
dest = 1,3

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 4
trigger1 = time = 1
source = 1,1
dest = 1,4

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 5
trigger1 = time = 1
source = 1,1
dest = 1,5

[State 0, RemapPal]
type = RemapPal
triggerall = palno = 6
trigger1 = time = 1
source = 1,1
dest = 1,6

[state 200, 1]
type = varset
trigger1 = time = 1
v = 40
value = 0

[state 200, 1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Shinkuu Hadouken
[statedef 4000]
type    = s
movetype= a
physics = s
velset = 0,0
anim = 4000
ctrl = 0

[state haha]
type = varadd
trigger1 = time = 0
v = 18
value = -4

[state 870, push block]
type = explod
trigger1 = animelem = 2
trigger1 = anim = 4000
id = 10004
pos = 0,0
bindtime = -1
anim = 4002
scale = .83, 1.07  
sprpriority = 4
ownpal = 1
removeongethit = 1
supermove = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = anim = 4000
trigger1 = animelem = 2
value = 3,19
volume = 255
volumescale = 255
channel = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = anim = 4000
trigger1 = animelem = 19
value = 3,10
volume = 255
volumescale = 255
channel = 0

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(4) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = time = 107
var(4) = 0

[State 3000, Helper]
type = Helper
trigger1 = anim = 4000
trigger1 = animelem = 2
stateno = 85000
supermovetime = 99999999
pos = ceil(-15*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = anim = 4000
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 2,< 0
value = SCA

[state 1001, randomstars x]
type = varrandom
trigger1 = 1
v = 1
range = 60, 0

[state 1001, randomstars y]
type = varrandom
trigger1 = 1
v = 2
range = -105, -115

[State 3000, Explod]
type = Explod
trigger1 = anim = 4000
trigger1 = animelem = 21
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[state 870, push block]
type = helper
trigger1 = animelem = 21
trigger1 = anim = 4000
trigger1 = time < 120
id = 40000
name = "spairaru"
pos = var(1),var(2)
postype = p1
stateno = 40000
ownpal = 1

[state 870, push block]
type = helper
trigger1 = animelem = 21
trigger1 = anim = 4000
trigger1 = time > 120
id = 40000
name = "spairaru"
pos = var(1),var(2)
postype = p1
stateno = 40002
ownpal = 1

[state 810, grab sound]
type = changeanim
trigger1 = time = 107
value = 4001

[state 810, grab sound]
type = changestate
trigger1 = statetype !=A
trigger1 = anim = 4001
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Shinkuu Hadouken - Helper
[statedef 40000]
type    = A
movetype= a
physics = N
anim = 10000
ctrl = 0

[state 3001, attackmulset]
type = attackmulset
trigger1 = 1
value = parent, Fvar(0)
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvarset
trigger1 = movehit
v = 5
value = 1
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvaradd
trigger1 = movehit
v = 18
value = 1
ignorehitpause = 1

[state 3001, attackmulset]
type = attackmulset
trigger1 = 1
value = parent, Fvar(0)
ignorehitpause = 1

[state 200, 1]
type = sprpriority
trigger1 = 1
value = 3

[state 200, 1]
type = velset
trigger1 = time = 0
x = 8
y = -8

[state 200, 1]
type = playsnd
trigger1 = time = 1
value = 3,0
volume = 115
volumescale = 115

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S, HP
animtype = Hard
Air.animtype = Diagup
damage    = 40,8
guarDFlag = ma
priority = 7, hit
hitflag = mafd
pausetime = 0,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,25
hitsound = -1
guardsound = S6+parent,var(49),0
ground.type = low
air.type = low
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -7,-17
guard.velocity = -11
air.velocity = -7,-17
yaccel = .88
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall.recover = 0
id = 1+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+parent,var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT, HP
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, AP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 40001
attr = SCA, NP, SP, AP
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvaradd
trigger1 = movehit
v = 23
value = 1
ignorehitpause = 1

[state 810, grab sound]
type = changestate
trigger1 = time = 50
trigger2 = movecontact
value = 40001

;---------------------------------------------------------------------------
;Shinkuu Hadouken - Helper II
[statedef 40002]
type    = A
movetype= a
physics = N
anim = 10000
ctrl = 0

[state 200, 1]
type = sprpriority
trigger1 = 1
value = 3

[state 200, 1]
type = velset
trigger1 = time = 0
x = 8
y = -8

[state 200, 1]
type = playsnd
trigger1 = time = 1
value = 3,0
volume = 115
volumescale = 115

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S, HP
animtype = Hard
Air.animtype = Diagup
damage    = 40,8
guarDFlag = ma
priority = 7, hit
hitflag = mafd
pausetime = 0,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = low
air.type = low
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -7,-17
air.velocity = -7,-17
yaccel = .88
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall.recover = 0
id = 1+4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT, HP
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, AP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 40001
attr = SCA, NP, SP, AP
ignorehitpause = 1

[state 810, grab sound]
type = changestate
trigger1 = time = 50
trigger2 = movecontact
value = 40001

;---------------------------------------------------------------------------
;Shinkuu Hadouken - Helper finish
[statedef 40001]
type    = A
movetype= a
physics = N
velset = 0,0
anim = 10002
ctrl = 1

[state 3001, attackmulset]
type = attackmulset
trigger1 = 1
value = parent, Fvar(0)
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvarset
trigger1 = movehit
v = 5
value = 1
ignorehitpause = 1

[state 3001, parentvaradd]
type = parentvaradd
trigger1 = movehit
v = 18
value = 1
ignorehitpause = 1

[state 3001, attackmulset]
type = attackmulset
trigger1 = 1
value = parent, Fvar(0)
ignorehitpause = 1

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;Midare Zakura
[statedef 4100]
type    = s
movetype= a
physics = n
velset = 0,0
anim = 4100
ctrl = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1=6
value = 3,18
volume = 255
volumescale = 255
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(4) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = moveguarded
var(4) = 0

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 85000
supermovetime = 99999999
pos = ceil(-15*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 2,< 0
value = SCA

[state haha]
type = varadd
trigger1 = time = 0
v = 18
value = -4

[state 200, 1]
type = velset
trigger1 = animelem = 3
x = 6

[state 240, 2]
type = hitdef
trigger1 = time = 0
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Hard
damage    = 40,5
hitflag = maf
guarDFlag = ma
pausetime = 15,25
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
guard.velocity = -11
airguard.velocity = -10.5,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.velocity = -4
air.velocity = -4,0
yaccel = .88
kill = 0

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 4102

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state hee]
type = changestate
trigger1 = movehit && p2stateno = 4102
value = 4101 

[state hee]
type = changestate
trigger1 = moveguarded
value = 1104

[state hee]
type = changestate
trigger1 = time = 67
value = 1117

;---------------------------------------------------------------------------
;Midare Zakura - First hit
[statedef 4102]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1182, pos]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1182, vel]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1182, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 1182, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 1182, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 1182, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 1182, 6]
type = SelfState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5001 ;HITG_SLIDE

[State 1182, 7]
type = SelfState
trigger1 = HitShakeOver
value = 5030

[State 1182, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 1182, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 1182, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140



;---------------------------------------------------------------------------
;Midare Zakura - Hits
[statedef 4101]
type    = s
movetype= a
physics = n
velset = 2,0
anim = 4101
ctrl = 0

[state 240, 2]
type = hitdef
trigger1 = animelem = 3
trigger2 = animelem = 15
attr = s, ha
animtype  = hard
damage    = 32,5
hitflag = maf
guarDFlag = ma
pausetime = 5,5
hittime = 40
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = high
ground.slidetime = 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,0
kill = 0

[state 240, 2]
type = hitdef
trigger1 = animelem = 6
attr = s, ha
animtype  = hard
damage    = 32,5
hitflag = maf
guarDFlag = ma
pausetime = 5,5
hittime = 40
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = low
ground.slidetime = 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,0
kill = 0

[state 240, 2]
type = hitdef
trigger1 = animelem = 8
trigger2 = animelem = 20
attr = s, ha
animtype  = hard
damage    = 32,5
hitflag = maf
guarDFlag = ma
pausetime = 5,5
hittime = 40
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = high
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,0
kill = 0

[state 240, 2]
type = hitdef
trigger1 = animelem = 12
trigger2 = animelem = 24
trigger3 = animelem = 28
attr = s, ha
animtype  = hard
damage    = 32,5
hitflag = maf
guarDFlag = ma
pausetime = 5,5
hittime = 40
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = low
ground.slidetime = 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,0
kill = 0

[state 240, 2]
type = hitdef
trigger1 = animelem = 32
attr = s, ha
animtype  = hard
damage    = 32,5
hitflag = maf
guarDFlag = ma
pausetime = 8,5
hittime = 40
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = high
ground.slidetime = 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,0
kill = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 7
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 8
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 9
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 10
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 7
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 8
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 9
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 10
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
trigger1 = animelem = 3
trigger2 = animelem = 15
trigger3 = animelem = 24
value = 3,12
volume = 255
volumescale = 255
channel = 0

[state 200, 1]
type = playsnd
trigger1 = animelem = 6
trigger2 = animelem = 12
trigger3 = animelem = 32
value = 3,14
volume = 255
volumescale = 255
channel = 0

[state 200, 1]
type = playsnd
trigger1 = animelem = 8
trigger2 = animelem = 20
trigger3 = animelem = 28
value = 3,13
volume = 255
volumescale = 255
channel = 0

[state hee]
type = changestate
trigger1 = animtime = 0
value = 4103

;---------------------------------------------------------------------------
;Midare Zakura - Shouou Ken
[statedef 4103]
type    = U
movetype= a
physics = n
anim = 1102
ctrl = 0

[state 200, 1]
type = playsnd
trigger1 = animelem = 1
value = 3,20
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state 810, grab sound]
type = varset
trigger1 = time = 0
v = 1
value = 2

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(4) = 0

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -2,0
guard.velocity = -5.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.velocity = -10.5,3
air.velocity = -5,0
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4
kill = 0

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S,SA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 3,3
guard.pausetime = 3,3
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -1.5,-8
guard.velocity = -5.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.velocity = -10.5,3
air.velocity = -1,-9
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4
kill = 0

[state 240, 2]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 6
attr = S,SA
hitflag = MAF
guardflag = MA
air.animtype = diagup
animtype = diagup
damage = 60,0
getpower = 20,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 3,2
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-90
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 25
guard.hittime = 17
yaccel = .82
ground.velocity = -11,-16
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
airguard.cornerpush.veloff = -11
guard.velocity = -13
air.velocity = -11,-16
airguard.velocity = -10.5,3
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
air.fall = 1
fall.recover = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount =6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 810, grab sound]
type = movehitreset
trigger1 = movecontact

[state 200, 1]
type = changeanim
trigger1 = anim = [1102,1103]
trigger1 = animelem = 4 = 15
value = 1105

[state 200, 1]
type = statetypeset
trigger1 = time = 14
value = A

[state 200, 1]
type = veladd
trigger1 = time = 11
y = -13
x = .6
persistent = 0

[state 200, 1]
type = veladd
trigger1 = animelem = 4
trigger1 = anim = [1102,1103]
trigger2 = anim = 1105
y = .8

[state 200, 1]
type = velmul
trigger1 = anim = 1105
trigger1 = time > 11
x = .3

[state 810, grab sound]
type = changestate
trigger1 = pos y >= 0
trigger1 = time > 12
value = 4105

;---------------------------------------------------------------------------
;Midare Zakura - Finish
[statedef 4105]
type    = s
movetype= a
physics = s
velset = 0,0
anim = 4105
ctrl = 0

[state 810, grab sound]
type = posset
trigger1 = 1
y = 0

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200
pos = 0,-10

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 3,15
volume = 255
volumescale = 255
channel = 0

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Haru Ichiban
[statedef 4200]
type    = s
movetype= a
physics = s
velset = 0,0
anim = 4200
ontop = 1
ctrl = 0

[state haha]
type = varadd
trigger1 = time = 0
v = 18
value = -4

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 3,11
volume = 255
volumescale = 255
channel = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 3,21
volume = 255
volumescale = 255
channel = 0

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 1
var(4) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 1
stateno = 85000
supermovetime = 99999999
pos = ceil(5*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 1,< 0
value = SCA

[State 3000, Explod]
type = Explod
trigger1 = animelem = 2
anim = 8300
id = 8300
scale = 0.5,0.5
supermove = 1
sprpriority = 4
ownpal = 1

[state 810, grab sound]
type = changestate
trigger1 = animtime = 0
value = 4201

;---------------------------------------------------------------------------
;Haru Ichiban - Kicks
[statedef 4201]
type = A
movetype= A
physics = N
ctrl = 0
anim = 4201
sprpriority = 2
velset = 0,-7
movehitpersist = 1

[state 810, grab sound]
type = playsnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = 0,4
channel = 2

[State 3000, VarSet]
type = VarSet
trigger1 = movehit = 0
trigger1 = time = 44
var(4) = 0

[state 210, 2]
type = hitdef
trigger1 = animelem = 3
attr = A,HA
hitflag = MAF
guardflag = MA
animtype = Back
air.animtype = Back
damage = 25,5
getpower = 0,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 26
yaccel = .82
ground.velocity = 0,-16
ground.cornerpush.veloff = 0
air.velocity = 0.2,-5.8
guard.velocity = -10
airguard.velocity = -6,-4
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 4
kill = 0

[state 210, 2]
type = hitdef
trigger1 = animelem = 5
attr = A,HA
hitflag = MAF
guardflag = MA
animtype = Back
air.animtype = Back
damage = 25,5
getpower = 0,0
givepower = 20,0
pausetime = 3,2
guard.pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 26
yaccel = .82
ground.velocity = 0,-16
ground.cornerpush.veloff = 0
air.velocity = 0.2,-5.8
guard.velocity = -10
airguard.velocity = -6,-4
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
id = 4
kill = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 5
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 6
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 7
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 8
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 9
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 10
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 11
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 12
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 13
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 14
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 5
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 6
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 7
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 8
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 9
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 10
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 11
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 12
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 13
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 14
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 43
x = 0
y = 0

[state 810, grab sound]
type = changestate
trigger1 = hitcount > 5
trigger1 = time > 42
value = 4202

[state 810, grab sound]
type = changestate
trigger1 = movehit = 0
trigger1 = time = 44
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
;Haru Ichiban - Final hits
[statedef 4202]
type    = a
movetype= a
physics = n
juggle  = 4
velset = 0,0
ctrl = 0
anim = 4202

[state 234, 2]
type = hitdef
trigger1 = animelem = 2
attr = a, ha
animtype = Back
air.animtype = back
damage    = 18, 5
getpower  = 30
givepower = 10
guarDFlag = ma
pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = low
animtype = hard
fall.animtype = hard
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -8;,-3
guard.velocity = -12
air.velocity = 2,-2
fall = 1
snap = 40,-0
kill = 0
fall.recover = 0

[state 234, 2]
type = hitdef
trigger1 = animelem = 5
attr = a, ha
animtype = Back
air.animtype = back
damage    = 18, 5
getpower  = 30
givepower = 10
guarDFlag = ma
pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = low
animtype = hard
fall.animtype = hard
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -8;,-3
guard.velocity = -12
air.velocity = -4,-2
fall = 1
kill = 0
fall.recover = 0

[state 234, 2]
type = hitdef
trigger1 = animelem = 8
attr = a, ha
animtype = Back
air.animtype = back
damage    = 18, 5
getpower  = 30
givepower = 10
guarDFlag = ma
pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
animtype = hard
ground.type = low
animtype = hard
fall.animtype = hard
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -8;,-3
guard.velocity = -12
air.velocity = 2,-2
fall = 1
kill = 0
fall.recover = 0

[state 234, 2]
type = hitdef
trigger1 = animelem = 12
attr = a, ha
animtype = Back
air.animtype = back
damage    = 50, 9
getpower  = 30
givepower = 10
guarDFlag = ma
pausetime = 4,4
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = -1
guardsound = S6+var(49),0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 6
ground.velocity = -8;,-3
guard.velocity = -12
air.velocity = -2,11
yaccel = 1.13
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[state 200, 1]
type = targetlifeadd
trigger1 = hitcount = 4
value = -4

[state 200, 1]
type = playsnd
triggerall = hitcount = 1
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 2
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 3
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0

[state 200, 1]
type = playsnd
triggerall = hitcount = 4
trigger1 = movehit
value = s5+var(49),2
channel = 6
ignorehitpause = 1
persistent = 0


[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 1
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 2
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 3
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
triggerall = hitcount = 4
trigger1 = MoveContact
anim = Cond(MoveHit, 8006, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 16
var(4) = 0

[state 234, changestate]
type = changestate
trigger1 = animtime = 0
value = 1211
ctrl = 1

; HIT_FALLRECOVER (on the ground) 
[Statedef 5201]
type    = C
movetype= H
physics = N
anim = ifelse(prevstateno=5200+ 400*(var(40)),5200+ 400*(var(40)),5201+ 400*(var(40)))
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 731, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 40, 0
volumescale = 158

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(anim=5200,8,-7)
y = 0

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 

; nGtFNg 
[Statedef 8200]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
pos = 16,0
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,0
vel = -4,0
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0

; AhoVOK[h(wp[) 
[Statedef 8060]
type = A
physics = N
anim = 8061
velset = -14,0
ctrl = 0

[State 8060, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,18

[State 8060, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 8060, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 8060, DestroySelf]
type = DestroySelf
trigger1 = time = 16;24

; X[p[R{o(wp[) 
	
[Statedef 85000] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,0
volume = 200
volumescale = 200

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(4) = 1 && !numexplod(8505)
anim = 8505
id = 8505
postype = left
bindtime = -1
removetime = -1
scale = .5,.5*fvar(1)
sprpriority = -3
ownpal = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(8505)
ID = 8505
scale = .5,.5*fvar(1)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = ifelse(screenpos y-212<0,0,screenpos y-212)

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = 1+(fvar(0)/512)

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(4) = 0 || root,var(4) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,winko
trigger1 = time >= 37 && roundstate > 2
value = 85100

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(4) = 0
trigger2 = root,movetype = H
 
 
[Statedef 85100] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,4

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,12

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = nomusic

[State 8510, Explod]
type = Explod
trigger1 = time = 0
anim = 8510
id = 8510
scale = .5,.5
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1

[State 8510, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(8510)
  
; VXep 
	
; ^[QbgJo[ 
[Statedef 9900]
type = A
movetype = H
physics = N

[State 9900, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5040,5050)
 
; ^[Qbg_EA 
[Statedef 9901]
type = A
movetype = H
physics = N

[State 9901, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5201,5050)
 
; ^[QbgoEh 
[Statedef 9910]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5210

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -6


[State 9910, PosSet]
type = PosSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -5

[State 1300, 6]
type = PalFX
triggerall = name = "Dhalsim"
trigger1 = animelem = 1
time = 18
sinadd =  255,255,255,43
ignorehitpause = 0

[State 5100, 10]
type = PlaySnd
triggerall = name = "Dhalsim"
trigger1 = Time = 1
value = S3,0

[State 9910, VelSet]
type = VelSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -4
x = 0

[State 9910, VelAdd]
type = VelAdd
triggerall = name = "Dhalsim"
trigger1 = time = 1
y = 0


[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52

;---------------------------------------------------------------------------

[statedef -2]

; ===================== (Recovery p2 effect and sound) =======================

[State 0, PlaySnd]
type = PlaySnd
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
triggerall = name = "Blackheart"
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
value = 0,10
channel = 4
volume = 155
volumescale = 155

[State 0, PlaySnd]
type = PlaySnd
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
value = 0,7
channel = 4
volume = 155
volumescale = 155

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 20, 2]
type = envshake
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
triggerall = name = "Blackheart"
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
time = 8
freq = 80
ampl = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1	= NumEnemy && Enemy, StateNo = 10004  && !NumExplod(8010)
value = 0,7
channel = 4
volume = 155
volumescale = 155

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 10004  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 20, 2]
type = envshake
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
triggerall = name = "Blackheart"
trigger1	= NumEnemy && Enemy, StateNo = 10004  && !NumExplod(8010)
time = 8
freq = 80
ampl = 3

[State 0, PlaySnd]
type = PlaySnd
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
triggerall = name = "Blackheart"
trigger1	= NumEnemy && Enemy, StateNo = 10004  && !NumExplod(8010)
value = 0,10
channel = 4
volume = 155
volumescale = 155

; ===================== (Prewalking) =======================

[State -2, Remember the last Position (X)]
type = VarSet
triggerall = RoundState < 2
trigger1 = stateno = [0, 21] ;Enable after Intro
fvar(3) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(3) != 0
trigger1 = prevstateno != 191
x = fvar(3)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(3) = 0

[State -2, Pre-walking state]
type = ChangeState
;triggerall = !var(59)
trigger1 = prevstateno = 191
trigger2 = RoundNo != 1              ;Enable If Round Number is > 1
trigger2 = RoundState = 1           ;RoundState < 2 and
trigger2 = stateno = 0              ;Current state is 0
value = 21
ctrl = 0

[State -3]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090

[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate = 2
trigger1 = roundstate != 3
trigger1 = NumHelper(19999997) = 0
stateno = 19999997
id = 19999997

;KO Sound
[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate != 2
trigger1 = roundstate = 3
trigger1 = NumHelper(19999998) = 0
stateno = 19999998
id = 19999998

; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = screenpos y < 0
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = roundstate = [2,3]
triggerall = !numexplod(8596) && numenemy
triggerall = screenpos y > 240-const(size.head.pos.y)
trigger1 = var(20) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(20) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8595+teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8596

[State -2, O\]
type = Explod
triggerall =roundstate = [2,3]
triggerall = !numexplod(8598) && numenemy
triggerall = screenpos y < 0
trigger1 = var(20) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(20) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8597+teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8596)
trigger1 = screenpos y <= 220-const(size.head.pos.y)
id = 8596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8598)
trigger1 = screenpos y >= 0
id = 8598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8596)
id = 8596
postype = left
pos = floor(screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8598)
id = 8598
postype = left
pos = floor(screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy
var(20) = ifelse(screenpos x - enemynear,screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(8596)
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(8598)
trigger1 = screenpos y < 0
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

  
; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = enemy,screenpos y < 0
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(18596)
triggerall = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
trigger1 = var(21) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(21) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8595+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18596

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(18598)
triggerall = enemy,screenpos y < 0
trigger1 = var(21) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(21) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8597+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18596)
trigger1 = enemy,screenpos y <= 220-enemy,const(size.head.pos.y)
id = 18596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18598)
trigger1 = enemy,screenpos y >= 0
id = 18598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18596)
id = 18596
postype = left
pos = floor(enemy,screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18598)
id = 18598
postype = left
pos = floor(enemy,screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy = 1
var(21) = ifelse(enemy,screenpos x - screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(18596)
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(18598)
trigger1 = enemy,screenpos y < 0
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

; ===================== (System Messages) =======================

[State -2, VS_Combo]
type = VarSet
triggerall = (var(27)!=10) || (var(27)=10 && movehit && statetype != A)
trigger1 = var(26) >= 3
trigger2 = var(26)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = [5000,5899])
var(27) = 1+(var(26)>4)+(var(26)>5)+(var(26)>7)+(var(26)>9)+(var(26)>29)+(var(26)>49)+(var(26)>69)-(var(26)=-1)
ignorehitpause = 1

[State -2, Air Combo]
type = VarSet
triggerall = var(26) >= 3 && statetype = A && var(27)!=10 && var(6)
trigger1 = (movehit)
var(27) = 10
ignorehitpause = 1

[State -2, Danger]
type = VarSet
trigger1 = var(35) !=1 && roundstate=2 && life = [1,250]
var(27) = 9
ignorehitpause = 1

; sound First attack
[State -2, First Attack]
type = PlaySnd
triggerall = var(26)=-1
triggerall = NumExplod(8701) = 0
trigger1 = var(26)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
persistent = 0
value = 2,0
channel = 14
volume=255
ignorehitpause = 1

; Telop sound
[State -2, Combo Sound]
type = PlaySnd
trigger1 = NumExplod(8701) = 0
trigger1 = var(26)=0 && var(27)!=0
persistent = 0;1
value = 2,var(27)
channel = 14
volume=255
ignorehitpause = 1

[State -2, Left]
type = explod
trigger1 = var(26)=0 && var(27)!=0
trigger2 = var(26)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
triggerall = TeamSide = 1 && NumExplod(8701) = 0
anim = (8550 + var(27))
ID = 8701
postype = left
pos = 3,80
ontop = 1
bindtime = -1
removetime = 60
ownpal = 1
supermovetime = 60
pausemovetime = 60
scale = 0.5,0.5
persistent = 0
ignorehitpause = 1

[State -2, Right]
type = explod
trigger1 = var(26)=0 && var(27)!=0
trigger2 = var(26)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
triggerall = TeamSide = 2 && NumExplod(8701) = 0
anim = (8650+ var(27));8011;8720;
ID = 8701
postype = right
pos = -10,80;130;82
ontop = 1
bindtime = -1
removetime = 60;90
ownpal = 1
supermovetime = 60;90
pausemovetime = 60;90
scale = 0.5,0.5
persistent = 0;1
ignorehitpause = 1

[State -2, VS_Combo]
type = VarAdd
trigger1 = enemynear, time = 0
trigger1 = enemynear, Hitshakeover = 0
trigger1 = (p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H;p2stateno = [5000,5899]
trigger2 = var(26)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
var(26) = 1 + (var(26)=-1)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
trigger1 = var(26)!=-1 && (p2movetype!=H || enemynear, ctrl)
trigger2 = var(26)=-1 && movetype = H;p2stateno = [5000,5899])
var(26) = 0 - (roundstate<2)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
triggerall = numexplod(8701)!=0
trigger1 = var(26)=0
var(27) = 0
ignorehitpause = 1

[State -2, Score]
type = Varadd
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = moveguarded || p2stateno = 6300 || p2movetype = H;p2stateno = [5000,5899])
trigger2 = var(26)=-1 && (movehit || p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
trigger3 = roundstate=4 && time=0 && stateno = [180,189]
var(22) = ceil(stateno/50)*var(26) + (life)*(roundstate=4) + (moveguarded)
ignorehitpause = 1

[State -2, Normalize Score]
type = Varset
triggerall = numpartner=1
trigger1 = var(22)< partner, var(22)
var(22) = partner, var(22)

[State -2, Is Danger]
type = VarSet
trigger2 = var(35) = 0 && life <= 250
trigger1 = var(35) = 1 && roundstate!=2
var(35) = (roundstate>1)
ignorehitpause = 1

[State -2, Is First Attack p3]
type = VarSet
triggerall = numpartner=1
trigger1 = partner, movehit
trigger1 = partner, var(26) != -1
var(26) = 0
ignorehitpause = 1

[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = nomusic

; ===================== (Advanced Guard) =======================
[State -2, AhoVOK[h]
type = Helper
trigger1 = var(34)
stateno = 8060
postype = p2
pos = 20,0
id = 8060

[State -2, AhoVOK[h]
type = PosFreeze
trigger1 = numhelper(8060)

[State -2, AhoVOK[h]
type = VelAdd
trigger1 = numhelper(8060)
trigger1 = statetype = A
y = -gethitvar(yaccel)

[State -2, AhoVOK[h]
type = Explod
trigger1 = var(34)
anim = 8060
pos = 47,-85
ontop = 1
scale = 0.45, 0.45

[State -2, AhoVOK[h]
type = VarSet
trigger1 = var(34)
var(34) = 0

; GA~b^[A 
[State 650, GA~b^[A]
type = PlaySnd
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
value = 0,11

[State 620, GA~b^[A]
type = VarSet
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
var(6) = 2

[State -2, GA~b^[A]
type = VarSet
trigger1 = !numtarget
var(6) = 0

[State -2, GA~b^[A]
type = VarSet
trigger1 = var(6)= 2 && ctrl && statetype != A
var(6) = 3

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = var(6) = 2
value = ifelse(pos x*facing > 0,1,0)
movecamera = 0,0
ignorehitpause = 1

[State -2, GA~b^[A]
type = ChangeState
triggerall = var(6) = 2
trigger1 = backedgebodydist < -20 && stateno != 100 && stateno != [700,701]
value = 700

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = stateno = 100 && prevstateno = 700
value = 0
movecamera = 0,0

[State -2, GA~b^[A]
type = NotHitBy
trigger1 = stateno = 100 && prevstateno = 700
value = SCA
 
; wp[A 
[State -2, wp[A]
type = VarSet
trigger1 = !numhelper
var(4) = 0

; R{ 
[State -2, R{]
type = VarSet
trigger1 = statetype = A && prevstateno = [600,800)
trigger1 = stateno = [1000,5000)
var(13) = 1

[State -2, R{]
type = VarAdd
trigger1 = movehit = 1
trigger2 = projhit = 1
var(16) = 1

[State -2, R{]
type = VarAdd
triggerall = statetype = A && numtarget
triggerall = target,statetype = A
triggerall = movehit = 1 || projhit = 1
trigger1 = stateno = [600,800)
trigger2 = var(13) && stateno = [1000,5000)
var(19) = 1

[State -2, R{]
type = VarSet
;trigger1 = !numtarget
trigger1 = !numenemy
trigger2 = numenemy
trigger2 = enemynear,movetype != H
var(13) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(16) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(19) = 0

; ^[Qbg 
[State -2, ^[Qbg]
type = VarSet
trigger1 = 1
var(7) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget
var(7) = target,id
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = !numtarget
var(9) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget && hitpausetime
var(9) = target,stateno = 5080
ignorehitpause = 1

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7)) && !var(9)
trigger1 = playerID(var(7)),gethitvar(chainid) & 1
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),hitover && playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9900
value = 9900

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7)) && var(9)
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 5201 && playerID(var(7)),stateno != 9910
value = 9901

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(7))
trigger1 = playerID(var(7)),gethitvar(chainid) & 2
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9910
value = 9910

; ===================== (Metal Hit Code) =======================

[state -2, metal]
type = varset
trigger1 = enemynear, name = "War Machine"
trigger2 = enemynear, name = "Iron Man"
trigger3 = enemynear, name = "Sentinel"
trigger4 = enemynear, name = "Doctor Doom"
trigger5 = enemynear, name = "Tron Bonne"
var(49) =10

[state -2, metal]
type = varset
trigger1 = enemynear, name = "War Machine"
trigger1 = enemynear, name = "Iron Man"
trigger1 = enemynear, name = "Sentinel"
trigger1 = enemynear, name = "Doctor Doom"
trigger1 = enemynear, name = "Tron Bonne"
var(49) =0 

[state -2, metal]
type = varset
triggerall = enemynear, Name = "Zangief"
trigger1 = enemynear, var(50)=1
var(49) =10

[state -2, metal]
type = varset
triggerall = enemynear, Name = "Zangief"
trigger1 = enemynear, var(50)=0
var(49) =0 

[state 200, 1]
type = varset
trigger1 = stateno = 3500
v = 40
value = 1

[state 200, 1]
type = varset
trigger1 = stateno = 3501
v = 40
value = 0

;==========================================================================
; get rid of trailing anims when hit
[state -2, 1]
type = removeexplod
trigger1 = movetype != a
id = 9001

; play sound of hopping
[state -2, 1]
type = playsnd
triggerall = time = 1
triggerall = animelem = 1
trigger1 = stateno = 101
trigger2 = stateno = 106
value = s0,27

;--------------------------------------------------------------
; combo hitcount
[state -2, 1]
type = varadd
trigger1 = (hitpausetime = 1) && (p2movetype = h) && (movehit)
trigger2 = projhittime(0) = 1
;trigger3 = (stateno = 801) && (time = 0)
;trigger4 = (stateno = 811) && (time = 0)
v = 18
value = 1
ignorehitpause = 1

[state -2, 1]
type = varset
trigger1 = p2movetype != h
trigger2 = var(18) < 0
v = 18
value = 0

[state -2]
type = varset
trigger1 = var(18) = 0
fvar(0) = 1; + (.25 * (var(41) > 0))
ignorehitpause = 1

[state -2]
type = attackmulset
trigger1 = 1
value = fvar(0)
ignorehitpause = 1

[state -2]
type = varset
trigger1 = var(18) > 0
trigger1 = var(18) <= 4
fvar(0) = .60; + (.25 * (var(41) > 0))
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 4
trigger1 = var(18) <= 8
fvar(0) = .50; + (.25 * (var(41) > 0))
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 8
trigger1 = var(18) <= 12
fvar(0) = .35; + (.25 * (var(41) > 0))
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 12
trigger1 = var(18) <= 16
fvar(0) = .10; + (.25 * (var(41) > 0))
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 16
trigger1 = var(18) <= 20
fvar(0) = .05; + (.25 * (var(41) > 0))
ignorehitpause = 1

[State 1000, Helper]
type = varset
trigger1 = enemynear, movetype != H
v = 11
value = 0

[State 1000, Helper]
type = varset
trigger1 = stateno = [600,650]
trigger1 = enemynear, movetype = H
v = 11
value = 1

; get rid of trailing anims when hit
[state -2, 1]
type = afterimagetime
trigger1 = movetype != a
trigger1 = stateno != [2400,2410]
time = 1
ignorehitpause = 1

; get rid of trailing anims when hit
[state -2, 1]
type = removeexplod
trigger1 = stateno != [1100,1199]
ID = 11000

; get rid of trailing anims when hit
[state -2, 1]
type = removeexplod
trigger1 = stateno != [2100,2199]
ID = 21000

; ===================== (Wall hit) =======================

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemynear,stateno != [120,159]
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 8015
postype = p2
pos = 0, -50
postype = p2
bindtime = 1
facing = -1
removetime = -2
scale = 0.9,0.9
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemynear,stateno != [120,159]
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,8
channel = 4
volume = 255

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 24
value = var(23)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 23
value = var(25)+hitcount

[state -3, 2];combo hosei
type = varset
trigger1 = enemynear,movetype != H
v = 25
value = 0

;***************
[state -3, 2];combo
type = varset
trigger1 = var(23)>var(24)
v = 42
value = 1

;---------------------------------------

[state -2]
type = Displaytoclipboard
trigger1 = time >= 0
text = "var(52) is %d"
params = var(52)
ignorehitpause = 1

;=================================================================================
[Statedef -3]

[State -3, wait out of the stage]
type = varset
trigger1 = roundstate >= 3
v = 51
value = 0

[State -3, wait out of the stage]
type = varset
trigger1 = movetype = H
trigger2 = pos Y = 0 && stateno != [40,50]
v = 3
value = 0

; _[W{CX 
[State 1120, _[W{CX]
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = stateno = 5000 && time = 1
trigger2 = stateno = 5010 && time = 1
trigger3 = stateno = 5020 && time = 1
trigger4 = stateno = 5070 && time = 1
trigger5 = stateno = 5080 && time = 1
value = s5000,random%2
channel = 2
volume = 200
volumescale = 200

[State 0, StopSnd]
type = StopSnd
trigger1 =  !alive
channel =2
;ignorehitpau
