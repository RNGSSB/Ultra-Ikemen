;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ立ち弱
[Statedef 10200]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10200
poweradd = 30*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

;=======================================

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velmul
trigger1 = prevstateno = [100,105]
trigger1 = !var(8)
x = .95

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(5) = 0
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 2
value = 2,0
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 2
value = 0,30

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = !Ishelper
trigger1 = animelem = 2
attr = S, NA
damage = ceil(ifelse((35*fvar(0))<7,7,(35*fvar(0)))),ceil(ifelse((35*fvar(0)*.25)<7,7,(35*fvar(0)*.25)))
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,7
sparkno = s6000
sparkxy = -9,-68
guard.sparkno = s6010
hitsound = s0,6
guardsound = s0,9
getpower = 40*!IsHelper,0
givepower = 20*!IsHelper,0
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.type = Low
air.velocity = -3,-5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 0
air.fall = 1
persistent = 0
fall.recover = 1
fall.recovertime = 18
guard.kill = 0
id = 10200
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離ｽﾀﾝﾄﾞ立ち弱
[Statedef 10201]
type = S
movetype = A
physics = N
ctrl = 0
anim = ifelse((prevstateno=[100,105]),10202,10201)
poweradd = 30*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velmul
trigger1 = prevstateno = [100,105]
trigger1 = !var(8)
x = .95

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(5) = 2
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 2
value = 0,10

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 2
value = 2,0
volume = 255
channel = 0

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 2
attr = S, NA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),ceil(ifelse((14*fvar(0)*.25)<7,7,(14*fvar(0)*.25)))
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6000
sparkxy = -8,-72
guard.sparkno = s6010
hitsound = s0,1
guardsound = s0,9
getpower = 40*!IsHelper,0
givepower = 20*!IsHelper,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5.5
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 12
fall = 0
air.fall = 1
persistent = 0
fall.recover = 1
fall.recovertime = 18
guard.kill = 0
id = 10201
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ立ち中
[Statedef 10210]
type = S
movetype = A
physics = N
ctrl = 0
anim = ifelse((prevstateno=[100,105]),10213,10210)+(IsHelper*5)
poweradd = 40*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(7) = 3
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,1
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,13

[State 1100, Velocity]
type = VelMul
triggerall = !var(8)
trigger1 = !IsHelper
trigger1 = !var(8)
x = .2

[State 0, pos]
type = posadd
triggerall = !var(8)
trigger1 = animelem = 3
x = ceil(18*const(size.xscale))

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = !movecontact
trigger1 = animelem = 3
trigger2 = animelem = 4
attr = S, NA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),ceil(ifelse((56*fvar(0)*.25)<7,7,(56*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Middle
air.animtype = Back
fall.animtype = Back
;pausetime = 9,9
pausetime = 0,11
sparkno = s6001
sparkxy = -8,-54
guard.sparkno = s6010
hitsound = s0,7
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 15
fall = 0
air.fall = 1
persistent = 0
fall.recover = 1
fall.recovertime = 24
guard.kill = 0
id = 10210
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ立ち6中
[Statedef 10211]
type = A
movetype = A
physics = N
ctrl = 0
anim = 10211+(IsHelper*5)
velset = 1.8,0
poweradd = 40*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,1
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 8
value = 0,13

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 8
attr = S, NA
damage = ceil(ifelse((35*fvar(0))<7,7,(35*fvar(0)))),ceil(ifelse((35*fvar(0)*.25)<7,7,(35*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,7
sparkno = s6001
sparkxy = -3,-88
guard.sparkno = s6010
hitsound = s0,7
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = Low
ground.slidetime = 11
ground.hittime = 11
guard.hittime = 15
guard.ctrltime = 15
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,7*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,ifelse(var(40)<12,-3+(var(40)*.4),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 1
persistent = 0
fall.recover = 1
fall.recovertime = 28
guard.kill = 0
id = 10211
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, vel]
type = velset
trigger1 = animelem = 16
x = 0

[State 0, state]
type = statetypeset
trigger1 = !IsHelper
trigger1 = animelem = 16
type = S

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ立ち4中
[Statedef 10212]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10212+(IsHelper*5)
poweradd = 40*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(7) = 2
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,30

[State 0, hit]
type = hitdef
triggerall = !movecontact
triggerall = !var(8)
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, NA
damage = ceil(ifelse((49*fvar(0))<7,7,(49*fvar(0)))),ceil(ifelse((49*fvar(0)*.25)<7,7,(49*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,11
sparkno = s6001
sparkxy = -8,-89
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 15
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 28
guard.kill = 0
persistent = 0
id = 10212
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ立ち強
[Statedef 10220]
type = S
movetype = A
physics = N
ctrl = 0
anim = ifelse((prevstateno = 100 || prevstateno = 105),10221,10220)+(IsHelper*5)
poweradd = 50*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = anim = 10220 && animelemtime(12) = 2
trigger3 = anim = 10221 && animelemtime(7) = 0
x = 0

[State 0, vel]
type = velmul
trigger1 = prevstateno = [100,105]
trigger1 = !var(8)
x = .95

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = anim = 10220 && animelem = 5
trigger2 = anim = 10221 && animelem = 3
trigger3 = anim = 10225 && animelem = 5
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = anim = 10220 && animelem = 5
trigger2 = anim = 10221 && animelem = 3
trigger3 = anim = 10225 && animelem = 5
value = 0,13

[State 0, pos]
type = posadd
triggerall = !var(8)
triggerall = anim = 10220
trigger1 = animelem = 6
trigger2 = animelem = 7
x = ceil(14*const(size.xscale))

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = !movecontact
triggerall = anim = 10220
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
attr = S, NA
damage = ceil(ifelse((84*fvar(0))<7,7,(84*fvar(0)))),ceil(ifelse((84*fvar(0)*.25)<7,7,(84*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -4,-64
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -5.5,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
persistent = 0
id = 10220
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = anim = 10221
trigger1 = animelem = 3
attr = S, NA
damage = ceil(ifelse((49*fvar(0))<7,7,(49*fvar(0)))),ceil(ifelse((49*fvar(0)*.25)<7,7,(49*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -8,-80
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
persistent = 0
id = 10221
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ立ち6強
[Statedef 10222]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10222+(IsHelper*5)
velset = 0,0
poweradd = 50*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 0, vel]
type = velset
triggerall = !var(8)
trigger1 = animelemtime(5) >= 0
x = 3

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = animelemtime(7) >= 0
x = .4

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 4
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 4
value = 0,13

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 4
attr = S, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),ceil(ifelse((63*fvar(0)*.25)<7,7,(63*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -10,-89
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -8.5,-5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -8,ifelse(var(40)<12,-3.7+(var(40)*.38),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -16
air.hittime = 20
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
persistent = 0
id = 10222
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞｺﾝﾎﾞ立ち中
[Statedef 10310]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10310+(IsHelper*5)
poweradd = 40*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(7) = 3
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,1
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,13

[State 0, pos]
type = posadd
triggerall = !var(8)
trigger1 = animelem = 3
x = ceil(18*const(size.xscale))

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = !movecontact
trigger1 = animelem = 3
trigger2 = animelem = 4
attr = S, NA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),ceil(ifelse((56*fvar(0)*.25)<7,7,(56*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,11
sparkno = s6001
sparkxy = -8,-54
guard.sparkno = s6010
hitsound = s0,7
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 15
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 24
guard.kill = 0
persistent = 0
id = 10310
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞｺﾝﾎﾞ立ち中2
[Statedef 10312]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10312+(IsHelper*5)
poweradd = 40*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

;=======================================

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = vel x != 0
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,30

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3
attr = S, NA
damage = ceil(ifelse((49*fvar(0))<7,7,(49*fvar(0)))),ceil(ifelse((49*fvar(0)*.25)<7,7,(49*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,7
sparkno = s6001
sparkxy = -8,-89
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = High
ground.slidetime = 19
ground.hittime = 19
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 19
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 28
guard.kill = 0
persistent = 0
id = 10312
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞｺﾝﾎﾞ立ち強
[Statedef 10320]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10320+(IsHelper*5)
poweradd = 50*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(12) = 2
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 7
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 7
value = 0,13

[State 0, pos]
type = posadd
triggerall = !var(8)
trigger1 = animelem = 2
x = ceil(10*const(size.xscale))

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = !movecontact
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
attr = S, NA
damage = ceil(ifelse((84*fvar(0))<7,7,(84*fvar(0)))),ceil(ifelse((84*fvar(0)*.25)<7,7,(84*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -4,-64
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -5.5,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
persistent = 0
id = 10320
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞｺﾝﾎﾞ立ち強2
[Statedef 10321]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10322+(IsHelper*5)
poweradd = 50*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 0, vel]
type = velset
triggerall = !var(8)
trigger1 = animelemtime(5) >= 0
x = 3

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = animelemtime(7) >= 0
x = .4

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,13

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3
attr = S, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),ceil(ifelse((63*fvar(0)*.25)<7,7,(63*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,1+(prevstateno=10212)
sparkno = s6002
sparkxy = -10,-89
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -7.5,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -7,ifelse(var(40)<12,-2.7+(var(40)*.22),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 9
guard.kill = 0
persistent = 0
id = 10321
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞｺﾝﾎﾞ立ち強2-2
[Statedef 10322]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10321+IsHelper*5
poweradd = 50*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 0, pos]
type = posadd
triggerall = !var(8)
trigger1 = animelemtime(4) <= 0
x = 2

[State 0, snd]
type = playsnd
trigger1 = !time
value = 2,1
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,13

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3
attr = S, NA
damage = ceil(ifelse((42*fvar(0))<7,7,(42*fvar(0)))),ceil(ifelse((42*fvar(0)*.25)<7,7,(42*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,3
sparkno = s6002
sparkxy = -8,-80
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = High
ground.slidetime = 28
ground.hittime = 28
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -7.5,-5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 28
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 25
guard.kill = 0
persistent = 0
id = 10322
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ屈弱
[Statedef 10400]
type = C
movetype = A
physics = N
ctrl = 0
anim = ifelse((prevstateno=[100,105]),10401,10400)+(IsHelper*5)
poweradd = 30*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velmul
trigger1 = prevstateno = [100,105]
trigger1 = !var(8)
x = .95

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = !animtime
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,0
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,30

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3
attr = C, NA
damage = ceil(ifelse((35*fvar(0))<7,7,(35*fvar(0)))),ceil(ifelse((35*fvar(0)*.25)<7,7,(35*fvar(0)*.25)))
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,7
sparkno = s6000
sparkxy = -7,-40
guard.sparkno = s6010
hitsound = s0,6
guardsound = s0,9
getpower = 40*!IsHelper,0
givepower = 20*!IsHelper,0
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 18
guard.kill = 0
persistent = 0
id = 10400
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ屈中
[Statedef 10410]
type = C
movetype = A
physics = N
ctrl = 0
anim = 10410+(IsHelper*5)
poweradd = 40*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velmul
trigger1 = prevstateno = [100,105]
trigger1 = !var(8)
x = .95

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = !animtime
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 4
value = 2,1
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 4
value = 0,13

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem= 4
attr = C, NA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),ceil(ifelse((56*fvar(0)*.25)<7,7,(56*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,11
sparkno = s6001
sparkxy = -8,-12
guard.sparkno = s6010
hitsound = s0,7
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 15
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 24
guard.kill = 0
persistent = 0
id = 10410
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ屈強
[Statedef 10420]
type = C
movetype = A
physics = N
ctrl = 0
anim = 10420+(IsHelper*5)
poweradd = 50*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velmul
trigger1 = prevstateno = [100,105]
trigger1 = !var(8)
x = .95

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(5) = 0
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,13

[State 0, pos]
type = posadd
triggerall = !var(8)
trigger1 = animelem = 2
trigger2 = animelem = 3
x = ceil(14*const(size.xscale))

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3
attr = C, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),ceil(ifelse((70*fvar(0)*.25)<7,7,(70*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -15,-80
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 20
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
persistent = 0
id = 10420
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞｺﾝﾎﾞ屈中
[Statedef 10510]
type = C
movetype = A
physics = N
ctrl = 0
anim = 10510+(IsHelper*5)
poweradd = 40*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(6) = 1
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 4
value = 2,1
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 4
value = 0,13

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem= 4
attr = C, NA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),ceil(ifelse((56*fvar(0)*.25)<7,7,(56*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,7
sparkno = s6001
sparkxy = -8,-12
guard.sparkno = s6010
hitsound = s0,7
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 8
guard.hittime = 14
guard.ctrltime = 14
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 10
air.fall = 1
fall.recover = 1
fall.recovertime = 24
guard.kill = 0
persistent = 0
id = 10510
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ屈中2(スタンドコンボ)
[Statedef 10511]
type = C
movetype = A
physics = N
ctrl = 0
anim = 10411+(IsHelper*5)
poweradd = 40*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 2
value = 2,1
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 2
value = 0,13

[State 0, pos]
type = posadd
triggerall = !var(8)
trigger1 = animelem = 1
trigger2 = animelem = 2
x = ceil(16*const(size.xscale))

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem= 2
trigger2 = animelem= 3
attr = C, NA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),ceil(ifelse((7*fvar(0)*.25)<7,7,(7*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Middle
air.animtype = up
fall.animtype = up
pausetime = 0,7
sparkno = s6001
sparkxy = -7,-46
guard.sparkno = s6010
hitsound = s0,7
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -1.8,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -5.5
air.type = Low
air.velocity = -2.3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 12
fall = 0
guard.kill = 0
persistent = 0
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem= 4
attr = C, NA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),ceil(ifelse((7*fvar(0)*.25)<7,7,(7*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = up
fall.animtype = up
pausetime = 0,7
sparkno = s6001
sparkxy = -6,-84
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -2.2,ifelse(var(40)<12,-9.8+(var(40)*.02),0)
guard.velocity = -8
air.type = Low
air.velocity = -2.2,ifelse(var(40)<12,-9.8+(var(40)*.02),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 1
fall.recover = 1
fall.recovertime = 34
yaccel = .44
guard.kill = 0
persistent = 0
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
trigger1 = animelemtime(9) < 0
fvar(3) = 8.3
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
trigger1 = animelemtime(9) >= 0
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞｺﾝﾎﾞ屈強
[Statedef 10520]
type = C
movetype = A
physics = N
ctrl = 0
anim = 10520+(IsHelper*5)
poweradd = 50*!IsHelper
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(6) = 2
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,13

[State 0, pos]
type = posadd
triggerall = !var(8)
trigger1 = animelem = 2
trigger2 = animelem = 3
x = ceil(14*const(size.xscale))

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3
attr = C, NA
damage = ceil(ifelse((77*fvar(0))<7,7,(77*fvar(0)))),ceil(ifelse((77*fvar(0)*.25)<7,7,(77*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -15,-80
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 20
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
persistent = 0
id = 10520
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ空弱
[Statedef 10600]
type = A
movetype = A
physics = N
ctrl = 0
anim = 10600
poweradd = 30*!IsHelper
sprpriority = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,0
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,10

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3
attr = A, NA
damage = ceil(ifelse((21*fvar(0))<7,7,(21*fvar(0)))),ceil(ifelse((21*fvar(0)*.25)<7,7,(21*fvar(0)*.25)))
priority = 3,Hit
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6000
sparkxy = -10,-40
guard.sparkno = s6010
hitsound = s0,1
guardsound = s0,9
getpower = 40*!IsHelper,0
givepower = 20*!IsHelper,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -6
guard.velocity = -5.5
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
air.hittime = 12
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 18
guard.kill = 0
persistent = 0
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12); Value depends on each char
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28); Value depends on each char
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
trigger1 = prevstateno != 10910
trigger1 = !var(8)
y = ifelse((var(6)&16),.5,.6)-(var(0)=10000||(var(6)&4))*.08

[State 4030, Gravity]
type = VelAdd
trigger1 = prevstateno = 10910
trigger1 = !var(8)
y = ifelse((var(6)&16),.5,.6);-(var(0)=10000)*.08

[State 1100, ChangeState]
type = ChangeState
triggerall = !var(8)
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ空中
[Statedef 10610]
type = A
movetype = A
physics = N
ctrl = 0
anim = 10610
poweradd = 40*!IsHelper
sprpriority = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,1
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,30

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3
attr = A, NA
damage = ceil(ifelse((49*fvar(0))<7,7,(49*fvar(0)))),ceil(ifelse((49*fvar(0)*.25)<7,7,(49*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6001
sparkxy = -10,-25
guard.sparkno = s6010
hitsound = s0,7
guardsound = s0,9
getpower = 50*!IsHelper,0
givepower = 25*!IsHelper,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -6
guard.velocity = -5.5
air.type = Low
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
air.hittime = 17
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 24
guard.kill = 0
persistent = 0
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12); Value depends on each char
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28); Value depends on each char
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
trigger1 = prevstateno != 10910
trigger1 = !var(8)
y = ifelse((var(6)&16),.5,.6)-(var(0)=10000||(var(6)&4))*.08

[State 4030, Gravity]
type = VelAdd
trigger1 = prevstateno = 10910
trigger1 = !var(8)
y = ifelse((var(6)&16),.5,.6);-(var(0)=10000)*.08

[State 1100, ChangeState]
type = ChangeState
triggerall = !var(8)
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ空強
[Statedef 10620]
type = A
movetype = A
physics = N
ctrl = 0
anim = 10620
poweradd = 50*!IsHelper
sprpriority = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 2,2
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 3
value = 0,13

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 3 || animelem = 4
trigger1 = !movecontact
attr = A, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),ceil(ifelse((70*fvar(0)*.25)<7,7,(70*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6002
sparkxy = -10,-28
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -6
guard.velocity = -5.5
air.type = High
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
air.hittime = 17
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
persistent = 0
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12); Value depends on each char
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28); Value depends on each char
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
trigger1 = prevstateno != 10910
trigger1 = !var(8)
y = ifelse((var(6)&16),.5,.6)-(var(0)=10000||(var(6)&4))*.08

[State 4030, Gravity]
type = VelAdd
trigger1 = prevstateno = 10910
trigger1 = !var(8)
y = ifelse((var(6)&16),.5,.6);-(var(0)=10000)*.08

[State 1100, ChangeState]
type = ChangeState
triggerall = !var(8)
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;==============================================================================
;ガーキャン
[Statedef 10700]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10705
poweradd = ifelse(((helper(7520*(numhelper(7520)>0)),var(10)) = 0),0,-1000)
velset = 0,0
facep2 = 1;-(prevstateno=[100,119])

[State 0, width]
type = width
trigger1 = 1
edge = 20,0

[State 0, nhb]
type = nothitby
trigger1 = time <= 10
trigger2 = ((helper(7520*(numhelper(7520)>0)),var(10)) = 1)
trigger2 = animelemtime(9) < 0
value = SCA
time = 1

[State 0, pal]
type = palfx
trigger1 = time < 10
trigger1 = time%2
add = 128,128,128
time = 1
ignorehitpause = 1

[State 0, hit]
type = pause
triggerall = ((helper(7520*(numhelper(7520)>0)),var(10)) = 1)
trigger1 = animelemtime(7) < 0
trigger1 = time = 1
time = 20

[State 0, hit]
type = playsnd
triggerall = ((helper(7520*(numhelper(7520)>0)),var(10)) = 1)
trigger1 = time = 1
value = 700,100

[State 0, snd]
type = playsnd
trigger1 = time = 4
value = 3,3
channel = 0

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 8
attr = S, SA
damage = ceil(ifelse((49*fvar(0))<7,7,(49*fvar(0)))),ceil(ifelse((49*fvar(0)*.25)<7,7,(49*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6004
sparkxy = -10,-90
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 0,0
givepower = 10,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5,-7
guard.velocity = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -5,-5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -4,-5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
fall = 1
fall.recover = 1
fall.recovertime = 24
guard.kill = 0
persistent = 0
yaccel = .44
p2facing = 1
kill = ((helper(7520*(numhelper(7520)>0)),var(10)) = 0)

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;==============================================================================
;ミリオンスピット
[Statedef 11000]
type = S
movetype = A
physics = N
ctrl = 0
poweradd = 40*!IsHelper
sprpriority = 2
velset = 0,0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = IsHelper
trigger1 = !time
y = 0

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = IsHelper
trigger1 = var(6)
value = SCA

[State 10000, HitBy]
type = HitBy
triggerall = IsHelper
trigger1 = !var(6)
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = var(6)
var(6) = -1

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = !time
var(5) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = Ishelper
fvar(0) = root,fvar(0)*.25

[State 1100, Velocity]
type = VelSet
trigger1 = IsHelper
trigger1 = animelemtime(4) = 0
x = 3

[State 1100, Velocity]
type = VelMul
trigger1 = IsHelper
trigger1 = animelemtime(4) = 1
x = .4

[State 1100, Velocity]
type = VelSet
triggerall = IsHelper
trigger1 = animelem = 15 && var(2) = 0
trigger2 = animelem = 18 && var(2) = 1
trigger3 = animelem = 21 && var(2) = 2
x = 1

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = Ishelper
slot = 0
stateno = 9500
attr = SCA,NA,SA,HA,NP,SP,HP
time = -1

[State 0, end]
type = changestate
triggerall = Ishelper
trigger1 = root,movetype = H
value = 9505

[State 10001]
type = ScreenBound
trigger1 = Ishelper
value = 1
movecamera = 1,0

[State 0, end]
type = playerpush
trigger1 = Ishelper
value = 1

;---------------------------------------

[State 0, var]
type = varset
trigger1 = IsHelper
trigger1 = !time
var(2) = var(4)%10

[State 0, anim]
type = changeanim
trigger1 = IsHelper
trigger1 = !time
value = 1050 + var(2)

[State 0, vel]
type = velset
trigger1 = IsHelper
trigger1 = !time
y = 0

;=======================================

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 3001, Width]
type = Width
trigger1 = 1
value = 12,0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 0, var]
type = varset
triggerall = var(59) = 0
trigger1 = !IsHelper
trigger1 = !time
var(2) = ifelse(command = "z",2,ifelse(command = "y",1,0))

[State 0, var]
type = null;varset
triggerall = var(59)
trigger1 = !IsHelper
trigger1 = !time
var(2) = 2

[State 0, var]
type = varset
trigger1 = !IsHelper
trigger1 = !time
var(17) = 0

[State 0, var]
type = varset
trigger1 = !time
var(13) = 0

[State 0, anim]
type = changeanim
trigger1 = !IsHelper
trigger1 = !time
value = 11000; + var(2)

[State 0, vel]
type = velset
triggerall = var(2)
trigger1 = !IsHelper
trigger1 = animelemtime(5) = 0
trigger2 = IsHelper
trigger2 = animelemtime(4) = 0
x = 4

[State 0, vel]
type = velmul
triggerall = var(2)
trigger1 = !IsHelper
trigger1 = animelemtime(7) >= 0
trigger2 = IsHelper
trigger2 = animelemtime(6) >= 0
x = .6

[State 0, snd]
type = playsnd
trigger1 = animelem = 5
trigger2 = animelem = 11
value = 2,3
volume = 255
channel = 0
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = animelemtime(5) = 0
anim = 11011
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
pausemovetime = 0
supermovetime = 0
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = animelemtime(8) = 0
anim = 11015
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = animelemtime(11) = 0
anim = 11012
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ignorehitpause = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = !IsHelper
trigger1 = animelem = 5
trigger2 = animelem = 8
trigger3 = animelem = 11
attr = S, SA
damage = ceil(ifelse((21*fvar(0))<7,7,(21*fvar(0)))),ceil(ifelse((21*fvar(0)*.25)<7,7,(21*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6002
sparkxy = -8,-90+(random%40)
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 60,0
givepower = 30,0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6;*(var(13)*.25)
guard.velocity = -5.5;*var(13)
air.velocity = -8,-1.2*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
sprpriority = 2
id = 11000
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = IsHelper
trigger1 = animelem = 4
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 13
trigger5 = animelem = 16
attr = S, SA
damage = ceil(ifelse((21*fvar(0))<7,7,(21*fvar(0)))),ceil(ifelse((21*fvar(0)*.25)<7,7,(21*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,4
sparkno = s6002
sparkxy = -8,-90+(random%40)
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -8.5
guard.velocity = -8
air.velocity = -5,-6;*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
sprpriority = 2
id = 11000
p2facing = 1

[state -2, var]
type = parentvaradd
trigger1 = Ishelper
trigger1 = movehit = 1
var(40) = 1

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,29-(moveguarded=1)*20
ignorehitpause = 1
channel = 2

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = var(8) > 0
value = anim
elem = animelemno(-1)

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 0, var]
type = varadd
trigger1 = Ishelper
trigger1 = var(8)
var(8) = -1
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = !ishelper
trigger1 = movecontact = 1
var(8) = 8
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = ishelper
trigger1 = movecontact = 1
var(8) = 3
ignorehitpause = 1

[State 0, var]
type = varset
triggerall = var(59) = 0
triggerall = !IsHelper
triggerall = animelemtime(5) >= 0
trigger1 = command ="x"
trigger2 = command ="y"
trigger3 = command ="z"
trigger4 = command ="b"
var(17) = 1
ignorehitpause = 1

[State 0, var]
type = varset
triggerall = var(59)
triggerall = !IsHelper
triggerall = animelemtime(5) >= 0
truggerall = roundstate = 2
trigger1 = p2statetype != L
trigger1 = p2bodydist x < 100
trigger1 = p2movetype = H
trigger1 = !(time%5)
var(17) = 1
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = movecontact = 1
var(13) = 1

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = (anim=1050 && animelemtime(16)>=0) ||  (anim=1051 && animelemtime(19)>=0) ||  (anim=1052 && animelemtime(22)>=0)
trigger1 = var(4) = [12100,12102]
value = 12100

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = (anim=1050 && animelemtime(16)>=0) ||  (anim=1051 && animelemtime(19)>=0) ||  (anim=1052 && animelemtime(22)>=0)
trigger1 = var(4) = [11000,11302]
value = var(4)-(var(4)%10)

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = (anim=1050 && animelemtime(16)>=0) ||  (anim=1051 && animelemtime(19)>=0) ||  (anim=1052 && animelemtime(22)>=0)
value = var(4)

[State 0, end]
type = changestate
triggerall = IsHelper
trigger1 = !var(4)
trigger1 = (anim=1050 && animelemtime(16)>=0) ||  (anim=1051 && animelemtime(19)>=0) ||  (anim=1052 && animelemtime(22)>=0)
trigger2 = roundstate != 2
trigger3 = !root,var(59) && root,command = "a"
value = 10000

[State 0, end]
type = changestate
triggerall = !IsHelper
triggerall = var(17)
trigger1 = anim = 11000 && animelem = 12
trigger2 = anim = 11001 && animelem = 15
trigger3 = anim = 11002 && animelem = 18
value = 11010

[State 0, end]
type = changestate
triggerall= !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 11010]
type = S
movetype = A
physics = N
ctrl = 0
anim = 11005
sprpriority = 0

[State 0, vel]
type = velmul
trigger1 = 1
x = .8

[State 0, snd]
type = playsnd
trigger1 = anim = 11005
trigger1 = !(time%9)
value = 2,3
volume = 255
channel = 0
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = anim = 11005 && animelemtime(2) = 0
anim = 11014
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = anim = 11005 && animelemtime(5) = 0
anim = 11013
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = anim = 11005 && animelemtime(8) = 0
anim = 11012
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = anim = 11005 && animelemtime(11) = 0
anim = 11015
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ignorehitpause = 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 12
attr = S, SA
damage = ceil(ifelse((21*fvar(0))<7,7,(21*fvar(0)))),ceil(ifelse((21*fvar(0)*.25)<7,7,(21*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6002
sparkxy = -8,-90+(random%40)
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 60,0
givepower = 30,0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -8,-1.2*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
id = 11000
p2facing = 1

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,29-(moveguarded=1)*20
ignorehitpause = 1
channel = 2

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

;コーナープッシュ処理
[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = !fvar(3)
fvar(5) = 0

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = numtarget
trigger1 = target,BackEdgeBodyDist <= 5 || target,FrontEdgeBodyDist <= 5
fvar(5) = 1

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = fvar(3) = [0,.1]
trigger2 = NumTarget
trigger2 = target,statetype = A && target,stateno != [5070,5071]
trigger3 = root,fvar(3)
fvar(3) = 0

[State -2, CornerPush]
type = PosAdd
triggerall = IsHelper
triggerall = fvar(3)
triggerall = fvar(5)
triggerall = !numhelper(7000) && !numhelper(8000) && !root,numhelper(7000) && !root,NumHelper(8000)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
x = -fvar(3)

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
triggerall = fvar(3)
triggerall = !numhelper(7000) && !numhelper(8000) && !root,numhelper(7000) && !root,NumHelper(8000)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
fvar(3) = fvar(3)*.75

[State 0, var]
type = varadd
trigger1 = Ishelper
trigger1 = var(8)
var(8) = -1
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = var(8) > 0
value = anim
elem = animelemno(-1)

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 0, var]
type = varset
trigger1 = movecontact = 1
var(8) = 8
ignorehitpause = 1

[State 0, var]
type = varset
triggerall = !var(59)
triggerall = anim = 11005 && animelemtime(3) >= 0
trigger1 = command ="x"
trigger2 = command ="y"
trigger3 = command ="z"
trigger4 = command ="b"
var(17) = 1
ignorehitpause = 1

[State 0, var]
type = varset
triggerall = var(59)
triggerall = anim = 11005 && animelemtime(3) >= 0
trigger1 = roundstate = 2
trigger1 = p2statetype != L
trigger1 = p2bodydist x < 100
trigger1 = p2movetype = H
trigger1 = !(time%5)
var(17) = 1
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = movecontact = 1
var(13) = 1

[State 0, reset]
type = null;movehitreset
trigger1 = movecontact

[State 0, anim]
type = changeanim
triggerall = !var(17) || time>=112
trigger1 = anim = 11005
trigger1 = animelem = 7 || !animtime
value = 11000
elem = 12
persistent = 0

[State 0, anim]
type = changeanim
triggerall = var(17)
trigger1 = anim = 11005
trigger1 = !animtime
value = 11005

[State 0, var]
type = varset
trigger1 = !time
trigger2 = anim = 11005 && animelem = 1
var(17) = 0

[State 0, end]
type = changestate
trigger1 = anim = 11000
trigger1 = !animtime
value = 0
ctrl = 1

;==============================================================================
;レイダーツ
[Statedef 11100]
type = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
poweradd = 40*!IsHelper
sprpriority = 2
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = IsHelper
trigger1 = !time
y = 0

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = IsHelper
trigger1 = var(6)
value = SCA

[State 10000, HitBy]
type = HitBy
triggerall = IsHelper
trigger1 = !var(6)
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = var(6)
var(6) = -1

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = !time
var(5) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = Ishelper
fvar(0) = root,fvar(0)*.25

[State 1100, Velocity]
type = VelSet
trigger1 = IsHelper
trigger1 = time = 0
x = 1

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = Ishelper
slot = 0
stateno = 9500
attr = SCA,NA,SA,HA,NP,SP,HP
time = -1

[State 0, end]
type = changestate
triggerall = Ishelper
trigger1 = root,movetype = H
value = 9505

[State 10001]
type = ScreenBound
trigger1 = Ishelper
value = 1
movecamera = 1,0

[State 0, end]
type = playerpush
trigger1 = Ishelper
value = 1

;---------------------------------------

[State 0, var]
type = varset
trigger1 = IsHelper
trigger1 = !time
var(2) = var(4)%10

;=======================================

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = vel x != 0
x = 0

[State 0, var]
type = varset
triggerall = var(59) = 0
trigger1 = !IsHelper
trigger1 = !time
var(2) = ifelse(command = "46z",2,ifelse(command = "46y",1,0))

[State 1000, VarSet]
type = varset
triggerall = var(59) = 0
triggerall = var(28)
trigger1 = !IsHelper
trigger1 = !time
var(2) = ifelse((var(28)&2**2),2,ifelse((var(28)&2**1),1,0))

[State 0, var]
type = varset
triggerall = var(59)
triggerall = var(36);コンボ中は弱固定
trigger1 = !IsHelper
trigger1 = !time
var(2) = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 11100 + var(2)+(IsHelper*5)

[State 0, explod]
type = explod
trigger1 = animelem = 2
anim = 8020
id = 8000
pos = 0,0
postype = p1
scale = 1,1
sprpriority = -1
ownpal = 0
shadow = 0,0,0
pausemovetime = 0
supermovetime = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 2
value = 3,6
volume = 255
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 2
value = 6,0

[State 0, vel]
type = velset
triggerall = !var(8)
trigger1 = animelem = 2
x = 11+var(2)*2

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = anim = 11100 || anim = 11105
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = S, SA
damage = ceil(ifelse((77*fvar(0))<7,7,(77*fvar(0)))),ceil(ifelse((77*fvar(0)*.25)<7,7,(77*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0+(Ishelper)*9,12
sparkno = s6004
sparkxy = -8,-84
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = ifelse(!Ishelper,-10,-6)
guard.velocity = ifelse(!Ishelper,-8,-5.5)
guard.hittime = 16
guard.ctrltime = 16
air.velocity = -10,-4.2*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 40
guard.kill = 0
persistent = 0
sprpriority = 2
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = anim = 11101 || anim = 11106
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = S, SA
damage = ceil(ifelse((77*fvar(0))<7,7,(77*fvar(0)))),ceil(ifelse((77*fvar(0)*.25)<7,7,(77*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0+(Ishelper)*9,14
sparkno = s6004
sparkxy = -8,-84
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = ifelse(!Ishelper,-10,-6)
guard.velocity = ifelse(!Ishelper,-8,-5.5)
guard.hittime = 16
guard.ctrltime = 16
air.velocity = -10,-4.2*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 40
guard.kill = 0
persistent = 0
sprpriority = 2
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = anim = 11102 || anim = 11107
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = S, SA
damage = ceil(ifelse((77*fvar(0))<7,7,(77*fvar(0)))),ceil(ifelse((77*fvar(0)*.25)<7,7,(77*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0+(Ishelper)*9,16
sparkno = s6004
sparkxy = -8,-84
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = ifelse(!Ishelper,-10,-6)
guard.velocity = ifelse(!Ishelper,-8,-5.5)
guard.hittime = 16
guard.ctrltime = 16
air.velocity = -10,-4.2*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 40
guard.kill = 0
persistent = 0
sprpriority = 2
p2facing = 1

[State 0, anim]
type = null;changeanim
trigger1 = var(8) > 0
value = anim
elem = animelemno(-1)

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[state -2, var]
type = parentvaradd
trigger1 = Ishelper
trigger1 = movehit = 1
var(40) = 1

[State 220, CornerPush]
type = VarSet
trigger1 = !Ishelper
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
trigger1 = Ishelper
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

;コーナープッシュ処理
[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = !fvar(3)
fvar(5) = 0

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = numtarget
trigger1 = target,BackEdgeBodyDist <= 5 || target,FrontEdgeBodyDist <= 5
fvar(5) = 1

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = fvar(3) = [0,.1]
trigger2 = NumTarget
trigger2 = target,statetype = A && target,stateno != [5070,5071]
trigger3 = root,fvar(3)
fvar(3) = 0

[State -2, CornerPush]
type = PosAdd
triggerall = IsHelper
triggerall = fvar(3)
triggerall = fvar(5)
triggerall = !numhelper(7000) && !numhelper(8000) && !root,numhelper(7000) && !root,NumHelper(8000)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
x = -fvar(3)

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
triggerall = fvar(3)
triggerall = !numhelper(7000) && !numhelper(8000) && !root,numhelper(7000) && !root,NumHelper(8000)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
fvar(3) = fvar(3)*.75

[State 0, anim]
type = changeanim
trigger1 = movecontact
value = anim
elem = 6
persistent = 0

[State 0, vel]
type = velmul
triggerall = anim = 11100+var(2) || anim = 11105+var(2)
triggerall = vel x > 0
trigger1 = animelemtime(3) >= 1 && var(2) = 0
trigger2 = animelemtime(3) >= 3 && var(2) = 1
trigger3 = animelemtime(3) >= 5 && var(2) = 2
x = .8

[State 0, vel]
type = velset
trigger1 = animelemtime(5) = 0
;trigger2 = vel x <= 0
x = 0

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4) = [11300,11302]
trigger1 = animelemtime(7) = 0
value = 11300

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = !animtime
trigger1 = var(4) = [12100,12102]
value = 12100

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = !animtime
trigger1 = var(4) = [11000,11302]
value = var(4)-(var(4)%10)

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = !animtime
value = var(4)

[State 0, end]
type = changestate
triggerall = IsHelper
trigger1 = !var(4)
trigger1 = !animtime
trigger2 = roundstate != 2
trigger3 = !root,var(59) && root,command = "a"
trigger4 = root,var(59)
trigger4 = p2bodydist x < -15
value = 10000

[State 0, end]
type = changestate
trigger1 = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;==============================================================================
;シューティングスター
[Statedef 11200]
type = S
movetype = I
physics = N
ctrl = 0
anim = 11200
velset = 0,0
poweradd = 40*!IsHelper
sprpriority = 2
facep2 = 1;-(prevstateno=[100,119])

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = fvar(3)
fvar(3) = 0

[State 0, pos]
type = posset
trigger1 = IsHelper
trigger1 = !time
y = 0

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = IsHelper
trigger1 = var(6)
value = SCA

[State 10000, HitBy]
type = HitBy
triggerall = IsHelper
trigger1 = !var(6)
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = var(6)
var(6) = -1

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = !time
var(5) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = Ishelper
fvar(0) = root,fvar(0)*.25

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = Ishelper
slot = 0
stateno = 9500
attr = SCA,NA,SA,HA,NP,SP,HP
time = -1

[State 0, end]
type = changestate
triggerall = Ishelper
trigger1 = root,movetype = H
value = 9505

[State 10001]
type = ScreenBound
trigger1 = Ishelper
value = 1
movecamera = 1,0

[State 0, end]
type = playerpush
trigger1 = Ishelper
value = 1

;---------------------------------------

[State 0, var]
type = varset
trigger1 = IsHelper
trigger1 = !time
var(2) = var(4)%10

;=======================================

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, width]
type = width
trigger1 = 1
edge = 0,4

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, var]
type = varset
triggerall = var(59) = 0
trigger1 = !IsHelper
trigger1 = !time
var(2) = ifelse(command = "28z",2,ifelse(command = "28y",1,0))

[State 1000, VarSet]
type = varset
triggerall = var(59) = 0
triggerall = var(28)
trigger1 = !IsHelper
trigger1 = !time
var(2) = ifelse((var(28)&2**5),2,ifelse((var(28)&2**4),1,0))

[State 1000, VarSet]
type = varset
triggerall = var(59)
trigger1 = !IsHelper
trigger1 = !time
var(2) = 2

[State 0, var]
type = varset
trigger1 = !time
var(14) = 1

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = var(2) = 2

[State 0, pos]
type = posadd
trigger1 = !time
trigger1 = backedgedist < 40
x = 40 - backedgedist

[State 0, snd]
type = playsnd
trigger1 = !time
value = 6,0

[State 0, snd]
type = playsnd
trigger1 = animelem = 2
value = 3,8
volume = 255
channel = 0

[State 0, state]
type = statetypeset
trigger1 = animelem = 2
statetype = A

[State 0, vel]
type = velset
trigger1 = animelem = 2
y = -6
persistent = 0

[State 0, vel]
type = veladd
trigger1 = animelemtime(2) > 2
trigger1 = vel y <= 0
y = .15

[State 0, vel]
type = veladd
trigger1 = backedgedist > 5
trigger1 = time <= 27
trigger1 = vel x >= -10
x = -0.52

[State 0, vel]
type = veladd
trigger1 = backedgedist > 5
trigger1 = time > 27
x = -0.8

[State 0, end]
type = changestate
trigger1 = backedgedist <= 5
trigger1 = pos y <= -50
value = 11201
ignorehitpause = 1

;---------------------------------------------------------------------------
[Statedef 11201]
type = A
movetype = A
physics = N
ctrl = 0
anim = 11201
velset = 0,0

[State 0, var]
type = posadd
trigger1 = !time
y = -55

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = IsHelper
trigger1 = var(6)
value = SCA

[State 10000, HitBy]
type = HitBy
triggerall = IsHelper
trigger1 = !var(6)
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = var(6)
var(6) = -1

[State 1100, VarSet]
type = VarSet
trigger1 = Ishelper
fvar(0) = root,fvar(0)*.25

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = Ishelper
slot = 0
stateno = 9500
attr = SCA,NA,SA,HA,NP,SP,HP
time = -1

[State 0, end]
type = changestate
triggerall = Ishelper
trigger1 = root,movetype = H
value = 9505

[State 0, width]
type = width
trigger1 = 1
edge = 0,4

[State 0, pos]
type = posadd
trigger1 = backedgedist != 5
x = 5-backedgedist

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[State 0, var]
type = varadd
trigger1 = time > 20 && !(time%20)
var(14) = 1

[State 0, end]
type = changestate
triggerall = var(59) = 0
triggerall = time > 10
trigger1 = command != "holdx" && command != "holdb" && var(2)=0
trigger2 = command != "holdy" && var(2)=1
trigger3 = command != "holdz" && var(2)=2
trigger4 = time >= 100
trigger5 = IsHelper
value = 11202

[State 0, end]
type = changestate
triggerall = var(59)
trigger1 = time > 10
trigger2 = time >= 100
trigger3 = IsHelper
trigger4 = roundstate != 2
value = 11202

;---------------------------------------------------------------------------
[Statedef 11202]
type = A
movetype = A
physics = N
ctrl = 0
anim = 11202
velset = 0,0

[State 0, var]
type = posadd
trigger1 = !time
y = 55

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = IsHelper
trigger1 = var(6)
value = SCA

[State 10000, HitBy]
type = HitBy
triggerall = IsHelper
trigger1 = !var(6)
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = var(6)
var(6) = -1

[State 1100, VarSet]
type = VarSet
trigger1 = Ishelper
fvar(0) = root,fvar(0)*.25

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = Ishelper
slot = 0
stateno = 9500
attr = SCA,NA,SA,HA,NP,SP,HP
time = -1

[State 0, end]
type = changestate
triggerall = Ishelper
trigger1 = root,movetype = H
value = 9505

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[State 0, snd]
type = playerpush
trigger1 = 1
value = 1

[State 0, var]
type = varset
trigger1 = !time
var(15) = var(14)

[State 0, var]
type = varset
trigger1 = !time
var(14) = 0

[State 0, var]
type = varadd
trigger1 = movehit
var(14) = 1

[State 0, var]
type = varset
trigger1 = Ishelper && !time
var(15) = 2

[State 0, push]
type = playsnd
trigger1 = !time
value = 2,2
channel = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 2
value = 0,13

[State 0, vel]
type = velset
triggerall = anim = 11202
trigger1 = animelem = 2 && abs(p2bodydist x) <= 50
x = 1.6
y = 16

[State 0, vel]
type = velset
triggerall = anim = 11202
trigger1 = animelem = 2 && abs(p2bodydist x) > 50
x = 16*abs(cos(p2dist y/p2dist x))
y = 16*abs(sin(p2dist y/p2dist x))

[State 0, vel]
type = velset
triggerall = anim = 11202
trigger1 = animelem = 2
trigger1 = vel y < 3.5
y = 3.5

[State 0, hit]
type = hitdef
triggerall = anim = 11202
triggerall = !movecontact
trigger1 = animelemtime(3) >= 0
trigger1 = var(14) < var(15)
attr = A, SP
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),ceil(ifelse((63*fvar(0)*.25)<7,7,(63*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = H
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 9,9
sparkno = s6004
sparkxy = -8,-48
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
air.hittime = 12
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
sprpriority = 2
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 11202
triggerall = movecontact
trigger1 = animelemtime(3) >= 0
trigger1 = var(14) < var(15)
attr = A, SP
damage = ceil(ifelse((28*fvar(0))<7,7,(28*fvar(0)))),ceil(ifelse((28*fvar(0)*.25)<7,7,(28*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = H
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 9,9
sparkno = s6004
sparkxy = -8,-48
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 0*!IsHelper,0
givepower = 10*!IsHelper,0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
air.hittime = 12
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32
guard.kill = 0
p2facing = 1

;コーナープッシュ処理
[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = !fvar(3)
fvar(5) = 0

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = numtarget
trigger1 = target,BackEdgeBodyDist <= 5 || target,FrontEdgeBodyDist <= 5
fvar(5) = 1

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = fvar(3) = [0,.1]
trigger2 = NumTarget
trigger2 = target,statetype = A && target,stateno != [5070,5071]
trigger3 = root,fvar(3)
fvar(3) = 0

[State -2, CornerPush]
type = PosAdd
triggerall = IsHelper
triggerall = fvar(3)
triggerall = fvar(5)
triggerall = !numhelper(7000) && !numhelper(8000) && !root,numhelper(7000) && !root,NumHelper(8000)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
x = -fvar(3)

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
triggerall = fvar(3)
triggerall = !numhelper(7000) && !numhelper(8000) && !root,numhelper(7000) && !root,NumHelper(8000)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
fvar(3) = fvar(3)*.75

[state -2, var]
type = parentvaradd
trigger1 = Ishelper
trigger1 = movehit = 1
var(40) = 1

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = pos y > 0
trigger1 = vel y > 0
trigger1 = movehit
trigger1 = var(4) = [12100,12102]
value = 12100

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = pos y > 0
trigger1 = vel y > 0
trigger1 = movehit
trigger1 = var(4) = [11000,11302]
value = var(4)-(var(4)%10)

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = pos y > 0
trigger1 = vel y > 0
trigger1 = movehit
value = var(4)

[State 0, end]
type = changestate
triggerall = IsHelper
triggerall = pos y > 0
triggerall = vel y > 0
triggerall = movehit
trigger1 = !var(4)
trigger2 = roundstate != 2
trigger3 = !root,var(59) && root,command = "a"
value = 10000

[State 0, end]
type = changestate
triggerall = !IsHelper
trigger1 = pos y > 0
trigger1 = vel y > 0
trigger1 = movehit
value = 52

[State 0, end]
type = changestate
trigger1 = pos y >= 0
trigger1 = vel y > 0
trigger2 = moveguarded
value = 11210

;---------------------------------------------------------------------------
[Statedef 11210]
type = A
movetype = I
physics = N
ctrl = 0
anim = 11210
;velset = -2.8,-4
sprpriority = 1

[State 0, end]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !time
x = -vel x*.2
y = -4

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, assert]
type = screenbound
trigger1 = 1
value = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = IsHelper
trigger1 = var(6)
value = SCA

[State 10000, HitBy]
type = HitBy
triggerall = IsHelper
trigger1 = !var(6)
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = var(6)
var(6) = -1

[State 1100, VarSet]
type = VarSet
trigger1 = Ishelper
fvar(0) = root,fvar(0)*.25

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = Ishelper
slot = 0
stateno = 9500
attr = SCA,NA,SA,HA,NP,SP,HP
time = -1

[State 0, end]
type = changestate
triggerall = Ishelper
trigger1 = root,movetype = H
value = 9505

[State 0, vel]
type = veladd
trigger1 = 1
y = .3

[State 0, end]
type = velset
trigger1 = pos y >= 10
x = 0
y = 0

[State 0, end]
type = posset
trigger1 = pos y >= 10
y = 0

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = pos y = 0
trigger1 = vel y = 0
trigger1 = var(4) = [12100,12102]
value = 12100

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = pos y = 0
trigger1 = vel y = 0
trigger1 = var(4) = [11000,11302]
value = var(4)-(var(4)%10)

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = pos y = 0
trigger1 = vel y = 0
value = var(4)

[State 0, end]
type = changestate
triggerall = IsHelper
triggerall = pos y = 0
triggerall = vel y = 0
trigger1 = !var(4)
trigger2 = roundstate != 2
trigger3 = !root,var(59) && root,command = "a"
value = 10000

[State 0, end]
type = changestate
triggerall = !IsHelper
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 52

;==============================================================================
;針串刺しの刑
[Statedef 11300]
type = S
movetype = A
physics = N
ctrl = 0
anim = 11300
velset = 0,0
sprpriority = 2
facep2 = 1;-(prevstateno=[100,119])

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, pos]
type = posset
trigger1 = IsHelper
trigger1 = !time
y = 0

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = IsHelper
trigger1 = var(6)
value = SCA

[State 10000, HitBy]
type = HitBy
triggerall = IsHelper
trigger1 = !var(6)
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = var(6)
var(6) = -1

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = !time
var(5) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = Ishelper
fvar(0) = root,fvar(0)*.25

[State 1100, Velocity]
type = VelSet
trigger1 = IsHelper
trigger1 = !time
x = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = Ishelper
slot = 0
stateno = 9500
attr = SCA,NA,SA,HA,NP,SP,HP
time = -1

[State 0, end]
type = changestate
triggerall = Ishelper
trigger1 = root,movetype = H
value = 9505

[State 10001]
type = ScreenBound
trigger1 = Ishelper
value = 1
movecamera = 1,0

[State 0, end]
type = playerpush
trigger1 = Ishelper
value = 1

;---------------------------------------

[State 0, var]
type = varset
trigger1 = IsHelper
trigger1 = !time
var(2) = var(4)%10

;=======================================

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !IsHelper
trigger1 = !time
trigger1 = vel x != 0
x = 0

[State 0, var]
type = varset
triggerall = var(59) = 0
trigger1 = !IsHelper
trigger1 = !time
var(2) = ifelse(command = "214z",2,ifelse(command = "214y",1,0))

[State 1000, VarSet]
type = varset
triggerall = var(59) = 0
triggerall = var(28)
trigger1 = !IsHelper
trigger1 = !time
var(2) = ifelse((var(28)&2**16),2,ifelse((var(28)&2**15),1,0))

[State 1000, VarSet]
type = varset
triggerall = var(59)
triggerall = var(36);コンボ中は強固定
trigger1 = !IsHelper
trigger1 = !time
var(2) = 2

[State 0, snd]
type = playsnd
trigger1 = anim = 11300 && animelem = 2
value = 3,7
volume = 255
channel = 0

[State 0, snd]
type = playsnd
trigger1 = anim = 11300 && animelemtime(5) = 24
value = 6,1

[State 0, anim]
type = changeanim
triggerall = var(59) = 0
triggerall = !Ishelper
triggerall = anim = 11300 && ((var(2)=0 && animelemtime(5)>=9) || (var(2)=1 && animelemtime(5)>=7) || (var(2)=2 && animelemtime(5)>=7))
trigger1 = command != "holdx" && command != "holdb" && var(2)=0
trigger2 = command != "holdy" && var(2)=1
trigger3 = command != "holdz" && var(2)=2
trigger4 = time >= 82
value = 11301 + var(2)
persistent = 0

[State 0, anim]
type = changeanim
triggerall = var(59)
triggerall = !Ishelper
triggerall = anim = 11300 && ((var(2)=0 && animelemtime(5)>=9) || (var(2)=1 && animelemtime(5)>=7) || (var(2)=2 && animelemtime(5)>=7))
trigger1 = 1
trigger2 = roundstate != 2
trigger3 = time >= 82
value = 11301 + var(2)
persistent = 0

[State 0, anim]
type = changeanim
triggerall = Ishelper
trigger1 = anim = 11300 && ((var(2)=0 && animelemtime(3)>=4) || (var(2)=1 && animelemtime(3)>=2) || (var(2)=2 && animelemtime(3)>=2))
value = 11301 + var(2)+(IsHelper*5)
persistent = 0

[State 0, anim]
type = changeanim
triggerall = !IsHelper
triggerall = var(59) = 0
triggerall = anim = 11300 && animelemtime(5) >= 4
trigger1 = command = "a"
value = 11304
persistent = 0

[State 0, pos]
type = posadd
trigger1 = (anim = [11301,11303]) && animelem = 3
trigger2 = (anim = [11306,11308]) && animelem = 3
x = ceil(32*const(size.xscale))

[State 0, snd]
type = playsnd
trigger1 = (anim = [11301,11303]) && animelem = 1
trigger2 = (anim = [11306,11308]) && animelem = 2
value = 0,13

[State 0, power]
type = poweradd
trigger1 = (anim = [11301,11303]) && animelem = 5
value = 40*!IsHelper

[State 0, hit]
type = hitdef
triggerall = (anim = [11301,11303])
triggerall = !movecontact
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = S, SA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),ceil(ifelse((7*fvar(0)*.25)<7,7,(7*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,20
guard.pausetime = 1,1
sparkno = s6004
sparkxy = -9,-80
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = 0
guard.velocity = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
fall = 0
air.fall = 1
fall.recover = 0
guard.kill = 0
persistent = 0
sprpriority = 2
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = (anim = [11306,11308])
triggerall = !movecontact
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = S, SA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),ceil(ifelse((7*fvar(0)*.25)<7,7,(7*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
guard.pausetime = 1,1
sparkno = s6004
sparkxy = -9,-80
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 60*!IsHelper,0
givepower = 30*!IsHelper,0
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -6
guard.velocity = -5.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
fall = 0
air.fall = 1
fall.recover = 0
guard.kill = 0
persistent = 0
sprpriority = 2
p2facing = 1

[state -2, var]
type = parentvaradd
trigger1 = Ishelper
trigger1 = movehit = 1
var(40) = 1

[State 220, CornerPush]
type = VarSet
trigger1 = !Ishelper
trigger1 = moveguarded = 1
fvar(3) = 16
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
trigger1 = Ishelper
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

;コーナープッシュ処理
[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = !fvar(3)
fvar(5) = 0

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = numtarget
trigger1 = target,BackEdgeBodyDist <= 5 || target,FrontEdgeBodyDist <= 5
fvar(5) = 1

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
trigger1 = fvar(3) = [0,.1]
trigger2 = NumTarget
trigger2 = target,statetype = A && target,stateno != [5070,5071]
trigger3 = root,fvar(3)
fvar(3) = 0

[State -2, CornerPush]
type = PosAdd
triggerall = IsHelper
triggerall = fvar(3)
triggerall = fvar(5)
triggerall = !numhelper(7000) && !numhelper(8000) && !root,numhelper(7000) && !root,NumHelper(8000)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
x = -fvar(3)

[State -2, CornerPush]
type = VarSet
triggerall = IsHelper
triggerall = fvar(3)
triggerall = !numhelper(7000) && !numhelper(8000) && !root,numhelper(7000) && !root,NumHelper(8000)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
fvar(3) = fvar(3)*.75

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = !animtime
trigger1 = var(4) = [12100,12102]
value = 12100

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = !animtime
trigger1 = var(4) = [11000,11302]
value = var(4)-(var(4)%10)

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = !animtime
value = var(4)

[State 0, end]
type = changestate
triggerall = IsHelper
trigger1 = !var(4)
trigger1 = !animtime
trigger2 = roundstate != 2
trigger3 = !root,var(59) && root,command = "a"
value = 10000

[State 0, end]
type = changestate
triggerall = !IsHelper
triggerall = movehit
trigger1 = anim = [11301,11303]
trigger1 = animelemtime(8) >= 0
value = 11310

[State 0, end]
type = changestate
triggerall = !IsHelper
trigger1 = anim = [11301,11304]
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 11310]
type = S
movetype = A
physics = N
ctrl = 0
anim = 11310
velset = 0,0
sprpriority = 1

[State 0, width]
type = width
trigger1 = 1
value = 10,0

[State 0, vel]
type = velset
trigger1 = animelemtime(4) = 0
trigger2 = animelemtime(10) =  0
trigger3 = animelemtime(16) =  0
trigger4 = animelemtime(20) =  0
x = ifelse(p2bodydist x>0,p2bodydist x / 7,10)

[State 0, vel]
type = velset
trigger1 = animelemtime(6) = 0
trigger2 = animelemtime(12) =  0
trigger3 = animelemtime(17) =  0
trigger4 = animelemtime(22) =  0
x = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 21
value = 0,12

[State 0, image]
type = afterimage
trigger1 = !time
time = 50
length = 16
palbright = 15,15,15
palcontrast = 196,196,196
paladd = 0,0,0
palmul = 1,1,1
timegap = 2
framegap = 4
;trans = add1

[State 0, image]
type = afterimage
trigger1 = animelemtime(22) = 0
time = 1
ignorehitpause = 1

[State 0, pos]
type = posadd
trigger1 = animelem = 10
trigger2 = animelem = 16
trigger3 = animelem = 21
x = ceil(16*const(size.xscale))

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, SA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),ceil(ifelse((14*fvar(0)*.25)<7,7,(14*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 5,5
sparkno = s6004
sparkxy = -9,-87
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 0,0
givepower = 10,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
fall = 0
air.fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 12
attr = S, SA
damage = ceil(ifelse((28*fvar(0))<7,7,(28*fvar(0)))),ceil(ifelse((28*fvar(0)*.25)<7,7,(28*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 5,5
sparkno = s6004
sparkxy = -9,-68
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 0,0
givepower = 10,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
fall = 0
air.fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 17
attr = S, SA
damage = ceil(ifelse((42*fvar(0))<7,7,(42*fvar(0)))),ceil(ifelse((42*fvar(0)*.25)<7,7,(42*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 5,5
sparkno = s6004
sparkxy = -12,-40
guard.sparkno = s6010
hitsound = s0,29
guardsound = s0,9
getpower = 0,0
givepower = 10,0
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
fall = 0
air.fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 22
attr = S, SA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),ceil(ifelse((56*fvar(0)*.25)<7,7,(56*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = up
air.animtype = up
fall.animtype = up
pausetime = 5,5
sparkno = s6004
sparkxy = -7,-90
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 0,0
givepower = 10,0
ground.type = high
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -1.2,ifelse(var(40)<12,-10.2+(var(40)*.30),ifelse((var(40)*.38)<0,0,(var(40)*.8)))
guard.velocity = -2
air.velocity = -1.2,ifelse(var(40)<12,-10.6+(var(40)*.02),ifelse((var(40)*.38)<0,0,(var(40)*.8)))
airguard.velocity = -2,ifelse(var(40)<12,-10.4+(var(40)*.02),ifelse((var(40)*.38)<0,0,(var(40)*.8)))
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 30
yaccel = .44
guard.kill = 0
id = 11310
p2facing = 1

[State 0, end]
type = targetstate
trigger1 = numtarget(11310) && movehit = 1 && var(40) >= 13
value = 11320
id = 11310

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;やられ
[Statedef 11320]
movetype = H
physics = N
anim = 5030
ctrl = 0
velset = 0,0

[State 1223, 速度]
type = velset
trigger1 = HitShakeOver
trigger1 = enemynear,Pos X <= 0
x = -2
y = -1
persistent = 0

[State 1223, 速度]
type = VelAdd
trigger1 = 1
y = .44

[State 5030, 4]
type = Changeanim
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = 5050

[State 1223, 自分のステートへ]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 11321

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 11321]
type    = L
movetype= H
physics = N

[State 0, 1]
type = DestroySelf
trigger1 = IsHelper
trigger1 = time = 0

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 1223, 自分のステートへ]
type = SelfState
trigger1 = time = 40
value = 5081

;==============================================================================
;アーマーテイクオフ
[Statedef 12000]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12000
velset = 0,0
sprpriority = 1
facep2 = 1;-(prevstateno=[100,119])

[State 0, var]
type = varset
trigger1 = !time
var(50) = 0

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0
player = 15,15

[State 0, nhb]
type = nothitby
trigger1 = animelemtime(6) <= 4
trigger2 = movehit
value = SCA
time = 1

[State 0, super]
type = superpause
trigger1 = time = 12
time = 30
movetime = 30
anim = -1
sound = s0,21
darken = 0
p2defmul = 1
poweradd = -1000

[State 0, explod]
type = explod
trigger1 = time = 12
anim = 7100
id = 7100
pos = ceil(20*const(size.xscale)),ceil(-70*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 12
helpertype = normal
name = "super"
stateno = 7000
id = 7000
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 3,11
channel = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 5
value = 0,12

[State 0, pos]
type = posadd
trigger1 = time = 11
x = 20

[State 0, pos]
type = null;posadd
trigger1 = animelem = 5
x = ceil(26*const(size.xscale))

[State 0, hit]
type = hitdef
trigger1 = animelem = 5
attr = S, HA
damage = ceil(ifelse((28*fvar(0))<7,7,(28*fvar(0)))),ceil(ifelse((28*fvar(0)*.25)<7,7,(28*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 2,2
sparkno = s6040
sparkxy = -10,-90
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 0,0
givepower = 10,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = 0
guard.velocity = -8
airguard.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 55
envshake.ampl = -4
fall = 1
kill = 0
guard.kill = 0
id = 2050
p2facing = 1

[State 901, Throw]
type = TargetState
triggerall = numtarget
trigger1 = time > 1 && movehit
value = 2080
ignorehitpause = 1
persistent = 0
id = 2050

[State 901, Throw]
type = helper
triggerall = !numhelper(2001)
triggerall = time > 1 && movehit
triggerall = (TeamMode = Single) || (TeamMode = Turns)
trigger1 = enemy,authorname = "Nimame"
trigger1 = enemy,name = "devo"
stateno = 2001
id = 2001
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1
persistent = 0

[State 0, var]
type = varset
trigger1 = !time
var(6) = (var(6)|1048576)-1048576

[State 0, state]
type = statetypeset
trigger1 = var(50)
movetype = I
persistent = 0

[State 0, var]
type = varset
triggerall = animelem = 8
trigger1 = !movehit
trigger2 = !numtarget && !(var(6)&1048576)
trigger3 = numtarget
trigger3 = target,stateno != 2080
var(50) = 1

[State 0, end]
type = changestate
triggerall = animelem = 9
trigger1 = !var(50)
trigger2 = (var(6)&1048576)
value = 12001

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = animelemtime(15) > 3
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;アーマーテイクオフ2(成功)
[Statedef 12001]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12001
velset = 0,0
sprpriority = 1

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0

[State 0, var]
type = varset
trigger1 = !time
var(17) = 0

[State 0, snd]
type = playsnd
trigger1 = time = 14
value = 3,5
channel = 0

[State 0, snd]
type = playsnd
trigger1 = time = 20
value = 6,2

[State 0, explod]
type = explod
trigger1 = time = 20
anim = 7200
pos = 8,-63
sprpriority = 10

;--------------------------------------[]
;アーマーパージ
[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12010
sprpriority = -3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12011
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12012
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12013
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12014
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12015
sprpriority = -3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12016
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12017
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12018
sprpriority = -3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12019
sprpriority = -3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12020
sprpriority = -3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12021
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12022
sprpriority = -3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12023
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12024
sprpriority = -3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12025
sprpriority = 3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12026
sprpriority = -3

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 12027
sprpriority = -3
;--------------------------------------[]

[State 0, vel]
type = veladd
trigger1 = animelemtime(3) >= 2
trigger1 = pos y >= -300
y = -14

[State 0, scale]
type = angledraw
trigger1 = time >= 58
scale = (const(size.xscale)-(.14*(time-58))),(const(size.yscale)+(.05*(time-58)))

[State 0, vel]
type = velset
trigger1 = pos y < -300
y = 0

[State 0, assert]
type = assertspecial
trigger1 = pos y < -300
flag = Invisible

[State 0, target]
type = targetstate
trigger1 = time = 110
value = 2081

[State 0, var]
type = varset
trigger1 = time = 124
var(50) = 2

[State 0, var]
type = varadd
trigger1 = time = 122
trigger2 = time = 137
trigger3 = time = 152
trigger4 = time = 167
trigger5 = time = 182
trigger6 = time = 190
trigger7 = time = 198
trigger8 = time = 204
trigger9 = time = 234
var(17) = 1

[state 0, helper]
type = helper
trigger1 = time = 122
trigger2 = time = 137
trigger3 = time = 152
trigger4 = time = 167
trigger5 = time = 182
trigger6 = time = 190
trigger7 = time = 198
trigger8 = time = 204
trigger9 = time = 210
trigger10 = time = 234
helpertype = normal
stateno = ifelse(time!=210,12010,12011)
id = ifelse(time!=234,12010,12011)
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 0, snd]
type = playsnd
trigger1 = time = 147
trigger2 = time = 162
trigger3 = time = 177
trigger4 = time = 192
trigger5 = time = 207
trigger6 = time = 215
trigger7 = time = 223
trigger8 = time = 234
trigger9 = time = 265
value = 0,ifelse(time=265,8,29)
channel = 1

[State 0, life]
type = targetlifeadd
trigger1 = time = 147
trigger2 = time = 162
trigger3 = time = 177
trigger4 = time = 192
trigger5 = time = 207
trigger6 = time = 215
trigger7 = time = 223
trigger8 = time = 234
value = ceil(ifelse(-21*fvar(0)>-7,-7,-21*fvar(0)))
kill = 0

[State 0, life]
type = targetlifeadd
trigger1 = time = 265
value = ceil(ifelse(-133*fvar(0)>-7,-7,-133*fvar(0)))
kill = 1

[State 0, hit]
type = varadd
trigger1 = time = 147
trigger2 = time = 162
trigger3 = time = 177
trigger4 = time = 192
trigger5 = time = 207
trigger6 = time = 215
trigger7 = time = 223
trigger8 = time = 235
trigger9 = time = 265
var(40) = 1

[State 0, hit]
type = targetpoweradd
trigger1 = time = 147
trigger2 = time = 162
trigger3 = time = 177
trigger4 = time = 192
trigger5 = time = 207
trigger6 = time = 215
trigger7 = time = 223
trigger8 = time = 235
trigger9 = time = 265
value = 10

[State 0, hit]
type = hitadd
trigger1 = time = 147
trigger2 = time = 162
trigger3 = time = 177
trigger4 = time = 192
trigger5 = time = 207
trigger6 = time = 215
trigger7 = time = 223
trigger8 = time = 235
trigger9 = time = 265
value = numtarget

[State 0, explod]
type = explod
trigger1 = time = 147
trigger2 = time = 162
trigger3 = time = 177
trigger4 = time = 192
trigger5 = time = 207
trigger6 = time = 215
trigger7 = time = 223
trigger8 = time = 234
anim = 6002
pos = 160,88
postype = back
random = 24,24
;postype = p2
sprpriority = 3
pausemovetime = 0
supermovetime = 0

[State 0, explod]
type = explod
trigger1 = time = 265
anim = 6002
pos = 165,75
postype = back
random = 24,24
;postype = p2
sprpriority = 3
pausemovetime = 0
supermovetime = 0
[State 0, explod]
type = explod
trigger1 = time = 265
anim = 6002
pos = 160,75
postype = back
random = 24,24
;postype = p2
sprpriority = 3
pausemovetime = 0
supermovetime = 0
[State 0, explod]
type = explod
trigger1 = time = 265
anim = 6002
pos = 165,93
postype = back
random = 24,24
;postype = p2
sprpriority = 3
pausemovetime = 0
supermovetime = 0
[State 0, explod]
type = explod
trigger1 = time = 265
anim = 6002
pos = 160,93
postype = back
random = 24,24
;postype = p2
sprpriority = 3
pausemovetime = 0
supermovetime = 0

[State 0, explod]
type = explod
trigger1 = time = 147
trigger2 = time = 192
trigger3 = time = 223
anim = 6070
pos = 160,88
postype = back
sprpriority = 4

[State 0, explod]
type = explod
trigger1 = time = 162
trigger2 = time = 207
trigger3 = time = 234
anim = 6071
pos = 160,88
postype = back
sprpriority = 4

[State 0, explod]
type = explod
trigger1 = time = 177
trigger2 = time = 211
trigger3 = time = 283
anim = 6072
pos = 160,88
postype = back
sprpriority = 4

[State 0, explod]
type = explod
trigger1 = time = 179
trigger2 = time = 215
trigger3 = time = 265
anim = 6073
pos = 160,88
postype = back
sprpriority = 4

[State 0, pal]
type = allpalfx
trigger1 = time = 263
time = 3
add = 64,64,64

[State 903, EnvShake]
type = EnvShake
trigger1 = time = 215
trigger2 = time = 223
trigger3 = time = 234
time = 5
ampl = 4

[State 0, end]
type = changestate
trigger1 = time = 270
value = 12002

;---------------------------------------------------------------------------
;アーマーテイクオフ3(終了)
[Statedef 12002]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12005
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != helper(20000),facing

[State 0, pos]
type = posset
trigger1 = !time
x = helper(20000),pos x + (15*facing)

[State 0, vel]
type = velset
trigger1 = time = 30
y = 16

[State 0, anim]
type = changeanim
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 12006

[State 0, vel]
type = velset
trigger1 = vel y > 0
trigger1 = pos y >= 0
y = 0

[State 0, pos]
type = posset
trigger1 = anim = 12006
y = 0

[State 0, end]
type = changestate
trigger1 = anim = 12006 && animelemtime(3) > 2
value = 0
ctrl = 1

;===========================================================================
;ラストショット
[Statedef 12100]
type = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = changestate
trigger1 = IsHelper && !time
trigger1 = root,power <= 1000
value = 11300

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, pos]
type = posset
trigger1 = IsHelper
trigger1 = !time
y = 0

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = IsHelper
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = IsHelper
trigger1 = var(6)
value = SCA

[State 10000, HitBy]
type = HitBy
triggerall = IsHelper
trigger1 = !var(6)
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = var(6)
var(6) = -1

[State 0, var]
type = varadd
trigger1 = IsHelper
trigger1 = !time
var(5) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = Ishelper
fvar(0) = root,fvar(0)*.25

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = Ishelper
slot = 0
stateno = 9500
attr = SCA,NA,SA,HA,NP,SP,HP
time = -1

[State 0, end]
type = changestate
triggerall = Ishelper
trigger1 = root,movetype = H
value = 9505

[State 10001]
type = ScreenBound
trigger1 = Ishelper
value = 1
movecamera = 1,0

[State 0, end]
type = playerpush
trigger1 = Ishelper
value = 1

;---------------------------------------

[State 0, var]
type = varset
trigger1 = IsHelper
trigger1 = !time
var(2) = var(4)%10

;=======================================

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 0, nhb]
type = nothitby
triggerall = !IsHelper || (IsHelper && !var(6))
triggerall = time > 3
trigger1 = var(2) = 0 && animelemtime(10) <= 5
trigger2 = var(2) = 1 && animelemtime(9) <= 5
trigger3 = var(2) = 2 && animelemtime(11) <= 5
value = SCA
time = 1

[State 0, var]
type = varset
triggerall = var(59) = 0
trigger1 = !time
trigger1 = !Ishelper
var(2) = ifelse(command = "214aa3"||command = "214b",2,ifelse(command = "214aa2",1,0))

[State 1000, VarSet]
type = varset
triggerall = var(59) = 0
triggerall = var(28)
trigger1 = !IsHelper
trigger1 = !time
var(2) = ifelse((var(28)&2**12),2,ifelse((var(28)&2**11),1,0))

[State 1000, VarSet]
type = varset
triggerall = var(59)
trigger1 = !IsHelper
trigger1 = !time
trigger1 = var(36) || prevstateno = 10420
var(2) = 0

[State 0, var]
type = varset
trigger1 = !time
var(50) = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 12100 + var(2)

[State 0, super]
type = superpause
trigger1 = time = 12
time = 30
movetime = 30
anim = -1
sound = s0,21
darken = 0
p2defmul = 1
poweradd = -1000

[State 0, explod]
type = explod
trigger1 = var(2) = 0 && time = 12
anim = 7100
pos = ceil(72*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = var(2) = 1 && time = 12
anim = 7100
pos = ceil(62*const(size.xscale)),ceil(-130*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = var(2) = 2 && time = 12
anim = 7100
pos = ceil(-46*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 12
helpertype = normal
name = "super"
stateno = 7000
id = 7000
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 3,11
channel = 0

[state 0, helper]
type = helper
trigger1 = var(2) = 0 && animelem = 9
helpertype = normal
name = "shot"
stateno = 12150
id = 12150
pos = ceil(72*const(size.xscale)),ceil(-95*const(size.yscale))

[state 0, helper]
type = helper
trigger1 = var(2) = 1 && animelem = 8
helpertype = normal
name = "shot"
stateno = 12150
id = 12150
pos = ceil(62*const(size.xscale)),ceil(-130*const(size.yscale))

[state 0, helper]
type = helper
trigger1 = var(2) = 2 && animelem = 10
helpertype = normal
name = "shot"
stateno = 12151
id = 12150
pos = ceil(-46*const(size.xscale)),ceil(-95*const(size.yscale))

[State 0, explod]
type = explod
trigger1 = var(2) = 0 && animelem = 9
trigger2 = var(2) = 1 && animelem = 8
trigger3 = var(2) = 2 && animelem = 10
anim = 12105 + var(2)
id = 12105
scale = const(size.xscale),const(size.yscale)
sprpriority = 2

[State 0, snd]
type = playsnd
trigger1 = var(2) = 0 && animelem = 9
trigger2 = var(2) = 1 && animelem = 8
trigger3 = var(2) = 2 && animelem = 10
value = 6,4

[State 0, state]
type = statetypeset
trigger1 = var(2) = 0 && animelem = 10
trigger2 = var(2) = 1 && animelem = 9
trigger3 = var(2) = 2 && animelem = 11
movetype = I
persistent = 0

[State 0, var]
type = varset
trigger1 = var(2) = 0 && animelem = 13
trigger2 = var(2) = 1 && animelem = 11
trigger3 = var(2) = 2 && animelem = 13
var(50) = 1

[State 0, explod]
type = explod
trigger1 = var(2) = 0 && animelem = 12
anim = 12180
pos = ceil(101*const(size.xscale)),ceil(-91*const(size.yscale))
sprpriority = 2

[State 0, explod]
type = explod
trigger1 = var(2) = 1 && animelem = 10
anim = 12180
pos = ceil(83*const(size.xscale)),ceil(-147*const(size.yscale))
sprpriority = 2

[State 0, explod]
type = explod
trigger1 = var(2) = 2 && animelem = 12
anim = 12180
pos = ceil(-61*const(size.xscale)),ceil(-110*const(size.yscale))
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = (var(2)=0 && animelemtime(12)>=15) || (var(2)=1 && animelemtime(11)>=15) || (var(2)=2 && animelemtime(12)=15)
trigger1 = var(4) = [12100,12102]
value = 12100

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = (var(2)=0 && animelemtime(12)>=15) || (var(2)=1 && animelemtime(11)>=15) || (var(2)=2 && animelemtime(12)=15)
trigger1 = var(4) = [11000,11302]
value = var(4)-(var(4)%10)

[State 0, end]
type = changestate
trigger1 = IsHelper
trigger1 = roundstate = 2
trigger1 = var(4)
trigger1 = (var(2)=0 && animelemtime(12)>=15) || (var(2)=1 && animelemtime(11)>=15) || (var(2)=2 && animelemtime(12)=15)
value = var(4)

[State 0, end]
type = changestate
triggerall = IsHelper
trigger1 = !var(4)
trigger1 = (var(2)=0 && animelemtime(12)>=15) || (var(2)=1 && animelemtime(11)>=15) || (var(2)=2 && animelemtime(12)=15)
trigger2 = roundstate != 2
;trigger3 = !root,var(59) && root,command = "a" && !numhelper(12150)
value = 10000

[State 0, end]
type = changeanim
triggerall = !numhelper(12150) && time >= 50
trigger1 = !animelemtime(12) <= 0 && var(2)!=1
trigger2 = !animelemtime(10) <= 0 && var(2)=1
value = anim
elem = ifelse(var(2)=1,10,12)
persistent = 0

[State 0, explod]
type = explod
trigger1 = anim = 12100
trigger1 = animelemtime(12) = 0
anim = 6053
id = 6053
pos = 70,-100
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12100
trigger1 = animelemtime(12) = 0
anim = 6053
id = 6053
pos = 85,-95
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12100
trigger1 = animelemtime(12) = 0
anim = 6053
id = 6053
pos = 100,-90
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12100
trigger1 = animelemtime(12) = 0
anim = 6053
id = 6053
pos = 115,-85
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1

[State 0, explod]
type = explod
trigger1 = anim = 12101
trigger1 = animelemtime(10) = 0
anim = 6053
id = 6053
pos = 60,-145
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12101
trigger1 = animelemtime(10) = 0
anim = 6053
id = 6053
pos = 70,-155
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12101
trigger1 = animelemtime(10) = 0
anim = 6053
id = 6053
pos = 80,-165
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12101
trigger1 = animelemtime(10) = 0
anim = 6053
id = 6053
pos = 90,-175
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1

[State 0, explod]
type = explod
trigger1 = anim = 12102
trigger1 = animelemtime(12) = 0
anim = 6053
id = 6053
pos = -50,-110
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12102
trigger1 = animelemtime(12) = 0
anim = 6053
id = 6053
pos = -60,-120
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12102
trigger1 = animelemtime(12) = 0
anim = 6053
id = 6053
pos = -70,-130
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12102
trigger1 = animelemtime(12) = 0
anim = 6053
id = 6053
pos = -80,-140
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1

[State 0, end]
type = parentvaradd
triggerall = Ishelper
trigger1 = var(46)
var(40) = var(46)

[State 0, end]
type = varset
triggerall = Ishelper
trigger1 = var(46)
var(46) = 0

[State 0, end]
type = changestate
triggerall = !IsHelper
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ラストショット(空中)
[Statedef 12110]
type = A
movetype = A
physics = N
ctrl = 0
anim = 12110
velset = 0,0

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 0, width]
type = width
trigger1 = 1
edge = 30,30

[State 0, nhb]
type = nothitby
triggerall = time > 3
trigger1 = anim = 12110 && animelemtime(7) <= 5
value = SCA
time = 1

[State 0, var]
type = varset
trigger1 = !time
var(2) = 3

[State 0, var]
type = varset
trigger1 = !time
var(50) = 0

[State 0, super]
type = superpause
trigger1 = time = 15
time = 30
movetime = 30
anim = -1
sound = s0,21
darken = 0
p2defmul = 1
poweradd = -1000

[State 0, explod]
type = explod
trigger1 = time = 15
anim = 7100
pos = ceil(55*const(size.xscale)),ceil(-33*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 15
helpertype = normal
name = "super"
stateno = 7000
id = 7000
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 3,11
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 6
helpertype = normal
name = "shot"
stateno = 12150
id = 12150
pos = ceil(55*const(size.xscale)),ceil(-33*const(size.yscale))
persistent = 0

[State 0, explod]
type = explod
trigger1 = animelem = 6
anim = 12115
id = 12105
scale = const(size.xscale),const(size.yscale)
sprpriority = 2
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 6
value = 6,4
persistent = 0

[State 0, vel]
type = velset
trigger1 = animelem = 7
x = -3
y = -5
persistent = 0

[State 0, vel]
type = veladd
trigger1 = animelemtime(7) >= 0
y = .44

[State 0, anim]
type = changeanim
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 12111
persistent = 0

[State 0, pos]
type = posset
trigger1 = pos y >= 0
trigger1 = vel y > 0
y = 0

[State 0, vel]
type = velset
trigger1 = pos y >= 0
trigger1 = vel y > 0
y = 0

[State 0, vel]
type = velset
trigger1 = pos y >= 0
x = 0

[State 0, anim]
type = changeanim
trigger1 = anim = 12111 && animelemtime(2) < 0
trigger1 = !numhelper(12150)
value = anim
elem = 2
persistent = 0

[State 0, state]
type = statetypeset
trigger1 = anim = 12111
statetype = S
movetype = I
physics = N
persistent = 0

[State 0, var]
type = varset
trigger1 = anim = 12111 && animelem = 4
var(50) = 1

[State 0, end]
type = changeanim
triggerall = !numhelper(12150) && anim = 12111
trigger1 = !animelemtime(2) <= 0
value = anim
elem = 2
persistent = 0

[State 0, explod]
type = explod
trigger1 = anim = 12111 && animelem = 3
anim = 12180
pos = ceil(83*const(size.xscale)),ceil(-147*const(size.yscale))
sprpriority = 2

[State 0, explod]
type = explod
trigger1 = anim = 12111
trigger1 = animelemtime(3) = 0
anim = 6053
id = 6053
pos = 60,-145
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12111
trigger1 = animelemtime(3) = 0
anim = 6053
id = 6053
pos = 70,-155
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12111
trigger1 = animelemtime(3) = 0
anim = 6053
id = 6053
pos = 80,-165
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1
[State 0, explod]
type = explod
trigger1 = anim = 12111
trigger1 = animelemtime(3) = 0
anim = 6053
id = 6053
pos = 90,-175
postype = p1
scale = .833,1.07
sprpriority = 3
ownpal = 1

[State 0, end]
type = parentvaradd
trigger1 = Ishelper
trigger1 = var(46)
var(40) = var(46)

[State 0, end]
type = varset
trigger1 = Ishelper
trigger1 = var(46)
var(46) = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;===========================================================================
;レクイエムの片鱗
[Statedef 12200]
type = S
movetype = I
physics = N
ctrl = 0
anim = 12206
velset = 0,0
sprpriority = 3
facep2 = 1;-(prevstateno=[100,119])

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0
player = 15,15

[State 0, super]
type = superpause
trigger1 = time = 8
time = 30
movetime = 30
anim = -1
sound = s0,21
darken = 0
p2defmul = 1

[State 0, explod]
type = explod
trigger1 = time = 8
anim = 7100
id = 7100
pos = ceil(12*const(size.xscale)),ceil(-91*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 8
helpertype = normal
name = "super"
stateno = 7000
id = 7000
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 0, snd]
type = playsnd
trigger1 = animelem = 2
value = 0,8

[State 0, snd]
type = playsnd
trigger1 = time = 7
value = 4,5
channel = 0

[State 0, explod]
type = explod
trigger1 = animelemtime(1) = 34
anim = 12205
id = 12205
pos = 0,0
postype = p1
sprpriority = 3
pausemovetime = 0
supermovetime = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 9
value = 6,6

[State 0, explod]
type = explod
trigger1 = time = 61
anim = 12210
id = 12210
pos = ceil(12*const(size.xscale)),ceil(-50*const(size.yscale))
postype = p1
removetime = 80
scale = .1,.1
sprpriority = -2
pausemovetime = 0
supermovetime = 0
removeongethit = 1
bindtime = -1

[State 0, explod]
type = modifyexplod
trigger1 = time > 61
scale = .1+((time-61)*.025),.1+((time-61)*.025)
id = 12210

[state 4100, 1]
type = envcolor
trigger1 = time = 51
value = 0,0,0
time = 2
persistent = 0
ignorehitpause = 1

[state 4100, 1]
type = envcolor
trigger1 = time = 141
time = 2
persistent = 0
ignorehitpause = 1

[state 0, helper]
type = helper
trigger1 = time >= 139
trigger1 = !numhelper(12230)
helpertype = normal
name = "requiem"
stateno = 12230
id = 12230
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 0, nhb]
type = nothitby
trigger1 = time > 139
value = SCA

[State 0, end]
type = changestate
trigger1 = time > 140
value = 12201

;---------------------------------------------------------------------------
;レクイエムの片鱗(発動)
[Statedef 12201]
type = A
movetype = A
physics = N
ctrl = 0
anim = 2201
velset = 0,0
sprpriority = 0
poweradd = -3000

[State 0, var]
type = varset
trigger1 = !time
var(0) = 0

[State 0, pos]
type = posadd
trigger1 = !time
x = -15

[State 0, explod]
type = explod
trigger1 = !time
anim = 12201
id = 12201
pos = 50,0
postype = p1
scale = const(size.xscale),const(size.yscale)
sprpriority = 2
pausemovetime = 0
supermovetime = 0

[State 0, explod]
type = explod
trigger1 = !time
anim = 12220+(random%2)
id = 12220
pos = 0,0
postype = p2
facing = enemynear,facing
scale = 1,1
bindtime = -1
ontop = 1
removetime = 300
pausemovetime = 0
supermovetime = 0

[State 0, snd]
type = playsnd
trigger1 = time = 8
value = 4,6
channel = 0

[State 0, snd]
type = playsnd
trigger1 = time = 25
value = 0,15

[State 0, end]
type = changestate
trigger1 = !numexplod(12201)
trigger2 = time > 25
value = 0
ctrl = 1

;==============================================================================
;スタンドシュート
[Statedef 3100]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12300
velset = 0,0
sprpriority = 1
poweradd = -1000
facep2 = 1;-(prevstateno=[100,119])

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 3,0
channel = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 0, nhb]
type = nothitby
trigger1 = animelemtime(4) < 3
trigger2 = movehit
value = SCA
time = 1

[State 0, image]
type = afterimage
trigger1 = animelem = 4
time = 14
length = 14
palbright = 15,15,15
palcontrast = 196,196,196
paladd = 0,0,0
palmul = 1,1,1
timegap = 2
framegap = 4
;trans = add1

[State 0, snd]
type = playsnd
trigger1 = animelem = 4
value = 6,0

[State 0, pos]
type = velset
trigger1 = animelemtime(4) = 0
x = 15

[State 0, pos]
type = velmul
trigger1 = animelemtime(4) >= 0
x = .9

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, HA
damage = ceil(ifelse((21*fvar(0))<7,7,(21*fvar(0)))),ceil(ifelse((21*fvar(0)*.25)<7,7,(21*fvar(0)*.25)))
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
guard.pausetime = 13,13
sparkno = s6004
sparkxy = -10,-57
guard.sparkno = s6010
hitsound = s0,8
guardsound = s0,9
getpower = 0,0
givepower = 10,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0
air.velocity = 0
ground.velocity = -12
guard.velocity = -8
airguard.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 55
envshake.ampl = -4
fall = 0
kill = 0
guard.kill = 0
id = 12300
p2facing = 1

[State 901, Throw]
type = TargetState
triggerall = numtarget(12300)
trigger1 = movehit
value = 12320
ignorehitpause = 1
id = 12300

[State 0, end]
type = changestate
triggerall = numtarget(12300)
trigger1 = movehit
trigger1 = target,stateno = 12320
value = 3110

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;スタンドシュートhit
[Statedef 3110]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12301
velset = 0,0
sprpriority = -1
poweradd = -1000

[State 0, screen]
type = targetbind
trigger1 = !time
pos = 125,0
id = 12300

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 130,0

[State 0, nhb]
type = attackdist
trigger1 = 1
value = 0

[State 0, nhb]
type = velset
trigger1 = animelem = 3
x = 5

[State 0, nhb]
type = velmul
trigger1 = animelemtime(3) >= 0
x = .9

[State 0, nhb]
type = playsnd
trigger1 = animelemtime(3) = 1
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 12
value = 6,7
channel = 2

[State 0, nhb]
type = playsnd
trigger1 = animelemtime(3) = 1
trigger2 = animelem = 9
value = 0,30
channel = 3

[State 0, nhb]
type = explod
trigger1 = animelemtime(3) = 1
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 12
anim = 12350
id = 12350
postype = p2
facing = -1
sprpriority = 3
pos = -5,-40-(random%40)
scale = const(size.xscale),const(size.yscale)

[State 0, explod]
type = explod
trigger1 = animelemtime(3) = 1
anim = 11015
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 2
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = animelem = 6
anim = 11013
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 2
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = animelem = 9
anim = 11012
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 2
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = animelem = 12
anim = 11011
id = 11010
scale = const(size.xscale),const(size.yscale)
sprpriority = 2
ignorehitpause = 1

[State 0, nhb]
type = targetstate
trigger1 = animelemtime(3) = 1
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 12
value = 12321
id = 12300

[State 0, nhb]
type = targetlifeadd
trigger1 = animelemtime(3) = 1
;trigger2 = animelem = 6
trigger2 = animelem = 9
;trigger4 = animelem = 12
value = ceil(ifelse(-14*fvar(0)>-7,-7,-14*fvar(0)))
id = 12300
kill = 0

[State 0, nhb]
type = hitadd
trigger1 = animelemtime(3) = 1
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 12
value = numtarget(12300)

[State 0, nhb]
type = varadd
trigger1 = animelemtime(3) = 1
;trigger2 = animelem = 6
trigger2 = animelem = 9
;trigger4 = animelem = 12
var(40) = 1

[State 0, nhb]
type = targetstate
trigger1 = time = 240
value = 12322
id = 12300

[State 0, nhb]
type = changestate
trigger1 = time = 240
value = 3111

;------------------------------------------------------------------------------
;スタンドシュートhit2
[Statedef 3111]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12302
velset = -1,0
sprpriority = 1

[State 0, screen]
type = playsnd
trigger1 = !time
value = 2,4
channel = 0

[State 0, screen]
type = playsnd
trigger1 = !time
value = 6,0

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 100,0

[State 0, nhb]
type = attackdist
trigger1 = 1
value = 0

[State 0, nhb]
type = velset
trigger1 = animelem = 2
x = 15

[State 0, explod]
type = explod
trigger1 = animelem = 2
anim = 8020
id = 8000
pos = 10,0
postype = p1
scale = 1,1
sprpriority = -1
ownpal = 0
shadow = 0,0,0
pausemovetime = 0
supermovetime = 0

[State 0, nhb]
type = null;velmul
trigger1 = animelemtime(2) > 0
x = .6

[State 0, nhb]
type = changeanim
trigger1 = target,pos x*facing - pos x*facing < 45
value = anim
elem = 4
persistent = 0

[State 0, nhb]
type = velset
trigger1 = animelemtime(4) = 0
x = 0

;最後
[State 0, nhb]
type = null;playsnd
trigger1 = animelemtime(4) = 1
value = 0,27

[State 0, nhb]
type = playsnd
trigger1 = animelemtime(4) = 0
value = 6,8

[State 0, nhb]
type = targetlifeadd
trigger1 = animelemtime(4) = 1
value = ceil(ifelse(-56*fvar(0)>-7,-7,-56*fvar(0)))
id = 12300
kill = 1

[State 0, nhb]
type = hitadd
trigger1 = animelemtime(4) = 1
value = numtarget(12300)

[State 0, nhb]
type = varadd
trigger1 = animelemtime(4) = 1
var(40) = 1

[State 0, shake]
type = varset
trigger1 = animelemtime(5) >= 0
trigger1 = win
trigger1 = matchover
fvar(12) = 1

[State 0, shake]
type = envshake
trigger1 = animelem = 4
time = 20
freq = 70
ampl = 5

[State 0, explod]
type = explod
trigger1 = animelem = 4
anim = 6004
id = 6000
facing = -1
postype = p2
pos = -10,-60
scale = const(size.xscale),const(size.yscale)
sprpriority = 3
ignorehitpause = 1

[State 0, nhb]
type = targetstate
trigger1 = animelem = 4
value = 12323
id = 12300

[State 0, shake]
type = velset
trigger1 = animelemtime(4) = 11
trigger1 = target(12300),BackEdgeBodyDist < 15
x = -16

[State 0, shake]
type = velmul
trigger1 = animelemtime(4) >= 11
x = .8

[State 0, nhb]
type = changestate
triggerall = animelemtime(9) > 26
trigger1 = BackEdgeBodyDist < 30
value = 3112

[State 0, nhb]
type = changestate
triggerall = animelemtime(9) > 26
trigger1 = !numtarget
trigger2 = target(12300),statetype = L
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;スタンドシュートend
[Statedef 3112]
type = S
movetype = I
physics = N
ctrl = 0
anim = 10100
velset = 0,0
sprpriority = 1

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0

[State 0, nhb]
type = velset
trigger1 = animelem = 2
x = 5

[State 0, nhb]
type = changeanim
triggerall = anim != 10101
triggerall = animelemtime(3) >= 0
trigger1 = !(BackEdgeBodyDist < 30)
value = 10101

[State 0, nhb]
type = changestate
trigger1 = anim = 10101
trigger1 = !animtime
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;スタンドシュート(enemy)
[Statedef 12320]
type = S
movetype = H
physics = N
ctrl = 0
velset = -3,0
sprpriority = 0
anim = 5012

[State 0, screen]
type = null;posadd
trigger1 = time = 7
y = -10

[State 0, screen]
type = velmul
trigger1 = 1
x = .85

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1

[State 0, screen]
type = playerpush
trigger1 = 1
value = 0

[State 0, screen]
type = nothitby
trigger1 = 1
value = SCA

;------------------------------------------------------------------------------
;スタンドシュート(enemy2)
[Statedef 12321]
type = A
movetype = H
physics = N
ctrl = 0
velset = -.05,0
sprpriority = 0
anim = 5002+(random%2)*10

[State 0, pos]
type = posadd
trigger1 = 1
x = 1*ifelse(time%2=0,-1,1)

[State 0, screen]
type = changeanim
trigger1 = time = 4
value = anim+5

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1

[State 0, screen]
type = playerpush
trigger1 = 1
value = 0

[State 0, screen]
type = nothitby
trigger1 = 1
value = SCA

;------------------------------------------------------------------------------
;スタンドシュート(enemy3)
[Statedef 12322]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0
anim = 5017

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, screen]
type = changeanim
trigger1 = selfanimexist(5950)
trigger1 = !time
value = 5950

;------------------------------------------------------------------------------
;スタンドシュート(enemy4)
[Statedef 12323]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0
anim = 5012

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 0, pos]
type = changeanim
trigger1 = time < 11
value = 5012

[State 0, pos]
type = posadd
trigger1 = time < 11
x = 1*ifelse(time%2=0,-1,1)

[State 0, screen]
type = changeanim
trigger1 = time = 11
value = 5050
[State 0, screen]
type = changeanim
trigger1 = time = 11
trigger1 = selfanimexist(5052)
value = 5052
[State 0, screen]
type = changeanim
trigger1 = time = 11
trigger1 = selfanimexist(5900)
value = 5900

[State 0, screen]
type = playerpush
trigger1 = 1
value = 0

[State 0, screen]
type = velset
trigger1 = time = 11
x = -12
y = -5

[State 0, screen]
type = veladd
trigger1 = time >= 11
y = .4

[State 0, self]
type = SelfState
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 5100


