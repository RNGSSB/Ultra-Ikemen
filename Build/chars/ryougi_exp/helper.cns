;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　ヘルパーステート
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

; 1060                 : 双ね鐘楼
; 1360                 : サマーソルト
; 1460                 : 虎落笛
; 1560                 : 玻璃の月
; 1660                 : 瞬目飛躍
; 1760                 : 陰陽螺鈿

; 2060                 : 直死の魔眼・五景崩落
; 2360                 : 虚空閃

; 3160                 : 直死の魔眼・死の点
; 3360                 : 立屈空攻撃エフェクト

; 3500                 : Screen
; 3600                 : Screen(Effect)

; 7000                 : 間接複合
; 7500                 : 投擲
; 8000                 : カットイン
; 8040                 : マジックサーキット
; 9000                 : Surplus Effect

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　双ね鐘楼 [ 一撃目エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1060]
type        = A
physics     = N
movetype    = I
anim        = 6200
ctrl        = 0
sprpriority = 2

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo = 1210
trigger1 = var(55) := 1
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = BindToParent
trigger1 = Root,StateNo=1000||Root,StateNo=1020||(Root,StateNo=[1400,1420])||Root,StateNo=1711||Root,StateNo=2300||Root,StateNo=2910
trigger1 = Root,StateType = S || Root,StateType = C
pos = 8, -22

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 1210
trigger1 = Root,StateType = S || Root,StateType = C
pos = 8, -48

[State -1]
Type = AngleDraw
trigger1 = var(55) = 0
scale = 1, 1.25

[State -1]
Type = AngleDraw
trigger1 = var(55) = 1
scale = 0.9, 0.9
value = -35

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1000&&(Root,AnimElemTime(9)>=0&&Root,AnimElemTime(11)<=0)
trigger2 = Root,StateNo=1420&&(Root,AnimElemTime(6)>=0&&Root,AnimElemTime(8)<=0)
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1000&&(Root,AnimElemTime(9)>=0&&Root,AnimElemTime(11)<=0)
trigger2 = Root,StateNo=1020&&(Root,AnimElemTime(5)>=0&&Root,AnimElemTime(7)<=0)
trigger3 = Root,StateNo=1420&&(Root,AnimElemTime(6)>=0&&Root,AnimElemTime(8)<=0)
value = anim
elem = 2
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1000&&(Root,AnimElemTime(9)>=0&&Root,AnimElemTime(11)<=0)
trigger2 = Root,StateNo=1020&&(Root,AnimElemTime(5)>=0&&Root,AnimElemTime(7)<=0)
trigger3 = Root,StateNo=1420&&(Root,AnimElemTime(6)>=0&&Root,AnimElemTime(8)<=0)
value = anim
elem = 3
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(4) >= 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1000&&(Root,AnimElemTime(9)>=0&&Root,AnimElemTime(11)<=0)
trigger2 = Root,StateNo=1020&&(Root,AnimElemTime(5)>=0&&Root,AnimElemTime(7)<=0)
trigger3 = Root,StateNo=1420&&(Root,AnimElemTime(6)>=0&&Root,AnimElemTime(8)<=0)
value = anim
elem = 4
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(4) >= 0
trigger1 = Root,StateNo=1000&&(Root,AnimElemTime(9)>=0&&Root,AnimElemTime(11)<=0)
trigger2 = Root,StateNo=1020&&(Root,AnimElemTime(5)>=0&&Root,AnimElemTime(7)<=0)
trigger3 = Root,StateNo=1420&&(Root,AnimElemTime(6)>=0&&Root,AnimElemTime(8)<=0)
value = anim
elem = 4
ignorehitpause = 1

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
trigger1 = Root,StateNo=1210&&(Root,AnimElemTime(7)>=0&&Root,AnimElemTime(8)<=0)
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　双ね鐘楼 [ 二撃目エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1061]
type        = A
physics     = N
movetype    = I
anim        = 6210
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
pos = 8, -48

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1001&&(Root,AnimElemTime(2)>=0&&Root,AnimElemTime(4)<=0)
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1001&&(Root,AnimElemTime(3)>=0&&Root,AnimElemTime(4)<=0)
value = anim
elem = 2
ignorehitpause = 1
persistent = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　双ね鐘楼 [ 三撃目エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1062]
type        = A
physics     = N
movetype    = I
anim        = 6220
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
pos = 18, -54

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1002&&(Root,AnimElemTime(3)>=0&&Root,AnimElemTime(5)<=0)
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1001&&(Root,AnimElemTime(3)>=0&&Root,AnimElemTime(5)<=0)
value = anim
elem = 2
ignorehitpause = 1
persistent = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1, 1.08

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　双ね鐘楼 [ 跳躍中段エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1063]
type        = A
physics     = N
movetype    = I
anim        = 6230
ctrl        = 0
sprpriority = 2

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = (Parent,StateNo=[1100,1120])||(Parent,StateNo=[1800,1820])
trigger1 = var(53) := 1
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = (Parent,StateNo=[1100,1120])||Parent,StateNo=1822
trigger1 = var(55) := 1
trigger2 = Parent,StateNo = 2301
trigger2 = var(55) := 2
trigger3 = Parent,StateNo=[1800,1820]
trigger3 = var(55) := 10
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
trigger2 = Root,StateNo = 280
pos = 24, -34

[State -1]
Type = BindToParent
trigger1 = Root,StateNo=1100||Root,StateNo=1105||Root,StateNo=1110||Root,StateNo=1120||Root,StateNo=2301||Root,StateNo=1822
trigger1 = Root,StateType = A
pos = 8, -22

[State -1]
Type = BindToParent
trigger1 = Parent,StateNo=1800||Parent,StateNo=1810
trigger1 = Root,StateType = A
pos = 0, -40

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = var(55) = 1
scale = 1, 0.9
value = -55

[State -1]
Type = AngleDraw
trigger1 = var(55) = 2
scale = 1.2, 1.1
value = -55

[State -1]
Type = AngleDraw
trigger1 = var(55) = 10
scale = 0.8, 0.7
value = -55

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo=1003&&(Root,AnimElemTime(10)>=0&&Root,AnimElemTime(11)<0)
trigger2 = Root,StateNo=1100&&(Root,AnimElemTime(11)>=0&&Root,AnimElemTime(13)<0)
trigger3 = Root,StateNo=1105&&(Root,AnimElemTime(7)>=0&&Root,AnimElemTime(9)<0)
trigger4 = Root,StateNo=1110&&(Root,AnimElemTime(3)>=0&&Root,AnimElemTime(5)<0)
trigger5 = Root,StateNo=1120&&(Root,AnimElemTime(20)>=0&&Root,AnimElemTime(22)<0)
trigger6 = Root,StateNo=2301&&(Root,AnimElemTime(4)>=0&&Root,AnimElemTime(6)<0)
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H
trigger2 = var(53) > 0 && Parent,StateType != A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　双ね鐘楼 [ 足払い段エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1064]
type        = A
physics     = N
movetype    = I
anim        = 6240
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 1004 || Root,StateNo = 1823
trigger1 = Root,StateType = S || Root,StateType = C
pos = 42, -34

[State -1]
type = ChangeAnim
trigger1 = Root,StateNo = 1004 || Root,StateNo = 1823
trigger1 = Root,MoveContact
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 0.7, -0.35

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　双ね鐘楼 [ 足払い段エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1065]
type        = A
physics     = N
movetype    = I
anim        = 6250
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
pos = 26, -4

[State -1]
type = ChangeAnim
trigger1 = Root,StateNo = 1005
trigger1 = Root,MoveContact
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 0.8, 0.8

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　サマーソルト [ エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1360]
type        = A
physics     = N
movetype    = I
anim        = 6260
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = A
pos = 8, 48

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　虎落笛 [ 円玉エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1460]
type        = A
physics     = N
movetype    = I
anim        = 11100
ctrl        = 0
sprpriority = 5

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 0.5, 0.5

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　玻璃の月 [ エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1560]
type        = A
physics     = N
movetype    = I
anim        = 6270
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = A
pos = 16, -48

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.2, 1.2

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H||Root,StateType!=A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　煙吹き上げ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1660]
type        = A
physics     = N
movetype    = I
anim        = 11050
ctrl        = 0
sprpriority = 4

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1, 1.5

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 6480
ID = 6480
pos = 0, 0
posType = P1
ownpal = 1
scale = 1, 1.5
sprpriority = 4
trans = add
ignorehitpause = 1
persistent = 0

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 6480
ID = 6480
pos = 0, 0
posType = P1
ownpal = 1
scale = 1, 1.5
sprpriority = 4
trans = Sub
ignorehitpause = 1
persistent = 0

[State -1]
Type = Explod
trigger1 = Time <= 15
anim = 13111
ID = 13111
pos = 0, 10
posType = P1
ownpal = 1
scale = 1, 1
sprpriority = -2
trans = Sub
ignorehitpause = 1
persistent = 14

[State -1]
Type = Explod
trigger1 = Time <= 15
anim = 13111
ID = 13111
pos = 0, 10
posType = P1
ownpal = 1
scale = 1, 1
sprpriority = -2
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
Type = Explod
trigger1 = Time <= 15
anim = 13111
ID = 13111
pos = 0, 10
posType = P1
ownpal = 1
scale = 1, 1
sprpriority = -2
trans = Sub
ignorehitpause = 1
persistent = 14

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 13210
ID = 13210
pos = 0, 0
posType = P1
ownpal = 1
scale = 2, 2
sprpriority = 5
trans = add
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　陰陽螺鈿 [ 周風 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1760]
type        = A
physics     = N
movetype    = I
anim        = 6470
ctrl        = 0
sprpriority = -2

[State -1]
Type = VarAdd
trigger1 = var(59) < 256
trigger1 = Time > 0
v = 59
value = 4
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256-var(59),256

[State -1]
Type = AngleDraw
trigger1 = !IsHelper(1760)
scale = 1, 0.5
value = 180

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　陰陽螺鈿 [ 攻撃エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 1765]
type        = A
physics     = N
movetype    = I
anim        = 6280
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = A
pos = 32, -48

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.2, 1.2

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H||Root,StateType!=A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　陰陽螺鈿 [ Not Wall ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[StateDef 1770]
type        = A
physics     = C
movetype    = I
anim        = 9599
ctrl        = 0
sprpriority = 8

[State -1]
type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
type = PlayerPush
trigger1 = 1
value = 1

[State -1]
type = VelSet
trigger1 = AnimElemTime(1) > 0
x = 20

[State -1]
type = PosSet
trigger1 = AnimElemTime(1) >= 0
y = -50

[State -1]
type = DestroySelf
trigger1 = Time > 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　直死の魔眼・五景崩落 [ 残像 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2060]
type        = A
physics     = N
movetype    = I
ctrl        = 0
sprpriority = -8

[State -1]
Type = AssertSpecial
trigger1 = Time < 2
flag = noshadow
flag2 = invisible
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 1
value = Parent,Anim
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 2
value = Parent,AnimElemNo(0)
ignorehitpause = 1

[State -1]
Type = ChangeAnim
trigger1 = 1
value = var(1)
elem  = var(2)
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Time > 1
v = 59
value = 32
ignorehitpause = 1

[State -1]
Type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 255-var(59),32+var(59)

[State -1]
Type = DestroySelf
trigger1 = Time >= 72
trigger2 = Root,StateNo != [2000,2002]
trigger3 = Root,StateNo != 2010

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　直死の魔眼・五景崩落 [ 斬撃エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2070]
type        = A
physics     = N
movetype    = I
anim        = 6300+(IsHelper(2071))*10+(IsHelper(2072))*20
ctrl        = 0
sprpriority = 4

[State -1]
Type = BindToParent
trigger1 = IsHelper(2070)
trigger1 = Root,StateNo = [2001,2002]
pos = -30, -30

[State -1]
Type = BindToParent
trigger1 = IsHelper(2071)
trigger1 = Root,StateNo = [2001,2002]
pos = -40, -50

[State -1]
Type = BindToParent
trigger1 = IsHelper(2072)
trigger1 = Root,StateNo = [2001,2002]
pos = -40, -56

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　直死の魔眼・五景崩落 [ 浮き彫り ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2080]
type        = A
physics     = N
movetype    = I
anim        = 6540
ctrl        = 0
sprpriority = 2

[State -1]
type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=2502||Root,StateNo=2521
v = 55
value = 1
ignorehitpause = 1

[State -1]
type = VarAdd
trigger1 = var(55)%10=0
v = 1
value = 4
ignorehitpause = 1

[State -1]
type = PalFx
trigger1 = var(55)%10=0
time = 1
add = var(1),0,var(1)
persistent = 1

[State -1]
Type = Trans
trigger1 = var(55)%10=0
trans = Sub

[State -1]
Type = Trans
trigger1 = var(55)%10!=0
trans = add

[State -1]
Type = PosSet
trigger1 = var(55)%10=1
pos = EnemyNear,Pos X, EnemyNear,Pos Y

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = DestroySelf
trigger1 = (Root,StateNo!=[2001,2002])&&Root,StateNo!=2502&&Root,StateNo!=2521
trigger2 = Root,StateNo=2001&&Root,AnimElemTime(24)>=0||Root,StateNo=2002&&Root,AnimElemTime(20)>=0||Root,StateNo=2502&&Root,AnimElemTime(2)>0||Root,StateNo=2521&&Root,AnimElemTime(2)>0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　直死の魔眼・五景崩落 [ 白背景 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2081]
type        = A
physics     = N
movetype    = I
anim        = 6550
ctrl        = 0
sprpriority = 8

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.2, 1.2

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　直死の魔眼・五景崩落 [ 十字 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2090]
type        = A
physics     = N
movetype    = I
anim        = 11051
ctrl        = 0
sprpriority = 5

[State -1]
Type = ChangeAnim
trigger1 = var(55) = 1
value = 11052
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = ChangeAnim
trigger1 = var(55) = 10 || var(55) = 100
value = 11052

[State -1]
Type = VarAdd
trigger1 = var(59) < 256
v = 59
value = ifelse(var(55)=0,16,ifelse(var(55)<100,12,8))
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256-var(59),256

[State -1]
Type = AngleDraw
trigger1 = var(55) = 1
scale = 0.6, 0.6
value = 25

[State -1]
Type = AngleDraw
trigger1 = var(55) = 100
scale = 1.25, 1.25
value = random%180

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = var(55)=10&&Time>16
trigger3 = var(55)=100&&Time>24

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　桜花先鋭 [ 暗玉星群 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2160]
type        = A
physics     = N
movetype    = I
anim        = 6530
ctrl        = 0
sprpriority = 2

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo = 3103
trigger1 = var(53) := 1
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo = 2101
trigger1 = var(54) := 1
trigger2 = Root,StateNo = 3103
trigger2 = var(54) := 2
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = var(53)%10=0
trigger1 = AnimElemTime(7) >= 0
fv = 1
value = 0.01
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = var(53)%10=1
trigger1 = Time > 0
fv = 1
value = 0.005
ignorehitpause = 1

[State -1]
Type = AngleDraw
trigger1 = var(54)%10=0
scale = 1+fvar(1),1+fvar(1)

[State -1]
Type = AngleDraw
trigger1 = var(54)%10=1
scale = 0.5+fvar(1),0.5+fvar(1)

[State -1]
Type = AngleDraw
trigger1 = var(54)%10=2
scale = 0.275+fvar(1), 0.275+fvar(1)

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Root,StateNo=[2102,2103]
trigger3 = Root,StateNo=3103&&Root,AnimElemTime(47)>=0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　魔力解放 [ 煌煌 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2170]
type        = A
physics     = N
movetype    = I
anim        = 12350
ctrl        = 0
sprpriority = 2

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = VarAdd
trigger1 = 1
fv = 1
value = 0.025
ignorehitpause = 1

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 0.5+fvar(1), 0.5+fvar(1)
value = 0

[State -1]
type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　虚空閃 [ 傾斜一閃 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2360]
type        = A
physics     = N
movetype    = I
anim        = 6700
ctrl        = 0
sprpriority = 4

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.5, 1.5

[State -1]
type = PosSet
trigger1 = Time = 0
y = Root,Pos Y -100

[State -1]
type = PosAdd
trigger1 = 1
x = Pos X*(-facing)

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　泰山夫君
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2560]
type        = A
physics     = N
movetype    = A
anim        = 4800
ctrl        = 0
sprpriority = -99

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 59
value = 100+(var(9)%10*40)
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = MoveHit
v = 59
value = -1
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
type = AttackDist
trigger1 = MoveHit
value = 0
ignorehitpause = 1

[State -1]
type = StateTypeSet
trigger1 = MoveHit
statetype = A
physics = N
movetype = I
ignorehitpause = 1

[State -1]
type = ReversalDef
trigger1 = MoveHit
hitsound = -1
pausetime = 0, 0
reversal.attr = SCA,AA,AP,AT
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitDef
trigger1 = Time = 0
attr                = A, HT
animtype            = Hard
hitflag             = MAFDP
damage              = 0, 0
getpower            = 0, 0
givepower           = 0, 0
priority            = 7, Dodge
pausetime           = 0, 0
hitsound            = -1
guardsound          = -1
sparkno             = -1
guard.sparkno       = -1
ground.type         = High
p2stateno           = 2531
ID                  = 2560

[State -1]
Type = TargetLifeAdd
trigger1 = MoveHit
trigger1 = var(59)%2=0
value = -1
kill = 0
ignorehitpause = 1

[State -1]
Type = BindToRoot
trigger1 = MoveHit
pos = 99999, 99999
time = -1
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = RoundState != 2
trigger2 = Time > 1
trigger2 = !MoveContact || var(59) <= 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2960]
type        = A
physics     = N
movetype    = I
anim        = 6730
ctrl        = 0
sprpriority = 4

[State -1]
type = SprPriority
trigger1 = Root,StateNo=2911
value = 101

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = IsHelper(2960)
Trans = Add

[State -1]
Type = Trans
trigger1 = !IsHelper(2960)
Trans = Sub

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2970]
type        = A
physics     = N
movetype    = I
anim        = 6740
ctrl        = 0
sprpriority = 4

[State -1]
type = SprPriority
trigger1 = Root,StateNo=2911
value = 101

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = IsHelper(2970)
Trans = Add

[State -1]
Type = Trans
trigger1 = !IsHelper(2970)
Trans = Sub

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2980]
type        = A
physics     = N
movetype    = I
anim        = 6720
ctrl        = 0
sprpriority = 4

[State -1]
type = SprPriority
trigger1 = Root,StateNo=2911
value = 101

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = IsHelper(2980)
Trans = Add

[State -1]
Type = Trans
trigger1 = !IsHelper(2980)
Trans = Sub

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2990]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = noshadow
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = VarAdd
trigger1 = var(59)<256
trigger1 = Time>0
v = 59
value = 8
ignorehitpause = 1

[State -1]
type = BGPalFX
trigger1 = 1
time = 1
add = 256-var(59),256-var(59),256-var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
trigger1 = Time>100||Time>0&&var(59)>=256

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　直死の魔眼・死の点 [ 黒球エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3160]
type        = A
physics     = N
movetype    = I
anim        = 6920
ctrl        = 0
sprpriority = 7

[State -1]
type = PosSet
trigger1 = Root,StateNo=2502&&Root,AnimElemTime(2)<0||Root,StateNo=3103&&Root,AnimElemTime(36)<0
x = ifelse(EnemyNear(0),Alive,EnemyNear(0),Pos X+(10*-EnemyNear(0),facing),EnemyNear(1),Pos X+(10*-EnemyNear(1),facing))
y = ifelse(EnemyNear(0),Alive,EnemyNear(0),const(size.mid.pos.y),EnemyNear(1),const(size.mid.pos.y))

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = var(55)%10=0
trans = AddAlpha
alpha = 256, 256

[State -1]
Type = Trans
trigger1 = var(55)%10=1
trans = Sub

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 0.5, 0.5

[State -1]
Type = Explod
triggerAll = Win||Root,StateNo=3103
trigger1 = Root,StateNo=2502&&Root,AnimElemTime(2)=2
trigger2 = Root,StateNo=3103&&Root,AnimElemTime(36)=0
anim = 6930
ID = 6930
bindtime = -1
pos = 0, 0
postype = P1
ownpal = 1
scale = 0.5, 0.5
sprpriority = 999
trans = add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
triggerAll = Win||Root,StateNo=3103
trigger1 = Root,StateNo=2502&&Root,AnimElemTime(2)=2
trigger2 = Root,StateNo=3103&&Root,AnimElemTime(36)=0
anim = 6930
ID = 6930
bindtime = -1
pos = 0, 0
postype = P1
ownpal = 1
scale = 0.5, 0.5
sprpriority = 999
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
triggerAll = Win||Root,StateNo=3103
trigger1 = Root,StateNo=2502&&Root,AnimElemTime(2)=2
trigger2 = Root,StateNo=3103&&Root,AnimElemTime(36)=0
anim = 6940
ID = 6940
bindtime = -1
pos = 0, 0
postype = P1
ownpal = 1
scale = 0.5, 0.5
sprpriority = 998
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
trigger1 = Root,StateNo!=2502&&Root,StateNo!=3103
trigger2 = Root,StateNo=2502&&Root,AnimElemTime(2)>2
trigger3 = Root,StateNo=3103&&Root,AnimElemTime(36)>=0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　立弱攻撃エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3360]
type        = A
physics     = N
movetype    = I
anim        = 6000
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
pos = 16, -60

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.2, 1.2
value = 20

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
trigger1 = Root,StateNo = 200
trigger1 = Root,Anim = 200
trigger1 = Root,AnimElemTime(2) >= 0 && Root,AnimElemTime(3) <= 0
value = anim
elem = 1
ignorehitpause = 1

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
trigger1 = Root,StateNo = 200
trigger1 = Root,Anim = 200
trigger1 = Root,AnimElemTime(3) >= 1
value = anim
elem = 2
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　立弱攻撃エフェクト [ 二撃目 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3361]
type        = A
physics     = N
movetype    = I
anim        = 6010
ctrl        = 0
sprpriority = 2

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo = 415 || Root,StateNo = 1022
trigger1 = var(55) := 1
trigger2 = Root,StateNo = 250
trigger2 = var(55) := 2
trigger3 = Root,StateNo = 620
trigger3 = var(55) := 10
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 200 || Root,StateNo = 210
trigger1 = Root,StateType = S || Root,StateType = C
pos = 17, -78

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 415 || Root,StateNo = 1022
trigger1 = Root,StateType = S || Root,StateType = C
pos = 37, -88

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 250
trigger1 = Root,StateType = S || Root,StateType = C
pos = 24, -74

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 620
trigger1 = Root,StateType = A
pos = 36, -104

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = var(55) = 0
scale = 1.4, 1.1
value = -10

[State -1]
Type = AngleDraw
trigger1 = var(55) = 1
scale = 1.25, 1.25
value = -10

[State -1]
Type = AngleDraw
trigger1 = var(55) = 2
scale = 1, 1
value = 15

[State -1]
Type = AngleDraw
trigger1 = var(55) = 10
scale = 1.4, 1.1

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = Root,StateNo = 200
trigger1 = Root,AnimElemTime(3) >= 0 && Root,AnimElemTime(4) <= 0
value = anim
elem = 2
ignorehitpause = 1

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = Root,StateNo = 200
trigger1 = Root,AnimElemTime(4) >= 1
value = anim
elem = 3
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(1) >= 2 && AnimElemTime(2) < 0
trigger1 = Root,StateNo = 415 || Root,StateNo = 1022
trigger1 = Root,AnimElemTime(3) >= 0 && Root,AnimElemTime(4) <= 0
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) >= 2 && AnimElemTime(3) < 0
trigger1 = Root,StateNo = 415 || Root,StateNo = 1022
trigger1 = Root,AnimElemTime(3) >= 0 && Root,AnimElemTime(4) <= 0
value = anim
elem = 2
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(3) >= 2
trigger1 = Root,StateNo = 415 || Root,StateNo = 1022
trigger1 = Root,AnimElemTime(3) >= 0 && Root,AnimElemTime(4) <= 0
value = anim
elem = 3
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
trigger1 = Root,StateNo = 250
trigger1 = Root,AnimElemTime(3) >= 0 && Root,AnimElemTime(4) < 0
value = anim
elem = 1
ignorehitpause = 1

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = Root,StateNo = 250
trigger1 = Root,AnimElemTime(4) >= 0 && Root,AnimElemTime(5) < 0
value = anim
elem = 2
ignorehitpause = 1

[State -1]
type = ChangeAnim
triggerAll = var(55) = 10
triggerAll = Root,StateNo = 620
trigger1 = Root,var(59)>1
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = var(55) = 10
triggerAll = AnimElemTime(2) >= 2 && AnimElemTime(3) < 0
trigger1 = Root,StateNo = 620
trigger1 = Root,AnimElemTime(3) >= 0 && Root,AnimElemTime(4) < 0
trigger1 = Root,var(59)>1
value = anim
elem = 2
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H
trigger2 = var(55) = 10 && Root,StateType != A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　立弱攻撃エフェクト [ 三撃目 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3362]
type        = A
physics     = N
movetype    = I
anim        = 6020
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
pos = 17, -78

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1, 1
value = -40

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
trigger1 = Root,StateNo = 200
trigger1 = Root,AnimElemTime(4) >= 0 && Root,AnimElemTime(5) < 0
value = anim
elem = 1
ignorehitpause = 1

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
trigger1 = Root,StateNo = 200
trigger1 = Root,AnimElemTime(5) >= 0
value = anim
elem = 2
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　立中攻撃エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3363]
type        = A
physics     = N
movetype    = I
anim        = 6030
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 210 || (Root,StateNo = [225,230])
trigger1 = Root,StateType = S || Root,StateType = C
pos = 26, -54

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 215 || Root,StateNo = 260
trigger1 = Root,StateType = S || Root,StateType = C
pos = 8, -58

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 420
trigger1 = Root,StateType = S || Root,StateType = C
pos = 18, -38

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo = 215 || Root,StateNo = 260
trigger1 = var(55) := 1
trigger2 = Root,StateNo = 420
trigger2 = var(55) := 2
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = AngleDraw
trigger1 = var(55) = 0
scale = 1, 1
value = 35

[State -1]
Type = AngleDraw
trigger1 = var(55) = 1
scale = 1, 1

[State -1]
Type = AngleDraw
trigger1 = var(55) = 2
scale = 1, 1
value = 20

[State -1]
type = ChangeAnim
triggerAll = Root,var(59)>1
trigger1 = Root,StateNo = 210 && Root,AnimElemTime(4) <= 3
trigger2 = Root,StateNo = 215 && Root,AnimElemTime(6) <= 3
trigger3 = Root,StateNo = 420 && Root,AnimElemTime(2) <= 3
trigger4 = (Root,StateNo = 1800 || Root,StateNo = 1810) && Root,AnimElemTime(6) < 0
trigger5 = Root,StateNo = 1820 && Root,AnimElemTime(5) < 0
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = Root,var(59) > 1
triggerAll = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = (Root,StateNo=225||Root,StateNo=230) && Root,AnimElemTime(5) < 0
value = anim
elem = 2
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ChangeAnim
triggerAll = Root,var(59) > 1
triggerAll = AnimElemTime(3) >= 0
trigger1 = (Root,StateNo=225||Root,StateNo=230) && (Root,AnimElemTime(5) >= 0 && Root,AnimElemTime(6) < 0)
value = anim
elem = 3
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H
trigger2 = (Root,StateNo = 210 || Root,StateNo = 1820) && Root,AnimElemTime(7) >= 0
trigger3 = (Root,StateNo = 1800 || Root,StateNo = 1810) && Root,AnimElemTime(8) >= 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　立強攻撃エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3364]
type        = A
physics     = N
movetype    = I
anim        = 6040
ctrl        = 0
sprpriority = 2

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo = 270
trigger1 = var(55) := 1
trigger2 = Root,StateNo = 600
trigger2 = var(55) := 10
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo = 600
trigger1 = var(55) := 10
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 220
trigger1 = Root,StateType = S || Root,StateType = C
pos = 44, -54

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 270
trigger1 = Root,StateType = S || Root,StateType = C
pos = 14, -48

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 600
trigger1 = Root,StateType = A
pos = 36, -68

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = var(55) = 0
scale = 1, 1

[State -1]
Type = AngleDraw
trigger1 = var(55) = 1
scale = -0.8, -1.1

[State -1]
Type = AngleDraw
trigger1 = var(55) = 10
scale = 1, -1

[State -1]
type = ChangeAnim
triggerAll = Root,MoveContact
trigger1 = Root,StateNo = 220 && Root,AnimElemTime(6) <= 3
trigger2 = Root,StateNo = 270 && Root,AnimElemTime(7) < 0
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H
trigger2 = var(55) = 10 && Root,StateType != A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　攻撃エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3369]
type        = A
physics     = N
movetype    = I
anim        = 6050
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
pos = 20, -60

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.2, 1.2

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H||Root,StateType=A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　屈中攻撃エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3371]
type        = A
physics     = N
movetype    = I
anim        = 6070
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
pos = 4, -22

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
type = ChangeAnim
trigger1 = Root,StateNo = 410 && Root,AnimElemTime(5) <= 3
trigger1 = Root,var(59)>1
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H||Root,StateType=A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　屈強攻撃エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3372]
type        = A
physics     = N
movetype    = I
anim        = 6080
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = S || Root,StateType = C
pos = 58, -42

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.125, 1.125
value = -5

[State -1]
type = ChangeAnim
trigger1 = Root,StateNo = 420 && Root,AnimElemTime(4) <= 3
trigger1 = Root,var(59)>1
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H||Root,StateType=A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　空中下攻撃エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3381]
type        = A
physics     = N
movetype    = I
anim        = 6110
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = A
pos = 30, -82

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1, 1

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) < 0
triggerAll = Root,StateNo = 620
trigger1 = Root,var(59)>1
value = anim
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
triggerAll = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
triggerAll = Root,StateNo = 620
trigger1 = Root,var(59)>1
value = anim
elem = 2
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H||Root,StateType!=A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　特殊空強攻撃エフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3383]
type        = A
physics     = N
movetype    = I
anim        = 6130
ctrl        = 0
sprpriority = 2

[State -1]
Type = BindToParent
trigger1 = Root,StateType = A
pos = 24, -62

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.2, 1.2

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H||Root,StateType!=A

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　空中ハイジャンプエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3389]
type        = A
physics     = N
movetype    = I
anim        = 10020
velset      = 0, 0
ctrl        = 0
sprpriority = -2

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.15, 1.15
value = -45

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = PalFx
trigger1 = 1
time = 1
add = 0,0,0
mul = 256,256,92
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　地上投 [ 墜落煙エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3390]
type        = A
physics     = N
movetype    = I
anim        = 10050
ctrl        = 0
sprpriority = 4

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1.2, 1.2

[State -1]
type = PosSet
trigger1 = 1
y = 0

[State -1]
Type = Trans
trigger1 = IsHelper(3390)
Trans = Add

[State -1]
Type = Trans
trigger1 = !IsHelper(3390)
Trans = Sub

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　地上投 [ 攻撃エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3392]
type        = A
physics     = N
movetype    = I
anim        = 6150
ctrl        = 0
sprpriority = 4

[State -1]
Type = BindToParent
trigger1 = (Root,StateNo=[851,852])||Root,StateNo=801||(Root,StateNo=[1221,1222])
pos = 36, -58

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 822
pos = 0, -68

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
Trans = Add

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　地上投 [ 魔現象エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3393]
type        = A
physics     = N
movetype    = I
anim        = 6160
ctrl        = 0
sprpriority = 4

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo=1201||Root,StateNo=1821||Root,StateNo=1921
trigger1 = var(55) := 1
trigger2 = Root,StateNo=1701
trigger2 = var(55) := 2
trigger3 = Root,StateNo=1221
trigger3 = var(55) := 3
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = 1
Trans = Add

[State -1]
Type = AngleDraw
trigger1 = var(55)%10=1
scale = 2, 1
value = 90

[State -1]
Type = AngleDraw
trigger1 = var(55)%10=2
scale = 0.9, 0.9
value = -135

[State -1]
Type = AngleDraw
trigger1 = var(55)%10=3
scale = 2.5, 1.25
value = 90

[State -1]
type = ChangeAnim
trigger1 = var(55)%10=2
value = anim
elem = 3
ignorehitpause = 1
persistent = 0

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　地上投 [ 着地サークルエフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3394]
type        = A
physics     = N
movetype    = I
anim        = 6170
ctrl        = 0
sprpriority = 4

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 0.5, 0.5

[State -1]
Type = Trans
trigger1 = 1
Trans = Add

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3500]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
Type = VarAdd
trigger1 = var(59) < 256
v = 59
value = 16
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = timerfreeze
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = nofg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
trigger1 = var(59) >= 192
flag = nobg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = BGPalFX
trigger1 = 1
time = 1
add = 0-var(59),0-var(59),0-var(59)
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = Time > 4
trigger1 = Time < 24 && var(49) < 256
trigger2 = Time > 40 && var(49) > 0
v = 49
value = ifelse(Time<24,16,-16)
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = Root,StateNo = 2101
anim = 12800
ID = 12800
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 5, 5
removetime = ifelse(Root,StateNo=2101,36,36)
removeongethit = 1
sprpriority = 998
trans = Sub
ignorehitpause = 1
persistent = 0

[State -1]
Type = Explod
trigger1 = Time = 0
trigger1 = Root,StateNo!=2900
anim = 12000
ID = 12000
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.8, 0.8
sprpriority = -998
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
trigger1 = Root,StateNo!=[2000,3000]
anim = 12000
ID = 12001
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.8, 0.8
sprpriority = -998
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
trigger1 = (Root,StateNo!=[2000,2110])&&Root,StateNo!=2900
trigger2 = Root,StateNo=2900&&Time=52
anim = 12010
ID = 12010
bindtime = -1
pos = 0, 0
postype = back
scale = 1, 0.6
ownpal = 1
removetime = 999
sprpriority = -8
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
trigger1 = (Root,StateNo!=[2000,2110])&&Root,StateNo!=2900
trigger2 = Root,StateNo=2900&&Time=52
anim = 12010
ID = 12011
bindtime = -1
pos = 0, 0
postype = back
scale = 1, 0.5
ownpal = 1
removetime = 999
sprpriority = -998
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
trigger1 = Root,StateNo=2900&&Time=52
trigger2 = Root,StateNo=2101&&Root,Time = 1
anim = 12010
ID = 12012
bindtime = -1
pos = 0, 0
postype = back
scale = 1, 0.5
ownpal = 1
removetime = 999
sprpriority = -998
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
trigger1 = Root,StateNo=2000||Root,StateNo=2010||Root,StateNo=2100||Root,StateNo=2110||Root,StateNo=2050
anim = 12020
ID = 12020
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
sprpriority = -998
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
trigger1 = Root,StateNo=2000||Root,StateNo=2010||Root,StateNo=2100||Root,StateNo=2110||Root,StateNo=2300||Root,StateNo=2500||Root,StateNo=2900||Root,StateNo=3000
anim = 12050+((Root,StateNo=[2000,2110])||Root,StateNo=2900||(Root,StateNo=[3000,3100]))*10
ID = 12050+((Root,StateNo=[2000,2110])||Root,StateNo=2900||(Root,StateNo=[3000,3100]))*10
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.55, 0.55
sprpriority = -2
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
trigger1 = Root,StateNo=2000||Root,StateNo=2010||Root,StateNo=2100||Root,StateNo=2110||Root,StateNo=2900||Root,StateNo=3000
anim = 29400
ID = 29400
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -999
trans = addalpha
alpha = 256,0
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12000
pos = 110, 20
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -999
trans = addalpha
alpha = 0+var(49),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12001
pos = 110, 20
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -999
trans = addalpha
alpha = 0+var(49),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12010
pos = 0, 0
postype = back
scale = 1, 0.6
ownpal = 1
removetime = 400
sprpriority = -998
trans = addalpha
alpha = 192-var(50),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12011
pos = 0, 0
postype = back
scale = 1, 0.5
ownpal = 1
removetime = 400
sprpriority = -998
trans = addalpha
alpha = 192-var(50),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12012
pos = 0, 0
postype = back
scale = 1, 0.5
ownpal = 1
removetime = 400
sprpriority = -998
trans = addalpha
alpha = 192-var(50),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12020
pos = 0, 0
postype = back
scale = 0.5, 0.5
ownpal = 1
sprpriority = -998
trans = addalpha
alpha = 0+var(49)*0.5,256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
triggerAll = Root,StateNo!=2100&&Root,StateNo!=2110
trigger1 = Time>=10&&(var(59)<=0||Parent,MoveType=H)||Time>100
trigger2 = Root,StateNo=2101
ID = 12000
ignorehitpause = 1

[State -1]
Type = RemoveExplod
triggerAll = Root,StateNo!=2100&&Root,StateNo!=2110
trigger1 = Time>=10&&(var(59)<=0||Parent,MoveType=H)||Time>100
trigger2 = Root,StateNo=2101
ID = 12001
ignorehitpause = 1

[State -1]
Type = RemoveExplod
triggerAll = Root,StateNo!=2100&&Root,StateNo!=2110
trigger1 = Time>=10&&(var(59)<=0||Parent,MoveType=H)||Time>100
trigger2 = Root,StateNo=2101
ID = 12010
ignorehitpause = 1

[State -1]
Type = RemoveExplod
triggerAll = Root,StateNo!=2100&&Root,StateNo!=2110
trigger1 = Time>=10&&(var(59)<=0||Parent,MoveType=H)||Time>100
trigger2 = Root,StateNo=2101
ID = 12011
ignorehitpause = 1

[State -1]
Type = RemoveExplod
triggerAll = Root,StateNo!=2100&&Root,StateNo!=2110
trigger1 = Time>=10&&(var(59)<=0||Parent,MoveType=H)||Time>100
trigger2 = Root,StateNo=2101
ID = 12012
ignorehitpause = 1

[State -1]
Type = RemoveExplod
triggerAll = Root,StateNo!=2100&&Root,StateNo!=2110
trigger1 = Time>=10&&(var(59)<=0||Parent,MoveType=H)||Time>100
trigger2 = Root,StateNo=2101
ID = 12020
ignorehitpause = 1

[State -1]
Type = ChangeState
trigger1 = Root,StateNo!=1421&&(Root,StateNo!=[2000,2002])&&Root,StateNo!=2010&&(Root,StateNo!=[2100,2110])&&Root,StateNo!=2900
trigger2 = Root,StateNo=1421&&Root,AnimElemTime(5)>0||Root,StateNo=2001&&Root,AnimElemTime(28)>0||Root,StateNo=2002&&Root,AnimElemTime(24)>0||Root,StateNo=2101&&Root,AnimElemTime(6)>20||Root,StateNo=2900&&Root,AnimElemTime(3)>=0
trigger3 = (Root,StateNo=2000||Root,StateNo=2010)&&Root,AnimElemTime(19)>0
trigger4 = (Root,StateNo=2100||Root,StateNo=2110)&&Root,AnimElemTime(21)>0
value = 3501

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3501]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
type = VarSet
trigger1 = Time = 0
v = 50
value = 0
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = Time = 0
v = 59
value = 0
ignorehitpause = 1

[State -1]
type = VarAdd
trigger1 = var(59) < 256
trigger1 = Time > 0
v = 59
value = 8
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = var(50) < 192
trigger1 = Time > 0
v = 50
value = 16
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = timerfreeze
ignorehitpause = 1

[State -1]
type = BGPalFX
trigger1 = 1
time = 1
add = -256+var(59),-256+var(59),-256+var(59)
ignorehitpause = 1

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12010
pos = 0, 0
postype = back
scale = 1, 0.6
ownpal = 1
removetime = 400
sprpriority = -998
trans = addalpha
alpha = 192-var(50),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12011
pos = 0, 0
postype = back
scale = 1, 0.5
ownpal = 1
removetime = 400
sprpriority = -998
trans = addalpha
alpha = 192-var(50),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 12000
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 12001
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = var(59)>=256||Time>100||Root,MoveType=H
ID = 12010
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = var(59)>=256||Time>100||Root,MoveType=H
ID = 12011
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 12012
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 12020
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = Time>100||Root,MoveType=H||var(59)>=256

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面 [ 蜉蝣の舞 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3510]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
Type = VarSet
trigger1 = Root,StateNo=[1821,1824]
trigger1 = Root,Time = [1,2]
fv = 1
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Root,var(59) > 1
trigger1 = Root,StateNo=[1821,1824]
trigger1 = fvar(1) > 0
fv = 1
value = 2
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = var(59) < 256
triggerAll = Root,Anim != 1850
trigger1 = Root,StateNo!=1824&&Time>32&&NumExplod(29500)=0
trigger2 = Root,StateNo=1824&&Root,AnimElemTime(6)>0
v = 59
value = 8
ignorehitpause = 1

[State -1]
type = BGPalFX
trigger1 = NumExplod(12800)=0
time = 1
add = -256+var(59),-256+var(59),-256+var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Pause
triggerAll = NumExplod(29500)=0
trigger1 = Root,StateNo=1824&&Root,AnimElemTime(3)>0
anim = -1
time = ifelse(RoundState = 2,2,3)
movetime = ifelse(RoundState = 2,2,3)
sound = -1
darken = 0
p2defmul = 1
persistent = 10

[State -1]
Type = Pause
trigger1 = NumExplod(29500)>0
trigger1 = RoundState = 2
trigger1 = Root,StateNo=1822&&Root,AnimElemTime(3)>=0
anim = -1
time = 12
movetime = 12
sound = -1
darken = 0
p2defmul = 1
persistent = 0

[State -1]
Type = Explod
trigger1 = fvar(1) > 1
anim = 29500
ID = 29500
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
sprpriority = 999
trans = add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = fvar(1) > 1
anim = 29500
ID = 29500
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
sprpriority = 999
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = fvar(1) > 1
anim = 29500
ID = 29500
bindtime = -1
pos = 320, 0
postype = back
ownpal = 1
facing = -1
sprpriority = 999
trans = add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = fvar(1) > 1
anim = 29500
ID = 29500
bindtime = -1
pos = 320, 0
postype = back
ownpal = 1
facing = -1
sprpriority = 999
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = RoundState != 2
value = s1, 150
persistent = 0

[State -1]
type = PlaySnd
trigger1 = RoundState != 2
value = s1, 160
persistent = 0

[State -1]
type = PlaySnd
trigger1 = RoundState != 2
value = s1, 161
persistent = 0

[State -1]
type = Explod
trigger1 = RoundState != 2
anim = 13610
ID = 13610
pos = 160, 120
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = 8
trans = add
ignorehitpause = 1
persistent = 0

[State -1]
type = Explod
trigger1 = RoundState != 2
anim = 13610
ID = 13610
pos = 160, 120
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = 8
trans = Sub
ignorehitpause = 1
persistent = 0

[State -1]
Type = Explod
trigger1 = RoundState != 2
anim = 12800
ID = 12800
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 10, 10
removetime = 64
sprpriority = 998
trans = Sub
ignorehitpause = 1
persistent = 0

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12800
bindtime = -1
pos = 0, -0
postype = back
ownpal = 1
scale = 10, 10
removetime = 64
sprpriority = -3
trans = addalpha
alpha = -256,0+var(59)
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = Root,MoveType=H||var(59)>=256||Time>400

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面 [ 泰山夫君 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3550]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=2521
v = 50
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=2521
v = 51
value = 1
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = var(59) < 256
v = 59
value = 256
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = timerfreeze
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = nofg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = BGPalFX
trigger1 = var(50)%10=0
time = 1
add = 0-var(59),0-var(59),0-var(59)
ignorehitpause = 1

[State -1]
type = BGPalFX
trigger1 = var(50)%10=1
time = 1
add = 256,256,256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Root,StateNo = 2501
anim = 12800
ID = 12800
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 10, 10
removetime = ifelse(Root,StateNo=2101,36,36)
sprpriority = 998
trans = Sub
ignorehitpause = 1
persistent = 0

[State -1]
Type = ChangeState
trigger1 = (Root,StateNo!=[2500,2502])&&Root,StateNo!=2521
trigger2 = Root,StateNo=2502
trigger3 = Root,StateNo=2501&&Root,AnimElemTime(2)>0||Root,StateNo=2521&&Root,AnimElemTime(2)>0
value = 3551

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面 [ 泰山夫君 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3551]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
type = VarSet
triggerAll = Time = [0,1]
trigger1 = Root,StateNo=2502||Root,StateNo=2521
trigger1 = var(55) := 1
trigger2 = Root,StateNo=2501
trigger2 = var(55) := 2
v = 1
value = 0
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = Time = [0,1]
v = 59
value = 0
ignorehitpause = 1

[State -1]
type = VarAdd
triggerAll = var(59) < 256
trigger1 = Time > 0
trigger1 = var(55) = 0
trigger2 = Root,StateNo=2502&&Root,AnimElemTime(2)>24||Root,StateNo=2521
v = 59
value = 8
ignorehitpause = 1

[State -1]
type = VarAdd
triggerAll = var(55) = 2
triggerAll = var(59) < 256
trigger1 = Time > 0
v = 59
value = 256
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = timerfreeze
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = BGPalFX
trigger1 = var(55) = 0
time = 1
add = -256+var(59),-256+var(59),-256+var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = BGPalFX
trigger1 = var(55) = 1
time = 1
add = 256-var(59),256-var(59),256-var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 12800
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
trigger1 = var(59) >= 256
trigger2 = Root,MoveType = H
trigger3 = Root,Ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面 [ 死の点 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3590]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=3101
v = 50
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 55
value = random%64
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = var(59) < 256
trigger1 = var(50)%10=1
v = 59
value = 4
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = timerfreeze
flag3 = nofg
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = nobardisplay
ignorehitpause = 1

[State -1]
type = BGPalFX
trigger1 = var(50)%10=1
time = 1
add = 0-var(59),0-var(59),0-var(59)
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = var(50)%10=0
anim = 6600
ID = 6600
bindtime = -1
pos = 0, -50
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -10
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(50)%10=1
anim = 6600
ID = 6600
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.5, 0.5
removetime = 999
sprpriority = -10
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(50)%10=1
trigger1 = Root,StateNo=3101&&Root,AnimElemTime(4)=0
anim = 6900
ID = 6900
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
removetime = 999
sprpriority = -9
trans = add
alpha = 64,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(50)%10=1
trigger1 = Root,StateNo=3101&&Root,AnimElemTime(4)=0
anim = 6960
ID = 6960
bindtime = -1
pos = -60, 0
postype = back
ownpal = 1
removetime = 999
sprpriority = -2
scale = 1.3, 1.1
trans = addalpha
alpha = 256,192
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(50)%10=1
trigger1 = Root,StateNo=3101&&Root,AnimElemTime(4)=0
anim = 6960
ID = 6961
bindtime = -1
pos = -60, 0
postype = back
ownpal = 1
removetime = 999
sprpriority = -2
scale = 1.3, 1.1
trans = addalpha
alpha = 256,64
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(50)%10=1
trigger1 = Root,StateNo=3103
anim = 6960
ID = 6962
bindtime = -1
pos = 0, 240
postype = back
ownpal = 1
removetime = 999
sprpriority = -2
scale = 1.1, 1.1
facing = -1
vfacing = -1
trans = addalpha
alpha = 256,192
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(50)%10=1
trigger1 = Root,StateNo=3103
anim = 6961
ID = 6963
bindtime = -1
pos = 0, 240
postype = back
ownpal = 1
removetime = 999
sprpriority = -9
scale = 1.1, 1.1
facing = -1
vfacing = -1
trans = addalpha
alpha = 256,128
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=3103
ID = 6960
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=3103
ID = 6961
ignorehitpause = 1

[State -1]
type = Explod
trigger1 = Time < 85
anim = 6620
ID = 6620
pos = -20+(random%90),-1+(random%40)
postype = front
ownpal = 1
vel = ifelse(facing=1,-13,13),7.2
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 10

[State -1]
type = Explod
trigger1 = Time = [105,120]
anim = 6620
ID = 6620
pos = 0+(random%30),-55
postype = front
ownpal = 1
vel = ifelse(facing=1,-3,3),4.8
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 13

[State -1]
type = Explod
trigger1 = Time = [125,145]
anim = 6620
ID = 6620
pos = -90+(random%30),-55
postype = front
ownpal = 1
vel = ifelse(facing=1,-2,2),3
accel = ifelse(facing=1,.01,-.01),0
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 13

[State -1]
type = Explod
trigger1 = Time < 85
anim = 6621
ID = 6620
postype = front
ownpal = 1
pos = -10+(random%99),-33+(random%40)
vel = ifelse(facing=1,-13,13),6
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 16

[State -1]
type = Explod
trigger1 = Time = [85,120]
anim = 6621
ID = 6620
pos = 0+(random%60),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-3,3),4.5
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
type = Explod
trigger1 = Time < 85
anim = 6622
ID = 6620
postype = front
ownpal = 1
pos = -40+(random%90),-52+(random%40)
vel = ifelse(facing=1,-13,13),5.1
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 11

[State -1]
type = Explod
trigger1 = Time = [85,120]
anim = 6622
ID = 6620
pos = 0+(random%60),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-3,3),4.5
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
type = Explod
trigger1 = Time = [85,105]
anim = 6623
ID = 6620
pos = -22+(random%30),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-10,10),7.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.025,-.025)
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 17

[State -1]
type = Explod
trigger1 = Time = [115,135]
anim = 6623
ID = 6620
pos = -40+(random%50),-31
vel = ifelse(facing=1,-2,2),-31
accel = ifelse(facing=1,.01,-.01),0
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 13

[State -1]
type = Explod
trigger1 = Time = [85,105]
anim = 6624
ID = 6620
pos = -16+(random%30),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-10,10),4.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.05,-.05)
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
type = Explod
trigger1 = Time = [115,135]
anim = 6624
ID = 6620
pos = ifelse(facing=1,-15,15)+(random%60),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-2,2),4
accel = ifelse(facing=1,.01,-.01),0
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
type = Explod
trigger1 = Time = 145
anim = 6624
ID = 6620
pos = -60+(random%10),0
postype = front
ownpal = 1
vel = ifelse(facing=1,-0.8,0.8),1.2
removetime = 112
sprpriority = 8
ignorehitpause = 1
persistent = 0

[State -1]
type = Explod
trigger1 = Root,StateNo=3002&&Root,Time=159
anim = 6625
ID = 6620
pos = -140+(random%10),130
postype = front
ownpal = 1
vel = ifelse(facing=1,-0.9,0.9),0.8
removetime = 80
sprpriority = 8
ignorehitpause = 1
persistent = 0

[State -1]
type = Explod
trigger1 = Root,StateNo=3002&&Root,Time=165
anim = 6626
ID = 6620
pos = -145+(random%10),135
postype = front
ownpal = 1
vel = ifelse(facing=1,-1.3,1.3),0.8
removetime = 80
sprpriority = 8
ignorehitpause = 1
persistent = 0

[State -1]
type = Explod
trigger1 = Root,StateNo=3003&&Root,AnimElemTime(14)=0
trigger2 = Root,StateNo=3103&&Root,AnimElemTime(37)=0
anim = 6610+(Root,StateNo=3103)*1
ID = 6610
bindtime = -1
pos = -100, -200
postype = back
ownpal = 1
sprpriority = 99
trans = Add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Root,StateNo=3003&&Root,AnimElemTime(14)=0
trigger2 = Root,StateNo=3103&&Root,AnimElemTime(37)=0
anim = 6610+(Root,StateNo=3103)*1
ID = 6610
bindtime = -1
pos = -100, -200
postype = back
ownpal = 1
trans = Sub
sprpriority = 98
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Root,StateNo=3103&&(Root,AnimElemTime(37)=0||Root,AnimElemTime(40)=0)
anim = 6613-(Root,AnimElemTime(40)=0)*3
ID = 6613-(Root,AnimElemTime(40)=0)*3
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.5+(Root,AnimElemTime(40)=0)*0.3, 0.5+(Root,AnimElemTime(40)=0)*0.3
sprpriority = 99
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Root,StateNo=3003&&Root,AnimElemTime(14)=0
anim = 6612
ID = 6612
bindtime = -1
pos = ifelse(random>=500,-100+random%64,100+random%64), ifelse(random>=500,-200+random%64,-100+random%64)
postype = back
ownpal = 1
sprpriority = 99
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = Root,StateNo=3003&&Root,AnimElemTime(14)=0
trigger2 = Root,StateNo=3103&&Root,AnimElemTime(37)=0
value = s3, 104

[State -1]
type = Helper
trigger1 = Root,StateNo=3103&&Root,AnimElemTime(36)=0
Stateno = 3690
ID = 3690
pos = 0, 0
postype = P1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = ChangeState
trigger1 = (Root,StateNo!=[3000,3003])&&(Root,StateNo!=[3100,3103])
trigger2 = Root,StateNo=3003&&Root,AnimElemTime(18)>0
trigger3 = Root,StateNo=3103&&Root,AnimElemTime(44)>0
value = 3591

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面 [ 死の点 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3591]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = nofg
flag3 = nomusic
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Time >= 32
trigger1 = var(59) < 256
v = 59
value = 32
ignorehitpause = 1

[State -1]
type = ModifyExplod
trigger1 = Root,var(57) != 100
trigger1 = var(50)%10=0
ID = 6600
bindtime = -1
pos = 0, -50
postype = back
ownpal = 1
scale = 0.5, 0.5
removetime = 380
sprpriority = -10
trans = addalpha
alpha = 256-var(59),256
ignorehitpause = 1

[State -1]
type = ModifyExplod
trigger1 = Root,var(57) != 100
trigger1 = var(50)%10=1
ID = 6600
bindtime = -1
pos = 0, ifelse(var(55)%10=0,-50,0)
postype = back
ownpal = 1
removetime = 380
sprpriority = -10
trans = addalpha
alpha = 256-var(59),256
ignorehitpause = 1

[State -1]
type = ModifyExplod
trigger1 = Root,var(57) != 100
trigger1 = var(50)%10=0
ID = 6600
bindtime = -1
pos = 0, -50
postype = back
ownpal = 1
scale = 0.5, 0.5
removetime = 999
sprpriority = -10
trans = add
ignorehitpause = 1

[State -1]
type = ModifyExplod
trigger1 = Root,var(57) != 100
trigger1 = var(50)%10=1
ID = 6600
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
removetime = 999
sprpriority = -10
trans = add
ignorehitpause = 1

[State -1]
type = ModifyExplod
trigger1 = Root,var(57) != 100
trigger1 = Time > 0
ID = 6900
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
removetime = 380
sprpriority = -11
trans = addalpha
alpha = 256-var(59),256
ignorehitpause = 1

[State -1]
type = ModifyExplod
trigger1 = Root,var(57) != 100
ID = 6900
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
removetime = 999
sprpriority = -11
trans = add
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = var(50)%10=0
trigger1 = Time > 30
trigger1 = Root,var(57) != 100
ID = 6600

[State -1]
Type = RemoveExplod
trigger1 = var(50)%10=0
trigger1 = Time < 50
ID = 6610
ignorehitpause = 1

[State -1]
Type = RemoveExplod
triggerAll = Root,var(57) != 100
trigger1 = var(50)%10=0&&Time>40
trigger2 = var(50)%10=1&&Time>30
ID = 6900

[State -1]
Type = RemoveExplod
trigger1 = (Root,StateNo!=[3000,3004])&&(Root,StateNo!=[3100,3104])
trigger1 = Time > 40
ID = 6600
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = (Root,StateNo!=[3000,3004])&&(Root,StateNo!=[3100,3104])
trigger1 = Time > 40
ID = 6960
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = (Root,StateNo!=[3000,3004])&&(Root,StateNo!=[3100,3104])
trigger1 = Time > 40
ID = 6961
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = (Root,StateNo!=[3000,3004])&&(Root,StateNo!=[3100,3104])
trigger1 = Time > 40
ID = 6962
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = (Root,StateNo!=[3000,3004])&&(Root,StateNo!=[3100,3104])
trigger1 = Time > 40
ID = 6963
ignorehitpause = 1

[State -1]
type = AllPalfx
trigger1 = var(50)%10=0
trigger1 = Time = 0
sinadd = 256, 256, 256, 80
time = 40
ignorehitpause = 1
persistent = 0

[State -1]
Type = ChangeState
triggerAll = Root,var(57) = 100
trigger1 = Root,StateNo=3004||Root,StateNo=3104
value = 3592

[State -1]
Type = DestroySelf
trigger1 = (Root,StateNo!=[3000,3004])&&(Root,StateNo!=[3100,3104])
trigger1 = Time > 40

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　画面 [ 死の点 - 終幕 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3592]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = nofg
flag3 = nomusic
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1

[State -1]
type = AllPalfx
trigger1 = 1
sinadd = 0, 0, 0, 0
time = 1
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 6962
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 6963
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = var(50)%10=1
anim = 6961
ID = 6964
bindtime = -1
pos = -60, 40
postype = back
ownpal = 1
removetime = 999
sprpriority = -2
scale = 1.3, 1.1
facing = -1
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(50)%10=1
anim = 6961
ID = 6964
bindtime = -1
pos = -60, 40
postype = back
ownpal = 1
removetime = 999
sprpriority = -2
scale = 1.3, 1.1
facing = -1
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = NumExplod(6600) = 0
trigger1 = var(50)%10=0
anim = 6600
ID = 6600
bindtime = -1
pos = 0, -50
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -10
ignorehitpause = 1
persistent = 2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = NumExplod(6600) = 0
trigger1 = var(50)%10=1
anim = 6600
ID = 6600
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
sprpriority = -10
trans = Sub
ignorehitpause = 1
persistent = 2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = var(50)%10=0
ID = 6600
bindtime = -1
pos = 0, -50
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -10
trans = addalpha
alpha = 256,0
ignorehitpause = 1

[State -1]
type = ModifyExplod
trigger1 = var(50)%10=1
ID = 6600
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
removetime = 999
sprpriority = -10
trans = Sub
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = NumExplod(6900) = 0
trigger1 = var(50)%10=1
anim = 6900
ID = 6900
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
sprpriority = -9
trans = add
alpha = 64,256
ignorehitpause = 1
persistent = 2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 6900
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
removetime = 999
sprpriority = -9
trans = add
alpha = 64,256
ignorehitpause = 1

[State -1]
type = Explod
trigger1 = Time < 85
anim = 6620
ID = 6620
pos = -20+(random%90),-1+(random%40)
postype = front
ownpal = 1
vel = ifelse(facing=1,-13,13),7.2
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 10

[State -1]
type = Explod
trigger1 = Time = [105,120]
anim = 6620
ID = 6620
pos = 0+(random%30),-55
postype = front
ownpal = 1
vel = ifelse(facing=1,-3,3),4.8
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 13

[State -1]
type = Explod
trigger1 = Time = [125,145]
anim = 6620
ID = 6620
pos = -90+(random%30),-55
postype = front
ownpal = 1
vel = ifelse(facing=1,-2,2),3
accel = ifelse(facing=1,.01,-.01),0
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 13

[State -1]
type = Explod
trigger1 = Time < 85
anim = 6621
ID = 6620
postype = front
ownpal = 1
pos = -10+(random%99),-33+(random%40)
vel = ifelse(facing=1,-13,13),6
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 16

[State -1]
type = Explod
trigger1 = Time = [85,120]
anim = 6621
ID = 6620
pos = 0+(random%60),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-3,3),4.5
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
type = Explod
trigger1 = Time < 85
anim = 6622
ID = 6620
postype = front
ownpal = 1
pos = -40+(random%90),-52+(random%40)
vel = ifelse(facing=1,-13,13),5.1
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 11

[State -1]
type = Explod
trigger1 = Time = [85,120]
anim = 6622
ID = 6620
pos = 0+(random%60),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-3,3),4.5
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
type = Explod
trigger1 = Time = [85,105]
anim = 6623
ID = 6620
pos = -22+(random%30),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-10,10),7.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.025,-.025)
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 17

[State -1]
type = Explod
trigger1 = Time = [115,135]
anim = 6623
ID = 6620
pos = -40+(random%50),-31
vel = ifelse(facing=1,-2,2),-31
accel = ifelse(facing=1,.01,-.01),0
postype = front
ownpal = 1
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 13

[State -1]
type = Explod
trigger1 = Time = [85,105]
anim = 6624
ID = 6620
pos = -16+(random%30),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-10,10),4.6
accel = ifelse(facing=1,.075,-.075),ifelse(facing=1,.05,-.05)
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
type = Explod
trigger1 = Time = [115,135]
anim = 6624
ID = 6620
pos = ifelse(facing=1,-15,15)+(random%60),-60
postype = front
ownpal = 1
vel = ifelse(facing=1,-2,2),4
accel = ifelse(facing=1,.01,-.01),0
removetime = 99
sprpriority = 3
trans = add
ignorehitpause = 1
persistent = 14

[State -1]
type = Explod
trigger1 = Time = 145
anim = 6624
ID = 6620
pos = -60+(random%10),0
postype = front
ownpal = 1
vel = ifelse(facing=1,-0.8,0.8),1.2
removetime = 112
sprpriority = 8
ignorehitpause = 1
persistent = 0

[State -1]
type = Explod
trigger1 = Root,Time = 159
anim = 6625
ID = 6620
pos = -140+(random%10),130
postype = front
ownpal = 1
vel = ifelse(facing=1,-0.9,0.9),0.8
removetime = 80
sprpriority = 8
ignorehitpause = 1
persistent = 0

[State -1]
type = Explod
trigger1 = Root,Time = 165
anim = 6626
ID = 6620
pos = -145+(random%10),135
postype = front
ownpal = 1
vel = ifelse(facing=1,-1.3,1.3),0.8
removetime = 80
sprpriority = 8
ignorehitpause = 1
persistent = 0

[State -1]
type = Explod
trigger1 = Root,StateNo=181&&Root,Anim=180&&Root,Time=150
anim = 6611
ID = 6611
bindtime = -1
pos = -100, -200
postype = back
ownpal = 1
sprpriority = 99
trans = Add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Root,StateNo=181&&Root,Anim=180&&Root,Time=150
anim = 6611
ID = 6611
bindtime = -1
pos = -100, -200
postype = back
ownpal = 1
trans = Sub
sprpriority = 98
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Root,StateNo=181&&Root,Anim=180&&Root,Time=200
anim = 6610
ID = 6610
bindtime = -1
pos = -100, -200
postype = back
ownpal = 1
sprpriority = 99
trans = Add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Root,StateNo=181&&Root,Anim=180&&Root,Time=200
anim = 6610
ID = 6610
bindtime = -1
pos = -100, -200
postype = back
ownpal = 1
trans = Sub
sprpriority = 98
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
trigger1 = Root,StateNo=181&&Root,Anim=180&&Root,Time=150
anim = 6612
ID = 6612
bindtime = -1
pos = ifelse(random>=500,-100+random%64,100+random%64), ifelse(random>=500,-200+random%64,-100+random%64)
postype = back
ownpal = 1
sprpriority = 99
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = Root,StateNo=181&&Root,Anim=180&&Root,Time=150
value = s3, 104

[State -1]
type = Helper
trigger1 = Root,StateNo=181&&Root,Anim=180&&Root,Time=150
Stateno = 3690
ID = 3690
pos = -20, 45
postype = back
ownpal = 1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
trigger1 = Time > 0
trigger1 = RoundState!=[2,4]

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　鏡崩壊
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3600]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0

[State -1]
Type = VarAdd
triggerAll = var(59) < 192
trigger1 = Root,StateNo=2101&&Root,AnimElemTime(2)>=0
trigger2 = Root,StateNo!=2101
v = 59
value = 4
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = RoundState != 2
trigger1 = Root,StateNo=2101&&(Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<=0)
anim = 13621
ID = 13621
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = 999
trans = add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = RoundState != 2
trigger1 = Root,StateNo=2101&&(Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<=0)
anim = 13621
ID = 13621
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = 999
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 1
anim = 29310
ID = 29310
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 1, 1
sprpriority = 999
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 1
anim = 29310
ID = 29310
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 1, 1
sprpriority = 999
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = RoundState != 2
trigger1 = Root,StateNo=2101&&(Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<=0)
anim = 29311
ID = 29311
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 1, 1
sprpriority = 999
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = RoundState != 2
trigger1 = Root,StateNo=2101&&(Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<=0)
anim = 29311
ID = 29312
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 1, 1
sprpriority = 999
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 29311
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 1, 1
sprpriority = -2
trans = AddAlpha
alpha = 192-var(59),256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 29312
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 1, 1
sprpriority = -2
trans = AddAlpha
alpha = 96-(var(59)/2),256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s3, 45

[State -1]
type = PlaySnd
trigger1 = RoundState != 2
trigger1 = Root,StateNo=2101&&(Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<=0)
value = s3, 136
persistent = 0

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=2101&&Root,AnimElemTime(3)>=0
trigger2 = Root,StateNo=2101&&Root,AnimElemTime(2)>=0&&NumExplod(29311)>0
ID = 29310
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = Root,StateNo!=[2100,2110]

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　白背景
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3690]
type        = A
physics     = N
movetype    = I
anim        = 12800
ctrl        = 0
sprpriority = 8

[State -1]
Type = VarSet
trigger1 = RoundState != 2&&Time<24
trigger1 = Root,StateNo!=2300
v = 58
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Parent,StateNo=3002||(Parent,StateNo=[3101,3102])
trigger1 = var(55) := 1
trigger2 = Parent,StateNo=3592
trigger2 = var(55) := 2
trigger3 = Parent,StateNo=3590
trigger3 = var(55) := 3
trigger4 = Parent,StateNo=2911
trigger4 = var(55) := 4
trigger5 = Parent,StateNo=181
trigger5 = var(55) := 9
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = var(55)%10=0
trigger1 = Time<8&&var(59)<256
trigger2 = Time>8&&var(59)>0
v = 59
value = ifelse(Time<8,32,-16)
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = var(55)%10=1
trigger1 = Time<20&&var(59)<256
trigger2 = Time>20&&var(59)>0
v = 59
value = ifelse(Time<20,32,-16)
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = var(55)%10=2
trigger1 = var(59) < 256
v = 59
value = 4
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = var(55)%10=3
trigger1 = Time<90&&var(59)<256
trigger2 = Time>136&&var(59)>0&&var(58)%10>0
v = 59
value = ifelse(Time<90,4+(Time>30)*4,-4)
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = var(55)%10=4
trigger1 = Time<16&&var(59)<256
trigger2 = Time>20&&var(59)>0
v = 59
value = ifelse(Time<16,16,-8)
ignorehitpause = 1

[State -1]
Type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 0+var(59),256-var(59)

[State -1]
Type = SprPriority
trigger1 = Root,StateNo=181&&Root,Anim=180&&Root,Time>=218
value = 999

[State -1]
Type = SprPriority
trigger1 = Root,StateNo=2911
value = 1000

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 10, 10

[State -1]
Type = DestroySelf
trigger1 = Time>200&&Root,StateNo!=181||Time>999||Root,MoveType=H
trigger2 = var(55)%10=0&&Time>24&&var(59)<=0
trigger3 = var(55)%10=1&&Time>=42
trigger4 = var(55)%10=2&&Root,StateNo!=181&&Time>=150
trigger5 = var(55)%10=4&&Time>24&&var(59)<=0

[State -1]
Type = DestroySelf
triggerAll = var(55)%10=3
trigger1 = var(58)=0&&Time>=40
trigger2 = var(58)>0&&Time>=24&&var(59)<=0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Armor of Reflection - Easy Type Version
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3900]
type        = A
physics     = N
movetype    = I
ctrl        = 0
sprpriority = -99

[State -1]
Type = BindToParent
trigger1 = 1
pos = 0, 0
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State -1]
Type = NotHitBy
trigger1 = Root,StateNo=105||Root,StateNo=900||Root,StateNo=910||Root,StateNo=921||Root,StateNo=926||Root,StateNo=970
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=106
trigger1 = Root,var(16)%10>0||Root,var(16)/10%10>0
trigger1 = Root,Time < 1*(Root,var(16)%10+Root,var(16)/10%10)
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=430||Root,StateNo=435||Root,StateNo=440
trigger1 = Root,Time<=26||Root,var(16)/10%10>0
trigger2 = var(16)%10>0
trigger2 = Root,Time<=27
trigger2 = var(16)%10>1
trigger2 = Root,Time<=28
trigger3 = var(16)%10>4
trigger3 = Root,Time<=29
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=650
trigger1 = Root,var(16)/10%10>0&&Root,Time<10
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,Time < Root,var(16)%10*1
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=720
trigger1 = Root,Time<43||Root,var(16)%10>5||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,5]
trigger2 = Root,Time<43+(Root,var(16)%10*3)
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=800||Root,StateNo=810||Root,StateNo=820
trigger1 = Root,var(16)/10%10>0
trigger2 = Root,var(16)%10>0
trigger2 = Root,Time < (2*Root,var(16)%10)+3
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=915
trigger1 = Root,var(16)/10%10>0
trigger2 = Root,var(16)%10>0
trigger2 = Root,Time <= 3*Root,var(16)%10
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=920||Root,StateNo=925
trigger1 = Root,var(16)%10>0||Root,var(16)/10%10>0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=960
trigger1 = Root,var(16)%10=1&&Root,var(57)%12=0
trigger2 = Root,var(16)%10=2&&Root,var(57)%11=0
trigger3 = Root,var(16)%10=3&&Root,var(57)%10=0
trigger4 = Root,var(16)%10=4&&Root,var(57)%9=0
trigger5 = Root,var(16)%10=5&&Root,var(57)%8=0
trigger6 = Root,var(16)%10=6&&Root,var(57)%7=0
trigger7 = Root,var(16)%10=7&&Root,var(57)%6=0
trigger8 = Root,var(16)%10=8&&Root,var(57)%5=0
trigger9 = Root,var(16)%10=9&&Root,var(57)%4=0
trigger10 = Root,var(16)/10%10>0&&Root,var(57)%3=0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=200
trigger1 = Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,3]
trigger2 = Root,AnimElemTime(1+Root,var(16)%10*1) < 0
trigger3 = Root,var(16)%10=[4,9]
trigger3 = Root,AnimElemTime(5) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=210||Root,StateNo=215||Root,StateNo=220||Root,StateNo=225||Root,StateNo=250||Root,StateNo=255||Root,StateNo=260||Root,StateNo=410||Root,StateNo=415||Root,StateNo=425||Root,StateNo=600||Root,StateNo=610||Root,StateNo=620
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = (Root,StateNo=[1001,1002])||Root,StateNo=1700
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=230
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,3]
trigger2 = Root,AnimElemTime(3) < -2+Root,var(16)%10*6
trigger3 = Root,var(16)%10=4
trigger3 = Root,AnimElemTime(4) < 0
trigger4 = Root,var(16)%10=5
trigger4 = Root,AnimElemTime(6) < 0
trigger5 = Root,var(16)%10=[6,9]
trigger5 = Root,AnimElemTime(2+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=270
trigger1 = Root,AnimElemTime(5)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(5+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=280
trigger1 = Root,AnimElemTime(3)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,7]
trigger2 = Root,AnimElemTime(3+Root,var(16)%10*1) < 0
trigger3 = Root,var(16)%10=[8,9]
trigger3 = Root,AnimElemTime(10) < (Root,var(16)%10*7)-49
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=400
trigger1 = Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,2]
trigger2 = Root,AnimElemTime(1+Root,var(16)%10*1) < 0
trigger3 = Root,var(16)%10=[3,9]
trigger3 = Root,AnimElemTime(4) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=420
trigger1 = Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,5]
trigger2 = Root,AnimElemTime(1+Root,var(16)%10*1) < 0
trigger3 = Root,var(16)%10=[6,9]
trigger3 = Root,AnimElemTime(7) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=450
trigger1 = Root,AnimElemTime(7)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(7+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=455
trigger1 = Root,AnimElemTime(2)<0||(Root,AnimElemTime(4)>=0&&Root,AnimElemTime(5)<0)||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=460
trigger1 = Root,AnimElemTime(2)<0||(Root,AnimElemTime(5)>=0&&Root,AnimElemTime(6)<0)||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=1
trigger2 = Root,AnimElemTime(5) < 0
trigger3 = Root,var(16)%10=[2,9]
trigger3 = Root,AnimElemTime(4+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=470||Root,StateNo=1005
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,6]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[7,9]
trigger3 = Root,AnimElemTime(8+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=850||Root,StateNo=1022
trigger1 = Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(1+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1000
trigger1 = Root,AnimElemTime(4)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,8]
trigger2 = Root,AnimElemTime(4+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=9
trigger3 = Root,AnimElemTime(21) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1003
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,5]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[6,9]
trigger3 = Root,AnimElemTime(7+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1004||Root,StateNo=1210||Root,StateNo=1810
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,4]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[5,9]
trigger3 = Root,AnimElemTime(6+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1020
trigger1 = Root,AnimElemTime(6)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,2]
trigger2 = Root,AnimElemTime(6+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[3,9]
trigger3 = Root,AnimElemTime(8+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1021
trigger1 = Root,Time<16||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,Time<16*Root,var(16)%10*1
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1025
trigger1 = Root,Time<16||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,Time<14+Root,var(16)%10*5
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1100
trigger1 = Root,AnimElemTime(4)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,6]
trigger2 = Root,AnimElemTime(4+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[7,9]
trigger3 = Root,AnimElemTime(10+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1110
trigger1 = Root,AnimElemTime(6)>=0&&Root,AnimElemTime(7)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=1
trigger2 = Root,AnimElemTime(3) < 0
trigger3 = Root,var(16)%10=2
trigger3 = Root,AnimElemTime(5) < 2
trigger4 = Root,var(16)%10=[3,4]
trigger4 = Root,AnimElemTime(5) < -10+Root,var(16)%10*6
trigger5 = Root,var(16)%10=5
trigger5 = Root,AnimElemTime(9) < 0
trigger6 = Root,var(16)%10=6
trigger6 = Root,AnimElemTime(12) < 0
trigger7 = Root,var(16)%10=[7,9]
trigger7 = Root,AnimElemTime(8+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1120
trigger1 = Root,AnimElemTime(19)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(19+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1200
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,2]
trigger2 = Root,AnimElemTime(2) < Root,var(16)%10*4
trigger3 = Root,var(16)%10=3
trigger3 = Root,AnimElemTime(5) < 0
trigger4 = Root,var(16)%10=4
trigger4 = Root,AnimElemTime(8) < 0
trigger5 = Root,var(16)%10=[5,9]
trigger5 = Root,AnimElemTime(6+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1220
trigger1 = Root,AnimElemTime(4)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,2]
trigger2 = Root,AnimElemTime(4+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[3,9]
trigger3 = Root,AnimElemTime(6+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1300
trigger1 = Root,AnimElemTime(4)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,5]
trigger2 = Root,AnimElemTime(4+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[6,9]
trigger3 = Root,AnimElemTime(9+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1400
trigger1 = Root,AnimElemTime(5)<3||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,5]
trigger2 = Root,AnimElemTime(5+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[6,9]
trigger3 = Root,AnimElemTime(10+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1410
trigger1 = Root,AnimElemTime(1)<3||(Root,AnimElemTime(5)>=0&&Root,AnimElemTime(6)<=0)||Root,var(59)>1&&Root,AnimElemTime(9)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=1
trigger2 = Root,AnimElemTime(3) < 2
trigger3 = Root,var(16)%10=[2,4]
trigger3 = Root,AnimElemTime(4) < 3+((Root,var(16)%10*7)-7)
trigger4 = Root,var(16)%10=5
trigger4 = Root,AnimElemTime(8) < 0
trigger5 = Root,var(16)%10=[6,9]
trigger5 = Root,AnimElemTime(5+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1420
trigger1 = Root,AnimElemTime(8)<0||Root,var(16)%10>6||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,6]
trigger2 = Root,AnimElemTime(8+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1500||Root,StateNo=1510
trigger1 = Root,AnimElemTime(4)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=1
trigger2 = Root,AnimElemTime(6) < 0
trigger3 = Root,var(16)%10=[2,9]
trigger3 = Root,AnimElemTime(5+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1520
trigger1 = Root,AnimElemTime(7)<0||Root,var(16)%10>7||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,7]
trigger2 = Root,AnimElemTime(7+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1710||Root,StateNo=1715
trigger1 = Root,AnimElemTime(5)<3||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(5+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1720
trigger1 = Root,AnimElemTime(6)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(6) < Root,var(16)%10*4
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1723
trigger1 = Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,Time<Root,var(16)%10*4
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1800
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,3]
trigger2 = Root,AnimElemTime(1+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[4,9]
trigger3 = Root,AnimElemTime(5+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1820
trigger1 = Root,AnimElemTime(6)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(6+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1821
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>8||Root,var(16)/10%10>0||Root,Anim=1850
trigger2 = Root,var(16)%10=[1,8]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1822
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0||Root,Anim=1850
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1823
trigger1 = Root,AnimElemTime(2)<0||Root,var(16)/10%10>0||Root,Anim=1850
trigger2 = Root,var(16)%10=[1,2]
trigger2 = Root,AnimElemTime(2+Root,var(16)%10*2) < 0
trigger3 = Root,var(16)%10=[3,9]
trigger3 = Root,AnimElemTime(4+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=1824
trigger1 = Root,AnimElemTime(5)<0||Root,var(16)/10%10>7||Root,var(16)/10%10>0||Root,Anim=1850
trigger2 = Root,var(16)%10=[1,7]
trigger2 = Root,AnimElemTime(5+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1920
trigger1 = Root,AnimElemTime(4)<0
trigger2 = Root,var(16)/10%10>0
trigger2 = Root,AnimElemTime(5)>=0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1921
trigger1 = Root,AnimElemTime(5)<0||Root,var(16)/10%10>5||Root,var(16)/10%10>0||Root,var(59)>1
trigger2 = Root,var(16)%10=[1,5]
trigger2 = Root,AnimElemTime(5+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=1925
trigger1 = Root,AnimElemTime(6)<0||Root,var(16)/10%10>7||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,7]
trigger2 = Root,AnimElemTime(6+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=2000||Root,StateNo=2010
trigger1 = Root,AnimElemTime(17)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(17+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=2100||Root,StateNo=2110
trigger1 = Root,AnimElemTime(19)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(19+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=2300
trigger1 = Root,AnimElemTime(12)<0||Root,var(16)/10%10>0 
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(12+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=2320
trigger1 = Root,AnimElemTime(11)<0||Root,var(16)/10%10>0||Root,var(55)%10!=0&&Root,AnimElemTime(33)<0 
trigger2 = Root,var(16)%10=[1,4]
trigger2 = Root,AnimElemTime(11+Root,var(16)%10*3) < 0
trigger3 = Root,var(16)%10=[5,9]
trigger3 = Root,AnimElemTime(16+Root,var(16)%10*2) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=2500
trigger1 = Root,AnimElemTime(20)<0||Root,var(16)/10%10>0 
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(20+Root,var(16)%10*1) < 0
value = SCA

[State -1]
type = NotHitBy
triggerAll = Root,StateNo=2520
trigger1 = Root,AnimElemTime(11)<0||Root,var(16)/10%10>0 
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(11+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=2900
trigger1 = Root,AnimElemTime(3)<0||Root,var(16)%10>6||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,6]
trigger2 = Root,AnimElemTime(3+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=2910
trigger1 = Root,AnimElemTime(22)<0||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,9]
trigger2 = Root,AnimElemTime(22+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = NotHitBy
triggerAll = Root,StateNo=3000||Root,StateNo=3100
trigger1 = Root,AnimElemTime(8)<0||Root,var(16)%10>7||Root,var(16)/10%10>0
trigger2 = Root,var(16)%10=[1,7]
trigger2 = Root,AnimElemTime(8+Root,var(16)%10*1) < 0
value = SCA

[State -1]
Type = ChangeAnim
trigger1 = anim != root,anim
value = root,anim
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = HitOverRide
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP
stateno = 3901
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
trigger1 = Root,Ctrl=1||(Root,StateNo=[120,159])||Root,StateNo=960||Root,Time=1&&Root,MoveType!=H
fv = 31
value = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
triggerAll = Root,var(17)/10%10<9
trigger1 = (Root,StateNo!=[100,101])&&(Root,StateNo!=[105,106])&&Root,StateNo!=110&&Root,StateNo!=115
trigger1 = Root,StateNo!=200&&Root,StateNo!=210&&Root,StateNo!=215&&Root,StateNo!=220&&Root,StateNo!=225&&Root,StateNo!=230&&Root,StateNo!=235
trigger1 = Root,StateNo!=250&&Root,StateNo!=255&&Root,StateNo!=260&&Root,StateNo!=265&&Root,StateNo!=270&&Root,StateNo!=280&&Root,StateNo!=300
trigger1 = Root,StateNo!=400&&Root,StateNo!=410&&Root,StateNo!=415&&Root,StateNo!=420&&Root,StateNo!=425
trigger1 = Root,StateNo!=430&&Root,StateNo!=435&&Root,StateNo!=440&&Root,StateNo!=450&&Root,StateNo!=455&&Root,StateNo!=460&&Root,StateNo!=470
trigger1 = Root,StateNo!=600&&Root,StateNo!=610&&Root,StateNo!=620&&Root,StateNo!=630&&Root,StateNo!=635
trigger1 = Root,StateNo!=720
trigger1 = Root,StateNo!=800&&Root,StateNo!=810&&Root,StateNo!=820&&Root,StateNo!=850
trigger1 = Root,StateNo!=900&&Root,StateNo!=910&&Root,StateNo!=915&&Root,StateNo!=920&&Root,StateNo!=922&&Root,StateNo!=925&&Root,StateNo!=927&&Root,StateNo!=960&&Root,StateNo!=970
trigger1 = Root,StateNo!=1000&&Root,StateNo!=1010&&Root,StateNo!=1020&&Root,StateNo!=1100&&Root,StateNo!=1110&&Root,StateNo!=1120
trigger1 = Root,StateNo!=1200&&Root,StateNo!=1210&&Root,StateNo!=1220&&Root,StateNo!=1300&&Root,StateNo!=1310&&Root,StateNo!=1320
trigger1 = Root,StateNo!=1400&&Root,StateNo!=1410&&Root,StateNo!=1420&&Root,StateNo!=1500&&Root,StateNo!=1510&&Root,StateNo!=1520
trigger1 = Root,StateNo!=1600&&Root,StateNo!=1610&&Root,StateNo!=1620&&Root,StateNo!=1700&&Root,StateNo!=1710&&Root,StateNo!=1720
trigger1 = Root,StateNo!=1800&&Root,StateNo!=1810&&Root,StateNo!=1820&&Root,StateNo!=1900&&Root,StateNo!=1910&&Root,StateNo!=1920
trigger1 = Root,StateNo!=2000&&Root,StateNo!=2010&&Root,StateNo!=2100&&Root,StateNo!=2110
trigger1 = Root,StateNo!=2300&&Root,StateNo!=2310&&Root,StateNo!=2320&&Root,StateNo!=2400&&Root,StateNo!=2410&&Root,StateNo!=2420&&Root,StateNo!=2500&&Root,StateNo!=2510&&Root,StateNo!=2520
trigger1 = Root,StateNo!=2800&&Root,StateNo!=2900&&Root,StateNo!=2910&&Root,StateNo!=3000&&Root,StateNo!=3100
trigger1 = (Root,StateNo!=[1001,1005])&&(Root,StateNo!=[1021,1022])&&Root,StateNo!=1025&&Root,StateNo!=1715&&Root,StateNo!=1723&&(Root,StateNo!=[1821,1824])
trigger1 = Root,StateNo!=1921&&Root,StateNo!=1925&&Root,StateNo!=2521&&Root,StateNo!=2911

[State -1]
Type = DestroySelf
trigger1 = Root,Alive=0||(Root,MoveType=H&&(Root,StateNo!=[120,159]))
trigger2 = Root,MoveType!=H
trigger2 = Root,StateNo=105||Root,StateNo=801||Root,StateNo=811||Root,StateNo=821||Root,StateNo=921||Root,StateNo=926||Root,StateNo=970
trigger3 = Root,MoveType!=H
trigger3 = Root,StateNo=802||(Root,StateNo=[822,823])||(Root,StateNo=[851,852])||(Root,StateNo=[1201,1202])||Root,StateNo=1221||Root,StateNo=1421||Root,StateNo=1701||Root,StateNo=1711||Root,StateNo=1716
trigger4 = Root,MoveType!=H
trigger4 = (Root,StateNo=[1721,1722])||(Root,StateNo=[2001,2002])||Root,StateNo=2101||(Root,StateNo=[2501,2502])||Root,StateNo=2521||Root,StateNo=2911||(Root,StateNo=[3001,3004])||(Root,StateNo=[3101,3104])
trigger5 = Root,MoveType!=H
trigger5 = Root,StateNo=1920&&Root,AnimElemTime(4)<0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Armor of Reflection - Easy Type Version
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3901]
type        = A
physics     = N
movetype    = I
ctrl        = 0
sprpriority = -99

[State -1]
Type = BindToParent
trigger1 = 1
pos = 0, 0
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Root,StateNo=[120,159]
anim = 11550+(Root,StateType=C)*10+(Root,StateType=A)*20
ID = 11550+(Root,StateType=C)*10+(Root,StateType=A)*20
pos = -20,ifelse(Root,StateType!=C,const(size.mid.pos.y)+10,const(size.mid.pos.y)+20)
postype = P1
ownpal = 1
scale = 1, 1
sprpriority = 4
trans = add
ignorehitpause = 1
persistent = 0

[State -1]
Type = Explod
trigger1 = Root,StateNo=[120,159]
anim = 11550+(Root,StateType=C)*10+(Root,StateType=A)*20
ID = 11550+(Root,StateType=C)*10+(Root,StateType=A)*20
pos = -20,ifelse(Root,StateType!=C,const(size.mid.pos.y)+10,const(size.mid.pos.y)+20)
postype = P1
ownpal = 1
scale = 1, 1
sprpriority = 4
trans = Sub
ignorehitpause = 1
persistent = 0

[State -1]
type = PlaySnd
trigger1 = Root,Time%3=0
trigger1 = Root,StateNo=[120,159]
value = s30,0
channel = 5
persistent = 0

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = VarSet
trigger1 = Time = 0
fv = 30
value = floor(ceil(gethitvar(damage)))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,Ctrl=1||(Root,StateNo=[120,159])||Root,StateNo=960||Root,Time=1&&Root,MoveType!=H
fv = 31
value = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,var(9)%10>6&&fvar(30)>2000
fv = 30
value = ifelse(Root,var(9)%10>8,1500,ifelse(Root,var(9)%10>7,1750,2000))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,var(9)%10>0&&Root,var(17)/10%10>0
fv = 30
value = ifelse(Root,var(9)%10+Root,var(17)/10%10>17,fvar(30)*0.7,ifelse(Root,var(9)%10+Root,var(17)/10%10>11,fvar(30)*0.8,fvar(30)*0.9))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
trigger1 = Time = 0
trigger1 = fvar(30)>0&&fvar(30)<100
fv = 31
value = ifelse(fvar(30)>50,Root,var(9)%10*2+Root,var(17)/10%10*1,Root,var(9)%10*1+Root,var(17)/10%10*1)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
trigger1 = Time = 0
trigger1 = fvar(30)>100
fv = 31
value = ifelse(fvar(30)>200,Root,var(9)%10*3+Root,var(17)/10%10*3,ifelse(fvar(30)>150,Root,var(9)%10*3+Root,var(17)/10%10*2,Root,var(9)%10*2+Root,var(17)/10%10*2))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
trigger1 = Time = 0
fv = 30
value = fvar(30)-fvar(31)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
trigger1 = Time = 0
fv = 30
value = ifelse(fvar(30)<=20,20-Root,var(9)%10,fvar(30))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ParentVarAdd
trigger1 = Time = 0
fv = 30
value = -fvar(30)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Pause
trigger1 = Time = 0
time = 1

[State -1]
Type = ChangeState
trigger1 = Time >= 1
value = 3900

[State -1]
Type = DestroySelf
triggerAll = Root,var(17)/10%10<9
trigger1 = (Root,StateNo!=[100,101])&&(Root,StateNo!=[105,106])&&Root,StateNo!=110&&Root,StateNo!=115
trigger1 = Root,StateNo!=200&&Root,StateNo!=210&&Root,StateNo!=215&&Root,StateNo!=220&&Root,StateNo!=225&&Root,StateNo!=230&&Root,StateNo!=235
trigger1 = Root,StateNo!=250&&Root,StateNo!=255&&Root,StateNo!=260&&Root,StateNo!=265&&Root,StateNo!=270&&Root,StateNo!=280&&Root,StateNo!=300
trigger1 = Root,StateNo!=400&&Root,StateNo!=410&&Root,StateNo!=415&&Root,StateNo!=420&&Root,StateNo!=425
trigger1 = Root,StateNo!=430&&Root,StateNo!=435&&Root,StateNo!=440&&Root,StateNo!=450&&Root,StateNo!=455&&Root,StateNo!=460&&Root,StateNo!=470
trigger1 = Root,StateNo!=600&&Root,StateNo!=610&&Root,StateNo!=620&&Root,StateNo!=630&&Root,StateNo!=635
trigger1 = Root,StateNo!=720
trigger1 = Root,StateNo!=800&&Root,StateNo!=810&&Root,StateNo!=820&&Root,StateNo!=850
trigger1 = Root,StateNo!=900&&Root,StateNo!=910&&Root,StateNo!=915&&Root,StateNo!=920&&Root,StateNo!=922&&Root,StateNo!=925&&Root,StateNo!=927&&Root,StateNo!=960&&Root,StateNo!=970
trigger1 = Root,StateNo!=1000&&Root,StateNo!=1010&&Root,StateNo!=1020&&Root,StateNo!=1100&&Root,StateNo!=1110&&Root,StateNo!=1120
trigger1 = Root,StateNo!=1200&&Root,StateNo!=1210&&Root,StateNo!=1220&&Root,StateNo!=1300&&Root,StateNo!=1310&&Root,StateNo!=1320
trigger1 = Root,StateNo!=1400&&Root,StateNo!=1410&&Root,StateNo!=1420&&Root,StateNo!=1500&&Root,StateNo!=1510&&Root,StateNo!=1520
trigger1 = Root,StateNo!=1600&&Root,StateNo!=1610&&Root,StateNo!=1620&&Root,StateNo!=1700&&Root,StateNo!=1710&&Root,StateNo!=1720
trigger1 = Root,StateNo!=1800&&Root,StateNo!=1810&&Root,StateNo!=1820&&Root,StateNo!=1900&&Root,StateNo!=1910&&Root,StateNo!=1920
trigger1 = Root,StateNo!=2000&&Root,StateNo!=2010&&Root,StateNo!=2100&&Root,StateNo!=2110
trigger1 = Root,StateNo!=2300&&Root,StateNo!=2310&&Root,StateNo!=2320&&Root,StateNo!=2400&&Root,StateNo!=2410&&Root,StateNo!=2420&&Root,StateNo!=2500&&Root,StateNo!=2510&&Root,StateNo!=2520
trigger1 = Root,StateNo!=2800&&Root,StateNo!=2900&&Root,StateNo!=2910&&Root,StateNo!=3000&&Root,StateNo!=3100
trigger1 = (Root,StateNo!=[1001,1005])&&(Root,StateNo!=[1021,1022])&&Root,StateNo!=1025&&Root,StateNo!=1715&&Root,StateNo!=1723&&(Root,StateNo!=[1821,1824])
trigger1 = Root,StateNo!=1921&&Root,StateNo!=1925&&Root,StateNo!=2521&&Root,StateNo!=2911

[State -1]
Type = DestroySelf
trigger1 = Root,Alive=0||(Root,MoveType=H&&(Root,StateNo!=[120,159]))
trigger2 = Root,MoveType!=H
trigger2 = Root,StateNo=105||Root,StateNo=801||Root,StateNo=811||Root,StateNo=821||Root,StateNo=921||Root,StateNo=926||Root,StateNo=970
trigger3 = Root,MoveType!=H
trigger3 = Root,StateNo=802||(Root,StateNo=[822,823])||(Root,StateNo=[851,852])||(Root,StateNo=[1201,1202])||Root,StateNo=1221||Root,StateNo=1421||Root,StateNo=1701||Root,StateNo=1711||Root,StateNo=1716
trigger4 = Root,MoveType!=H
trigger4 = (Root,StateNo=[1721,1722])||(Root,StateNo=[2001,2002])||Root,StateNo=2101||(Root,StateNo=[2501,2502])||Root,StateNo=2521||Root,StateNo=2911||(Root,StateNo=[3001,3004])||(Root,StateNo=[3101,3104])
trigger5 = Root,MoveType!=H
trigger5 = Root,StateNo=1920&&Root,AnimElemTime(4)<0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　飛刀地上
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7000]
type        = A
physics     = N
movetype    = A
anim        = ifelse(Parent,fvar(39)>0,7001,7000)
ctrl        = 0
sprpriority = 4

[State -1]
type = AttackDist
trigger1 = 1
value = 45

[State -1]
Type = VarAdd
trigger1 = Time > 3
fv = 39
value = 0.05
ignorehitpause = 1
persistent = 2

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1, 1
value = var(56)

[State -1]
Type = VelSet
trigger1 = Time = 1
x = 12
y = var(57)

[State -1]
type = PosSet
trigger1 = Pos Y > -20
y = -20

[State -1]
type = VarSet
trigger1 = Time = 0
trigger2 = var(20) = 1
trigger3 = P2StateNo != [120,159]
trigger3 = !MoveContact
v = 20
value = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = VarSet
trigger1 = var(20) = 0
trigger1 = MoveContact
v = 20
value = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 50
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 111
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 112
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveGuarded
value = s30, 0
channel = 4
ignorehitpause = 1

[State -1]
Type = Helper
trigger1 = var(20) = 1
trigger1 = MoveHit
Stateno = 6390
ID = 6390
pos = 30, 0
postype = P1
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(20) = 1
trigger1 = MoveGuarded
anim = 11500
ID = 11500
pos = const(size.mid.pos.x)+20-random%10, const(size.mid.pos.y)+20-random%10
postype = P2
ownpal = 1
scale = 0.7, 0.7
sprpriority = 4
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ParentVarAdd
trigger1 = var(20) = 1
trigger1 = MoveHit
v = 25
value = 10
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = var(20) = 1
trigger1 = MoveHit
fv = 24
value = 0.5*Root,fvar(24)
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = var(20) = 1
trigger1 = MoveContact || MoveReversed
trigger1 = Parent,StateNo=1800||Parent,StateNo=1810||Parent,StateNo=1820
v = 59
value = ifelse(MoveGuarded,1,2)
ignorehitpause = 1

[State -1]
Type = ParentVarSet
triggerAll = TeamSide=1&&Helper(8100),NumExplod(8110)<=0||TeamSide=2&&Helper(8100),NumExplod(8111)<=0
triggerAll = var(20) = 1
trigger1 = MoveGuarded||(MoveHit&&P2MoveType!=H)
v = 41
value = Root,var(41)+(Root,var(17)%10*7)
ignorehitpause = 1

[State -1]
type = TargetState
triggerAll = TeamSide=1&&Helper(8100),NumExplod(8110)<=0||TeamSide=2&&Helper(8100),NumExplod(8111)<=0||Root,var(17)%10>8
trigger1 = Root,var(41)>107||Root,var(17)%10>8
trigger1 = P2MoveType=H&&(P2StateNo=150||P2StateNo=152||P2StateNo=154)
value = 6610
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = var(20) = 1
trigger1 = MoveContact
v = 59
value = ifelse(MoveGuarded,1,2)
ignorehitpause = 1

[State -1]
Type = TargetState
trigger1 = var(20) = 1
trigger1 = MoveHit
value = 1830
ID = 7000
ignorehitpause = 1

[State -1]
Type = EnvShake
trigger1 = var(20) = 1
trigger1 = MoveHit
time = 12
ampl = 5
freq = 90
ignorehitpause = 1

[State -1]
Type = ChangeState
trigger1 = Time > 5
trigger1 = FrontEdgeDist <= 0
trigger2 = var(20) = 1
trigger2 = MoveGuarded
value = 7050
ignorehitpause = 1

[State -1]
Type = MoveHitReset
trigger1 = var(20) = 1
trigger1 = MoveContact
ignorehitpause = 1

[State -1]
type = Hitdef
trigger1 = var(54) = 0
trigger1 = var(59) = 0
attr                = A, SA
animtype            = Hard
hitflag             = MAFD
guardflag           = M
damage              = (160+Root,var(9)%10*8+fvar(39)*5)*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27), (16*Root,fvar(27))+Root,var(9)%10*1
getpower            = ifelse(var(55)=0,(128+Root,var(9)%10+8)*Root,fvar(17),0), ifelse(var(55)=0,76*Root,fvar(17),0)
givepower           = 38, 18
priority            = 7, hit
pausetime           = 0, 0
guard.pausetime     = 0, 4
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.slidetime    = 16
guard.slidetime     = 16
ground.hittime      = 16
air.hittime         = 16
ground.velocity     = 0, 0
guard.velocity      = -8
air.velocity        = 0, 0
airguard.velocity   = 0, 0
down.velocity       = 0, 0
fall                = 1
fall.recover        = 0
p2facing            = 1
ID                  = 7000

[State -1]
type = Hitdef
trigger1 = var(54) != 0
trigger1 = var(59) = 0
attr                = A, SA
animtype            = Hard
hitflag             = MAFD
guardflag           = H
damage              = (160+Root,var(9)%10*8+fvar(39)*5)*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27), (16*Root,fvar(27))+Root,var(9)%10*1
getpower            = ifelse(var(55)=0,(128+Root,var(9)%10+8)*Root,fvar(17),0), ifelse(var(55)=0,76*Root,fvar(17),0)
givepower           = 38, 18
priority            = 7, hit
pausetime           = 0, 0
guard.pausetime     = 0, 4
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.slidetime    = 16
guard.slidetime     = 16
ground.hittime      = 16
air.hittime         = 16
ground.velocity     = 0, 0
guard.velocity      = -8
air.velocity        = 0, 0
airguard.velocity   = 0, 0
down.velocity       = 0, 0
fall                = 1
fall.recover        = 0
p2facing            = 1
ID                  = 7000

[State -1]
type = Helper
trigger1 = Time > 3
trigger1 = FrontEdgeDist > 0
Stateno = 9500
ID = 9500
pos = -15, 0
postype = P1
ownpal = 1
ignorehitpause = 1
persistent = 3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
triggerAll = Root,StateNo=[1200,1210]
triggerAll = Time > 15
trigger1 = RootDist X = [-50,30]
trigger1 = RootDist Y = [-70,70]
trigger1 = Root,MoveType != H
value = 7090

[State -1]
Type = DestroySelf
trigger1 = Time > 100
trigger1 = FrontEdgeDist < -32 || BackEdgeDist < -32
trigger2 = Time > 150

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　飛刀地上 [ 跳弾 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7010]
type        = A
physics     = N
movetype    = A
anim        = 7000
ctrl        = 0
sprpriority = 4

[State -1]
type = AttackDist
trigger1 = 1
value = 45

[State -1]
Type = VarAdd
trigger1 = Time > 3
fv = 39
value = 0.1
ignorehitpause = 1
persistent = 2

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 48
value = Root,Pos Y
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Parent,StateNo = 1810 && Parent,StateType != A
v = 49
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Parent,StateNo = 1820
v = 50
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Parent,StateNo = 1810 && Parent,StateType = A
trigger2 = Parent,StateNo = 1820 && Parent,StateType = A
trigger3 = Root,StateNo = [600,620]
trigger3 = ((Root,P2BodyDist X=[-140,140])&&(Root,P2BodyDist Y>100))||((Root,P2BodyDist X!=[-140,140])&&(Root,P2BodyDist X=[-200,200])&&(Root,P2BodyDist Y>150))||((Root,P2BodyDist X!=[-200,200])&&(Root,P2BodyDist X=[-400,400])&&(Root,P2BodyDist Y>300))
v = 51
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Parent,StateNo = 1810 && Parent,StateType = A
trigger1 = Parent,P2BodyDist Y < 100
v = 51
value = 2
ignorehitpause = 1

[State -1]
type = ChangeAnim
trigger1 = var(51) = 1
trigger2 = var(51) = 2
value = 7010
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = AngleDraw
trigger1 = Anim = 7000
scale = 1, 1
value = -35

[State -1]
Type = AngleDraw
trigger1 = Anim = 7010
scale = 1, 1
value = -65

[State -1]
Type = VelSet
trigger1 = var(51) = 0
trigger1 = Time = 1
x = 10.5
y = 6

[State -1]
Type = VelSet
trigger1 = var(51) = 1
trigger1 = Time = 1
x = 8
y = 12

[State -1]
Type = VelSet
trigger1 = var(51) = 2
trigger1 = Time = 1
x = 10
y = 14

[State -1]
type = VarSet
trigger1 = Time = 0
trigger2 = var(20) = 1
trigger3 = P2StateNo != [120,159]
trigger3 = !MoveContact
v = 20
value = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = VarSet
trigger1 = var(20) = 0
trigger1 = MoveContact
v = 20
value = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 50
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 111
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 112
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveGuarded
value = s30, 0
channel = 4
ignorehitpause = 1

[State -1]
Type = Helper
trigger1 = var(20) = 1
trigger1 = MoveHit
Stateno = 6390
ID = 6390
pos = 30, 0
postype = P1
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(20) = 1
trigger1 = MoveGuarded
anim = 11500
ID = 11500
pos = const(size.mid.pos.x)+20-random%10, const(size.mid.pos.y)+20-random%10
postype = P2
ownpal = 1
scale = 0.7, 0.7
sprpriority = 4
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ParentVarAdd
trigger1 = var(20) = 1
trigger1 = MoveHit
v = 25
value = 10
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = var(20) = 1
trigger1 = MoveHit
fv = 24
value = 0.5*Root,fvar(24)
ignorehitpause = 1

[State -1]
Type = ParentVarSet
triggerAll = TeamSide=1&&Helper(8100),NumExplod(8110)<=0||TeamSide=2&&Helper(8100),NumExplod(8111)<=0
triggerAll = var(20) = 1
trigger1 = MoveGuarded||(MoveHit&&P2MoveType!=H)
v = 41
value = Root,var(41)+(Root,var(17)%10*7)
ignorehitpause = 1

[State -1]
type = TargetState
triggerAll = TeamSide=1&&Helper(8100),NumExplod(8110)<=0||TeamSide=2&&Helper(8100),NumExplod(8111)<=0||Root,var(17)%10>8
trigger1 = Root,var(41)>107||Root,var(17)%10>8
trigger1 = P2MoveType=H&&(P2StateNo=150||P2StateNo=152||P2StateNo=154)
value = 6610
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = var(20) = 1
trigger1 = MoveContact
v = 59
value = 1
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = var(20) = 1
trigger1 = MoveContact || MoveReversed
trigger1 = Parent,StateNo=1800||Parent,StateNo=1810||Parent,StateNo=1820
v = 59
value = ifelse(MoveGuarded,1,2)
ignorehitpause = 1

[State -1]
Type = TargetState
trigger1 = MoveHit
value = 1133
ID = 7010
ignorehitpause = 1

[State -1]
Type = EnvShake
trigger1 = var(20) = 1
trigger1 = MoveHit
time = 12
ampl = 5
freq = 90
ignorehitpause = 1

[State -1]
type = Helper
trigger1 = Time > 3
trigger1 = FrontEdgeDist > 0
trigger1 = var(49)>0&&Time%4=0||var(49)<=0&&Time%3=0
Stateno = 9500
ID = 9500
pos = ifelse(Anim=7000,-12,-14), ifelse(Anim=7000,-10,-24)
postype = P1
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
trigger1 = Time > 1
trigger1 = FrontEdgeDist <= 0
trigger2 = var(20) = 1
trigger2 = MoveGuarded
value = 7050
ignorehitpause = 1

[State -1]
Type = ChangeState
trigger1 = Time > 1
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 7011
ignorehitpause = 1

[State -1]
Type = MoveHitReset
trigger1 = var(20) = 1
trigger1 = MoveContact
ignorehitpause = 1

[State -1]
type = Hitdef
trigger1 = var(54) = 0
trigger1 = var(59) = 0
attr                = A, SA
animtype            = Hard
hitflag             = MAFD
guardflag           = HA
damage              = (160+Root,var(9)%10*8+fvar(39)*5)*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27), (16*Root,fvar(27))+Root,var(9)%10*1
getpower            = ifelse(var(55)=0,(128+Root,var(9)%10+8)*Root,fvar(17),0), ifelse(var(55)=0,76*Root,fvar(17),0)
givepower           = 38, 18
priority            = 4, hit
pausetime           = 0, 0
guard.pausetime     = 0, ifelse(var(50)=0,4,0)
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.hittime      = 16
ground.slidetime    = 16
guard.hittime      = 16-(var(50)!=0)*8
guard.slidetime     = 16-(var(50)!=0)*8
air.hittime         = 16
ground.velocity     = 0, 0
guard.velocity      = -8
air.velocity        = 0, 0
airguard.velocity   = 0, 0
down.velocity       = 0, 0
fall                = 1
fall.recover        = 0
ID                  = 7010

[State -1]
type = Hitdef
trigger1 = var(54) != 0
trigger1 = var(59) = 0
attr                = A, SA
animtype            = Hard
hitflag             = MAFD
guardflag           = H
damage              = (160+Root,var(9)%10*8+fvar(39)*5)*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27), (16*Root,fvar(27))+Root,var(9)%10*1
getpower            = ifelse(var(55)=0,(128+Root,var(9)%10+8)*Root,fvar(17),0), ifelse(var(55)=0,76*Root,fvar(17),0)
givepower           = 38, 18
priority            = 4, hit
pausetime           = 0, 0
guard.pausetime     = 0, ifelse(var(50)=0,4,0)
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.hittime      = 16
ground.slidetime    = 16
guard.hittime      = 16-(var(50)!=0)*8
guard.slidetime     = 16-(var(50)!=0)*8
air.hittime         = 16
ground.velocity     = 0, 0
guard.velocity      = -8
air.velocity        = 0, 0
airguard.velocity   = 0, 0
down.velocity       = 0, 0
fall                = 1
fall.recover        = 0
ID                  = 7010

[State -1]
Type = DestroySelf
trigger1 = Time > 100
trigger1 = FrontEdgeDist < -32 || BackEdgeDist < -32
trigger2 = Time > 150

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　飛刀地上 [ 跳ね返り ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7011]
type        = A
physics     = N
movetype    = A
anim        = 7020
ctrl        = 0
sprpriority = 4

[State -1]
Type = Helper
trigger1 = Time = 0
StateNo = 9600
ID = 9600
pos = 15, 15
postype = P1
ownpal = 1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
trigger1 = Time > 3
trigger1 = Pos Y < -5
StateNo = 9500
ID = 9500
pos = var(40), var(41)
postype = P1
ownpal = 1
ignorehitpause = 1
persistent = 3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = Time = 0
value = s300, 10
ignorehitpause = 1
persistent = 0

[State -1]
type = PosAdd
trigger1 = Time = 0
x = 20

[State -1]
type = PosSet
trigger1 = Time = 0
y = 0

[State -1]
type = VarSet
triggerAll = 1
trigger1 = var(48) > -50
trigger1 = var(40) := -15
trigger2 = var(48) = [-119,-50]
trigger2 = var(40) := -15
trigger3 = var(48) = [-169,-120]
trigger3 = var(40) := -14
trigger4 = var(48) = [-220,-170]
trigger4 = var(40) := -13
trigger5 = var(48) < -220
trigger5 = var(40) := -11
v = 1
value = 0
ignorehitpause = 1

[State -1]
type = VarSet
triggerAll = Time = 0
trigger1 = var(48) > -50
trigger1 = var(41) := 10
trigger2 = var(48) = [-119,-50]
trigger2 = var(41) := 15
trigger3 = var(48) = [-169,-120]
trigger3 = var(41) := 15
trigger4 = var(48) = [-220,-170]
trigger4 = var(41) := 15
trigger5 = var(48) < -220
trigger5 = var(41) := 20
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = AngleDraw
trigger1 = var(48) > -50
scale = 1, 1
value = 35

[State -1]
Type = AngleDraw
trigger1 = var(48) = [-119,-50]
scale = 1, 1
value = 45

[State -1]
Type = AngleDraw
trigger1 = var(48) = [-199,-120]
scale = 1, 1
value = 55

[State -1]
Type = AngleDraw
trigger1 = var(48) =[-250,-200]
scale = 1, 1
value = 55

[State -1]
Type = AngleDraw
trigger1 = var(48) < -250
scale = 1, 1
value = 55

[State -1]
Type = VelSet
trigger1 = var(48) > -50
trigger1 = Time = 0
x = 7+fvar(39)
y = -6-fvar(39)

[State -1]
Type = VelSet
trigger1 = var(48) = [-119,-50]
trigger1 = Time = 0
x = 7+fvar(39)
y = -7-fvar(39)

[State -1]
Type = VelSet
trigger1 = var(48) = [-199,-120]
trigger1 = Time = 0
x = 7+fvar(39)
y = -8-fvar(39)

[State -1]
Type = VelSet
trigger1 = var(48) = [-250,-200]
trigger1 = Time = 0
x = 7+fvar(39)
y = -10-fvar(39)

[State -1]
Type = VelSet
trigger1 = var(48) < -250
trigger1 = Time = 0
x = 7+fvar(39)
y = -11-fvar(39)

[State -1]
type = VarSet
trigger1 = Time = 0
trigger2 = var(20) = 1
trigger3 = P2StateNo != [120,159]
trigger3 = !MoveContact
v = 20
value = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = VarSet
trigger1 = var(20) = 0
trigger1 = MoveContact
v = 20
value = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 50
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 111
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 112
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveGuarded
value = s30, 0
channel = 4
ignorehitpause = 1

[State -1]
Type = Helper
trigger1 = var(20) = 1
trigger1 = MoveHit
Stateno = 6390
ID = 6390
pos = 30, 0
postype = P1
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(20) = 1
trigger1 = MoveGuarded
anim = 11500
ID = 11500
pos = const(size.mid.pos.x)+20-random%10, const(size.mid.pos.y)+20-random%10
postype = P2
ownpal = 1
scale = 0.7, 0.7
sprpriority = 4
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ParentVarAdd
trigger1 = var(20) = 1
trigger1 = MoveHit
v = 25
value = 10
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = var(20) = 1
trigger1 = MoveHit
fv = 24
value = 0.5*Root,fvar(24)
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = var(20) = 1
trigger1 = MoveContact || MoveReversed
trigger1 = Parent,StateNo=1800||Parent,StateNo=1810||Parent,StateNo=1820
v = 59
value = ifelse(MoveGuarded,1,2)
ignorehitpause = 1

[State -1]
Type = ParentVarSet
triggerAll = TeamSide=1&&Helper(8100),NumExplod(8110)<=0||TeamSide=2&&Helper(8100),NumExplod(8111)<=0
triggerAll = var(20) = 1
trigger1 = MoveGuarded||(MoveHit&&P2MoveType!=H)
v = 41
value = Root,var(41)+(Root,var(17)%10*7)
ignorehitpause = 1

[State -1]
type = TargetState
triggerAll = TeamSide=1&&Helper(8100),NumExplod(8110)<=0||TeamSide=2&&Helper(8100),NumExplod(8111)<=0||Root,var(17)%10>8
trigger1 = Root,var(41)>107||Root,var(17)%10>8
trigger1 = P2MoveType=H&&(P2StateNo=150||P2StateNo=152||P2StateNo=154)
value = 6610
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = var(20) = 1
trigger1 = MoveContact
v = 59
value = 1
ignorehitpause = 1

[State -1]
Type = TargetState
trigger1 = MoveHit
value = 1133
ID = 7010
ignorehitpause = 1

[State -1]
Type = EnvShake
trigger1 = var(20) = 1
trigger1 = MoveHit
time = 12
ampl = 5
freq = 90
ignorehitpause = 1

[State -1]
Type = ChangeState
trigger1 = Time > 1
trigger1 = FrontEdgeDist <= 0
trigger2 = var(20) = 1
trigger2 = MoveGuarded
value = 7050
ignorehitpause = 1

[State -1]
Type = MoveHitReset
trigger1 = var(20) = 1
trigger1 = MoveContact
ignorehitpause = 1

[State -1]
type = Hitdef
trigger1 = var(54) = 0
trigger1 = var(59) = 0
attr                = A, SA
animtype            = Hard
hitflag             = MAFD
guardflag           = M
damage              = (120+Root,var(9)%10*5+var(47))*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27), (12*Root,fvar(27))+Root,var(9)%10*1
getpower            = ifelse(var(55)=0,(92+Root,var(9)%10+5)*Root,fvar(17),0), ifelse(var(55)=0,55*Root,fvar(17),0)
givepower           = 27, 13
priority            = 4, hit
pausetime           = 0, 0
guard.pausetime     = 0, ifelse(var(50)=0,4,0)
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.hittime      = 16
ground.slidetime    = 16
guard.hittime      = 16-(var(50)!=0)*8
guard.slidetime     = 16-(var(50)!=0)*8
air.hittime         = 16
ground.velocity     = 0, 0
guard.velocity      = -8
air.velocity        = 0, 0
airguard.velocity   = 0, 0
down.velocity       = 0, 0
fall                = 1
fall.recover        = 0
ID                  = 7010

[State -1]
type = Hitdef
trigger1 = var(54) != 0
trigger1 = var(59) = 0
attr                = A, SA
animtype            = Hard
hitflag             = MAFD
guardflag           = H
damage              = (120+Root,var(9)%10*5+var(47))*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27), (12*Root,fvar(27))+Root,var(9)%10*1
getpower            = ifelse(var(55)=0,(92+Root,var(9)%10+5)*Root,fvar(17),0), ifelse(var(55)=0,55*Root,fvar(17),0)
givepower           = 27, 13
priority            = 4, hit
pausetime           = 0, 0
guard.pausetime     = 0, ifelse(var(50)=0,4,0)
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.hittime      = 16
ground.slidetime    = 16
guard.hittime      = 16-(var(50)!=0)*8
guard.slidetime     = 16-(var(50)!=0)*8
air.hittime         = 16
ground.velocity     = 0, 0
guard.velocity      = -8
air.velocity        = 0, 0
airguard.velocity   = 0, 0
down.velocity       = 0, 0
fall                = 1
fall.recover        = 0
ID                  = 7010

[State -1]
Type = ChangeState
trigger1 = Time > 1
trigger1 = FrontEdgeDist <= 0
value = 7050

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　飛刀地上
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7020]
type        = A
physics     = N
movetype    = A
anim        = 7020
ctrl        = 0
sprpriority = 4

[State -1]
type = AttackDist
trigger1 = 1
value = 45

[State -1]
Type = VarAdd
trigger1 = Time > 3
fv = 39
value = 0.1
ignorehitpause = 1
persistent = 2

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 51
value = ifelse(Parent,StateNo = 270,1,0)
ignorehitpause = 1

[State -1]
type = ChangeAnim
trigger1 = var(51) = 1
value = 7021
elem = 1
ignorehitpause = 1
persistent = 0

[State -1]
Type = AngleDraw
trigger1 = Anim = 7020
scale = 1, 1
value = 20

[State -1]
Type = AngleDraw
trigger1 = Anim = 7021
scale = 1, 1
value = 70

[State -1]
Type = VelSet
trigger1 = Anim = 7020
trigger1 = Time = 1
x = 11
y = -3

[State -1]
Type = VelSet
trigger1 = Anim = 7021
trigger1 = Time = 1
x = 5
y = -12

[State -1]
type = VarSet
trigger1 = Time = 0
trigger2 = var(20) = 1
trigger3 = P2StateNo != [120,159]
trigger3 = !MoveContact
v = 20
value = 0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = VarSet
trigger1 = var(20) = 0
trigger1 = MoveContact
v = 20
value = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 50
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 111
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveHit
value = s1, 112
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(20) = 1
trigger1 = MoveGuarded
value = s30, 0
channel = 4
ignorehitpause = 1

[State -1]
Type = Helper
trigger1 = var(20) = 1
trigger1 = MoveHit
Stateno = 6390
ID = 6390
pos = 30, 0
postype = P1
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(20) = 1
trigger1 = MoveGuarded
anim = 11500
ID = 11500
pos = const(size.mid.pos.x)+20-random%10, const(size.mid.pos.y)+20-random%10
postype = P2
ownpal = 1
scale = 0.7, 0.7
sprpriority = 4
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ParentVarAdd
trigger1 = var(20) = 1
trigger1 = MoveHit
v = 25
value = 10
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = var(20) = 1
trigger1 = MoveHit
fv = 24
value = 0.5*Root,fvar(24)
ignorehitpause = 1

[State -1]
Type = ParentVarSet
triggerAll = TeamSide=1&&Helper(8100),NumExplod(8110)<=0||TeamSide=2&&Helper(8100),NumExplod(8111)<=0
triggerAll = var(20) = 1
trigger1 = MoveGuarded||(MoveHit&&P2MoveType!=H)
v = 41
value = Root,var(41)+(Root,var(17)%10*7)
ignorehitpause = 1

[State -1]
type = TargetState
triggerAll = TeamSide=1&&Helper(8100),NumExplod(8110)<=0||TeamSide=2&&Helper(8100),NumExplod(8111)<=0||Root,var(17)%10>8
trigger1 = Root,var(41)>107||Root,var(17)%10>8
trigger1 = P2MoveType=H&&(P2StateNo=150||P2StateNo=152||P2StateNo=154)
value = 6610
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = var(20) = 1
trigger1 = MoveContact
v = 59
value = 1
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = var(20) = 1
trigger1 = MoveContact || MoveReversed
trigger1 = Parent,StateNo=1800||Parent,StateNo=1810||Parent,StateNo=1820
v = 59
value = ifelse(MoveGuarded,1,2)
ignorehitpause = 1

[State -1]
Type = TargetState
trigger1 = MoveHit
value = 1133
ID = 7020
ignorehitpause = 1

[State -1]
Type = EnvShake
trigger1 = var(20) = 1
trigger1 = MoveHit
time = 12
ampl = 5
freq = 90
ignorehitpause = 1

[State -1]
type = Helper
trigger1 = Time > 3
trigger1 = FrontEdgeDist > 0
Stateno = 9500
ID = 9500
pos = ifelse(Anim=7020,-25,-7), ifelse(Anim=7020,9,18)
postype = P1
ownpal = 1
ignorehitpause = 1
persistent = 2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = ChangeState
trigger1 = Time > 1
trigger1 = FrontEdgeDist <= 0
trigger2 = var(20) = 1
trigger2 = MoveGuarded
value = 7050
ignorehitpause = 1

[State -1]
Type = ChangeState
trigger1 = Time > 1
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 7011
ignorehitpause = 1

[State -1]
Type = MoveHitReset
trigger1 = var(20) = 1
trigger1 = MoveContact
ignorehitpause = 1

[State -1]
type = Hitdef
trigger1 = var(54) = 0
trigger1 = var(59) = 0
attr                = A, SA
animtype            = Hard
hitflag             = MAFD
guardflag           = H
damage              = (160+Root,var(9)%10*8+fvar(39)*5)*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27), (16*Root,fvar(27))+Root,var(9)%10*1
getpower            = ifelse(var(55)=0,(128+Root,var(9)%10+8)*Root,fvar(17),0), ifelse(var(55)=0,76*Root,fvar(17),0)
givepower           = 38, 18
priority            = 4, hit
pausetime           = 0, 0
guard.pausetime     = 0, 4
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.slidetime    = 16
guard.slidetime     = 16
ground.hittime      = 16
air.hittime         = 16
ground.velocity     = 0, 0
guard.velocity      = -8
air.velocity        = 0, 0
airguard.velocity   = 0, 0
down.velocity       = 0, 0
fall                = 1
fall.recover        = 0
ID                  = 7020

[State -1]
type = Hitdef
trigger1 = var(54) != 0
trigger1 = var(59) = 0
attr                = A, SA
animtype            = Hard
hitflag             = MAFD
guardflag           = 
damage              = (160+Root,var(9)%10*8+fvar(39)*5)*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27), (16*Root,fvar(27))+Root,var(9)%10*1
getpower            = ifelse(var(55)=0,(128+Root,var(9)%10+8)*Root,fvar(17),0), ifelse(var(55)=0,76*Root,fvar(17),0)
givepower           = 38, 18
priority            = 4, hit
pausetime           = 0, 0
guard.pausetime     = 0, 4
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.slidetime    = 16
guard.slidetime     = 16
ground.hittime      = 16
air.hittime         = 16
ground.velocity     = 0, 0
guard.velocity      = -8
air.velocity        = 0, 0
airguard.velocity   = 0, 0
down.velocity       = 0, 0
fall                = 1
fall.recover        = 0
ID                  = 7020

[State -1]
Type = DestroySelf
trigger1 = Time > 100
trigger1 = FrontEdgeDist < -32 || BackEdgeDist < -32
trigger2 = Time > 150

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　飛刀地上 [ 跳ね返り ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7050]
type        = A
physics     = N
movetype    = I
anim        = 7050
ctrl        = 0
sprpriority = 4

[State -1]
Type = VarSet
trigger1 = 1
v = 59
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time < 2
trigger2 = Root,StateNo!=[200,420]
trigger3 = Root,MoveType=H
fv = 31
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time > 10
triggerAll = (RootDist X = [-70,10])||((Root,StateNo=215||Root,StateNo=260)&&(RootDist X=[-90,10]))
triggerAll = RootDist Y = [-100,100]
trigger1 = Root,StateNo=215&&Root,AnimElemTime(6)>0&&Root,AnimElemTime(8)<0
trigger2 = Root,StateNo=260&&Root,AnimElemTime(6)>0&&Root,AnimElemTime(8)<0
trigger3 = Root,StateNo=410&&Root,AnimElemTime(5)>0&&Root,AnimElemTime(7)<0
trigger4 = Root,StateNo=420&&Root,AnimElemTime(4)>0&&Root,AnimElemTime(6)<0&&Root,Anim=420
trigger5 = Root,StateNo=420&&Root,AnimElemTime(2)>0&&Root,AnimElemTime(3)<0&&Root,Anim=421
trigger6 = Root,StateNo=1000&&Root,AnimElemTime(9)>0&&Root,AnimElemTime(11)<0
trigger7 = Root,StateNo=1002&&Root,AnimElemTime(3)>0&&Root,AnimElemTime(5)<0
fv = 31
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time > 10
triggerAll = RootDist X = [-70,10]
triggerAll = RootDist Y = [-100,100]
trigger1 = Root,StateNo=200&&Root,AnimElemTime(2)>0&&Root,AnimElemTime(4)<0
trigger2 = Root,StateNo=210&&Root,AnimElemTime(4)>0&&Root,AnimElemTime(6)<0
trigger3 = Root,StateNo=220&&Root,AnimElemTime(6)>0&&Root,AnimElemTime(8)<0
trigger4 = Root,StateNo=225&&Root,AnimElemTime(4)>0&&Root,AnimElemTime(6)<0
trigger5 = Root,StateNo=230&&Root,AnimElemTime(4)>0&&Root,AnimElemTime(6)<0
trigger6 = Root,StateNo=250&&Root,AnimElemTime(3)>0&&Root,AnimElemTime(5)<0
trigger7 = Root,StateNo=255&&Root,AnimElemTime(4)>0&&Root,AnimElemTime(5)<0
trigger8 = Root,StateNo=600&&Root,AnimElemTime(3)>0&&Root,AnimElemTime(5)<0
trigger9 = Root,StateNo=610&&Root,AnimElemTime(3)>0&&Root,AnimElemTime(5)<0
trigger10 = Root,StateNo=620&&Root,AnimElemTime(3)>0&&Root,AnimElemTime(5)<0
trigger11 = Root,StateNo=1001&&Root,AnimElemTime(2)>0&&Root,AnimElemTime(4)<0
trigger12 = Root,StateNo=1003&&Root,AnimElemTime(10)>0&&Root,AnimElemTime(11)<0
trigger13 = Root,StateNo=1100&&Root,AnimElemTime(11)>0&&Root,AnimElemTime(13)<0
trigger14 = Root,StateNo=1110&&Root,AnimElemTime(9)>0&&Root,AnimElemTime(11)<0
trigger15 = Root,StateNo=1120&&Root,AnimElemTime(20)>0
trigger16 = Root,StateNo=1400&&Root,AnimElemTime(6)>0&&Root,AnimElemTime(9)<0
trigger17 = Root,StateNo=1500&&Root,AnimElemTime(6)>0&&Root,AnimElemTime(8)<0
fv = 31
value = 2
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time > 10
triggerAll = (RootDist X=[-100,10])
triggerAll = (RootDist Y=[-50,120])||(Root,StateNo=270&&(RootDist Y=[-100,140]))
trigger1 = Root,StateNo=255&&Root,AnimElemTime(4)>0&&Root,AnimElemTime(5)<0
trigger2 = Root,StateNo=270&&Root,AnimElemTime(6)>0&&Root,AnimElemTime(8)<0
fv = 31
value = 3
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time > 10
trigger1 = RootDist X != [-70,10]
trigger2 = Time > 10
trigger2 = RootDist Y != [-100,100]
trigger3 = Time <= 10
fv = 30
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time > 10
trigger1 = RootDist X = [-70,10]
trigger1 = RootDist Y = [-100,100]
fv = 30
value = 1
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = Time = 0
value = s300, 10
ignorehitpause = 1
persistent = 0

[State -1]
Type = VelSet
trigger1 = Time = 0
x = -2.5-Vel X*0.05-fvar(39)
y = -10-fvar(1)

[State -1]
Type = VelAdd
trigger1 = Time > 0
y = 0.4

[State -1]
Type = Helper
trigger1 = Time = 0
StateNo = 9600
ID = 9600
pos = 20, 15
postype = P1
ownpal = 1
facing = -1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
trigger1 = Time > 3
trigger1 = Pos Y < -20
StateNo = 9500
ID = 9500
pos = 5, -15
postype = P1
ownpal = 1
ignorehitpause = 1
persistent = 3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Helper
triggerAll = Time > 0
trigger1 = fvar(31) > 0
StateNo = 9600
ID = 9600
pos = ifelse(fvar(31)<3,0,-10), ifelse(fvar(31)<3,0,40)
postype = P1
ownpal = 1
facing = -1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = PlaySnd
triggerAll = Time > 0
trigger1 = fvar(31) > 0
value = s300, 0
persistent = 0

[State -1]
Type = ChangeState
triggerAll = Time > 0
trigger1 = fvar(31)=[1,3]
value = ifelse(fvar(31)=1,7000,ifelse(fvar(31)=2,7010,7020))

[State -1]
Type = ChangeState
trigger1 = Time > 0
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 7070

[State -1]
Type = ChangeState
triggerAll = Time > 0
triggerAll = Root,MoveType != H
triggerAll = (RootDist X=[-100,10])
triggerAll = RootDist Y = [-100,150]
trigger1 = Root,StateNo=1201&&Root,AnimElemTime(4)>=0&&AnimElemTime(9)<0
value = 7090

[State -1]
Type = ChangeState
triggerAll = Time > 15
triggerAll = Root,MoveType != H
trigger1 = RootDist X = [-30,30]
trigger1 = (Root,StateType = S && (RootDist Y = [-70,70]))||(Root,StateType=C&&(RootDist Y=[-70,50]))||(Root,StateType=A&&(RootDist Y=[-70,50]))
trigger2 = (Root,StateNo=2100||Root,StateNo=2110)&&Root,AnimElemTime(17)>=0&&Root,AnimElemTime(18)<0
trigger2 = RootDist Y=[-200,200]
value = 7090

[State -1]
Type = ChangeState
triggerAll = Time > 15
triggerAll = Root,MoveType != H
triggerAll = RootDist X = [-70,70]
triggerAll = RootDist Y = [-100,150]
trigger1 = Root,StateNo=1120&&Root,AnimElemTime(14)>0
trigger2 = Root,StateNo=280||Root,StateNo=290
trigger3 = Root,StateNo=1822&&Root,AnimElemTime(6)>0&&Root,AnimElemTime(9)<0
value = 7090

[State -1]
Type = ChangeState
triggerAll = Time > 15
triggerAll = Root,MoveType != H
trigger1 = Root,StateNo=2101&&Root,AnimElemTime(2)<0
trigger2 = Root,StateNo=2300&&Root,AnimElemTime(9)>0&&Root,AnimElemTime(10)<0
trigger3 = Root,StateNo=2900&&Root,AnimElemTime(3)>0&&Root,AnimElemTime(4)<0
trigger4 = Root,StateNo=3001||Root,StateNo=3101
value = 7090

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　飛刀地上 [ 地面 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7070]
type        = S
physics     = N
movetype    = I
anim        = 7070
velset      = 0, 0
ctrl        = 0
sprpriority = 4

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 45
value = ifelse(facing=1,0,1)
ignorehitpause = 1

[State -1]
Type = Helper
trigger1 = Time = 0
StateNo = 9600
ID = 9600
pos = 0, 0
postype = P1
ownpal = 1
facing = -1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = PlaySnd
trigger1 = Time = 0
value = s300, 0
ignorehitpause = 1
persistent = 0

[State -1]
type = PosSet
trigger1 = 1
y = 0

[State -1]
Type = ChangeState
trigger1 = Time > 0
trigger1 = (RootDist X=[-30,30])&&(RootDist Y=[-50,50])&&Root,MoveType!=H&&Root,StateType!=A
trigger1 = Root,StateNo!=2502&&(Root,StateNo!=[3001,3004])&&(Root,StateNo!=[3101,3104])
trigger2 = (Root,StateNo=2100||Root,StateNo=2110)&&Root,AnimElemTime(17)>=0&&Root,AnimElemTime(18)<0
trigger3 = Root,StateNo=2101||Root,StateNo=2501
trigger4 = Root,StateNo=2300&&Root,AnimElemTime(9)>0&&Root,AnimElemTime(10)<0
trigger5 = Root,StateNo=2502&&Root,AnimElemTime(3)>0
trigger6 = Root,StateNo=2900&&Root,AnimElemTime(3)>0&&Root,AnimElemTime(4)<0
trigger7 = Root,StateNo=3001||Root,StateNo=3101
value = 7090
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
triggerAll = Time > 0
trigger1 = TeamSide = 1
trigger1 = NumExplod(7080)=0
trigger2 = TeamSide = 2
trigger2 = NumExplod(7090)=0
anim = ifelse(TeamSide =1,7080,7090)
ID = ifelse(TeamSide =1,7080,7090)
bindtime = -1
pos = 5, -15
postype = P1
ownpal = 1
facing = ifelse(var(45)=0,1,-1)
scale = 0.5, 0.5
sprpriority = 3
ignorehitpause = 1
persistent = 2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
triggerAll = Time > 0
trigger1 = RootDist X != [-400,400]
trigger2 = FrontEdgeDist < -32 || BackEdgeDist < -32
ID = 7080
ignorehitpause = 1

[State -1]
Type = RemoveExplod
triggerAll = Time > 0
trigger1 = RootDist X != [-400,400]
trigger2 = FrontEdgeDist < -32 || BackEdgeDist < -32
ID = 7090
ignorehitpause = 1

[State -1]
Type = DestroySelf
triggerAll = Time > 0
trigger1 = RootDist X != [-400,400]
trigger2 = FrontEdgeDist < -32 || BackEdgeDist < -32

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　シールドカウンター [ 回転ナイフ ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7080]
type        = A
physics     = N
movetype    = I
anim        = 7050
ctrl        = 0
sprpriority = 2

[State -1]
type = VarRangeSet
trigger1 = Time = 0
first = 57
last = 59
value = 0
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = 1
v = 57
value = 1
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Time < 15
v = 58
value = -4
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Time = [20,27]
v = 58
value = 1
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Time = [27,33]
v = 58
value = 3
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Time = [34,39]
v = 58
value = 4
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Time = [40,45]
v = 58
value = 5
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Time > 0
v = 59
value = 8
ignorehitpause = 1

[State -1]
Type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 0+var(59),256-var(59)

[State -1]
Type = BindToParent
trigger1 = Root,StateNo = 2900
pos = -76+var(57), -10+var(58)
;pos = -36, -20

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
type = ChangeAnim
trigger1 = Anim = 7050
trigger1 = AnimTime = 0
trigger1 = Time > 32
value = 7051
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
trigger1 = Anim = 7051
trigger1 = AnimTime = 0
trigger1 = Time > 64
value = 7052
ignorehitpause = 1
persistent = 0

[State -1]
type = ChangeAnim
trigger1 = Anim = 7052
trigger1 = AnimTime = 0
trigger1 = Time > 96
value = 7053
ignorehitpause = 1
persistent = 0

[State -1]
Type = Helper
trigger1 = Root,StateNo != 2900
trigger2 = Root,StateNo = 2900
trigger2 = Root,AnimElemTime(4) >= 0
StateNo = 9600
ID = 9600
pos = 50, 35
postype = P1
ownpal = 1
facing = -1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
trigger1 = Root,StateNo != 2900
trigger2 = Root,StateNo = 2900
trigger2 = Root,AnimElemTime(4) >= 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　飛刀 [ ナイフキャッチ ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7090]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0
sprpriority = 5

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = PlaySnd
trigger1 = Time = 0
value = s3, 87

[State -1]
Type = Helper
trigger1 = Time = 0
StateNo = 9600
ID = 9600
pos = 0, 20
postype = P1
ownpal = 1
facing = -1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 7080
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = 1
ID = 7090
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = Time > 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　巧技・幻夢舞踏 [ 無空間攻撃 ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 7500]
type        = A
physics     = N
movetype    = A
anim        = 7500
velset      = 0, 0
ctrl        = 0
sprpriority = 4

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=2900
v = 50
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
fv = 10
value = ifelse(Root,var(20)>0,1,0)
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = 1
fv = 1
value = (70+(fvar(10)>0)*10+Root,var(9)%10*3)*Root,fvar(21)*Root,fvar(23)*Root,fvar(24)*Root,fvar(25)*Root,fvar(27)
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = 1
fv = 2
value = (5+Root,var(9)%10*1)*Root,fvar(27)
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = 1
fv = 3
value = ifelse(var(50)%10=0,(56+Root,var(9)%10*3)*Root,fvar(17),0)
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = 1
fv = 4
value = ifelse(var(50)%10=0,33*Root,fvar(17),0)
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = 1
fv = 5
value = 12
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = 1
fv = 6
value = 6
ignorehitpause = 1

[State -1]
Type = VarRandom
trigger1 = Time = 0
v = 57
range = 0,360
ignorehitpause = 1

[State -1]
Type = VarRandom
trigger1 = Time = 0
v = 58
range = -60,60
ignorehitpause = 1

[State -1]
Type = VarRandom
trigger1 = Time = 0
v = 59
range = -60,60
ignorehitpause = 1

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 2, 0.5
value = var(57)

[State -1]
type = PosSet
trigger1 = 1
x = 160-Ceil(ScreenPos X-Pos X+var(58))
y = 130-Ceil(ScreenPos Y-Pos Y+var(59))

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Trans
trigger1 = Time <= 12
trans = Add

[State -1]
Type = Trans
trigger1 = Time > 12
trans = AddAlpha
alpha = 256-((Time-12)*8),256

[State -1]
Type = Projectile
trigger1 = Root,var(9)%10<5
trigger1 = Time=1
ProjID              = 7500
projanim            = 4950
projremove          = 0
projremovetime      = 3
projpriority        = 2147483647
velocity            = 0, 0
offset              = 0, 0
postype             = P1
attr                = A, HA
animtype            = Hard
hitflag             = MAFD
guardflag           = MA
damage              = fvar(1), fvar(2)
getpower            = fvar(3), fvar(4)
givepower           = fvar(5), fvar(6)
priority            = 4, hit
pausetime           = 0, 4
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.slidetime    = 16
guard.slidetime     = 16
ground.hittime      = 16
air.hittime         = 16
ground.velocity     = -4, 0
guard.velocity      = -3
air.velocity        = -4, 0
airguard.velocity   = -4, 0
down.velocity       = -3, 0
guard.kill          = 0
fall                = 0
air.fall            = 1
fall.recover        = 1
fall.recovertime    = 25
ID                  = 7500
guard.dist          = 500

[State -1]
Type = Projectile
trigger1 = Root,var(9)%10>=5
trigger1 = Time=1
ProjID              = 7500
projanim            = 4950
projremove          = 0
projremovetime      = 3
projpriority        = 2147483647
velocity            = 0, 0
offset              = 0, 0
postype             = P1
attr                = A, HA
animtype            = Hard
hitflag             = MAFD
guardflag           = H
damage              = fvar(1), fvar(2)
getpower            = fvar(3), fvar(4)
givepower           = fvar(5), fvar(6)
priority            = 4, hit
pausetime           = 0, 4
sparkno             = -1
sparkxy             = -1
guard.sparkno       = -1
hitsound            = -1
guardsound          = -1
ground.type         = High
ground.slidetime    = 16
guard.slidetime     = 16
ground.hittime      = 16
air.hittime         = 16
ground.velocity     = -4, 0
guard.velocity      = -3
air.velocity        = -4, 0
airguard.velocity   = -4, 0
down.velocity       = -3, 0
guard.kill          = 0
fall                = 0
air.fall            = 1
fall.recover        = 1
fall.recovertime    = 25
ID                  = 7500
guard.dist          = 500

[State -1]
Type = DestroySelf
trigger1 = AnimTime=0||Root,MoveType=H

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　勝利ポーズ [ ナイフキャッチ ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 9100]
type        = A
physics     = N
movetype    = I
anim        = 7050
ctrl        = 0
sprpriority = 2

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = VelSet
trigger1 = Time = [0,10]
x = -0.42
y = -5.45

[State -1]
Type = VelAdd
trigger1 = Time = [11,49]
y = 0.244

[State -1]
Type = VelAdd
trigger1 = Time > 50
y = 0.48

[State -1]
Type = DestroySelf
trigger1 = Root,StateNo != 4200
trigger2 = Root,StateNo = 4200
trigger2 = Root,AnimElemTime(10) >= 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　傷
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 9700]
type        = A
physics     = N
movetype    = I
anim        = 6540
ctrl        = 0
sprpriority = 4

[State -1]
type = PosSet
trigger1 = 1
x = ifelse(EnemyNear(0),Alive,EnemyNear(0),Pos X+(10*-EnemyNear(0),facing),EnemyNear(1),Pos X+(10*-EnemyNear(1),facing))
y = EnemyNear,const(size.mid.pos.y)

[State -1]
Type = Trans
trigger1 = IsHelper(9700)
trans = Sub

[State -1]
Type = Trans
trigger1 = !IsHelper(9700)
trans = add

[State -1]
type = SprPriority
trigger1 = Root,StateNo=2911
value = 100

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 1, 1

[State -1]
Type = DestroySelf
trigger1 = Root,Ctrl=1||Root,MoveType=H||EnemyNear,Alive=0||EnemyNear,MoveType!=H
trigger2 = Root,StateNo=2911&&Root,AnimElemTime(80)>=0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 9750]
type        = A
physics     = N
movetype    = I
anim        = 12800
ctrl        = 0
sprpriority = 100

[State -1]
type = PalFx
trigger1 = 1
time = 1
add = 256,0,0
mul = 256,0,0

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = AngleDraw
trigger1 = 1
scale = 10, 10

[State -1]
Type = DestroySelf
trigger1 = Root,StateNo=2911&&Root,AnimElemTime(80)>10

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　カットイン
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 8000]
type        = A
physics     = N
movetype    = I
anim        = 20012
ctrl        = 0
sprpriority = 8

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag1 = invisible
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = VarAdd
trigger1 = var(7) < 250
trigger1 = Time >= 40
v = 7
value = 12
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = Time = 0
v = 50
value = 20000
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=1020||Root,StateNo=1025||Root,StateNo=1120||Root,StateNo=2100||Root,StateNo=2110||Root,StateNo=2520
v = 50
value = 20002
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=1520||Root,StateNo=1820||Root,StateNo=2300
v = 50
value = 20004
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=1420
v = 50
value = 20006
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=2910||Root,StateNo=3002||Root,StateNo=3102
v = 50
value = 20008
ignorehitpause = 1

[State -1]
type = VarSet
trigger1 = Time = 0
v = 51
value = var(50)+1
ignorehitpause = 1

[State -1]
type = PalFx
trigger1 = Time < 40
time = 1
add = 0,0,0
mul = 0,0,0

[State -1]
type = PalFx
trigger1 = Time >= 40
time = 1
add = 0,0,0
mul = ceil(256-var(7)),ceil(256-var(7)),ceil(256-var(7))

[State -1]
type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = Explod
trigger1 = Time = 0
trigger2 = NumExplod(var(50)) = 0
trigger2 = Time = [1,2]
anim = var(50)
ID = var(50)
pos = -240+(Time*12) ,0
postype = back
scale = .5, .5
ownpal = 1
sprpriority = -1
removetime = 21
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = Time = [0,41]
ID = var(50)
pos = ifelse(Time<21,-240+(Time*12),0), 0
postype = back
scale = .5, .5
ownpal = 1
sprpriority = -1
removetime = 41
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 41
trigger2 = NumExplod(var(51)) = 0
trigger2 = Time = [42,43]
anim = var(51)
ID = var(51)
pos = 0, 0
postype = back
scale = 0.5+(Time-40)*0.02,.5+(Time-40)*0.02
ownpal = 0
sprpriority = -1
removetime = 10
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = Time = [41,55]
ID = var(51)
pos = 0, 0
postype = back
scale = 0.5+(Time-40)*0.02,.5+(Time-40)*0.02
ownpal = 0
sprpriority = -1
removetime = 15
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Time >= 55
ID = var(50)+1

[State -1]
Type = DestroySelf
trigger1 = Time >= 55

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　MAGIC CIRCUIT
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 8040]
type        = A
physics     = N
movetype    = I
anim        = 20012
sprpriority = 8

[State -1, 火煙]
Type = VarSet
trigger1 = var(40) != [0,85]
v = 40
value = 0
ignorehitpause = 1

[State -1, 火煙]
Type = VarSet
trigger1 = NumHelper(6900)>0
trigger1 = Helper(6900),var(59)>0
v = 40
value = 3
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 火煙]
Type = VarAdd
trigger1 = var(40) > 0
v = 40
value = -1
ignorehitpause = 1

[State -1, AI-Learning(Summon)]
Type = VarSet
trigger1 = RoundState = 2
v = 44
value = Helper(3700),var(44)
ignorehitpause = 1

[State -1, AI-Learning(Precession Evasion)]
Type = VarAdd
trigger1 = RoundState != 3
trigger1 = Root,Alive = 0
trigger1 = Root,var(1) = 0
v = 48
value = 0
ignorehitpause = 1

[State -1, AI-Learning(Precession Evasion)]
Type = VarAdd
trigger1 = RoundState = 2
trigger1 = Root,var(1) != 0
trigger1 = Root,MoveType != A
trigger1 = var(48) < 1000
v = 48
value = 1
ignorehitpause = 1

[State -1, AI-Learning(Precession Evasion)]
Type = VarSet
trigger1 = var(48) > 1000
trigger2 = Root,MoveType = H
trigger3 = Root,MoveType = A && (Root,StateNo = [200,3200])
v = 48
value = 1000
ignorehitpause = 1

[State -1, 琥珀判定用]
Type = VarSet
trigger1 = Root,StateNo = 1800
trigger1 = P2MoveType = H
trigger1 = P2StateNo=6630||P2StateNo=6632||P2StateNo=6650||(P2StateNo=[6660,6663])||(P2StateNo=[6670,6672])||P2StateNo=1830
v = 50
value = 1
ignorehitpause = 1

[State -1, 琥珀判定用]
Type = VarSet
triggerAll = var(50) > 0
trigger1 = P2StateNo!=6630&&P2StateNo!=6632&&P2StateNo!=6650&&(P2StateNo!=[6660,6663])&&(P2StateNo!=[6670,6672])&&P2StateNo!=1830
v = 50
value = 0
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = var(50) > 0
trigger1 = Time%6= 0
trigger1 = EnemyNear,Vel X < 0
trigger1 = P2StateNo=6630||P2StateNo=6632||P2StateNo=6650||(P2StateNo=[6660,6663])||(P2StateNo=[6670,6672])||P2StateNo=1830
anim = 11000
ID = 11000
pos = 0, -Ceil(EnemyNear,Pos Y)
postype = P2
ownpal = 1
sprpriority = 3
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(50) > 0
trigger1 = Time%6= 0
trigger1 = EnemyNear,Vel X < 0
trigger1 = P2StateNo=6630||P2StateNo=6632||P2StateNo=6650||(P2StateNo=[6660,6663])||(P2StateNo=[6670,6672])||P2StateNo=1830
anim = 11000
ID = 11000
pos = 0, -Ceil(EnemyNear,Pos Y)
postype = P2
ownpal = 1
sprpriority = 3
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　MAGIC CIRCUIT [ HANDICAP - NotHit ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1]
Type = VarSet
triggerAll = Root,var(16)%10>0||Root,var(16)/10%10>0
trigger1 = Root,StateNo != 0
trigger1 = Root,StateNo != [10,12]
trigger1 = Root,StateNo != 20
trigger1 = Root,StateNo != [130,132]
trigger1 = Root,StateNo != 140
trigger1 = Root,StateNo != [150,155]
v = 1
value = 0
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = Root,var(16)%10>0||Root,var(16)/10%10>0
trigger1 = Root,StateNo = 0
trigger2 = Root,StateNo = [10,12]
trigger3 = Root,StateNo = 20
trigger4 = Root,StateNo = [130,132]
trigger5 = Root,StateNo = 140
trigger6 = Root,StateNo = [150,155]
v = 1
value = 1
ignorehitpause = 1

[State -1, ガード抜け]
Type = VarSet
trigger1 = ((Root,StateNo!=[150,155])&&Root,Ctrl=1)||Root,MoveType=A||(Root,MoveType=H&&(Root,StateNo!=[120,159]))
v = 2
value = 0
ignorehitpause = 1

[State -1, ガード抜け]
Type = VarAdd
triggerAll = Root,var(13)/100%10>0
trigger1 = Root,StateNo=[150,155]
v = 2
value = 1+Root,var(13)/100%10
ignorehitpause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　MAGIC CIRCUIT [ HANDICAP ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, HANDICAP(火事場)]
Type = VarSet
triggerAll = Root,var(10)%10>0
trigger1 = Root,Alive = 1
v = 56
value = 0
ignorehitpause = 1

[State -1, HANDICAP(火事場)]
Type = VarSet
triggerAll = Root,Alive = 0
triggerAll = Root,var(10)%10>0
triggerAll = var(56) != [0,10]
trigger1 = (RoundState=[3,4])||(RoundState=2&&Root,StateNo=5150)
v = 56
value = 0
ignorehitpause = 1

[State -1, HANDICAP(火事場)]
Type = VarAdd
triggerAll = Root,Alive = 0
triggerAll = Root,var(10)%10>0
trigger1 = ((RoundState=[3,4])&&Root,MoveType=H)||(RoundState=2&&Root,StateNo=5150)
v = 56
value = 1
ignorehitpause = 1
persistent = 12

[State -1, HANDICAP(火事場エフェクト用)]
Type = Null
triggerAll = RoundState = 2
triggerAll = Root,var(10)%10>0
triggerAll = Root,Alive = 1
trigger1 = Root,Life = Root,LifeMax
trigger1 = var(57) := 0
trigger2 = Root,Life < Root,LifeMax && Root,Life >= Root,LifeMax*0.9
trigger2 = var(57) := 1
trigger3 = Root,Life < Root,LifeMax*0.9 && Root,Life >= Root,LifeMax*0.8
trigger3 = var(57) := 2
trigger4 = Root,Life < Root,LifeMax*0.8 && Root,Life >= Root,LifeMax*0.7
trigger4 = var(57) := 3
trigger5 = Root,Life < Root,LifeMax*0.7 && Root,Life >= Root,LifeMax*0.6
trigger5 = var(57) := 4
trigger6 = Root,Life < Root,LifeMax*0.6 && Root,Life >= Root,LifeMax*0.5
trigger6 = var(57) := 5
trigger7 = Root,Life < Root,LifeMax*0.5 && Root,Life >= Root,LifeMax*0.4
trigger7 = var(57) := 6
trigger8 = Root,Life < Root,LifeMax*0.4 && Root,Life >= Root,LifeMax*0.3
trigger8 = var(57) := 7
trigger9 = Root,Life < Root,LifeMax*0.3 && Root,Life >= Root,LifeMax*0.2
trigger9 = var(57) := 8
trigger10 = Root,Life < Root,LifeMax*0.2 && Root,Life >= Root,LifeMax*0.1
trigger10 = var(57) := 9
trigger11 = Root,Life < Root,LifeMax*0.1 && Root,Life > 0
trigger11 = var(57) := 10

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　MAGIC CIRCUIT [ LARGE JUMP ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, LARGE JUMP]
Type = VarSet
triggerAll = RoundState = 2
triggerAll = EnemyNear,Ctrl = 0 && EnemyNear,MoveType = H
triggerAll = Root,StateNo != [900,970]
trigger1 = Root,StateNo = [200,3200]
trigger1 = Root,var(59) > 0
v = 30
value = 1
ignorehitpause = 1

[State -1, LARGE JUMP]
Type = VarSet
trigger1 = Root,StateNo = [0,52]
trigger1 = Root,StateNo != 40 && Root,StateNo != 45 && Root,StateNo != 50
trigger1 = Root,Ctrl = 1
trigger2 = EnemyNear,Ctrl = 1 || EnemyNear,MoveType = A
trigger3 = EnemyNear,StateNo = [120,159]
trigger4 = EnemyNear,StateNo = [5200,5299]
v = 30
value = 0
ignorehitpause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　AI LEARNING Easy
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, HANDICAP(ド根性)]
Type = Null
triggerAll = RoundState = 2
triggerAll = Root,Alive
triggerAll = Root,var(13)%10>0
trigger1 = Root,Life <= Root,LifeMax*0.25
trigger1 = fvar(1) := 0.722-(Root,var(13)%10*0.0358)
trigger2 = Root,Life <= Root,LifeMax*0.5 && Root,Life > Root,LifeMax*0.25
trigger2 = fvar(1) := 0.822-(Root,var(13)%10*0.0298)
trigger3 = Root,Life <= Root,LifeMax*0.76 && Root,Life > Root,LifeMax*0.5
trigger3 = fvar(1) := 0.872-(Root,var(13)%10*0.0252)
trigger4 = Root,Life > Root,LifeMax*0.76
trigger4 = fvar(1) := 0.922-(Root,var(13)%10*0.0216)
ignorehitpause = 1

[State -1, HANDICAP(ド根性)]
Type = Null
triggerAll = RoundState = 2
triggerAll = Root,Alive
triggerAll = Root,var(13)%10>7
trigger1 = Root,Life <= Root,LifeMax*0.25
trigger1 = fvar(1) := 0.3-(Root,var(13)%10>8)*0.2
trigger2 = Root,Life <= Root,LifeMax*0.5 && Root,Life > Root,LifeMax*0.25
trigger2 = fvar(1) := 0.325-(Root,var(13)%10>8)*0.2
trigger3 = Root,Life <= Root,LifeMax*0.76 && Root,Life > Root,LifeMax*0.5
trigger3 = fvar(1) := 0.35-(Root,var(13)%10>8)*0.2
trigger4 = Root,Life > Root,LifeMax*0.76
trigger4 = fvar(1) := 0.375-(Root,var(13)%10>8)*0.2
ignorehitpause = 1

[State -1, HANDICAP(ド根性)]
type = VarSet
triggerAll = RoundState = 2
triggerAll = Root,Alive
trigger1 = Root,var(17)/10%10>7&&(Root,MoveType=H&&(Root,StateNo!=[120,159]))
fv = 1
value = ifelse(Root,var(17)/10%10<9,fvar(1)*0.8,fvar(1)*0.333)
ignorehitpause = 1

[State -1, AI-LEARNING Intercept Reset]
type = VarSet
triggerAll = fvar(38) > 0
trigger1 = Root,InGuardDist = 0
trigger1 = Root,StateNo != [120,159]
trigger2 = Root,StateNo = [200,3100]
fv = 38
value = 0
ignorehitpause = 1

[State -1, AI-LEARNING Intercept]
type = VarAdd
trigger1 = EnemyNear,HitDefAttr = SCA,NA,SA,NP,SP || (P2MoveType = A && InGuardDist)
trigger1 = Root,P2BodyDist X = [-88,88]
trigger1 = Root,StateNo = [130,132]
fv = 38
value = 1
ignorehitpause = 1
persistent = 2

[State -1, AI-LEARNING Intercept]
type = VarAdd
trigger1 = EnemyNear,HitDefAttr = SCA,NA,SA,NP,SP || (P2MoveType = A && InGuardDist)
trigger1 = Root,P2BodyDist X = [-88,88]
trigger1 = Root,StateNo = [150,155]
fv = 38
value = 1
ignorehitpause = 1
persistent = 4

[State -1, AI-LEARNING Advancing Reset]
type = VarSet
triggerAll = fvar(39) != 0
triggerAll = Root,InGuardDist = 0
triggerAll = Root,MoveType != H
trigger1 = Root,StateNo != [120,159]
fv = 39
value = 0
ignorehitpause = 1

[State -1, AI-LEARNING Advancing]
type = VarAdd
triggerAll = Root,P2BodyDist X = [-199,199]
triggerAll = Root,StateNo = [150,155]
trigger1 = Random = [0,200]
trigger1 = P2MoveType = A || EnemyNear,HitDefAttr = SCA,AA,AP
trigger1 = Vel X = [-1,1]
fv = 39
value = 1
ignorehitpause = 1
persistent = 2

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　MAGIC CIRCUIT [ Container ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, MAGIC CIRCUITエフェクト(通常)]
Type = Explod
trigger1 = Teamside = 1
trigger1 = NumExplod(8040) = 0
anim = 8040
ID = 8040
bindtime = -1
pos = 0, 237
postype = Left
scale = .5, .5
ownpal = 1
SprPriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(透明)]
Type = Explod
trigger1 = Teamside = 1
trigger1 = NumExplod(8070) = 0
anim = 8070
ID = 8070
bindtime = -1
pos = 0, 237
postype = Left
scale = .5, .5
ownpal = 1
SprPriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(黒)]
Type = Explod
trigger1 = Teamside = 1
trigger1 = NumExplod(8080) = 0
anim = 8080
ID = 8080
bindtime = -1
pos = 0, 237
postype = Left
scale = .5, .5
ownpal = 1
SprPriority = 997
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(通常)]
Type = Explod
trigger1 = Teamside = 2
trigger1 = NumExplod(8045) = 0
anim = 8045
ID = 8045
bindtime = -1
pos = 0, 237
postype = Right
scale = .5, .5
ownpal = 1
SprPriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(透明)]
Type = Explod
trigger1 = Teamside = 2
trigger1 = NumExplod(8071) = 0
anim = 8071
ID = 8071
bindtime = -1
pos = 0, 237
postype = Right
scale = .5, .5
ownpal = 1
SprPriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(黒)]
Type = Explod
trigger1 = Teamside = 2
trigger1 = NumExplod(8081) = 0
anim = 8081
ID = 8081
bindtime = -1
pos = 0, 237
postype = Right
scale = .5, .5
ownpal = 1
SprPriority = 997
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　MAGIC CIRCUIT [ Gauge - Color ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, GAUGE WIDTH(Normal)]
Type = Explod
trigger1 = NumExplod(8610) = 0
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8610
ID = 8610
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
scale = .5, .5
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(HEAT)]
Type = Explod
trigger1 = NumExplod(8611) = 0
trigger1 = Root,var(33)=1&&Root,var(46)=0
anim = 8611
ID = 8611
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
scale = .5, .5
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(MAX)]
Type = Explod
trigger1 = NumExplod(8612) = 0
trigger1 = Root,var(33)=2&&Root,var(46)=0
anim = 8612
ID = 8612
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
scale = .5, .5
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(BLOOD)]
Type = Explod
trigger1 = NumExplod(8613) = 0
trigger1 = Root,var(33)=-1&&Root,var(46)=0
anim = 8613
ID = 8613
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
scale = .5, .5
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(UNLIMITED)]
Type = Explod
trigger1 = NumExplod(8614) = 0
trigger1 = Root,var(33)=-2&&Root,var(46)=0
anim = 8614
ID = 8614
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
scale = .5, .5
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(SB)]
Type = Explod
trigger1 = NumExplod(8615) = 0
trigger1 = Root,var(46) != 0
anim = 8615
ID = 8615
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
scale = .5, .5
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Normal)]
Type = ModifyExplod
trigger1 = Root,var(33)=0&&Root,var(46)=0
ID = 8610
scale = .501*ifelse(Root,Power>3000,3000,(Root,Power))/3000.00001,0.5
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(HEAT)]
Type = ModifyExplod
trigger1 = Root,var(33)=1&&Root,var(46)=0
ID = 8611
scale = .501*ifelse(abs(Root,var(32))>600,600,abs(Root,var(32)))/600.00001,0.5
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(MAX)]
Type = ModifyExplod
trigger1 = Root,var(33)=2&&Root,var(46)=0
ID = 8612
scale = .501*ifelse(abs(Root,var(32))>600,600,abs(Root,var(32)))/600.00001,0.5
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(BLOOD)]
Type = ModifyExplod
trigger1 = Root,var(33)=-1&&Root,var(46)=0
ID = 8613
scale = .501*ifelse(abs(Root,var(32))>600,600,abs(Root,var(32)))/600.00001,0.5
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(UNLIMITED)]
Type = ModifyExplod
trigger1 = Root,var(33)=-2&&Root,var(46)=0
ID = 8614
scale = .501*ifelse(abs(Root,var(32))>600,600,abs(Root,var(32)))/600.00001,0.5
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(SB)]
Type = ModifyExplod
trigger1 = Root,var(46) != 0
ID = 8615
scale = .501*ifelse(abs(Root,var(46))>1000,1000,abs(Root,var(46)))/1000.00001,0.5
bindtime = -1
pos = ifelse(Teamside=1,8,312), 232
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,var(33) != 0 || Root,var(46) != 0
ID = 8610
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,var(33) != 1 || Root,var(46) != 0
ID = 8611
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,var(33) != 2 || Root,var(46) != 0
ID = 8612
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,var(33) != -1 || Root,var(46) != 0
ID = 8613
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,var(33) != -2 || Root,var(46) != 0
ID = 8614
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,var(46) <= 0
ID = 8615
ignorehitpause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　MAGIC CIRCUIT [ GAUGE Mobilization ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, MAGIC CIRCUITゲージエフェクト(1P)]
Type = Explod
trigger1 = NumExplod(8600) = 0 && Root,var(46) = 0
anim = 8600
ID = 8600
bindtime = -1
pos = ifelse(Teamside=1,8,312), 227
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Normal-Modify)]
Type = ModifyExplod
trigger1 = Root,var(33) = 0
ID = 8600
scale = .501*ifelse(Root,Power>3000,3000,(Root,Power))/3000.00001,0.7
bindtime = -1
pos = ifelse(Teamside=1,8,312), 227
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Magic-Modify)]
Type = ModifyExplod
trigger1 = Root,var(33) != 0
ID = 8600
scale = .501*ifelse(abs(Root,var(32))>600,600,abs(Root,var(32)))/600.00001,0.7
bindtime = -1
pos = ifelse(Teamside=1,8,312), 227
postype = Left
facing = ifelse(Teamside=1,1,-1)
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,var(46) != 0
ID = 8600
ignorehitpause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　MAGIC CIRCUIT [ GAUGE QUANTITY ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, MAGIC CIRCUIT(MAX解放時の輝き)]
Type = Explod
triggerAll = RoundState = 2
triggerAll = Teamside = 1
triggerAll = NumExplod(8042) = 0
trigger1 = (Root,StateNo = 900 || Root,StateNo = 910) && Root,AnimElem = 5
trigger2 = (Root,StateNo = 930 || Root,StateNo = 931) && Root,AnimElem = 1
trigger3 = ((Root,var(32) = 601 || Root,var(32) = 602) && Root,var(33) = 2 && Root,Power>= 3000)
trigger3 = Root,var(7)/10%10!=2
trigger4 = RoundState = 2 && Root,fvar(18) = 0.5 && Root,fvar(19) = 0
anim = 8042
ID = 8042
bindtime = -1
pos = 0, 240
postype = Left
ownpal = 1
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(LV2魔力開放間隔電流)]
Type = Explod
triggerAll = Teamside = 1
triggerAll = NumExplod(8043) = 0
trigger1 = Root,var(33)>0&&Root,var(46)=0
trigger2 = RoundState = 2 && Root,fvar(18) = 0.5 && Root,fvar(19) = 0
anim = 8043
ID = 8043
bindtime = -1
pos = 0, 240
postype = Left
ownpal = 1
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(LV3以上魔力開放間隔電流)]
Type = Explod
triggerAll = Teamside = 1
triggerAll = NumExplod(8044) = 0
trigger1 = Root,var(33)<0&&Root,var(46)=0
trigger2 = RoundState = 2 && Root,fvar(18) = 0.5 && Root,fvar(19) = 0
anim = 8044
ID = 8044
bindtime = -1
pos = 0, 240
postype = Left
ownpal = 1
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUIT(MAX解放時の輝き)]
Type = Explod
triggerAll = RoundState = 2
triggerAll = Teamside = 2
triggerAll = NumExplod(8047) = 0
trigger1 = (Root,StateNo = 900 || Root,StateNo = 910) && Root,AnimElem = 5
trigger2 = (Root,StateNo = 930 || Root,StateNo = 931) && Root,AnimElem = 1
trigger3 = ((Root,var(32) = 601 || Root,var(32) = 602) && Root,var(33) = 2 && Root,Power>= 3000)
trigger3 = Root,var(7)/10%10!=2
trigger4 = RoundState = 2 && Root,fvar(18) = 0.5 && Root,fvar(19) = 0
anim = 8047
ID = 8047
bindtime = -1
pos = 0, 240
postype = Right
ownpal = 1
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(LV2魔力開放間隔電流)]
Type = Explod
triggerAll = Teamside = 2
triggerAll = NumExplod(8048) = 0
trigger1 = Root,var(33)>0&&Root,var(46)=0
trigger2 = RoundState = 2 && Root,fvar(18) = 0.5 && Root,fvar(19) = 0
anim = 8048
ID = 8048
bindtime = -1
pos = 0, 240
postype = Right
ownpal = 1
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAGIC CIRCUITエフェクト(LV3以上魔力開放間隔電流)]
Type = Explod
triggerAll = Teamside = 2
triggerAll = NumExplod(8049) = 0
trigger1 = Root,var(33)<0&&Root,var(46)=0
trigger2 = RoundState = 2 && Root,fvar(18) = 0.5 && Root,fvar(19) = 0
anim = 8049
ID = 8049
bindtime = -1
pos = 0, 240
postype = Right
ownpal = 1
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,var(46) != 0
ID = 8043

[State -1]
Type = RemoveExplod
trigger1 = Root,var(46) != 0
ID = 8044

[State -1]
Type = RemoveExplod
trigger1 = Root,var(46) != 0
ID = 8048

[State -1]
Type = RemoveExplod
trigger1 = Root,var(46) != 0
ID = 8049

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　共通マジックサーキット・強制HETゲージエフェクト処理
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, HEAT文字エフェクト]
Type = Explod
trigger1 = Root,var(33)=1&&Root,var(46)=0
anim = 8064
ID = 8064
bindtime = -1
pos = ifelse(teamside=1,0,150), 236
postype = Left
scale = .5001, .5001
ownpal = 1
sprpriority = 998
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, HEAT文字エフェクト(透過処理)]
Type = Explod
trigger1 = Root,var(33)=1&&Root,var(46)=0
anim = 8064
ID = 8064
bindtime = -1
postype = Left
pos = ifelse(teamside=1,0,150), 236
scale = .5, .5
ownpal = 1
sprpriority = 999
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, HEAT文字エフェクト(HEAT文字間隔エフェクト処理)]
Type = Explod
trigger1 = Root,var(33)=1&&Root,var(46)=0
trigger1 = Time%6 <= 1
anim = 8064
ID = 8064
bindtime = -1
pos = ifelse(teamside=1,0,150), 236
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 999
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　共通マジックサーキット・MAXゲージエフェクト処理
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, MAX文字エフェクト]
Type = Explod
trigger1 = Root,var(33)=2&&Root,var(46)=0
anim = 8062
ID = 8062
bindtime = -1
pos = ifelse(teamside=1,0,150), 236
postype = Left
scale = .5001, .5001
ownpal = 1
sprpriority = 998
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAX文字エフェクト(透過処理)]
Type = Explod
trigger1 = Root,var(33)=2&&Root,var(46)=0
anim = 8062
ID = 8062
bindtime = -1
pos = ifelse(teamside=1,0,150), 236
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 999
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, MAX文字エフェクト(MAX文字間隔エフェクト処理)]
Type = Explod
trigger1 = Root,var(33)=2&&Root,var(46)=0
trigger1 = Time%6 <= 1
anim = 8062
ID = 8062
bindtime = -1
pos = ifelse(teamside=1,0,150), 236
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 999
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　共通マジックサーキット・BLOOD HEATゲージエフェクト処理
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, BLOOD HEAT文字エフェクト]
Type = Explod
trigger1 = Root,var(33)=-1&&Root,var(46)=0
anim = 8063
ID = 8063
bindtime = -1
pos = ifelse(teamside=1,0,172), 236
postype = Left
scale = .5001, .5001
ownpal = 1
sprpriority = 998
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BLOOD HEAT文字エフェクト(透過処理)]
Type = Explod
trigger1 = Root,var(33)=-1&&Root,var(46)=0
anim = 8063
ID = 8063
bindtime = -1
pos = ifelse(teamside=1,0,172), 236
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 999
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BLOOD HEAT文字エフェクト(BLOOD HEAT文字間隔エフェクト処理)]
Type = Explod
trigger1 = Root,var(33)=-1&&Root,var(46)=0
trigger1 = Time%6 <= 1
anim = 8063
ID = 8063
bindtime = -1
pos = ifelse(teamside=1,0,172), 236
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 999
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　共通マジックサーキット・UNLIMTEDゲージエフェクト処理
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, UNLIMTED文字エフェクト]
Type = Explod
trigger1 = Root,var(33)=-2&&Root,var(46)=0
anim = 8066
ID = 8066
bindtime = -1
pos = ifelse(teamside=1,0,170), 236
postype = Left
scale = .5001, .5001
ownpal = 1
sprpriority = 998
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, UNLIMTED文字エフェクト(透過処理)]
Type = Explod
trigger1 = Root,var(33)=-2&&Root,var(46)=0
anim = 8066
ID = 8066
bindtime = -1
postype = Left
pos = ifelse(teamside=1,0,170), 236
scale = .5, .5
ownpal = 1
sprpriority = 999
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, UNLIMTED文字エフェクト(UNLIMTED文字間隔エフェクト処理)]
Type = Explod
trigger1 = Root,var(33)=-2&&Root,var(46)=0
trigger1 = Time%6 <= 1
anim = 8066
ID = 8066
bindtime = -1
pos = ifelse(teamside=1,0,170), 236
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 999
trans = add
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　火事場の馬鹿力 [ エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, 月(LV1)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30000) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30000
bindtime = -1
pos = ifelse(teamside=1,40,280), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV2)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30001) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30001
bindtime = -1
pos = ifelse(teamside=1,36,284), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV3)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30002) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30002
bindtime = -1
pos = ifelse(teamside=1,32,288), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV4)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30003) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30003
bindtime = -1
pos = ifelse(teamside=1,28,292), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV5)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30004) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30004
bindtime = -1
pos = ifelse(teamside=1,24,296), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV6)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30005) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30005
bindtime = -1
pos = ifelse(teamside=1,20,300), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV7)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30006) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30006
bindtime = -1
pos = ifelse(teamside=1,16,304), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV8)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30007) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30007
bindtime = -1
pos = ifelse(teamside=1,12,308), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV9)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30008) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30008
bindtime = -1
pos = ifelse(teamside=1,8,312), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月(LV10)]
Type = Explod
trigger1 = Root,Alive
trigger1 = NumExplod(30009) = 0
trigger1 = Root,var(10)%10>0
anim = ifelse(Root,var(10)%10=9,30003,30000+(Root,var(10)%10>3)*1+(Root,var(10)%10>6)*1)
ID = 30009
bindtime = -1
pos = ifelse(teamside=1,4,316), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = 0,256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30000) > 0
trigger1 = Root,var(10)%10>0
ID = 30000
bindtime = -1
pos = ifelse(teamside=1,40,280), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>0,256,0),ifelse(var(57)>0,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30001) > 0
trigger1 = Root,var(10)%10>0
ID = 30001
bindtime = -1
pos = ifelse(teamside=1,36,284), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>1,256,0),ifelse(var(57)>1,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30002) > 0
trigger1 = Root,var(10)%10>0
ID = 30002
bindtime = -1
pos = ifelse(teamside=1,32,288), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>2,256,0),ifelse(var(57)>2,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30003) > 0
trigger1 = Root,var(10)%10>0
ID = 30003
bindtime = -1
pos = ifelse(teamside=1,28,292), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>3,256,0),ifelse(var(57)>3,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30004) > 0
trigger1 = Root,var(10)%10>0
ID = 30004
bindtime = -1
pos = ifelse(teamside=1,24,296), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>4,256,0),ifelse(var(57)>4,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30005) > 0
trigger1 = Root,var(10)%10>0
ID = 30005
bindtime = -1
pos = ifelse(teamside=1,20,300), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>5,256,0),ifelse(var(57)>5,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30006) > 0
trigger1 = Root,var(10)%10>0
ID = 30006
bindtime = -1
pos = ifelse(teamside=1,16,304), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>6,256,0),ifelse(var(57)>6,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30007) > 0
trigger1 = Root,var(10)%10>0
ID = 30007
bindtime = -1
pos = ifelse(teamside=1,12,308), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>7,256,0),ifelse(var(57)>7,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30008) > 0
trigger1 = Root,var(10)%10>0
ID = 30008
bindtime = -1
pos = ifelse(teamside=1,8,312), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>8,256,0),ifelse(var(57)>8,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = NumExplod(30009) > 0
trigger1 = Root,var(10)%10>0
ID = 30009
bindtime = -1
pos = ifelse(teamside=1,4,316), 211
postype = Left
scale = 0.05, 0.05
ownpal = 1
sprpriority = 999
removetime = -1
trans = addalpha
alpha = ifelse(var(57)>9,256,0),ifelse(var(57)>9,0,256)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive = 0
ID = 29999+var(56)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　UNLIMITED SHACKLE [ 封印エフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, 髑髏]
Type = Explod
trigger1 = Root,fvar(19) > 0
trigger1 = NumExplod(30020) = 0
anim = 30020
ID = 30020
bindtime = -1
pos = ifelse(teamside=1,3,312), 217
postype = Left
scale = 0.4, 0.4
ownpal = 1
sprpriority = 1000
removetime = -1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 月指定地変更]
type = ModifyExplod
trigger1 = Root,fvar(19) > 0
trigger1 = NumExplod(30020) > 0
ID = 30020
bindtime = -1
pos = ifelse(teamside=1,3,312), 217
postype = Left
scale = 0.3, 0.3
ownpal = 1
sprpriority = 1000
removetime = -1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 封印]
Type = Explod
trigger1 = Root,fvar(19) > 0
trigger1 = NumExplod(30010) = 0
anim = 30010
ID = 30010
bindtime = -1
pos = ifelse(teamside=1,5,314), 223
postype = Left
scale = 0.15, 0.15
ownpal = 1
sprpriority = 1000
removetime = -1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 封印]
type = ModifyExplod
trigger1 = Root,fvar(19) > 0
trigger1 = NumExplod(30010) > 0
ID = 30010
bindtime = -1
pos = ifelse(teamside=1,5,314), 223
postype = Left
scale = 0.15, 0.15
ownpal = 1
sprpriority = 1000
removetime = -1
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,fvar(19) <= 0
ID = 30010
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,fvar(19) <= 0
ID = 30020
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　共通マジックサーキット・サーキットブレイクゲージエフェクト処理
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, BREAK文字エフェクト]
Type = Explod
trigger1 = Root,var(46) > 0
anim = 8065
ID = 8065
bindtime = -1
pos = ifelse(teamside=1,3,160), 236
postype = Left
scale = 0.5, 0.5
ownpal = 1
sprpriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, BREAK文字エフェクト(透過処理)]
Type = Explod
trigger1 = Root,var(46) > 0
anim = 8065
ID = 8065
bindtime = -1
pos = ifelse(teamside=1,3,160), 236
postype = Left
scale = 0.5, 0.5
ownpal = 1
sprpriority = 999
trans = AddAlpha
alpha = 256,64
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, サーキットブレイク・コンテナエフェクト処理(1P)]
Type = Explod
trigger1 = NumExplod(8067) = 0
trigger1 = Root,var(46) > 0
anim = 8067
ID = 8067
bindtime = -1
postype = Left
pos = ifelse(Teamside=1,0,319), 237
scale = 0.5, 0.5
ownpal = 1
facing = ifelse(Teamside=1,1,-1)
sprpriority = 997
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,var(46) <= 0
ID = 8067
ignorehitpause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　共通マジックサーキット・通常時ゲージエフェクト処理
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, 文字処理(透過処理)]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8050+Root,Power/1000%10
ID = 8050
bindtime = -1
pos = ifelse(teamside=1,64,214), 225
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 998
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8050+Root,Power/1000%10
ID = 8050
bindtime = -1
pos = ifelse(teamside=1,64,214), 225
postype = Left
scale = .5001, .5001
ownpal = 1
sprpriority = 997
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理(透過処理)]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8050+Root,Power/100%10
ID = 8050
bindtime = -1
pos = ifelse(teamside=1,72,222), 225
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 998
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8050+Root,Power/100%10
ID = 8050
bindtime = -1
pos = ifelse(teamside=1,72,222), 225
postype = Left
scale = .5001, .5001
ownpal = 1
sprpriority = 997
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理(透過処理)]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8050+Root,Power/10%10
ID = 8050
bindtime = -1
pos = ifelse(teamside=1,80,230), 225
postype = Left
scale = .5, .5
ownpal = 1
sprpriority = 998
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8050+Root,Power/10%10
ID = 8050
bindtime = -1
pos = ifelse(teamside=1,80,230), 225
postype = left
scale = .5001, .5001
ownpal = 1
sprpriority = 997
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理(ドット透過処理)]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8060
ID = 8060
bindtime = -1
pos = ifelse(teamside=1,88,238), 225
postype = Left
scale = .4, .4
ownpal = 1
sprpriority = 998
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理(ドット)]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8060
ID = 8060
bindtime = -1
pos = ifelse(teamside=1,88,238),225
postype = Left
scale = .4001, .4001
ownpal = 1
sprpriority = 997
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理(透過処理)]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8050+Root,Power%10
ID = 8050
bindtime = -1
pos = ifelse(teamside=1,91,241), 225
postype = Left
scale = .4, .4
ownpal = 1
sprpriority = 998
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8050+Root,Power%10
ID = 8050
bindtime = -1
postype = Left
pos = ifelse(teamside=1,91,241), 225
scale = .4001, .4001
ownpal = 1
sprpriority = 997
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理(％透過処理)]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8061
ID = 8061
bindtime = -1
pos = ifelse(teamside=1,99,249), 225
postype = Left
scale = .4, .4
ownpal = 1
sprpriority = 998
trans = addalpha
alpha = 255,128
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, 文字処理(％処理)]
Type = Explod
trigger1 = Root,var(33)=0&&Root,var(46)=0
anim = 8061
ID = 8061
bindtime = -1
postype = Left
pos = ifelse(teamside=1,99,249), 225
scale = .4001, .4001
ownpal = 1
sprpriority = 997
trans = Sub
SuperMoveTime = 9999
PauseMoveTime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Artificial：Word
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State -1, Container]
Type = Explod
trigger1 = Teamside = 1
trigger1 = NumExplod(8700) = 0
anim = 8700
ID = 8700
bindtime = -1
pos = 124, 230
postype = Left
scale = .5, .5
ownpal = 1
SprPriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, Container]
Type = Explod
trigger1 = Teamside = 2
trigger1 = NumExplod(8700) = 0
anim = 8700
ID = 8700
bindtime = -1
pos = 196, 230
postype = Left
scale = .5, .5
ownpal = 1
SprPriority = 999
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Normal)]
Type = Explod
trigger1 = Teamside = 1
trigger1 = NumExplod(8710) = 0
anim = 8710
ID = 8710
bindtime = -1
pos = 106, 230
postype = Left
scale = 0.55, 0.5
facing = 1
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Normal)]
Type = ModifyExplod
trigger1 = Teamside = 1
ID = 8710
scale = 0.55*ifelse(Root,var(43)>=1000,1,Root,var(43)*0.001),0.5
bindtime = -1
pos = 106, 230
postype = Left
facing = 1
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Normal)]
Type = Explod
trigger1 = Teamside = 2
trigger1 = NumExplod(8720) = 0
anim = 8720
ID = 8720
bindtime = -1
pos = 106, 230
postype = Left
scale = 0.55, 0.5
facing = 1
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Normal)]
Type = ModifyExplod
trigger1 = Teamside = 2
ID = 8720
scale = 0.55*ifelse(Root,var(43)>=1000,1,Root,var(43)*0.001),0.5
bindtime = -1
pos = 214, 230
postype = Left
facing = 1
sprpriority = 998
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
triggerAll = Root,MoveType!=H||RoundState!=2
trigger1 = (Root,StateNo=[1020,1021])||Root,StateNo=1025||Root,StateNo=2900||Root,StateNo=3003
flag =  nokoslow
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
triggerAll = Root,MoveType!=H||RoundState!=2
trigger1 = Root,NumHelper(29300)>0&&Helper(29300),Time<52||Root,NumHelper(29350)>0&&Helper(29350),Time<52
trigger2 = (Root,StateNo=[1000,3199])&&Root,NumHelper(23000)>0&&Helper(23000),Time<52||(Root,StateNo=[2000,3199])&&Root,NumHelper(6030)>0&&Helper(6030),Time<65
trigger3 = RoundState!=2&&(Root,StateNo=1221||Root,StateNo=1421||(Root,StateNo=[2001,2002])||Root,StateNo=2101)
trigger4 = (Root,StateNo=[2000,3199])&&Root,NumHelper(8000)>0&&Helper(8000),Time<65
trigger5 = Root,StateNo=1820&&Root,NumHelper(6030)>0&&Helper(6030),Time<52
trigger6 = Root,StateNo=2521||Root,StateNo=2911||(Root,StateNo=[3001,3002])||(Root,StateNo=[3101,3104])
trigger7 = Root,StateNo=0&&Root,Anim=3005||Root,StateNo=181
flag = nobardisplay
flag2 = timerfreeze
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
triggerAll = Root,MoveType!=H||RoundState!=2
trigger1 = MatchOver!=0||Root,NumHelper(29300)>0&&Helper(29300),Time<52||Root,NumHelper(29350)>0&&Helper(29350),Time<52
trigger2 = (Root,StateNo=[1000,3199])&&Root,NumHelper(23000)>0&&Helper(23000),Time<52||(Root,StateNo=[2000,3199])&&Root,NumHelper(6030)>0&&Helper(6030),Time<65
trigger3 = RoundState!=2&&Root,StateNo=5150&&Root,Anim=16020||Root,TeamMode = Simul &&RoundState>2
trigger4 = (Root,StateNo=[2000,3199])&&Root,NumHelper(8000)>0&&Helper(8000),Time<65
trigger5 = RoundState!=2&&(Root,StateNo=1221||Root,StateNo=1421||(Root,StateNo=[2001,2002])||Root,StateNo=2101)
trigger6 = Root,StateNo=1820&&Root,NumHelper(6030)>0&&Helper(6030),Time<52
trigger7 = Root,StateNo=0&&Root,Anim=3005||Root,StateNo=181||Root,StateNo=2502||Root,StateNo=2521||Root,StateNo=2911||Root,StateNo=3004||(Root,StateNo=[3101,3104])||(Root,StateNo=[3001,3002])||Root,StateNo=3003&&Root,AnimElemTime(26)<0
ID = -1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　ガードブレイクコンテナ
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 8100]
type        = A
physics     = N
movetype    = I
anim        = 20012
ctrl        = 0
sprpriority = 8

[State -1]
Type = VarSet
trigger1 = TeamSide = 1 && NumExplod(8110) > 0 || TeamSide = 2 && NumExplod(8111) > 0
trigger2 = Root,NumHelper(6170)>0
v = 40
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = TeamSide = 1 && NumExplod(8110) = 0 || TeamSide = 2 && NumExplod(8111) = 0
trigger1 = Root,var(41) <= 0
v = 40
value = 0
ignorehitpause = 1

[State -1]
Type = ParentVarAdd
trigger1 = var(40)%10>0
v = 41
value = ifelse(Time%5=0,0,-1)
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = Root,var(41) < 0
v = 41
value = 0
ignorehitpause = 1

[State -1]
Type = ParentVarSet
triggerAll = TeamSide = 1 && NumExplod(8110) > 0 || TeamSide = 2 && NumExplod(8111) > 0
trigger1 = Root,var(41) > 107
v = 41
value = 107
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = Teamside = 1
trigger1 = NumExplod(8100) = 0
anim = 8100
ID = 8100
bindtime = -1
pos = 134, 34
postype = Left
scale = 0.425, 0.425
ownpal = 1
sprpriority = -2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Teamside = 2
trigger1 = NumExplod(8101) = 0
anim = 8101
ID = 8101
bindtime = -1
pos = -134, 34
postype = Right
scale = 0.425, 0.425
ownpal = 1
sprpriority = -2
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
triggerAll = Teamside = 1
triggerAll = NumExplod(8110) = 0
trigger1 = var(40)%10>0
anim = 8110
ID = 8110
bindtime = -1
pos = 134, 34
postype = Left
scale = 0.425, 0.425
ownpal = 1
sprpriority = -3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
triggerAll = Teamside = 2
triggerAll = NumExplod(8111) = 0
trigger1 = var(40)%10>0
anim = 8111
ID = 8111
bindtime = -1
pos = -134, 34
postype = Right
scale = 0.425, 0.425
ownpal = 1
sprpriority = -3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Teamside = 1
trigger1 = Root,var(41) = [0,107]
anim = 8307-Root,var(41)
ID = 8307-Root,var(41)
bindtime = -1
pos = 134, 34
postype = Left
scale = 0.4275, 0.4275
sprpriority = -4
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Teamside = 2
trigger1 = Root,var(41) = [0,107]
anim = 8507-Root,var(41)
ID = 8507-Root,var(41)
bindtime = -1
pos = -134, 34
postype = Right
scale = 0.4275, 0.4275
sprpriority = -4
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = NumExplod(8110) > 0
trigger1 = Root,var(41) = 0
ID = 8110

[State -1]
Type = RemoveExplod
trigger1 = NumExplod(8111) > 0
trigger1 = Root,var(41) = 0
ID = 8111

[State -1]
type = Palfx
trigger1 = Root,var(33)=0&&Root,var(46)=0
add = 0,0,256
mul = 256-ceil(15*sin(time*0.086071*0.4)),256-ceil(15*sin(time*0.086071*0.4)),256-ceil(15*sin(time*0.086071*0.4))
time = 1

[State -1]
type = Palfx
trigger1 = Root,var(33)=2&&Root,var(46)=0
add = 0,0,256
mul = 256-ceil(20*sin(time*0.086071*0.4)),256-ceil(20*sin(time*0.086071*0.4)),256-ceil(20*sin(time*0.086071*0.4))
time = 1

[State -1]
type = Palfx
trigger1 = Root,var(33)=1&&Root,var(46)=0
add = 0,0,256
mul = 256-ceil(25*sin(time*0.086071*0.4)),256-ceil(25*sin(time*0.086071*0.4)),256-ceil(25*sin(time*0.086071*0.4))
time = 1

[State -1]
type = Palfx
trigger1 = Root,var(33)=-1&&Root,var(46)=0
add = 0,0,256
mul = 256-ceil(30*sin(time*0.086071*0.4)),256-ceil(30*sin(time*0.086071*0.4)),256-ceil(30*sin(time*0.086071*0.4))
time = 1

[State -1]
type = Palfx
trigger1 = Root,var(33)=-2&&Root,var(46)=0
add = 0,0,256
mul = 256-ceil(35*sin(time*0.086071*0.4)),256-ceil(35*sin(time*0.086071*0.4)),256-ceil(35*sin(time*0.086071*0.4))
time = 1

[State -1]
type = Palfx
trigger1 = Root,fvar(19) != 0
add = 0,0,256
mul = 256-ceil(50*sin(time*0.086071*0.4)),256-ceil(50*sin(time*0.086071*0.4)),256-ceil(50*sin(time*0.086071*0.4))
time = 1

[State -1]
type = Palfx
trigger1 = Root,var(46) > 0
trigger1 = Root,fvar(19) = 0
add = 0,0,256
mul = 256-ceil(40*sin(time*0.086071*0.4)),256-ceil(40*sin(time*0.086071*0.4)),256-ceil(40*sin(time*0.086071*0.4))
time = 1

[State -1]
Type = RemoveExplod
triggerAll = Root,MoveType!=H||RoundState!=2
trigger1 = MatchOver!=0||Root,NumHelper(29300)>0&&Helper(29300),Time<52||Root,NumHelper(29350)>0&&Helper(29350),Time<52
trigger2 = (Root,StateNo=[1000,3199])&&Root,NumHelper(23000)>0&&Helper(23000),Time<52||(Root,StateNo=[2000,3199])&&Root,NumHelper(6030)>0&&Helper(6030),Time<65
trigger3 = RoundState!=2&&Root,StateNo=5150&&Root,Anim=16020||Root,TeamMode = Simul &&RoundState>2
trigger4 = (Root,StateNo=[2000,3199])&&Root,NumHelper(8000)>0&&Helper(8000),Time<65
trigger5 = RoundState!=2&&(Root,StateNo=1221||Root,StateNo=1421||(Root,StateNo=[2001,2002])||Root,StateNo=2101)
trigger6 = Root,StateNo=1820&&Root,NumHelper(6030)>0&&Helper(6030),Time<52
trigger7 = Root,StateNo=0&&Root,Anim=3005||Root,StateNo=181||Root,StateNo=2502||Root,StateNo=2521||Root,StateNo=2911||Root,StateNo=3004||(Root,StateNo=[3101,3104])||(Root,StateNo=[3001,3002])||Root,StateNo=3003&&Root,AnimElemTime(26)<0
ID = -1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　ライフブレイク
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 8200]
type        = A
physics     = N
movetype    = I
anim        = 20012
ctrl        = 0
sprpriority = 8

[State -1]
Type = VarSet
trigger1 = var(59)<2000||Root,MoveType!=H||(Root,MoveType=H&&(Root,StateNo=[120,159]))||Root,Alive=0
trigger2 = (Root,StateNo=[5000,5001])||(Root,StateNo=[5010,5011])||Root,StateNo=5020||Root,StateNo=5030||Root,StateNo=5035||Root,StateNo=5050||(Root,StateNo=[5070,5071])||(Root,StateNo=[5080,5081])||(Root,StateNo=[5100,5110])
v = 20
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = var(59)>=2000&&(Root,MoveType=H&&(Root,StateNo!=[120,159]))&&Root,Alive=1
trigger1 = (Root,StateNo!=[5000,5001])&&(Root,StateNo!=[5010,5011])&&Root,StateNo!=5020&&Root,StateNo!=5030&&Root,StateNo!=5035&&Root,StateNo!=5050&&(Root,StateNo!=[5070,5071])&&(Root,StateNo!=[5080,5081])&&(Root,StateNo!=[5100,5110])
v = 20
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = 1
v = 30
value = Root,var(13)/1000%10
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Root,StateNo=970&&Root,MoveType!=H&&Root,Time=1
v = 30
value = ifelse(var(58)%10>=0,var(58)-1,0)
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Root,MoveType!=H||(Root,MoveType=H&&(Root,StateNo=[120,159]))||Root,Alive=0||var(41)>=500
v = 40
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = var(40)<999&&Root,Alive&&Root,MoveType=H&&(Root,StateNo!=[120,159])
v = 40
value = var(40)+1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = var(41)>=999
v = 41
value = ifelse(var(40)>=999,var(41)+1,0)
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = 1
v = 57
value = ifelse(var(40)/100%10>0,Ceil(var(40)/100%10*0.5),0)
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = 1
v = 58
value = Root,var(13)/1000%10
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Root,StateNo=970&&Root,MoveType!=H&&Root,Time=1
v = 58
value = ifelse(var(58)%10>0,var(58)-1,0)
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = 1
v = 59
value = Root,var(40)
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Root,StateNo=970&&Root,MoveType!=H&&Root,Time=1
v = 59
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = var(59)>2000||var(59)<0
trigger2 = RoundState=2
trigger2 = Root,Alive&&Root,MoveType=H&&(Root,StateNo!=[120,159])
trigger2 = var(30)%10>=0||var(30)%10<0&&Time%2=0
v = 59
value = ifelse(var(59)>2000||Root,var(13)/1000%10=9,2000,ifelse(var(59)<0,0,var(57)+var(58)+var(59)))
ignorehitpause = 1

[State -1]
Type = ParentVarSet
trigger1 = 1
v = 40
value = var(59)
ignorehitpause = 1

[State -1, Container]
Type = Explod
trigger1 = NumExplod(8802)=0
anim = 8802
ID = 8802
bindtime = -1
pos = ifelse(TeamSide=1,5,240), 40
postype = Left
scale = .5, .5
ownpal = 1
SprPriority = -4
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Normal)]
Type = Explod
trigger1 = NumExplod(8810)=0
anim = 8810
ID = 8810
bindtime = -1
pos = ifelse(TeamSide=1,5,240), 40
postype = Left
scale = 0.55, 0.5
facing = 1
trans = addalpha
alpha = 256,0
sprpriority = -3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, GAUGE WIDTH(Normal)]
Type = ModifyExplod
trigger1 = 1
ID = 8810
scale = 1.5*ifelse(var(59)>=2000,1,var(59)*0.0005),0.425
bindtime = -1
pos = ifelse(TeamSide=1,5,240), 40
postype = Left
facing = 1
trans = addalpha
alpha = ifelse(var(20)%10=0,256,128),0
sprpriority = -3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
triggerAll = Root,MoveType!=H||RoundState!=2||Root,var(13)/1000%10>8
trigger1 = MatchOver!=0||Root,NumHelper(29300)>0&&Helper(29300),Time<52||Root,NumHelper(29350)>0&&Helper(29350),Time<52||Root,var(13)/1000%10>8
trigger2 = (Root,StateNo=[1000,3199])&&Root,NumHelper(23000)>0&&Helper(23000),Time<52||(Root,StateNo=[2000,3199])&&Root,NumHelper(6030)>0&&Helper(6030),Time<65
trigger3 = RoundState!=2&&Root,StateNo=5150&&Root,Anim=16020||Root,TeamMode = Simul &&RoundState>2
trigger4 = (Root,StateNo=[2000,3199])&&Root,NumHelper(8000)>0&&Helper(8000),Time<65
trigger5 = RoundState!=2&&(Root,StateNo=1221||Root,StateNo=1421||(Root,StateNo=[2001,2002])||Root,StateNo=2101)
trigger6 = Root,StateNo=1820&&Root,NumHelper(6030)>0&&Helper(6030),Time<52
trigger7 = Root,StateNo=0&&Root,Anim=3005||Root,StateNo=181||Root,StateNo=2502||Root,StateNo=2521||Root,StateNo=2911||Root,StateNo=3004||(Root,StateNo=[3101,3104])||(Root,StateNo=[3001,3002])||Root,StateNo=3003&&Root,AnimElemTime(26)<0
ID = -1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Track Ray
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 9500]
type        = A
physics     = N
movetype    = I
anim        = 9500
velset      = 0, 0
ctrl        = 0
sprpriority = 4

[State -1]
Type = VarSet
trigger1 = Time = 0
fv = 1
value = Parent,Vel X

[State -1]
Type = VarSet
trigger1 = Time = 0
fv = 2
value = Parent,Vel Y

[State -1]
type = AngleDraw
trigger1 = 1
scale = (0.3025+0.0125*(((fvar(1))*(fvar(1)))+((fvar(2))*(fvar(2))))),1

[State -1]
type = AngleSet
trigger1 = Time = 0
value = -180/Pi * Atan((Parent,Vel Y)/(Parent,Vel X))

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
type = PalFX
trigger1 = 1
time = 1
add = -256*Time/16,-256*Time/16,-256*Time/16

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　シールドカウンター [ キャッチエフェクト ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 9600]
type        = A
physics     = N
movetype    = I
anim        = 11600
ctrl        = 0
sprpriority = 5

[State -1]
Type = Trans
trigger1 = 1
trans = Add

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -1]
Type = NotHitBy
trigger1 = 1
value = SCA

[State -1]
Type = DestroySelf
trigger1 = AnimTime = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　カットインエフェクト
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 23000]
type        = A
physics     = N
movetype    = I
anim        = 16020
ctrl        = 0
sprpriority = -999

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 10
value = ifelse(Root,facing=1,0,1)
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = (Root,StateNo=[2000,2199])||Root,StateNo=2300||Root,StateNo=2500||Root,StateNo=3000||Root,StateNo=3100
v = 30
value = 10
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Root,StateNo=2900
v = 30
value = 11
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = Time = 0
trigger1 = Root,StateNo=2900
v = 40
value = -115
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = Time = 0
trigger1 = Root,StateNo=1420||Root,StateNo=2000||Root,StateNo=2010
v = 40
value = -140
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = Time = 0
trigger1 = Root,StateNo=2500||Root,StateNo=3000||Root,StateNo=3100
v = 40
value = -145
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = Time = 0
trigger1 = Root,StateNo=1720||Root,StateNo=2100||Root,StateNo=2110
v = 40
value = -150
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = Time < 27
trigger1 = Root,StateNo=2900
v = 40
value = 0+(Time%3=0)*1
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Root,StateNo=1420||Root,StateNo=2000||Root,StateNo=2010||Root,StateNo=2900
v = 40
value = ifelse(Time<10,10,ifelse(Time<25,1+(Time%3=0)*1,0+(Time%4=0)*1))
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Root,StateNo=1720||Root,StateNo=2100||Root,StateNo=2110
v = 40
value = ifelse(Time<15,10,ifelse(Time<40,0+(Time%4=0)*1,0+(Time%6=0)*1))
ignorehitpause = 1

[State -1]
Type = VarAdd
trigger1 = Root,StateNo=2500||Root,StateNo=3000||Root,StateNo=3100
v = 40
value = ifelse(Time<15,10,ifelse(Time<25,1+(Time%3=0)*1,0+(Time%4=0)*1))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 55
value = 0
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=2900
v = 55
value = 10
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=1720||Root,StateNo=2100||Root,StateNo=2110||Root,StateNo=3000||Root,StateNo=3100
v = 55
value = 30
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo=2500||Root,StateNo=3000&&Root,var(55)%10>0||Root,StateNo=3100
v = 55
value = 40
ignorehitpause = 1

[State -1]
Type = Explod
triggerAll = var(10)%10=0
trigger1 = Time = 0
trigger2 = NumExplod(23000) = 0
trigger2 = Time = [1,9]
anim = 23000+var(30)
ID = 23000
bindtime = -1
pos = 0,60
postype = left
ownpal = 1
sprpriority = ifelse(var(50)%10=0,-2,ifelse(var(50)%10=1,3,10))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
triggerAll = var(10)%10>0
trigger1 = Time = 0
trigger2 = NumExplod(23000) = 0
trigger2 = Time = [1,9]
anim = 23000+var(30)
ID = 23000
bindtime = -1
pos = 0,60
postype = right
ownpal = 1
facing = -1
sprpriority = ifelse(var(50)%10=0,-2,ifelse(var(50)%10=1,3,10))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
triggerAll = var(10)%10=0
trigger1 = Time = 0
trigger2 = NumExplod(23100) = 0
trigger2 = Time = [1,9]
anim = 23100+var(30)%10+var(55)
ID = 23100
bindtime = -1
pos = 0,60
postype = left
ownpal = 1
sprpriority = ifelse(var(50)%10=0,-1,ifelse(var(50)%10=1,4,11))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = Explod
triggerAll = var(10)%10>0
trigger1 = Time = 0
trigger2 = NumExplod(23100) = 0
trigger2 = Time = [1,9]
anim = 23100+var(30)%10+var(55)
ID = 23100
bindtime = -1
pos = 0,60
postype = right
ownpal = 1
facing = -1
sprpriority = ifelse(var(50)%10=0,-1,ifelse(var(50)%10=1,4,11))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = var(10)%10=0&&var(40)!=0
ID = 23100
bindtime = -1
pos = -9+var(40),60
postype = left
ownpal = 1
sprpriority = ifelse(var(50)%10=0,-1,ifelse(var(50)%10=1,4,11))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = var(10)%10>0&&var(40)!=0
ID = 23100
bindtime = -1
pos = 11-var(40),60
postype = right
ownpal = 1
facing = -1
sprpriority = ifelse(var(50)%10=0,-1,ifelse(var(50)%10=1,4,11))
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
trigger1 = var(30)%10=0&&Time>50||var(30)%10=1&&Time>56||Time>62

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Win Background Effect [ All Light ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 29000]
type        = A
physics     = N
movetype    = I
anim        = 20012
velset      = 0, 0
ctrl        = 0
sprpriority = -999

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = nofg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = BindToParent
trigger1 = 1
pos = 0, 0

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s1, 150

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s1, 160
persistent = 0

[State -1]
type = PlaySnd
trigger1 = Time = 4
value = s1, 161
persistent = 0

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29000
ID = 29000
bindtime = -1
pos = -50, -100
postype = back
scale = 0.9, 0.9
removetime = 90
sprpriority = -8
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29000
ID = 29000
bindtime = -1
pos = -50, -100
postype = back
scale = 0.9, 0.9
removetime = 90
sprpriority = -8
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29001
ID = 29001
bindtime = -1
pos = -50, -100
postype = back
scale = 0.9, 0.9
removetime = 90
sprpriority = -8
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29001
ID = 29001
bindtime = -1
pos = -50, -100
postype = back
scale = 0.9, 0.9
removetime = 90
sprpriority = -8
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = BGPalFX
trigger1 = NumExplod(29000)>0&&NumExplod(29001)>0
time = 1
add = -256,-256,-256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
triggerAll = var(9) = 0
trigger1 = NumExplod(29000)
trigger1 = NumExplod(29001)
v = 9
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = var(9) = 1
trigger1 = RoundState <= 2
v = 9
value = 0
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = Time = 90
trigger1 = var(9) != 0
anim = 29010
ID = 29010
bindtime = -1
pos = -10, -45
postype = left
scale = 0.75, 0.75
sprpriority = -8
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 90
trigger1 = var(9) != 0
anim = 29011
ID = 29011
bindtime = -1
pos = -10, -45
postype = left
scale = 0.75, 0.75
sprpriority = -8
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=[3002,3003]
ID = 29000
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=[3002,3003]
ID = 29001
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=2300
trigger2 = Root,StateNo=[3002,3003]
ID = 29010
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=2300
trigger2 = Root,StateNo=[3002,3003]
ID = 29011
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = Time > 200

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Win Background Effect [ Integrity Light ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 29050]
type        = A
physics     = N
movetype    = I
anim        = 20012
velset      = 0, 0
ctrl        = 0
sprpriority = -999

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo=9998
v = 54
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger2 = var(55) != [29000,29098]
v = 55
value = 29050
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo=1822
v = 55
value = 29080
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo=1420||Root,StateNo=2100||Root,StateNo=2110||Root,StateNo=2300
v = 55
value = 29070
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateNo=2900
v = 55
value = 29098
ignorehitpause = 1

[State -1]
Type = AssertSpecial
trigger1 = NumExplod(29050)>0&&NumExplod(29051)>0
trigger1 = Time<49
trigger2 = NumExplod(29060)>0&&NumExplod(29061)>0
trigger2 = Time<45
trigger3 = NumExplod(29070)>0&&NumExplod(29071)>0
trigger3 = Time<41
trigger4 = NumExplod(29080)>0&&NumExplod(29081)>0
trigger4 = Time<33
trigger5 = NumExplod(29096)>0&&NumExplod(29097)>0
trigger5 = Time<64
trigger6 = NumExplod(29098)>0&&NumExplod(29099)>0
trigger6 = Time<105
flag = nobg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = nofg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = BindToParent
trigger1 = 1
pos = 0, 0

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s1, 150

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s1, 160
persistent = 0

[State -1]
type = PlaySnd
trigger1 = Time = 4
value = s1, 161
persistent = 0

[State -1]
Type = Explod
trigger1 = Time = 0
anim = var(55)
ID = var(55)
bindtime = -1
pos = 160, 120
postype = back
scale = 1.1, 1.1
sprpriority = -8
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = var(55)
ID = var(55)
bindtime = -1
pos = 160, 120
postype = back
scale = 1.1, 1.1
sprpriority = -8
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = var(55)+1
ID = var(55)+1
bindtime = -1
pos = 160, 120
postype = back
scale = 1.1, 1.1
sprpriority = -8
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = var(55)+1
ID = var(55)+1
bindtime = -1
pos = 160, 120
postype = back
scale = 1.1, 1.1
sprpriority = -8
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = BGPalFX
trigger1 = NumExplod(29050)>0&&NumExplod(29051)>0
trigger1 = Time<49
trigger2 = NumExplod(29060)>0&&NumExplod(29061)>0
trigger2 = Time<45
trigger3 = NumExplod(29070)>0&&NumExplod(29071)>0
trigger3 = Time<41
trigger4 = NumExplod(29080)>0&&NumExplod(29081)>0
trigger4 = Time<33
trigger5 = NumExplod(29096)>0&&NumExplod(29097)>0
trigger5 = Time<64
trigger6 = NumExplod(29098)>0&&NumExplod(29099)>0
trigger6 = Time<105
time = 1
add = -256,-256,-256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = BGPalFX
trigger1 = NumExplod(29050)>0&&NumExplod(29051)>0
trigger1 = Time>=49
trigger2 = NumExplod(29060)>0&&NumExplod(29061)>0
trigger2 = Time>=45
trigger3 = NumExplod(29070)>0&&NumExplod(29071)>0
trigger3 = Time>=41
trigger4 = NumExplod(29080)>0&&NumExplod(29081)>0
trigger4 = Time>=33
trigger5 = NumExplod(29096)>0&&NumExplod(29097)>0
trigger5 = Time>=64
trigger6 = NumExplod(29098)>0&&NumExplod(29099)>0
trigger6 = Time>=105
time = 1
add = 256-var(59),256-var(59),256-var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
triggerAll = var(59) < 256
trigger1 = NumExplod(29050)>0&&NumExplod(29051)>0
trigger1 = Time>=49
trigger2 = NumExplod(29060)>0&&NumExplod(29061)>0
trigger2 = Time>=45
trigger3 = NumExplod(29070)>0&&NumExplod(29071)>0
trigger3 = Time>=41
trigger4 = NumExplod(29080)>0&&NumExplod(29081)>0
trigger4 = Time>=33
trigger5 = NumExplod(29096)>0&&NumExplod(29097)>0
trigger5 = Time>=64
trigger6 = NumExplod(29098)>0&&NumExplod(29099)>0
trigger6 = Time>=105
v = 59
value = 8
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = var(54)%10>0
trigger1 = Time = 10
anim = 12030
ID = 12030
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -999
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(54)%10>0
trigger1 = Time = 10
anim = 12030
ID = 12031
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -999
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=1822
trigger2 = Root,StateNo=[3002,3003]
ID = 29050
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=1822
trigger2 = Root,StateNo=[3002,3003]
ID = 29051
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=1822
trigger2 = Root,StateNo=[3002,3003]
ID = 29060
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=1822
trigger2 = Root,StateNo=[3002,3003]
ID = 29061
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=1822
trigger2 = Root,StateNo=[3002,3003]
ID = 29070
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=1822
trigger2 = Root,StateNo=[3002,3003]
ID = 29071
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=1822
trigger2 = Root,StateNo=[3002,3003]
ID = 29080
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,StateNo=1822
trigger2 = Root,StateNo=[3002,3003]
ID = 29081
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = Time > 200

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Win Background Effect [ MB Victory Background Effect ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 29100]
type        = A
physics     = N
movetype    = I
anim        = 20012
velset      = 0, 0
ctrl        = 0
sprpriority = -999

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = nofg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = VarAdd
trigger1 = var(59) < 256
trigger1 = Time > 12
v = 59
value = 8
ignorehitpause = 1

[State -1]
type = BGPalFX
trigger1 = 1
time = 1
add = -256+var(59),-256+var(59),-256+var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = [3000,3004]
v = 1
value = 2
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 2
value = facing
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 3
value = random%11
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 3
value = ifelse(var(3)>3,random%11,var(3))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time > 0
v = 3
value = ifelse(var(3)>10||var(3)<0,10,var(3))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = 9998
v = 10
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = 9998
v = 11
value = 1
ignorehitpause = 1

[State -1]
Type = BindToParent
trigger1 = 1
pos = 0, 0

[State -1]
type = PlaySnd
trigger1 = var(1)%10=0
trigger1 = Time = 1
value = s100, 0+var(3)

[State -1]
type = PlaySnd
trigger1 = var(1)%10>1
trigger1 = Time = 1
value = s110, 0+var(3)

[State -1]
type = PlaySnd
trigger1 = var(10)%10=0
trigger1 = Root,Life >= Root,LifeMax
trigger1 = Time = 104
value = s120, 0+var(3)
persistent = 0

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29100
ID = 29100
bindtime = -1
pos = 0, -100
postype = back
scale = 0.5, 0.8
sprpriority = ifelse(var(11)%10>0,2,ifelse(var(11)/10%10>0,997,-8))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29100
ID = 29100
bindtime = -1
pos = 0, -100
postype = back
scale = 0.5, 0.8
sprpriority = ifelse(var(11)%10>0,2,ifelse(var(11)/10%10>0,997,-8))
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
trigger2 = var(10)%10=0
trigger2 = Root,Life >= Root,LifeMax
trigger2 = Time = 94
anim = 29150
ID = 29150
bindtime = -1
pos = 150, 130
postype = back
scale = 0.5, 0.7
sprpriority = ifelse(var(11)%10>0,3,ifelse(var(11)/10%10>0,998,-7))
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(1)%10=0
trigger1 = Time = 0
anim = 29200
ID = 29200
bindtime = -1
pos = ifelse(var(2)=1,180,140), 123
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(1)%10>1
trigger1 = Time = 0
anim = 29220
ID = 29220
bindtime = -1
pos = ifelse(var(2)=1,175,145), 123
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(10)%10=0
trigger1 = Root,Life >= Root,LifeMax
trigger1 = Time = 105
anim = 29250
ID = 29250
bindtime = -1
pos = ifelse(var(2)=1,180,140), 125
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = DestroySelf
trigger1 = RoundState = 2
trigger1 = Time > 200
trigger2 = Root,Alive=0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Win Background Effect [ MB Complete ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 29200]
type        = A
physics     = N
movetype    = I
anim        = 20012
velset      = 0, 0
ctrl        = 0
sprpriority = -999

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = nofg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 2
value = facing
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 3
value = random%11
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 3
value = ifelse(var(3)>3,random%11,var(3))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time > 0
v = 3
value = ifelse(var(3)>10||var(3)<0,10,var(3))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,Life >= Root,LifeMax
v = 10
value = 1
ignorehitpause = 1

[State -1]
Type = BindToParent
trigger1 = 1
pos = 0, 0

[State -1]
type = PlaySnd
trigger1 = var(10)%10>0
trigger1 = Time = 28
value = s120, 0+var(3)
persistent = 0

[State -1]
Type = Explod
trigger1 = var(10)%10>0
trigger1 = Time = 1 || Time = 7
anim = 29150
ID = 29150+(Time>=7)*1
bindtime = -1
pos = 150, 130
postype = back
scale = 0.5, 0.8
sprpriority = -7
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(10)%10>0
trigger1 = Time = 18
anim = 29250
ID = 29250
bindtime = -1
pos = ifelse(var(2)=1,180,140), 125
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = -6
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Time >= 7
ID = 29150
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = RoundState = 2
trigger1 = Time > 200
trigger2 = Root,Alive=0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Win Background Effect [ DarkBlue ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 29300]
type        = A
physics     = N
movetype    = I
anim        = 20012
velset      = 0, 0
ctrl        = 0
sprpriority = -999

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = [3000,3004]
v = 1
value = 2
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 2
value = facing
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 3
value = random%11
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 3
value = ifelse(var(3)>3,random%11,var(3))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time > 0
v = 3
value = ifelse(var(3)>10||var(3)<0,10,var(3))
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = (Root,StateNo=[2000,2019])||(Root,StateNo=[2100,2119])||(Root,StateNo=[3000,3009])
v = 4
value = ifelse((Root,StateNo=[2000,2199]),1,ifelse((Root,StateNo=[3000,3009]),2,0))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = 9998
v = 10
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = 9998
v = 11
value = 1
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(1)%10=0
trigger1 = var(4)%10>0
trigger1 = Time = 1
trigger1 = Root,StateNo!=2001
value = s100, 0+var(3)

[State -1]
type = PlaySnd
trigger1 = var(1)%10>1
trigger1 = var(4)%10>1
trigger1 = Time = 1
value = s110, 0+var(3)

[State -1]
type = PlaySnd
trigger1 = var(10)%10=0
trigger1 = Root,Life >= Root,LifeMax
trigger1 = Time = 104
value = s120, 0+var(3)
persistent = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = nofg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = BindToParent
trigger1 = 1
pos = 0, 0

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s1, 150

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s1, 160
persistent = 0

[State -1]
type = PlaySnd
trigger1 = Time = 4
value = s1, 161
persistent = 0

[State -1]
Type = Explod
trigger1 = var(4)%10>0
trigger1 = Time = 0
trigger2 = var(10)%10=0
trigger2 = Root,Life >= Root,LifeMax
trigger2 = Time = 94
anim = 29150
ID = 29150
bindtime = -1
pos = 150, 130
postype = back
scale = 0.5, 0.7
sprpriority = ifelse(var(11)%10>0,3,ifelse(var(11)/10%10>0,998,-7))
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(1)%10=0
trigger1 = var(4)%10=1
trigger1 = Time = 0
anim = 29200
ID = 29200
bindtime = -1
pos = ifelse(var(2)=1,180,140), 123
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(1)%10>1
trigger1 = var(4)%10>1
trigger1 = Time = 0
anim = 29220
ID = 29220
bindtime = -1
pos = ifelse(var(2)=1,175,145), 123
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(10)%10=0
trigger1 = Root,Life >= Root,LifeMax
trigger1 = Time = 105
anim = 29250
ID = 29250
bindtime = -1
pos = ifelse(var(2)=1,180,140), 125
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
triggerAll = Time > 0
trigger1 = Time<24&&var(49)<256
trigger2 = Time>30&&var(49)>0
v = 49
value = ifelse(Time<24,16,-16)
ignorehitpause = 1

[State -1]
type = VarAdd
trigger1 = var(59) < 256
trigger1 = Time > 43
v = 59
value = 16
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 12050
ID = 12050
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.55, 0.55
sprpriority = -2
alpha = 0+var(49),256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12050
pos = 0, 0
postype = back
ownpal = 1
scale = 0.55, 0.55
sprpriority = -2
trans = addalpha
alpha = 0+var(49),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 12700
ID = 12700
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 1.1, 1.1
sprpriority = -6
trans = add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 12700
ID = 12701
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 1.1, 1.1
sprpriority = -6
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12700
pos = 160, 120
postype = back
ownpal = 1
scale = 1.1, 1.1
sprpriority = -6
trans = addalpha
alpha = 0+var(49),256-var(49)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 12800
ID = 12800
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 10, 10
removetime = 100
sprpriority = -999
trans = addalpha
alpha = 0+var(59),256-var(59)
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12800
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 10, 10
removetime = 100
sprpriority = -999
trans = addalpha
alpha = 0,0+var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29316
ID = 29310
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
sprpriority = -5
trans = addalpha
alpha = Ceil(128+var(49)*0.5),256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 29310
pos = 0, 0
postype = back
ownpal = 1
sprpriority = -5
trans = addalpha
alpha = Ceil(128+var(49)*0.5),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29600
ID = 29600
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
removetime = 50
sprpriority = -2
trans = addalpha
alpha = 0+var(49),256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29600
ID = 29601
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
removetime = 50
sprpriority = -2
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 29600
pos = 160, 120
postype = back
ownpal = 1
removetime = 50
sprpriority = -2
trans = addalpha
alpha = 0+var(49),256
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>40&&var(49)<=0
ID = 12050
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>40&&var(49)<=0
ID = 12700
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>50
trigger3 = NumExPlod(12700)=0&&Time>0
ID = 12701
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>60
trigger3 = Time>40&&var(59)>=256
ID = 12800
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>40&&var(49)<=0
ID = 29310
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>40&&var(49)<=0
ID = 29600
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>40&&var(49)<=0
ID = 29601
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = Root,Alive=0||RoundState=2&&Time>200

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;　Win Background Effect [ DarkRed ]
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 29350]
type        = A
physics     = N
movetype    = I
anim        = 20012
velset      = 0, 0
ctrl        = 0
sprpriority = -999

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = [3000,3009]
v = 1
value = 2
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 2
value = facing
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 3
value = random%11
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
v = 3
value = ifelse(var(3)>3,random%11,var(3))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time > 0
v = 3
value = ifelse(var(3)>10||var(3)<0,10,var(3))
ignorehitpause = 1

[State -1]
Type = VarSet
triggerAll = Time = 0
trigger1 = (Root,StateNo=[2000,2019])||(Root,StateNo=[2100,2119])||(Root,StateNo=[3000,3009])
trigger1 = (Root,StateNo!=[2000,2099])
v = 4
value = ifelse((Root,StateNo=[2000,2199]),1,ifelse((Root,StateNo=[3000,3009]),2,0))
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = 9998
v = 10
value = 1
ignorehitpause = 1

[State -1]
Type = VarSet
trigger1 = Time = 0
trigger1 = Root,StateNo = 9998
v = 11
value = 1
ignorehitpause = 1

[State -1]
type = PlaySnd
trigger1 = var(1)%10=0
trigger1 = var(4)%10>0
trigger1 = Time = 1
value = s100, 0+var(3)

[State -1]
type = PlaySnd
trigger1 = var(1)%10>1
trigger1 = var(4)%10>1
trigger1 = Time = 1
value = s110, 0+var(3)

[State -1]
type = PlaySnd
trigger1 = var(10)%10=0
trigger1 = Root,Life >= Root,LifeMax
trigger1 = Time = 104
value = s120, 0+var(3)
persistent = 0

[State -1]
Type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = nofg
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = BindToParent
trigger1 = 1
pos = 0, 0

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s1, 150

[State -1]
type = PlaySnd
trigger1 = Time = 1
value = s1, 160
persistent = 0

[State -1]
type = PlaySnd
trigger1 = Time = 4
value = s1, 161
persistent = 0

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 12800
ID = 12800
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 10, 10
removetime = 60
sprpriority = -999
trans = addalpha
alpha = 0+var(59),256-var(59)
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12800
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 10, 10
removetime = 60
sprpriority = -999
trans = addalpha
alpha = 0,0+var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(4)%10>0
trigger1 = Time = 0
trigger2 = var(10)%10=0
trigger2 = Root,Life >= Root,LifeMax
trigger2 = Time = 94
anim = 29150
ID = 29150
bindtime = -1
pos = 150, 130
postype = back
scale = 0.5, 0.7
sprpriority = ifelse(var(11)%10>0,3,ifelse(var(11)/10%10>0,998,-7))
trans = Sub
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(1)%10=0
trigger1 = var(4)%10=1
trigger1 = Time = 0
anim = 29200
ID = 29200
bindtime = -1
pos = ifelse(var(2)=1,180,140), 123
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(1)%10>1
trigger1 = var(4)%10>1
trigger1 = Time = 0
anim = 29220
ID = 29220
bindtime = -1
pos = ifelse(var(2)=1,175,145), 123
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = var(10)%10=0
trigger1 = Root,Life >= Root,LifeMax
trigger1 = Time = 105
anim = 29250
ID = 29250
bindtime = -1
pos = ifelse(var(2)=1,180,140), 125
postype = back
scale = 0.5, 0.5
facing = ifelse(var(2)=1,1,-1)
sprpriority = ifelse(var(11)%10>0,4,ifelse(var(11)/10%10>0,999,-6))
trans = add
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = VarAdd
trigger1 = var(59) < 256
trigger1 = Time > 45
v = 59
value = 32
ignorehitpause = 1

[State -1]
type = BGPalFX
trigger1 = 1
time = 1
add = -256+var(59),-256+var(59),-256+var(59)
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = VarAdd
trigger1 = Time<24&&var(48)<256
trigger2 = Time>50&&var(48)>0
v = 48
value = ifelse(Time<24,32,-16)
ignorehitpause = 1

[State -1]
Type = VarAdd
triggerAll = Time > 0
trigger1 = Time<24&&var(49)<256
trigger2 = Time>45&&var(49)>0
v = 49
value = ifelse(Time<24,16,-16)
ignorehitpause = 1

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 12062
ID = 12060
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.55, 0.55
sprpriority = -10
trans = add
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29402
ID = 29400
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -11
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29317
ID = 29311
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
sprpriority = -15
trans = Sub
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 29310
pos = 0, 0
postype = back
ownpal = 1
sprpriority = -10
trans = addalpha
alpha = 256,0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 12750
ID = 12750
bindtime = -1
pos = 0, 0
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -13
trans = addalpha
alpha = var(48),0
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 12750
pos = 0, 0
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -13
trans = addalpha
alpha = var(48)*0.7,0
ignorehitpause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29403
ID = 29400
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -2
trans = addalpha
alpha = 256,0
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = Explod
trigger1 = Time = 0
anim = 29403
ID = 29400
bindtime = -1
pos = 160, 120
postype = back
ownpal = 1
scale = 0.5, 0.5
sprpriority = -2
trans = addalpha
alpha = 0,256
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>40&&(var(48)>=128||var(49)<=0)
ID = 12750
ignorehitpause = 1

[State -1]
Type = RemoveExplod
trigger1 = Root,Alive=0||RoundState=2&&Time>200
trigger2 = Time>40&&var(49)<=0
ID = 29310
ignorehitpause = 1

[State -1]
Type = DestroySelf
trigger1 = Root,Alive=0||RoundState=2&&Time>200
